if (self.CavalryLogger) { CavalryLogger.start_js(["DBq3H"]); }

__d("TaggingLimits",[],(function(a,b,c,d,e,f){e.exports={MAX_WITH_TAGS:100,MAX_SPONSOR_TAGS:1}}),null);
__d("FundraiserForStoryCharityPickerRelaySearchSourceQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"query",type:"String"},{defaultValue:null,kind:"LocalArgument",name:"limit",type:"Int"},{defaultValue:null,kind:"LocalArgument",name:"scale",type:"Float"}],b=[{kind:"Variable",name:"query",variableName:"query"}],c=[{kind:"Variable",name:"first",variableName:"limit"},{kind:"Literal",name:"is_fundraiser_for_story_eligible",value:!0},{kind:"Literal",name:"is_fundraiser_person_to_charity_eligible",value:!1}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},f={alias:null,args:[{kind:"Literal",name:"height",value:32},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:32}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},g={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"charity_picker_subtitle",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"FundraiserForStoryCharityPickerRelaySearchSourceQuery",selections:[{alias:null,args:b,concreteType:"FundraiserCharitySearchQuery",kind:"LinkedField",name:"fundraiser_charity_search",plural:!1,selections:[{alias:null,args:c,concreteType:"FundraiserCharitySearchResultsConnection",kind:"LinkedField",name:"search_results",plural:!1,selections:[{alias:null,args:null,concreteType:"FundraiserCharitySearchResultsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[d,e,f,g,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[h],storageKey:null}],type:"FundraiserCharity"}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"FundraiserForStoryCharityPickerRelaySearchSourceQuery",selections:[{alias:null,args:b,concreteType:"FundraiserCharitySearchQuery",kind:"LinkedField",name:"fundraiser_charity_search",plural:!1,selections:[{alias:null,args:c,concreteType:"FundraiserCharitySearchResultsConnection",kind:"LinkedField",name:"search_results",plural:!1,selections:[{alias:null,args:null,concreteType:"FundraiserCharitySearchResultsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,e,f,g,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[h,d],storageKey:null}],type:"FundraiserCharity"}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"1645128748940417",metadata:{},name:"FundraiserForStoryCharityPickerRelaySearchSourceQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("UserPayStarsGoalsStoresUtilsQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"pageID",type:"ID!"}],b=[{kind:"Variable",name:"id",variableName:"pageID"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,concreteType:"GamingVideoCreatorGoalsSettingsToGoalsConnection",kind:"LinkedField",name:"gaming_video_goals",plural:!1,selections:[{alias:null,args:null,concreteType:"GamingVideoGoal",kind:"LinkedField",name:"nodes",plural:!0,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"title_string",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gaming_video_goal_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gaming_video_goal_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"current_goal_value",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value_at_creation",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"target_value",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creation_time",storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"UserPayStarsGoalsStoresUtilsQuery",selections:[{alias:null,args:b,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[{alias:null,args:null,concreteType:"GamingVideoCreatorSettings",kind:"LinkedField",name:"gaming_video_creator_settings",plural:!1,selections:[{alias:null,args:null,concreteType:"GamingVideoCreatorGoalsSettings",kind:"LinkedField",name:"goals_settings",plural:!1,selections:[d],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"UserPayStarsGoalsStoresUtilsQuery",selections:[{alias:null,args:b,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[{alias:null,args:null,concreteType:"GamingVideoCreatorSettings",kind:"LinkedField",name:"gaming_video_creator_settings",plural:!1,selections:[{alias:null,args:null,concreteType:"GamingVideoCreatorGoalsSettings",kind:"LinkedField",name:"goals_settings",plural:!1,selections:[d,c],storageKey:null},c],storageKey:null},c],storageKey:null}]},params:{id:"2743096819107197",metadata:{},name:"UserPayStarsGoalsStoresUtilsQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("UserPayStarsVideoComposerEditVideoQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"videoID",type:"ID!"}],b=[{kind:"Variable",name:"id",variableName:"videoID"}],c={alias:null,args:null,kind:"ScalarField",name:"is_receiving_stars_enabled",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e={alias:null,args:null,concreteType:"GamingVideoGoal",kind:"LinkedField",name:"stars_goal",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"title_string",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"current_goal_value",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"target_value",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"UserPayStarsVideoComposerEditVideoQuery",selections:[{alias:null,args:b,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[c,e],storageKey:null}],type:"Query"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"UserPayStarsVideoComposerEditVideoQuery",selections:[{alias:null,args:b,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[c,e,d],storageKey:null}]},params:{id:"3196395963776388",metadata:{},name:"UserPayStarsVideoComposerEditVideoQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("VideoComposerCaptionEditorEditCaptionsContainerRelayQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"caption_id",type:"ID!"}],b=[{kind:"Variable",name:"id",variableName:"caption_id"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VideoComposerCaptionEditorEditCaptionsContainerRelayQuery",selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"VideoComposerCaptionEditorCaptionsListGenerator_node"}],storageKey:null}],type:"Query"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VideoComposerCaptionEditorEditCaptionsContainerRelayQuery",selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"locale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"process_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"review_expire_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"video_id",storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:3e3},{kind:"Literal",name:"orderby",value:["chronological"]}],concreteType:"VideoSubtitleCaptionsConnection",kind:"LinkedField",name:"captions",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoSubtitleCaptionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"VideoSubtitleCaption",kind:"LinkedField",name:"node",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_time_in_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"duration_in_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"confidence",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:'captions(first:3000,orderby:["chronological"])'}],type:"VideoSubtitle"}],storageKey:null}]},params:{id:"2025972160809495",metadata:{},name:"VideoComposerCaptionEditorEditCaptionsContainerRelayQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("VideoComposerCaptionEditorCaptionsListGenerator_node.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoComposerCaptionEditorCaptionsListGenerator_node",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"locale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"process_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"review_expire_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"video_id",storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:3e3},{kind:"Literal",name:"orderby",value:["chronological"]}],concreteType:"VideoSubtitleCaptionsConnection",kind:"LinkedField",name:"captions",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoSubtitleCaptionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"VideoSubtitleCaption",kind:"LinkedField",name:"node",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_time_in_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"duration_in_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"confidence",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:'captions(first:3000,orderby:["chronological"])'}],type:"VideoSubtitle"}}();e.exports=a}),null);
__d("VideoComposerCaptionEditorPlayerSectionBodyContainerRelayQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"video_id",type:"ID!"}],b=[{kind:"Variable",name:"id",variableName:"video_id"}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VideoComposerCaptionEditorPlayerSectionBodyContainerRelayQuery",selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"VideoComposerCaptionEditorVideoPlayerContainer_video"}],storageKey:null}],type:"Query"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VideoComposerCaptionEditorPlayerSectionBodyContainerRelayQuery",selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"playable_duration_in_ms",storageKey:null}],type:"Video"}],storageKey:null}]},params:{id:"1763849727005855",metadata:{},name:"VideoComposerCaptionEditorPlayerSectionBodyContainerRelayQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("VideoComposerCaptionEditorVideoPlayerContainer_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoComposerCaptionEditorVideoPlayerContainer_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"playable_duration_in_ms",storageKey:null}],type:"Video"};e.exports=a}),null);
__d("LiveVideoBroadcastStickerPollOptionContainerQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"sticker_id",type:"ID!"}],b=[{kind:"Variable",name:"id",variableName:"sticker_id"}],c={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"animated_image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"Sticker"};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"LiveVideoBroadcastStickerPollOptionContainerQuery",selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[c],storageKey:null}],type:"Query"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"LiveVideoBroadcastStickerPollOptionContainerQuery",selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},c],storageKey:null}]},params:{id:"2351289141633548",metadata:{},name:"LiveVideoBroadcastStickerPollOptionContainerQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("AdBreaksPixelTrackerConstants",["keyMirror","CurrentUser","fbq"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({track:null,trackCustom:null});c=b("keyMirror")({page_level:null,launchpad:null,creator_studio:null});d={pageLevel:{viewEarnMoneyWithAdsNotice:{eventType:a.trackCustom,eventName:"view_earn_money_with_ads_notice",data:{content_name:"View earn money with Ads notice",content_category:c.page_level}}},launchPad:{},creatorStudio:{}};f="209613416311731";var g=b("fbq").fbq;g.isAdBreakPixelIdSet=g.isAdBreakPixelIdSet==null?!1:g.isAdBreakPixelIdSet;g.isAdBreakPixelIdSet||(g("init",f),g("track","PageView"),g.isAdBreakPixelIdSet=!0);c=function(a,c,d,e){return b("CurrentUser").isEmployee()?null:g(a,c,d,e)};e.exports={AdBreaksPixelId:f,AdBreaksPixelEventType:a,AdBreaksPixelEvents:d,AdBreaksFbq:c}}),null);
__d("BCMPNuxContextSelectors",[],(function(a,b,c,d,e,f){"use strict";a={HANDSHAKE_GUIDED_TOUR:"handshake_guided_tour",HANDSHAKE_GUIDED_TOUR_BOOST_CHECKBOX:"handshake_guided_tour_boost_checkbox",HANDSHAKE_GUIDED_TOUR_SPONSOR_SPROUT:"handshake_guided_tour_sponsor_sprout",HANDSHAKE_GUIDED_TOUR_SPONSOR_TYPEAHEAD:"handshake_guided_tour_sponsor_typeahead",HANDSHAKE_GUIDED_TOUR_LEARN_MORE:"handshake_guided_tour_learn_more",HANDSHAKE_GUIDED_TOUR_TAGGER_CONTAINER:"handshake_guided_tour_tagger_container"};e.exports=a}),null);
__d("CreateReviewableBCWhitelistInterceptDialog.react",["cx","fbt","React","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIGrayText.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.brandName!=null?h._("Before your post is published, {=[brandName]} must confirm that they have a branded content partnership with you. They'll be able to see this post before deciding whether to approve your Page.",[h._param("=[brandName]",i.jsx("b",{children:h._("{brandName}",[h._param("brandName",this.props.brandName)])}))]):h._("Before your post can be published, your tagged business partner must confirm that they have a branded content partnership with you. They'll be able to see this post before deciding whether to approve your Page.");return i.jsxs(b("XUIDialog.react"),{isStrictlyControlled:!0,onHide:this.props.onHide,shown:!0,width:800,children:[i.jsx(b("XUIDialogTitle.react"),{children:h._("Your post hasn't been published yet")}),i.jsx(b("XUIDialogBody.react"),{children:i.jsx(b("XUIGrayText.react"),{shade:"medium",children:a})}),i.jsxs(b("XUIDialogFooter.react"),{children:[i.jsx(b("XUIButton.react"),{className:"_idm",label:h._("Confirm"),onClick:this.props.onSubmit,use:"confirm"}),i.jsx(b("XUIButton.react"),{className:"_idm _3-90",label:h._("Cancel"),onClick:this.props.onHide,use:"default"})]})]})};return c}(i.PureComponent);e.exports=a}),null);
__d("FDSTabHeader.react",["FDSPrivateThemeContext.react","FDSPrivateThemeUtils","FDSTabGroup.react","React","makeFDSStandardComponent","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h=b("FDSPrivateThemeUtils").isGeo,i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.context,c=this.props,d=c.onChange,e=c.tabs;c=c.value;return i.jsx("div",{className:(g||(g=b("stylex"))).dedupe({"background-color-1":"tt3fu9o3","border-bottom-0.3":"izvgo9bd","border-top-start-radius-1":"d8bxe1gi","border-top-end-radius-1":"i1isax1u","padding-top-1":"ioxsrz27","padding-end-1":"g5vcck87","padding-bottom-1":"arnvtdg1","padding-start-1":"ou9t26ru"},h(a)?{"border-bottom-0.3":"f8zx1mm3"}:null),"data-testid":this.props["data-testid"],children:i.jsx(b("FDSTabGroup.react"),{density:"dense",onChange:d,tabs:e,value:c})})};return c}(i.PureComponent);a.contextType=b("FDSPrivateThemeContext.react");e.exports=b("makeFDSStandardComponent")("FDSTabHeader",a)}),null);
__d("TokenizerExampleSearchSource",["AbstractSearchSource","CountryCodeMap","SearchableEntry","filterObject","forEachObject"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.searchImpl=function(a,c){var d=[];if(a){var e=a.toLowerCase(),f=b("filterObject")(b("CountryCodeMap"),function(a){return a.toLowerCase().startsWith(e)}),g=0;b("forEachObject")(f,function(a,c){d.push(new(b("SearchableEntry"))({order:g++,photo:"/images/mobile/glyph/book_blue_s.png",subtitle:a,title:a,uniqueID:c}))})}c(d,a)};return c}(b("AbstractSearchSource"));e.exports=a}),null);
__d("ReactLiveBroadcastCustomProfileImageSelector.react",["ix","cx","fbt","glyph","invariant","BackgroundImage.react","CenteredContainer.react","FBOverlayBase.react","FBOverlayContainer.react","FBOverlayElement.react","FileInput.react","Image.react","LeftRight.react","Link.react","React","createReactClass_DEPRECATED","prop-types"],(function(a,b,c,d,e,f,g,h,i,j,k){"use strict";var l=b("React"),m=Object.freeze({DEFAULT_IMAGE:0,PREVIEW_POSITIONING:1,IMAGE_SET:2}),n=50;c=b("createReactClass_DEPRECATED")({displayName:"ReactLiveBroadcastCustomProfileImageSelector",propTypes:{imageDimensions:function(a,b,c){a.imageSrc&&(typeof a.imageDimensions==="object"||k(0,5723))},imageFile:(a=b("prop-types")).object,imageSrc:a.string,footerText:a.string,width:a.number.isRequired,height:a.number.isRequired,onFileUploaded:a.func.isRequired,onImageUpdated:a.func},getInitialState:function(){return{coverPhotoStatus:m.DEFAULT_IMAGE,dragging:!1,displayImage:this.props.imageFile,displayImageSrc:this.props.imageSrc,displayImageWidth:this.props.imageSrc&&this.props.imageDimensions?this.props.imageDimensions.width:0,displayImageHeight:this.props.imageSrc&&this.props.imageDimensions?this.props.imageDimensions.height:0,displayImageFocusX:this.props.imageSrc&&this.props.imageDimensions?.5*this.props.imageDimensions.width:0,displayImageFocusY:this.props.imageSrc&&this.props.imageDimensions?.5*this.props.imageDimensions.height:0}},componentDidUpdate:function(a,b){this.state.dragging&&!b.dragging?(document.addEventListener("mousemove",this._onMouseMove),document.addEventListener("mouseup",this._onMouseUp)):!this.state.dragging&&b.dragging&&(document.removeEventListener("mousemove",this._onMouseMove),document.removeEventListener("mouseup",this._onMouseUp))},componentWillUnmount:function(){document.removeEventListener("mousemove",this._onMouseMove),document.removeEventListener("mouseup",this._onMouseUp)},render:function(){return l.jsxs("div",{children:[l.jsx("div",{className:"_4lyb _5le2",style:{height:this.props.height,width:this.props.width},children:l.jsxs(b("FBOverlayContainer.react"),{children:[l.jsx(b("FBOverlayBase.react"),{children:l.jsx(b("BackgroundImage.react"),{backgroundSize:"coverinside",backgroundPosition:this._getImagePosition(),height:this.props.height,src:this._getImageSrc(),width:this.props.width,onImageLoad:this._onImageLoaded})}),l.jsx(b("FBOverlayElement.react"),{children:this._renderImageTextOverlay()})]})}),this._renderFooter()]})},_renderFooter:function(){switch(this.state.coverPhotoStatus){case m.PREVIEW_POSITIONING:return l.jsx("div",{className:"_4lyc _5le2",children:l.jsxs(b("LeftRight.react"),{children:[l.jsx(b("Link.react"),{onClick:this._cancelChanges,children:i._("Cancel")}),l.jsx(b("Link.react"),{onClick:this._saveChanges,children:i._("Save Changes")})]})});case m.DEFAULT_IMAGE:return l.jsx("div",{className:"_4lyd _5le2",children:this.props.footerText})}return null},_renderImageTextOverlay:function(){var a=null;switch(this.state.coverPhotoStatus){case m.PREVIEW_POSITIONING:a=l.jsxs("div",{className:"_4lyf",children:[l.jsx(b("Image.react"),{className:"_4lyg",src:g("101443")}),l.jsx("span",{children:i._("Drag to reposition")})]});break;case m.DEFAULT_IMAGE:case m.IMAGE_SET:a=l.jsx(b("FileInput.react"),{name:"file",accept:"image/*",onChange:this._onFileChange,children:l.jsx(b("Link.react"),{href:{url:"#"},children:l.jsxs("div",{className:"_4lyf",children:[l.jsx(b("Image.react"),{className:"_4lyg",src:g("101456")}),l.jsx("span",{children:i._("Change Custom Image")})]})})})}return l.jsx("div",{onMouseDown:this._onMouseDown,className:"_4lyu"+(this.state.coverPhotoStatus===m.PREVIEW_POSITIONING?" _4lyv":""),children:l.jsx(b("CenteredContainer.react"),{fullHeight:!0,vertical:!0,children:a})})},_getImageSrc:function(){return this.state.uploadStatus===m.DEFAULT_IMAGE?this.props.imageSrc:this.state.displayImageSrc},_cancelChanges:function(){this.props.onFileUploaded()},_saveChanges:function(){if(!this.state.displayImage)return;this.setState({coverPhotoStatus:m.IMAGE_SET});this.props.onFileUploaded(this.state.displayImage,this._getImageFocus())},_onFileChange:function(a){var b=this;if(!(a.target.files&&a.target.files[0]))return;a=a.target.files[0];var c=URL.createObjectURL(a),d=new Image();d.onload=function(){b.setState({displayImageWidth:d.width,displayImageHeight:d.height,displayImageFocusX:d.width*.5,displayImageFocusY:d.height*.5})};d.src=c;this.setState({displayImage:a,displayImageSrc:c})},_canMoveHorizontally:function(){return this.state.coverPhotoStatus===m.PREVIEW_POSITIONING&&this.state.displayImageWidth/this.state.displayImageHeight>this.props.width/this.props.height},_getImageFocus:function(){var a=this.state.displayImageFocusX/this.state.displayImageWidth;a<0&&(a=0);a>1&&(a=1);var b=this.state.displayImageFocusY/this.state.displayImageHeight;b<0&&(b=0);b>1&&(b=1);return{x:a,y:b}},_getImagePosition:function(){if(!this.state.displayImageWidth||!this.state.displayImageHeight)return"50% 50%";var a=this._getImageFocus();return""+a.x*100+"% "+a.y*100+"%"},_onImageLoaded:function(){this.setState({coverPhotoStatus:m.PREVIEW_POSITIONING})},_onMouseDown:function(a){if(a.button!==0||this.state.coverPhotoStatus!==m.PREVIEW_POSITIONING)return;this.setState({dragging:!0,ox:a.pageX,oy:a.pageY});a.stopPropagation();a.preventDefault()},_onMouseUp:function(a){this.setState({dragging:!1}),a.stopPropagation(),a.preventDefault()},_onMouseMove:function(a){if(!this.state.dragging||this.state.coverPhotoStatus!==m.PREVIEW_POSITIONING)return;var b=a.pageX-this.state.ox,c=a.pageY-this.state.oy;if(this._canMoveHorizontally()){var d=this.state.displayImageFocusX;b>0?d-=n:b<0&&(d+=n);d<0&&(d=0);d>this.state.displayImageWidth&&(d=this.state.displayImageWidth);this.setState({displayImageFocusX:d,ox:a.pageX,oy:a.pageY})}else{b=this.state.displayImageFocusY;c>0?b-=n:c<0&&(b+=n);b<0&&(b=0);b>this.state.displayImageHeight&&(b=this.state.displayImageHeight);this.setState({displayImageFocusY:b,ox:a.pageX,oy:a.pageY})}a.stopPropagation();a.preventDefault()}});e.exports=c}),null);
__d("ScheduleLiveWatchTabPreview.react",["cx","fbt","CenteredContainer.react","CssBackgroundImage.react","Image.react","React","ScheduledLiveTimeStringUtil","XUIButton.react","XUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){return i.jsxs("div",{children:[i.jsxs("div",{className:"_1g3f",children:[i.jsx(b("Image.react"),{className:"_1g3k",src:this.props.showmarkURI}),i.jsx("div",{className:"_1g3l",children:h._("Live at {liveTime}",[h._param("liveTime",b("ScheduledLiveTimeStringUtil").getStr(this.props.scheduledTime))])}),i.jsx("div",{className:"_1g3m",children:this.props.title}),i.jsx("div",{className:"_1g3n",children:this.props.pageName})]}),i.jsx("div",{className:"_1g3o",children:i.jsx(b("XUIButton.react"),{className:"_1g3q",label:h._("Remind Me")})})]})};d.render=function(){return!this.props.customThumbnailURI?i.jsxs(b("CenteredContainer.react"),{className:"_1g3r",fullHeight:!0,vertical:!0,children:[i.jsx(b("XUIText.react"),{size:"meta1",display:"block",className:"_1g3s",children:h._("Add a 16:9 thumbnail to make your scheduled live episode eligible to be featured in the Watch tab.")}),i.jsx(b("XUIText.react"),{size:"meta1",display:"block",className:"_1g3s",children:h._("Your thumbnail should be related to your scheduled live video to help promote it.")})]}):i.jsx(b("CssBackgroundImage.react"),{className:"_1g3r",imageURI:this.props.customThumbnailURI,children:i.jsx("div",{className:"_1g3u",children:i.jsx("div",{className:"_1g3v",children:this.$1()})})})};return c}(i.PureComponent);e.exports=a}),null);
__d("VideoComposerPremiereUtils",["fbt","DateConsts","DateTime","LocalDate","ScheduleLiveVideoDialogConfig"],(function(a,b,c,d,e,f,g){"use strict";a=g._("Video premieres must be between 30 seconds and four hours long");c=function(a){var c=b("ScheduleLiveVideoDialogConfig").validMinStartTime/b("DateConsts").SEC_PER_MIN,d=b("ScheduleLiveVideoDialogConfig").validMaxStartTime/b("DateConsts").SEC_PER_HOUR,e=b("ScheduleLiveVideoDialogConfig").validMaxStartTime/b("DateConsts").SEC_PER_DAY;return a?g._("Premieres must be scheduled between {min start time in minutes} minutes and {max start time in days} days {max start time in hours} hours) from when you create them.",[g._param("min start time in minutes",c),g._param("max start time in days",e),g._param("max start time in hours","("+d)]):g._("Scheduled live videos must be scheduled between {min start time in minutes} minutes and {max start time in days} days {max start time in hours} hours) from when you create them.",[g._param("min start time in minutes",c),g._param("max start time in days",e),g._param("max start time in hours","("+d)])};d=function(a){if(b("ScheduleLiveVideoDialogConfig").startTimeOverride)return!0;var c=b("LocalDate").fromDateTime(b("DateTime").localNow());if(a.isBefore(c))return!1;return a.isAfter(c.addDays(b("ScheduleLiveVideoDialogConfig").validMaxStartTime/b("DateConsts").SEC_PER_DAY))?!1:!0};f=function(a){if(a==null)return!1;if(b("ScheduleLiveVideoDialogConfig").startTimeOverride)return!0;a=a.getTime();var c=Date.now()+b("ScheduleLiveVideoDialogConfig").validMinStartTime*b("DateConsts").MS_PER_SEC,d=Date.now()+b("ScheduleLiveVideoDialogConfig").validMaxStartTime*b("DateConsts").MS_PER_SEC;c=a>c&&a<d;return c};var h=function(a){return a==null?!1:a.getTime()-Date.now()>b("DateConsts").SEC_PER_MIN*b("DateConsts").MS_PER_SEC};e.exports={INVALID_DURATION_MESSAGE:a,getScheduledLiveInvalidTimeNotice:c,isDateValid:d,isPremiereEditable:h,isPublishTimeValid:f}}),null);
__d("ScheduleLiveVideoDialog.react",["ix","cx","fbt","DatePickerRestraints","EditorState","FileInput.react","Grid.react","Image.react","MentionsInput.react","React","ReactLayeredComponentMixin_DEPRECATED","ReactLiveBroadcastCustomProfileImageSelector.react","ScheduledLiveStoryPreview.react","ScheduleLiveVideoDialogConfig","ScheduleLiveWatchTabPreview.react","Tooltip.react","VideoComposerPremiereUtils","XUIButton.react","XUIDateTimePicker.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIGrayText.react","XUINotice.react","XUIText.react","XUITypeaheadView.react","createReactClass_DEPRECATED","prop-types","asset","cxMargin","fbglyph","getMentionsInputDecorator","getMentionsTextForContentState"],(function(a,b,c,d,e,f,g,h,i){var j=b("React"),k=b("Grid.react").GridItem,l=60,m=60*1e3,n=24*60*60*1e3,o=11,p=942,q=477,r=532,s=Object.freeze({NO_IMAGE:0,EDITING_IMAGE:1,HAS_IMAGE:2});c=b("createReactClass_DEPRECATED")({displayName:"ScheduleLiveVideoDialog",mixins:[b("ReactLayeredComponentMixin_DEPRECATED")],propTypes:{actorID:(a=b("prop-types")).any,defaultScheduledTimeDelta:a.number,description:a.string.isRequired,broadcastID:a.string,initialPublishDate:a.instanceOf(Date),isPremiere:a.bool,onSubmit:a.func.isRequired,targetID:a.string.isRequired,timezoneStr:a.string.isRequired,scheduleExpirationTime:a.number,isPageTarget:a.bool,canAddLiveAnnouncementThumbnail:a.bool,videoTitle:a.string,showmarkURI:a.string,showPageName:a.string,submitButtonLabel:a.string,previewTitle:a.string,canAddAnnouncementPostMessage:a.bool,mentionsSource:a.any},getDefaultProps:function(){return{defaultScheduledTimeDelta:o*m,canAddAnnouncementPostMessage:!1}},getInitialState:function(){return{customImage:null,customImageStatus:s.NO_IMAGE,isAnnounced:!1,publishDate:this.props.initialPublishDate?this.props.initialPublishDate:new Date(Date.now()+this.props.defaultScheduledTimeDelta),selectedFileName:"",shown:!1,customAnnouncementThumbnail:null,customAnnouncementThumbnailURL:null,editorState:b("EditorState").createEmpty(b("getMentionsInputDecorator")())}},show:function(){var a=this.getInitialState();a.shown=!0;this.setState(a)},render:function(){return j.jsx("div",{})},renderLayers:function(){var a=this.state.customImageStatus===s.EDITING_IMAGE?this._renderCustomImageCropper():this._renderStoryPreview(),c=this.props.isPremiere?i._("Premiere"):i._("Schedule live"),d=this.props.submitButtonLabel;d==null&&(d=this.props.isPremiere?i._("Schedule Premiere"):i._("Schedule"));return j.jsx("div",{children:j.jsxs(b("XUIDialog.react"),{shown:this.state.shown,width:p,className:"_1_x8",children:[j.jsx(b("XUIDialogTitle.react"),{children:c}),j.jsx(b("XUIDialogBody.react"),{children:j.jsxs(b("Grid.react"),{className:"_35sx",cols:2,alignv:"top",children:[j.jsx(k,{width:q,children:this._renderSchedule()}),j.jsx(k,{className:"_35sx",width:r,children:a})]})}),j.jsxs(b("XUIDialogFooter.react"),{children:[j.jsx(b("XUIDialogCancelButton.react"),{className:"_1m2j _3-90"}),j.jsx(b("XUIDialogButton.react"),{action:"confirm",className:"_1m2j",label:d,onClick:this._onSubmitClick,"data-testid":void 0,disabled:!this._isPublishTimeValid(),use:"confirm"})]})]})})},_renderSchedule:function(){var a=this,c=this.props.isPremiere?i._("Select a date and time when you want to premiere. You can also add a custom image."):i._("Select a date and time when you want to go live. You can also add a custom image.");c=j.jsxs(b("Grid.react"),{cols:2,alignv:"top",className:"_3-8w",children:[j.jsx(k,{className:"_kdz",children:j.jsx(b("Image.react"),{src:g("141741")})}),j.jsx(k,{children:j.jsx(b("XUIGrayText.react"),{shade:"light",size:"meta1",children:c})})]});var d=this.props.isPremiere?i._("When you schedule your premiere, an announcement will be published immediately."):i._("When you schedule your live video, an announcement will be published immediately.");d=j.jsxs(b("Grid.react"),{cols:2,alignv:"top",className:"_3-8y",children:[j.jsx(k,{className:"_kdz",children:j.jsx(b("Image.react"),{src:g("142529")})}),j.jsx(k,{children:j.jsx(b("XUIGrayText.react"),{shade:"light",size:"meta1",children:d})})]});var e=this.props.isPageTarget?i._("Verify your live video feed at least 20 minutes before the scheduled start time. To verify it, preview the feed by opening the scheduled video in your video library."):i._("Verify your live video feed at least 20 minutes before the scheduled start time. To verify it, preview the feed by opening the scheduled video from your Timeline using the Edit Post button.");e=this.props.isPremiere?null:j.jsxs(b("Grid.react"),{cols:2,alignv:"top",className:"_3-8y",children:[j.jsx(k,{className:"_kdz",children:j.jsx(b("Image.react"),{src:g("142093")})}),j.jsx(k,{children:j.jsx(b("XUIGrayText.react"),{shade:"light",size:"meta1",children:e})})]});var f=this.props.scheduleExpirationTime?this.props.scheduleExpirationTime/l:b("ScheduleLiveVideoDialogConfig").expirationTime/l;f=this.props.isPremiere?null:j.jsxs(b("Grid.react"),{cols:2,alignv:"top",className:"_3-8y",children:[j.jsx(k,{className:"_kdz",children:j.jsx(b("Image.react"),{src:g("142427")})}),j.jsx(k,{children:j.jsx(b("XUIGrayText.react"),{shade:"light",size:"meta1",children:i._("People following your event will be notified about your scheduled broadcast, and some may be waiting for you at the scheduled start time. The live video will automatically begin at the scheduled start time. You must go live within {min start time in minutes} minutes of the scheduled time or your video will be cancelled.",[i._param("min start time in minutes",f)])})})]});var h=this.props.isPremiere?i._("Premiere start time"):i._("Scheduled start time");h=j.jsx(b("XUIText.react"),{className:"_kd-",size:"meta1",children:h});var m=j.jsx(b("XUIDateTimePicker.react"),{allowEmpty:!1,className:"_3hgw _3-8x",date:this.state.publishDate,dateRestraints:[b("DatePickerRestraints").enforceDateIsNoEarlierThan(new Date(Date.now()-n)),b("DatePickerRestraints").enforceDateIsNoLaterThan(new Date(Date.now()+this._getMaxStartTimeBufferMs()))],onChange:function(b){return a.setState({publishDate:b})},timezone:this.props.timezoneStr}),o=this._renderInvalidTimeNotice(),p=this._renderCustomImageLabel(),q=b("ScheduleLiveVideoDialogConfig").shouldShowCustomImage?this._renderCustomImageButtons():null;return j.jsxs("div",{className:"_3-8k _6dw7",children:[c,d,e,f,h,m,o,p,q,this._renderCustomAnnouncementThumbnailSection(),this._renderAnnouncementPostMessageInput()]})},_renderCustomAnnouncementThumbnailSection:function(){if(!this.props.canAddLiveAnnouncementThumbnail)return null;var a=i._("Add Thumbnail");return j.jsxs("div",{children:[j.jsxs(b("XUIText.react"),{className:"_kd-",size:"meta1",children:[i._("Custom 16:9 thumbnail"),j.jsx(b("Tooltip.react"),{position:"above",tooltip:i._("Optional: In order to be eligible for a feature in the Watch tab, you must upload a custom 16:9 thumbnail"),children:j.jsx(b("Image.react"),{className:"_52vx",src:g("142360")})})]}),j.jsx("div",{className:"_3-8n",children:j.jsx(b("FileInput.react"),{name:"announcement_thumbnail",accept:"image/*",onChange:this._onCustomAnnouncementThumbnailUploaded,onClick:this._clearFileInput,children:j.jsx(b("XUIButton.react"),{href:{url:"#"},label:a})})})]})},_onCustomAnnouncementThumbnailUploaded:function(a){if(!(a.target.files&&a.target.files[0]))return;a=a.target.files[0];var b=URL.createObjectURL(a),c=new Image();c.onload=function(){};c.src=b;this.setState({customAnnouncementThumbnail:a,customAnnouncementThumbnailURL:b})},_renderInvalidTimeNotice:function(){if(this._isPublishTimeValid())return null;var a=b("VideoComposerPremiereUtils").getScheduledLiveInvalidTimeNotice(!!this.props.isPremiere);return j.jsx(b("XUINotice.react"),{className:"_3-8y",size:"small",use:"warn",children:a})},_renderCustomImageLabel:function(){if(!b("ScheduleLiveVideoDialogConfig").shouldShowCustomImage)return null;var a=this.props.isPremiere?i._("Optional: You can add a custom image for your premiere announcement."):i._("Optional: You can add a custom image for your scheduled live announcement.");return j.jsxs(b("XUIText.react"),{className:"_kd-",size:"meta1",children:[i._("Custom image"),j.jsx(b("Tooltip.react"),{position:"above",tooltip:a,children:j.jsx(b("Image.react"),{className:"_52vx",src:g("479819")})})]})},_onAnnouncementPostInputChange:function(a){this.setState({editorState:a})},_renderAnnouncementPostMessageInput:function(){if(!this.props.canAddAnnouncementPostMessage)return null;var a=i._("You can create a custom description for your announcement post. This will be different from the title of your single video.");return j.jsxs("div",{children:[j.jsxs(b("XUIText.react"),{className:"_kd-",size:"meta1",children:[i._("Announcement post description"),j.jsx(b("Tooltip.react"),{position:"above",tooltip:a,children:j.jsx(b("Image.react"),{className:"_52vx",src:g("479819")})})]}),j.jsx(b("MentionsInput.react"),{className:"_7lo2",editorState:this.state.editorState,mentionsSource:this.props.mentionsSource,onChange:this._onAnnouncementPostInputChange,typeaheadView:b("XUITypeaheadView.react")})]})},_renderCustomImageButtons:function(){var a=i._("Upload Image");return j.jsx("div",{className:"_3-8x",children:j.jsx(b("FileInput.react"),{name:"file",accept:"image/*",onChange:this._onCustomImageFileUploaded,onClick:this._clearFileInput,children:j.jsx(b("XUIButton.react"),{href:{url:"#"},label:a})})})},_renderCustomImageCropper:function(){return!this.state.customImageDimensions?null:j.jsx(b("ReactLiveBroadcastCustomProfileImageSelector.react"),{imageDimensions:this.state.customImageDimensions,imageFile:this.state.customImageFile,imageSrc:this.state.customImageURL,width:500,height:280,onFileUploaded:this._onCustomImageChange})},_renderStoryPreview:function(){var a=this.state.editorState.getCurrentContent().getPlainText();a=this.props.canAddAnnouncementPostMessage&&a.length>0?a:this.props.description;return j.jsxs("div",{className:"_1_x9"+(this.props.canAddLiveAnnouncementThumbnail?" _1_pb":""),children:[j.jsxs("div",{children:[j.jsxs("div",{children:[j.jsx(b("Image.react"),{src:g("126509")}),j.jsx(b("XUIGrayText.react"),{size:"meta1",weight:"bold",className:"_1_xa",children:i._("News Feed announcement preview")})]}),j.jsx(b("ScheduledLiveStoryPreview.react"),{actorID:this.props.actorID,targetID:this.props.targetID,broadcastID:this.props.broadcastID,customProfileImage:this.state.customImage,customProfileImagePosition:this.state.focus,plannedStartTime:this.state.publishDate,description:a,isPremiere:this.props.isPremiere,previewTitle:this.props.previewTitle})]}),this._renderWatchTabAnnouncementPreview()]})},_renderWatchTabAnnouncementPreview:function(){return!this.props.canAddLiveAnnouncementThumbnail?null:j.jsxs("div",{className:"_3-8-",children:[j.jsxs("div",{children:[j.jsx(b("Image.react"),{src:g("347292")}),j.jsx(b("XUIGrayText.react"),{size:"meta1",weight:"bold",className:"_1_xa",children:i._("Watch tab announcement preview")})]}),j.jsx(b("ScheduleLiveWatchTabPreview.react"),{title:this.props.videoTitle,customThumbnailURI:this.state.customAnnouncementThumbnailURL,scheduledTime:this.state.publishDate,showmarkURI:this.props.showmarkURI,pageName:this.props.showPageName})]})},_onCustomImageChange:function(a,b){if(!a&&this.state.customImage){this.setState({customImageStatus:s.HAS_IMAGE});return}if(!a){this.setState({customImageStatus:s.NO_IMAGE});return}this.setState({customImage:a,customImageStatus:s.HAS_IMAGE,focus:b})},_clearFileInput:function(a){a.target.value=null},_onCustomImageFileUploaded:function(a){var b=this;if(!(a.target.files&&a.target.files[0]))return;a=a.target.files[0];var c=URL.createObjectURL(a),d=new Image();d.onload=function(){var a={width:d.width,height:d.height};b.setState({customImageDimensions:a,customImageStatus:s.EDITING_IMAGE})};d.src=c;this.setState({customImageFile:a,customImageURL:c})},_onSubmitClick:function(){if(!this._isPublishTimeValid()){this.setState({publishDate:this.state.publishDate});return}var a=b("getMentionsTextForContentState")(this.state.editorState.getCurrentContent()),c=Math.floor(this.state.publishDate.getTime()/1e3);this.props.onSubmit(c,null,null,this.state.customImage,this.state.focus,this.state.customAnnouncementThumbnail,a);this.setState({shown:!1})},_getContextRef:function(){return this.refs.expirationToggle},_getMaxStartTimeBufferMs:function(){return b("ScheduleLiveVideoDialogConfig").validMaxStartTime*1e3},_isPublishTimeValid:function(){if(b("ScheduleLiveVideoDialogConfig").startTimeOverride)return!0;var a=this.state.publishDate.getTime(),c=Date.now()+b("ScheduleLiveVideoDialogConfig").validMinStartTime*1e3,d=Date.now()+this._getMaxStartTimeBufferMs();c=a>c&&a<d;return c}});e.exports=c}),null);
__d("AdBreakAdminPreviewTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:AdBreakAdminPreviewLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:AdBreakAdminPreviewLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:AdBreakAdminPreviewLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAdBreakTimeOffsets=function(a){this.$1.ad_break_time_offsets=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setEvent=function(a){this.$1.event=a;return this};c.setException=function(a){this.$1.exception=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setTimeConsumedInMs=function(a){this.$1.time_consumed_in_ms=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setVideoID=function(a){this.$1.video_id=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={ad_break_time_offsets:!0,event:!0,exception:!0,time:!0,time_consumed_in_ms:!0,vc:!0,video_id:!0,weight:!0};e.exports=a}),null);
__d("AdBreakOnboardingEntryPointsImpressionTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:AdBreakOnboardingEntryPointsImpressionLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:AdBreakOnboardingEntryPointsImpressionLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:AdBreakOnboardingEntryPointsImpressionLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setBusinessPageImpression=function(a){this.$1.business_page_impression=a;return this};c.setEntryPointImpressionsType=function(a){this.$1.entry_point_impressions_type=a;return this};c.setPageID=function(a){this.$1.page_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={business_page_impression:!0,entry_point_impressions_type:!0,page_id:!0,time:!0,weight:!0};e.exports=a}),null);
__d("AdBreakPageOnboardingTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:AdBreakPageOnboardingLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:AdBreakPageOnboardingLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:AdBreakPageOnboardingLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAdBreakPageOnboardingEventType=function(a){this.$1.ad_break_page_onboarding_event_type=a;return this};c.setEligibilitySource=function(a){this.$1.eligibility_source=a;return this};c.setExceptionMessage=function(a){this.$1.exception_message=a;return this};c.setFinancialID=function(a){this.$1.financial_id=a;return this};c.setNotifSubtype=function(a){this.$1.notif_subtype=a;return this};c.setOnboardingSource=function(a){this.$1.onboarding_source=a;return this};c.setPageID=function(a){this.$1.page_id=a;return this};c.setPayoutAlreadyExists=function(a){this.$1.payout_already_exists=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={ad_break_page_onboarding_event_type:!0,eligibility_source:!0,exception_message:!0,financial_id:!0,notif_subtype:!0,onboarding_source:!0,page_id:!0,payout_already_exists:!0,time:!0,weight:!0};e.exports=a}),null);
__d("AdBreaksNPSSurveyTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:AdBreaksNPSSurveyLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:AdBreaksNPSSurveyLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:AdBreaksNPSSurveyLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEntryPoint=function(a){this.$1.entry_point=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setPageID=function(a){this.$1.page_id=a;return this};c.setScore=function(a){this.$1.score=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};c.setWrittenResponse=function(a){this.$1.written_response=a;return this};return a}();c={entry_point:!0,event:!0,page_id:!0,score:!0,time:!0,vc:!0,weight:!0,written_response:!0};e.exports=a}),null);
__d("BrandedContentHandshakeToolTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:BrandedContentHandshakeToolLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:BrandedContentHandshakeToolLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:BrandedContentHandshakeToolLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAppID=function(a){this.$1.app_id=a;return this};c.setBcAccessGranted=function(a){this.$1.bc_access_granted=a;return this};c.setBcRequestPageID=function(a){this.$1.bc_request_page_id=a;return this};c.setBrandedContentEvent=function(a){this.$1.branded_content_event=a;return this};c.setCreatorID=function(a){this.$1.creator_id=a;return this};c.setEnforcementInterceptAction=function(a){this.$1.enforcement_intercept_action=a;return this};c.setEnforcementInterceptReason=function(a){this.$1.enforcement_intercept_reason=a;return this};c.setEventLocation=function(a){this.$1.event_location=a;return this};c.setExtraFieldsMap=function(a){this.$1.extra_fields_map=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setIsScheduledPost=function(a){this.$1.is_scheduled_post=a;return this};c.setPostCreationTime=function(a){this.$1.post_creation_time=a;return this};c.setPostID=function(a){this.$1.post_id=a;return this};c.setPostMessage=function(a){this.$1.post_message=a;return this};c.setRbcInterceptAction=function(a){this.$1.rbc_intercept_action=a;return this};c.setSponsorID=function(a){this.$1.sponsor_id=a;return this};c.setSponsorRelationship=function(a){this.$1.sponsor_relationship=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={app_id:!0,bc_access_granted:!0,bc_request_page_id:!0,branded_content_event:!0,creator_id:!0,enforcement_intercept_action:!0,enforcement_intercept_reason:!0,event_location:!0,extra_fields_map:!0,is_scheduled_post:!0,post_creation_time:!0,post_id:!0,post_message:!0,rbc_intercept_action:!0,sponsor_id:!0,sponsor_relationship:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("LiveClippingUsageTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:LiveClippingUsageLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:LiveClippingUsageLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:LiveClippingUsageLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEndTimeMs=function(a){this.$1.end_time_ms=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setStartTimeMs=function(a){this.$1.start_time_ms=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setVideoID=function(a){this.$1.video_id=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={end_time_ms:!0,event:!0,start_time_ms:!0,time:!0,vc:!0,video_id:!0,weight:!0};e.exports=a}),null);
__d("PremiereLivingRoomTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:PremiereLivingRoomLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:PremiereLivingRoomLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:PremiereLivingRoomLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEvent=function(a){this.$1.event=a;return this};c.setExperimentFlags=function(a){this.$1.experiment_flags=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setFinalVideosCount=function(a){this.$1.final_videos_count=a;return this};c.setInitialAfterVideosCount=function(a){this.$1.initial_after_videos_count=a;return this};c.setInitialAfterVideosTotalDurationSeconds=function(a){this.$1.initial_after_videos_total_duration_seconds=a;return this};c.setInitialBeforeVideosCount=function(a){this.$1.initial_before_videos_count=a;return this};c.setInitialBeforeVideosTotalDurationSeconds=function(a){this.$1.initial_before_videos_total_duration_seconds=a;return this};c.setInitialLoopCount=function(a){this.$1.initial_loop_count=a;return this};c.setIsEligibleForLivingRoomNotif=function(a){this.$1.is_eligible_for_living_room_notif=a;return this};c.setIsEligibleForVodNotif=function(a){this.$1.is_eligible_for_vod_notif=a;return this};c.setIsScheduled=function(a){this.$1.is_scheduled=a;return this};c.setLivingRoomID=function(a){this.$1.living_room_id=a;return this};c.setPageID=function(a){this.$1.page_id=a;return this};c.setPremiereLivingRoomID=function(a){this.$1.premiere_living_room_id=a;return this};c.setPremiereVideoID=function(a){this.$1.premiere_video_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={event:!0,experiment_flags:!0,final_videos_count:!0,initial_after_videos_count:!0,initial_after_videos_total_duration_seconds:!0,initial_before_videos_count:!0,initial_before_videos_total_duration_seconds:!0,initial_loop_count:!0,is_eligible_for_living_room_notif:!0,is_eligible_for_vod_notif:!0,is_scheduled:!0,living_room_id:!0,page_id:!0,premiere_living_room_id:!0,premiere_video_id:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("PremiereVideoTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:PremiereVideoLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:PremiereVideoLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:PremiereVideoLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setDestinationVideoID=function(a){this.$1.destination_video_id=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setException=function(a){this.$1.exception=a;return this};c.setOwnerID=function(a){this.$1.owner_id=a;return this};c.setPremiereDefaultCondition=function(a){this.$1.premiere_default_condition=a;return this};c.setPremiereType=function(a){this.$1.premiere_type=a;return this};c.setSourceVideoID=function(a){this.$1.source_video_id=a;return this};c.setSveInputID=function(a){this.$1.sve_input_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={destination_video_id:!0,event:!0,exception:!0,owner_id:!0,premiere_default_condition:!0,premiere_type:!0,source_video_id:!0,sve_input_id:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("ShowsVideoDataTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:ShowsVideoDataLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:ShowsVideoDataLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:ShowsVideoDataLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAutoCrosspostToParent=function(a){this.$1.auto_crosspost_to_parent=a;return this};c.setComposerDialogVersion=function(a){this.$1.composer_dialog_version=a;return this};c.setFundedContentProgram=function(a){this.$1.funded_content_program=a;return this};c.setIsEpisode=function(a){this.$1.is_episode=a;return this};c.setMatureContentRating=function(a){this.$1.mature_content_rating=a;return this};c.setPageID=function(a){this.$1.page_id=a;return this};c.setPlaylistIds=function(a){this.$1.playlist_ids=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setSeasonID=function(a){this.$1.season_id=a;return this};c.setSource=function(a){this.$1.source=a;return this};c.setSquareThumbnailDimensions=function(a){this.$1.square_thumbnail_dimensions=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setVideoID=function(a){this.$1.video_id=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={auto_crosspost_to_parent:!0,composer_dialog_version:!0,funded_content_program:!0,is_episode:!0,mature_content_rating:!0,page_id:!0,playlist_ids:!0,season_id:!0,source:!0,square_thumbnail_dimensions:!0,time:!0,vc:!0,video_id:!0,weight:!0};e.exports=a}),null);
__d("SoundCollectionTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:SoundCollectionLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:SoundCollectionLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:SoundCollectionLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setArtistPageID=function(a){this.$1.artist_page_id=a;return this};c.setAudioID=function(a){this.$1.audio_id=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setMatchID=function(a){this.$1.match_id=a;return this};c.setSoundCollectionTab=function(a){this.$1.sound_collection_tab=a;return this};c.setSoundCollectionVisitSource=function(a){this.$1.sound_collection_visit_source=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={artist_page_id:!0,audio_id:!0,event:!0,match_id:!0,sound_collection_tab:!0,sound_collection_visit_source:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("SphericalMediaPerformanceTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:SphericalMediaPerformanceLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:SphericalMediaPerformanceLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:SphericalMediaPerformanceLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setComputationTimeMs=function(a){this.$1.computation_time_ms=a;return this};c.setEndTimestampS=function(a){this.$1.end_timestamp_s=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setFallbackDuration=function(a){this.$1.fallback_duration=a;return this};c.setFallbackReason=function(a){this.$1.fallback_reason=a;return this};c.setNormalizedFrameTime=function(a){this.$1.normalized_frame_time=a;return this};c.setNumSpatialAudioStutters=function(a){this.$1.num_spatial_audio_stutters=a;return this};c.setProductName=function(a){this.$1.product_name=a;return this};c.setProjection=function(a){this.$1.projection=a;return this};c.setSpatialReactionsCacheUsed=function(a){this.$1.spatial_reactions_cache_used=a;return this};c.setSpatialReactionsClustersCount=function(a){this.$1.spatial_reactions_clusters_count=a;return this};c.setSpatialReactionsCount=function(a){this.$1.spatial_reactions_count=a;return this};c.setSphericalRendererSetupDuration=function(a){this.$1.spherical_renderer_setup_duration=a;return this};c.setStartTimestampS=function(a){this.$1.start_timestamp_s=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVideoID=function(a){this.$1.video_id=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={computation_time_ms:!0,end_timestamp_s:!0,event:!0,fallback_duration:!0,fallback_reason:!0,normalized_frame_time:!0,num_spatial_audio_stutters:!0,product_name:!0,projection:!0,spatial_reactions_cache_used:!0,spatial_reactions_clusters_count:!0,spatial_reactions_count:!0,spherical_renderer_setup_duration:!0,start_timestamp_s:!0,time:!0,video_id:!0,weight:!0};e.exports=a}),null);
__d("VideoCaptionsPublishTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:VideoCaptionsPublishLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:VideoCaptionsPublishLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:VideoCaptionsPublishLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setCaptionsID=function(a){this.$1.captions_id=a;return this};c.setError=function(a){this.$1.error=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setException=function(a){this.$1.exception=a;return this};c.setIsCaptionEditor=function(a){this.$1.is_caption_editor=a;return this};c.setIsCaptionsEditor=function(a){this.$1.is_captions_editor=a;return this};c.setPublishPhase=function(a){this.$1.publish_phase=a;return this};c.setSubtitleID=function(a){this.$1.subtitle_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setVideoID=function(a){this.$1.video_id=a;return this};c.setVideoLanguage=function(a){this.$1.video_language=a;return this};c.setVideoLocale=function(a){this.$1.video_locale=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={captions_id:!0,error:!0,event:!0,exception:!0,is_caption_editor:!0,is_captions_editor:!0,publish_phase:!0,subtitle_id:!0,time:!0,vc:!0,video_id:!0,video_language:!0,video_locale:!0,weight:!0};e.exports=a}),null);
__d("VideoComposerAdBreakEnabledCrosspostingTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:VideoComposerAdBreakEnabledCrosspostingLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:VideoComposerAdBreakEnabledCrosspostingLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:VideoComposerAdBreakEnabledCrosspostingLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAllMonetizableClicked=function(a){this.$1.all_monetizable_clicked=a;return this};c.setChosenMonetizablePages=function(a){this.$1.chosen_monetizable_pages=a;return this};c.setChosenNonMonetizablePages=function(a){this.$1.chosen_non_monetizable_pages=a;return this};c.setPageID=function(a){this.$1.page_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setTotalMonetizablePages=function(a){this.$1.total_monetizable_pages=a;return this};c.setVideoID=function(a){this.$1.video_id=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={all_monetizable_clicked:!0,chosen_monetizable_pages:!0,chosen_non_monetizable_pages:!0,page_id:!0,time:!0,total_monetizable_pages:!0,video_id:!0,weight:!0};e.exports=a}),null);
__d("VideoComposerAdBreakImageAdsUITypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:VideoComposerAdBreakImageAdsUILoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:VideoComposerAdBreakImageAdsUILoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:VideoComposerAdBreakImageAdsUILoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAutoInsertionFlag=function(a){this.$1.auto_insertion_flag=a;return this};c.setComposerDialogMode=function(a){this.$1.composer_dialog_mode=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setHasUploadFinished=function(a){this.$1.has_upload_finished=a;return this};c.setImageAdsFlag=function(a){this.$1.image_ads_flag=a;return this};c.setIsMidRollOptOut=function(a){this.$1.is_mid_roll_opt_out=a;return this};c.setIsPageMidRollOptOutEnabled=function(a){this.$1.is_page_mid_roll_opt_out_enabled=a;return this};c.setIsVideoAdBreakEnabled=function(a){this.$1.is_video_ad_break_enabled=a;return this};c.setManualAdBreaksFlag=function(a){this.$1.manual_ad_breaks_flag=a;return this};c.setPageID=function(a){this.$1.page_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setVideoAssetID=function(a){this.$1.video_asset_id=a;return this};c.setVideoID=function(a){this.$1.video_id=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={auto_insertion_flag:!0,composer_dialog_mode:!0,event:!0,has_upload_finished:!0,image_ads_flag:!0,is_mid_roll_opt_out:!0,is_page_mid_roll_opt_out_enabled:!0,is_video_ad_break_enabled:!0,manual_ad_breaks_flag:!0,page_id:!0,time:!0,vc:!0,video_asset_id:!0,video_id:!0,weight:!0};e.exports=a}),null);
__d("VideoComposerSuggestedTagSelectionTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:VideoComposerSuggestedTagSelectionLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:VideoComposerSuggestedTagSelectionLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:VideoComposerSuggestedTagSelectionLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setFirstAppearance=function(a){this.$1.first_appearance=a;return this};c.setNumHistoryTags=function(a){this.$1.num_history_tags=a;return this};c.setNumSuggestedTags=function(a){this.$1.num_suggested_tags=a;return this};c.setSelectionSource=function(a){this.$1.selection_source=a;return this};c.setTagName=function(a){this.$1.tag_name=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={first_appearance:!0,num_history_tags:!0,num_suggested_tags:!0,selection_source:!0,tag_name:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("VideoEditTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:VideoEditLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:VideoEditLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:VideoEditLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setCaptionsCount=function(a){this.$1.captions_count=a;return this};c.setChangedTitle=function(a){this.$1.changed_title=a;return this};c.setEmbeddable=function(a){this.$1.embeddable=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setException=function(a){this.$1.exception=a;return this};c.setExpirationTime=function(a){this.$1.expiration_time=a;return this};c.setExpirationType=function(a){this.$1.expiration_type=a;return this};c.setExpiredNow=function(a){this.$1.expired_now=a;return this};c.setFlow=function(a){this.$1.flow=a;return this};c.setHasContentCategoryChanged=function(a){this.$1.has_content_category_changed=a;return this};c.setHasContentTagsChanged=function(a){this.$1.has_content_tags_changed=a;return this};c.setPublishNow=function(a){this.$1.publish_now=a;return this};c.setSource=function(a){this.$1.source=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setVideoID=function(a){this.$1.video_id=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={captions_count:!0,changed_title:!0,embeddable:!0,event:!0,exception:!0,expiration_time:!0,expiration_type:!0,expired_now:!0,flow:!0,has_content_category_changed:!0,has_content_tags_changed:!0,publish_now:!0,source:!0,time:!0,vc:!0,video_id:!0,weight:!0};e.exports=a}),null);
__d("VideoTextQuestionTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:VideoTextQuestionLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:VideoTextQuestionLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:VideoTextQuestionLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEvent=function(a){this.$1.event=a;return this};c.setPublishError=function(a){this.$1.publish_error=a;return this};c.setQuestionText=function(a){this.$1.question_text=a;return this};c.setResponseText=function(a){this.$1.response_text=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setVideoCardID=function(a){this.$1.video_card_id=a;return this};c.setVideoID=function(a){this.$1.video_id=a;return this};c.setVideoOffsetEnd=function(a){this.$1.video_offset_end=a;return this};c.setVideoOffsetStart=function(a){this.$1.video_offset_start=a;return this};c.setVideoTextQuestionID=function(a){this.$1.video_text_question_id=a;return this};c.setVideoTextQuestionRespondentID=function(a){this.$1.video_text_question_respondent_id=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={event:!0,publish_error:!0,question_text:!0,response_text:!0,time:!0,vc:!0,video_card_id:!0,video_id:!0,video_offset_end:!0,video_offset_start:!0,video_text_question_id:!0,video_text_question_respondent_id:!0,weight:!0};e.exports=a}),null);
__d("VideoThumbnailUIActionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:VideoThumbnailUIActionsLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:VideoThumbnailUIActionsLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:VideoThumbnailUIActionsLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEditLocation=function(a){this.$1.edit_location=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setProfileID=function(a){this.$1.profile_id=a;return this};c.setThumbnailIndex=function(a){this.$1.thumbnail_index=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setVideoID=function(a){this.$1.video_id=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={edit_location:!0,event:!0,profile_id:!0,thumbnail_index:!0,time:!0,vc:!0,video_id:!0,weight:!0};e.exports=a}),null);
__d("SimpleNUXMessageTypes.bs",[],(function(a,b,c,d,e,f){}),null);
__d("ReactComposerCTAActions",["ReactComposerCTAActionType","ReactComposerDispatcher","ReactComposerCTAStore"],(function(a,b,c,d,e,f){b("ReactComposerCTAStore");a=function(){"use strict";function a(){}var c=a.prototype;c.fetchCTAData=function(a,c,d,e,f,g){a={composerID:a,type:b("ReactComposerCTAActionType").FETCH_CTA_DATA,selectedCta:c,actorID:d,targetID:f,attachmentID:g,composerType:e};b("ReactComposerDispatcher").dispatch(a)};c.setConfig=function(a,c){a={composerID:a,type:b("ReactComposerCTAActionType").SET_CTA_CONFIG,config:c};b("ReactComposerDispatcher").dispatch(a)};c.switchCTA=function(a,c){a={composerID:a,type:b("ReactComposerCTAActionType").SWITCH_CTA,customizedMessageCta:c};b("ReactComposerDispatcher").dispatch(a)};c.setAllowMultiMedia=function(a,c){a={composerID:a,type:b("ReactComposerCTAActionType").ALLOW_MULTI_MEDIA,allowMultiMedia:c};b("ReactComposerDispatcher").dispatch(a)};c.setHasPhoto=function(a){a={composerID:a,type:b("ReactComposerCTAActionType").HAS_PHOTO};b("ReactComposerDispatcher").dispatch(a)};c.setHasPhotoForEntPost=function(a,c){a={composerID:a,type:b("ReactComposerCTAActionType").HAS_PHOTO_FOR_ENTPOST,photoID:c};b("ReactComposerDispatcher").dispatch(a)};c.setNeedsPhoto=function(a){a={composerID:a,type:b("ReactComposerCTAActionType").NEEDS_PHOTO};b("ReactComposerDispatcher").dispatch(a)};c.setHasVideo=function(a,c){a={composerID:a,type:b("ReactComposerCTAActionType").HAS_VIDEO,videoID:c};b("ReactComposerDispatcher").dispatch(a)};c.setNeedsVideo=function(a){a={composerID:a,type:b("ReactComposerCTAActionType").NEEDS_VIDEO};b("ReactComposerDispatcher").dispatch(a)};c.setPostingPremadePostCard=function(a){a={composerID:a,type:b("ReactComposerCTAActionType").USING_PREMADE_POST_VIDEO};b("ReactComposerDispatcher").dispatch(a)};return a}();e.exports=new a()}),null);
__d("MNPageComposerUtils",["ReactComposerCTAActions","ReactComposerLoggingName","ReactComposerTaggerActions","ReactComposerTaggerStore","ReactComposerTaggerType"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}var c=a.prototype;c.clearMessengerTaggerData=function(a){var c=b("ReactComposerTaggerStore").hasData(a,b("ReactComposerTaggerType").MESSAGING);if(c){b("ReactComposerTaggerActions").setTaggerData(a,b("ReactComposerLoggingName").MESSAGING_TAGGER,b("ReactComposerTaggerType").MESSAGING,{hasCTA:!1});c={ctaType:null,ctaValues:{is_cta_share_post:!0,service_config_id:null},ctaMarkup:"",ctaAttachmentConfig:""};b("ReactComposerCTAActions").setConfig(a,c)}};return a}();e.exports=new a()}),null);
__d("XPageOrganicTargetingSettingAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/organictargetingsetting/set/",{})}),null);
__d("PagesComposerAudiences.react",["cx","fbt","ActorURI","BanzaiODS","BootloadedComponent.react","JSResource","LayerFadeOnHide","Link.react","PageComposerAccessToken","React","ReactComposerContextTypes","ReactComposerTargetingUtils","WebApiApplication","XAsyncRequest","XPageOrganicTargetingSettingAsyncController","XUIDialog.react","XUIDialogBody.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogSaveButton.react","XUISpinner.react","XUIText.react","areEqual","gkx","isEmpty","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=b("React"),l=b("gkx")("678710"),m=587,n=13;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={fetching:!1,targeting:d.getInitialSavedData("targeting"),gating:d.getInitialGatingData(),hints:d.getInitialSavedData("hints"),targetingSentences:d.getInitialSavedData("targetingSentences"),gatingSentences:d.getInitialSavedData("gatingSentences"),reachEstimate:d.getInitialReachEstimate(),woodhengeInfo:d.getInitialSavedData("woodhengeInfo")},d.$1=function(){var a=babelHelpers["extends"]({},d.state);if(a.targeting){var c=b("XPageOrganicTargetingSettingAsyncController").getURIBuilder().getURI();new(b("XAsyncRequest"))(b("ActorURI").create(c,d.context.targetID)).setData({page_id:d.context.targetID,targeting_type:"NewsFeedTargeting",feed_targeted_data:a.targeting}).setMethod("POST").send()}c=a.gating;var e=a.targeting,f=a.hints;(!c||(i||(i=b("isEmpty")))(c)||d.$2(c))&&(a.gating=null);(!e||(i||(i=b("isEmpty")))(e)||d.$2(e))&&(a.targeting=null);(!f||(i||(i=b("isEmpty")))(f)||d.$2(f))&&(a.hints=null);d.props.useFromLegacyComposer?d.$3(a):d.$4(a);d.props.onSave()},d.$5=function(a){d.props.useTargetingAsFilter||(delete a.age_min,delete a.age_max);if((j||(j=b("areEqual")))(d.state.targeting,a)||(j||(j=b("areEqual")))(d.state.hints,a))return;d.setState({fetching:!0});a=d.props.useTargetingAsFilter?a:Object.assign({},a,d.state.targeting);b("ReactComposerTargetingUtils").fetchMetadata(a,d.context.targetID,d.$6)},d.$6=function(a,b,c){d.props.useTargetingAsFilter?d.setState({fetching:!1,targeting:a,targetingSentences:b,reachEstimate:c}):d.setState({fetching:!1,hints:a,targetingSentences:b})},d.$7=function(a){var c;if((j||(j=b("areEqual")))(d.state.gating,a))return;d.setState({fetching:!0});c=(c=a)!=null?(c=c.geo_locations)!=null?(c=c.zips)!=null?c.length:c:c:c;l&&c&&c>=1e3?d.setState({fetching:!1,gating:a,gatingSentences:k.jsxs("span",{children:[h._("{=Location - Living in:}",[h._param("=Location - Living in:",k.jsx(b("XUIText.react"),{weight:"bold",children:h._("Location \u2013 Living in:")}))]),k.jsx(b("XUIText.react"),{weight:"bold",children:" \u2026"})]})}):b("ReactComposerTargetingUtils").fetchMetadata(a,d.context.targetID,d.$8)},d.$8=function(a,c){d.props.useTargetingAsFilter?d.setState({fetching:!1,gating:a,gatingSentences:c}):d.setState({fetching:!1,gating:a,targetingSentences:c}),(i||(i=b("isEmpty")))(a)||(i||(i=b("isEmpty")))(c.props.children)?d.props.onGatingChange&&d.props.onGatingChange(null,null):d.props.onGatingChange&&d.props.onGatingChange(a,c)},d.$9=function(a){var b=null,c=null;a==="ALL_SUPPORTERS"&&(b={woodhengeAudience:"ALL_SUPPORTERS",woodhengeTiers:d.props.woodhengeTiers||[]},c=h._("Supporters only"));d.setState({woodhengeInfo:b,targetingSentences:c})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.props.callbackSelectionStatus&&this.props.callbackSelectionStatus(!0);var a=this.props.appID||b("PageComposerAccessToken").getAppID(),c=this.props.accessToken||b("PageComposerAccessToken").getAccessToken();!!a&&!!c&&b("WebApiApplication").init(c,a)};d.componentWillUnmount=function(){this.props.callbackSelectionStatus&&this.props.callbackSelectionStatus(!1)};d.componentDidMount=function(){b("BanzaiODS").bumpEntityKey(2966,"ui_audience_targeting","dialog_open")};d.getInitialGatingData=function(){var a=this.getInitialSavedData("gating");if(!a)return{age_min:n};a.age_min=a.age_min||n;return a};d.$4=function(a){b("ReactComposerTargetingUtils").setData(this.context.composerID,a)};d.$2=function(a){return(j||(j=b("areEqual")))(a,{age_max:65,age_min:13})||(j||(j=b("areEqual")))(a,{age_min:13})};d.$3=function(a){this.props.callbackDataStatus&&this.props.callbackDataStatus(!!(a.gating||a.targeting||a.hints)),b("ReactComposerTargetingUtils").setData(this.context.targetID,a)};d.$10=function(){if(!this.props.showWoodhengeGating)return!0;return(this.state.gating&&!(i||(i=b("isEmpty")))(this.state.gating)&&!this.$2(this.state.gating)||this.state.targeting&&!(i||(i=b("isEmpty")))(this.state.targeting)&&!this.$2(this.state.targeting))&&this.state.woodhengeInfo&&!(i||(i=b("isEmpty")))(this.state.woodhengeInfo)?!1:!0};d.convertConnectionsToInterestsFromApiToTargetingSpec=function(a){a&&a.connections&&!a.fan_of&&(a.fan_of=a.connections,delete a.connections);return a};d.convertInterestsToConnectionsFromTargetingSpecToApi=function(a){a&&a.fan_of&&!a.connections&&(a.connections=a.fan_of,delete a.fan_of);return a};d.getInitialSavedData=function(a){var b;({});this.props.useFromLegacyComposer?b=this.getSavedSpec(a,this.context.targetID):b=this.getSavedSpec(a,this.context.composerID);return this.convertInterestsToConnectionsFromTargetingSpecToApi(b)};d.getSavedSpec=function(a,c){c=this.props.useFromLegacyComposer?b("ReactComposerTargetingUtils").getDataFromTargetingTaggerStore(c):b("ReactComposerTargetingUtils").getDataFromComposerTaggerStore(c);return c&&c[a]};d.getInitialReachEstimate=function(){if(!this.props.useTargetingAsFilter)return null;else{var a=b("ReactComposerTargetingUtils").getDataFromComposerTaggerStore(this.context.composerID);return a&&a.reachEstimate}};d.renderReachEstimate=function(){if(!this.state.reachEstimate)return null;var a=this.state.reachEstimate===20?h._("0\u201320"):this.state.reachEstimate;a=h._("Reach estimate for News Feed targeting: {estimate_number}",[h._param("estimate_number",a)]);return k.jsx(b("XUIText.react"),{children:a})};d.renderHelpLink=function(){var a=h._("Have a question?"),c="https://www.facebook.com/facebookmedia/get-started/audience-optimization/";c=k.jsx(b("Link.react"),{href:c,target:"_blank",children:h._("Read our Guidelines.")});return k.jsxs("div",{className:"_3xrd",children:[k.jsx(b("XUIText.react"),{children:a})," ",c]})};d.renderFooterLeftContent=function(){if(this.props.shouldHideLeftFooter)return null;return!this.props.useTargetingAsFilter?this.renderHelpLink():this.renderReachEstimate()};d.render=function(){var a=k.jsx("div",{className:"_1220",children:k.jsx(b("XUISpinner.react"),{})}),c=this.props.useTargetingAsFilter?this.state.targeting:this.state.hints,d="";this.state.woodhengeInfo&&(d=this.state.woodhengeInfo.woodhengeAudience);var e=this.$10();return k.jsxs(b("XUIDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},layerHideOnBlur:!1,onToggle:this.props.onToggle,shown:this.props.shown,width:m,children:[k.jsx(b("XUIDialogBody.react"),{children:k.jsx(b("BootloadedComponent.react"),{accessToken:this.props.accessToken,allowExclusionsWithoutInclusions:this.props.allowExclusionsWithoutInclusions,bootloadLoader:b("JSResource")("PagesComposerAudiencesBody.react").__setRef("PagesComposerAudiences.react"),bootloadPlaceholder:a,canSeeCompleteList:this.props.canSeeCompleteList,canSeeDemographicOptions:this.props.canSeeDemographicOptions,disallowRadiusSelection:this.props.isLiveVideo,enableLanguageGating:this.props.enableLanguageGating,enableLocationExclusionGating:this.props.enableLocationExclusionGating,feedTargetingShowReachGK:this.props.feedTargetingShowReachGK,hideFeedTargeting:this.props.hideFeedTargeting,hideGating:this.props.hideGating,initialActiveKey:this.props.initialActiveKey,initialGatingSpec:this.state.gating,initialTargetingSpec:c,initialWoodhengeAudience:d,onGatingChange:this.$7,onTargetingChange:this.$5,onWoodhengeInfoChange:this.$9,shouldShowRestrictionTabNux:this.props.shouldShowRestrictionTabNux,showWoodhengeGating:this.props.showWoodhengeGating,useTargetingAsFilter:this.props.useTargetingAsFilter})}),k.jsxs(b("XUIDialogFooter.react"),{leftContent:this.renderFooterLeftContent(),children:[k.jsx(b("XUIDialogCancelButton.react"),{use:"default"}),k.jsx(b("XUIDialogSaveButton.react"),{action:"confirm",className:"_2uyv","data-hover":"tooltip","data-tooltip-content":e?null:"Invalid targeting",disabled:this.state.fetching||!e,onClick:this.$1,use:"confirm"})]})]})};return c}(k.PureComponent);a.contextTypes=b("ReactComposerContextTypes");a.propTypes={accessToken:(c=b("prop-types")).string,allowExclusionsWithoutInclusions:c.bool,appID:c.string,callbackDataStatus:c.func,callbackSelectionStatus:c.func,canSeeCompleteList:c.bool,canSeeDemographicOptions:c.bool,feedTargetingShowReachGK:c.bool,hideFeedTargeting:c.bool,hideGating:c.bool,enableLanguageGating:c.bool,enableLocationExclusionGating:c.bool,initialActiveKey:c.string,isLiveVideo:c.bool,onGatingChange:c.func,onSave:c.func.isRequired,onToggle:c.func.isRequired,rootElement:c.object,saveData:c.func,shouldHideLeftFooter:c.bool,shouldShowRestrictionTabNux:c.bool,shown:c.bool.isRequired,showWoodhengeGating:c.bool,useFromLegacyComposer:c.bool,useTargetingAsFilter:c.bool,woodhengeTiers:c.array};e.exports=a}),null);
__d("VideoComposerAdBreaksAutoInsertionNux.react",["cx","fbt","AsyncRequest","InstreamVideoAdsCreatorEventTypedLogger","React","SUIBusinessTheme","SUIButton.react","SUIText.react","XBasicFBNuxDismissController","XUINotice.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=5680;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isNuxButtonClicked:!1,shouldShowNux:d.props.shouldShowNuxInitially},d.$1=function(){var a=b("XBasicFBNuxDismissController").getURIBuilder().setInt("nux_id",j).getURI();new(b("AsyncRequest"))().setURI(a).send();d.setState({shouldShowNux:!1})},d.$2=function(){d.props.pageID!=null&&(d.props.onUpdateInsertionProfileStatus(d.props.pageID,!0),d.props.onUpdateAdBreakStatus(!1),d.setState({isNuxButtonClicked:!0})),new(b("InstreamVideoAdsCreatorEventTypedLogger"))().setOwnerID(d.props.pageID).setInstreamVideoAdsCreatorEventType("enable_auto_insertion_on_page_from_video_composer").log()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){if(!this.state.shouldShowNux)return null;if(!this.state.isNuxButtonClicked)return i.jsxs(b("XUINotice.react"),{onDismiss:this.$1,children:[i.jsx(b("SUIText.react"),{display:"block",size:"header4",theme:b("SUIBusinessTheme"),weight:"bold",children:h._("Include in-stream ads automatically?")}),i.jsx("div",{className:"_6eo7",children:i.jsx(b("SUIText.react"),{color:"secondary",display:"block",size:"meta1",theme:b("SUIBusinessTheme"),children:h._("Instead of placing ads manually, or forgetting to include them, you can update your settings to include in-stream ads automatically when videos are uploaded to this Page. You can always choose your placements or turn off in-stream ads for any video once it's uploaded.")})}),i.jsx("div",{className:"_6eo8",children:i.jsx(b("SUIButton.react"),{label:h._("OK"),onClick:this.$2,theme:b("SUIBusinessTheme"),use:"default"})})]});else return i.jsx("div",{className:"_6eo9",children:i.jsxs(b("XUINotice.react"),{onDismiss:this.$1,use:"success",children:[i.jsx(b("SUIText.react"),{display:"block",size:"header3",theme:b("SUIBusinessTheme"),weight:"bold",children:h._("In-stream ads will be automatically included")}),i.jsx("div",{className:"_6eo7",children:i.jsx(b("SUIText.react"),{color:"secondary",display:"block",size:"meta1",theme:b("SUIBusinessTheme"),children:h._("To stop including ads automatically, visit your Page's monetisation settings.")})})]})})};return c}(i.PureComponent);e.exports=a}),null);
__d("VideoComposerAdBreakCountryRestrictionsListView.react",["cx","fbt","CurrentUser","PagesSettingsInstreamAdsCountryRestrictionsContentContainer","React","Tooltip","VideoComposerAdBreakBlockListItem.react","WebFunnelLogger","XUIButton.react","XUINotice.react","XUISpinner.react","cxMargin","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showBlockListContentDialog:!1},d.$1=function(a){d.setState({showBlockListContentDialog:a})},d.$2=function(){d.props.onSelectBlockList(null,!0),d.setState({showBlockListContentDialog:!0}),b("gkx")("1157336")&&new(b("WebFunnelLogger"))("AdBreaksCreatorFunnelDefinition").setAction("OPEN_NEW_COUNTRY_RESTRICTIONS_DIALOG").setSessionKey(b("CurrentUser").getAccountID()).log()},d.$3=function(a){d.props.onSelectBlockList(a,!0),d.setState({showBlockListContentDialog:!0})},d.$4=function(a){d.props.onDeleteBlockLists([a])},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this;if(!this.props.allBlockListsLoaded)return i.jsx("div",{className:"_6eni",children:i.jsx(b("XUISpinner.react"),{size:"large"})});var c=null;this.props.editable||(c=b("Tooltip").propsFor(h._("Only Page admins can create new block lists.")));var d=null;this.props.showLowFillRateWarning&&(d=i.jsx(b("XUINotice.react"),{className:"_3-98",size:"small",use:"notify",children:h._("Blocking too many Pages or categories could significantly reduce the availability of ads that are eligible for your videos.")}));return i.jsxs("div",{className:"_6ekb",children:[i.jsx(j,{editable:this.props.editable,selectedBlockList:this.props.selectedBlockList,showBlockListContentDialog:this.state.showBlockListContentDialog,onToggleDialog:this.$1}),i.jsx("div",{children:d}),this.props.blockLists.map(function(c,d){var e=a.props.blockListStates.get(c.id);return i.jsx(b("VideoComposerAdBreakBlockListItem.react"),{blockList:c,editable:c.editable,isCountryRestriction:!0,isFirstItem:d===0,isLastItem:d===a.props.blockLists.length-1,requestSent:a.props.requestSent,state:e?e:"NOT_APPLIED",onApplyBlockList:a.props.onApplyBlockList,onClickItem:a.$3,onDeleteItem:a.$4,onUnapplyBlockList:a.props.onUnapplyBlockList},c.id)}),i.jsx(b("XUIButton.react"),babelHelpers["extends"]({className:"_6ent _6enu",disabled:!this.props.editable,href:"#",label:h._("Create New"),use:"default",onClick:this.$2},c))]})};return c}(i.Component);function j(a){if(!a.showBlockListContentDialog)return null;var c=a.editable,d=null,e="",f=null;a.selectedBlockList&&(c=a.selectedBlockList.editable&&a.editable,d=a.selectedBlockList.id,e=a.selectedBlockList.name);return i.jsx(b("PagesSettingsInstreamAdsCountryRestrictionsContentContainer"),{blockListId:d,blockListName:e,businessId:f,editable:c,enableSubcategories:!1,onToggle:a.onToggleDialog})}e.exports=a}),null);
__d("PagesSettingsInstreamAdsCountryRestrictionsContainer",["FluxContainer","PagesSettingsInstreamAdsBlockListActions","PagesSettingsInstreamAdsBlockListContentStore","PagesSettingsInstreamAdsBlockListDispatcher","PagesSettingsInstreamAdsBlockListStore","PagesSettingsInstreamAdsBlockListView.react","React","VideoComposerAdBreakCountryRestrictionsListView.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesSettingsInstreamAdsBlockListStore")]};c.calculateState=function(a){a=b("PagesSettingsInstreamAdsBlockListStore").getState();return{allBlockListsLoaded:a.allBlockListsLoaded,blockLists:Array.from(a.blockLists),countryRestrictions:Array.from(a.countryRestrictions),blockListStates:new Map(a.blockListStates),didImportBlockLists:a.didImportBlockLists,editable:a.editable,enableSubcategories:a.enableSubcategories,pageId:a.pageId,requestSent:a.requestSent,selectedBlockList:a.selectedBlockList,showLowFillRateWarning:a.showLowFillRateWarning}};var d=c.prototype;d.componentDidMount=function(){if(!this.props.shouldInitializeOnMount)return;var a=this.props,c=a.businessID;a=a.mediaManagerPages;if(c==null&&this.props.currentPageId==null&&a==null)return;this.props.currentPageId!=null&&b("PagesSettingsInstreamAdsBlockListActions").initializeBlockLists(this.props.currentPageId,this.props.targetIsVideoAssetIds)};d.componentDidUpdate=function(a){a=a.mediaManagerPages;var c=this.props.mediaManagerPages;if(!a||!c||c.length===0)return;JSON.stringify(c)!==JSON.stringify(a)&&b("PagesSettingsInstreamAdsBlockListActions").initializeBlockListsForMediaManagerPages(c)};d.UNSAFE_componentWillMount=function(){b("PagesSettingsInstreamAdsBlockListDispatcher").explicitlyRegisterStores([b("PagesSettingsInstreamAdsBlockListStore"),b("PagesSettingsInstreamAdsBlockListContentStore")])};d.render=function(){if(this.props.isNewComposerStyle){var a;return g.jsx(b("VideoComposerAdBreakCountryRestrictionsListView.react"),{allBlockListsLoaded:this.state.allBlockListsLoaded,blockListStates:this.state.blockListStates,blockLists:this.state.countryRestrictions,editable:this.state.editable,onApplyBlockList:(a=b("PagesSettingsInstreamAdsBlockListActions")).applyBlockList,onDeleteBlockLists:a.deleteBlockLists,onSelectBlockList:a.selectBlockList,onUnapplyBlockList:a.unapplyBlockList,requestSent:this.state.requestSent,selectedBlockList:this.state.selectedBlockList,showLowFillRateWarning:this.state.showLowFillRateWarning})}return g.jsx(b("PagesSettingsInstreamAdsBlockListView.react"),{allBlockListsLoaded:this.state.allBlockListsLoaded,appliable:this.props.appliable,blockListStates:this.state.blockListStates,blockLists:this.state.blockLists,didImportBlockLists:this.state.didImportBlockLists,editable:this.state.editable,enableBlockListExportButton:this.props.enableBlockListExportButton,enableSubcategories:this.state.enableSubcategories,onApplyBlockList:b("PagesSettingsInstreamAdsBlockListActions").applyBlockList,onApplyOrUnapply:this.props.onApplyOrUnapply,onDeleteBlockLists:b("PagesSettingsInstreamAdsBlockListActions").deleteBlockLists,onExportAllBlockLists:b("PagesSettingsInstreamAdsBlockListActions").exportAllBlockLists,onExportSingleBlockList:b("PagesSettingsInstreamAdsBlockListActions").exportSingleBlockList,onImportBlockLists:b("PagesSettingsInstreamAdsBlockListActions").importBlockLists,onSelectBlockList:b("PagesSettingsInstreamAdsBlockListActions").selectBlockList,onUnapplyBlockList:b("PagesSettingsInstreamAdsBlockListActions").unapplyBlockList,pageId:this.state.pageId,requestSent:this.state.requestSent,selectedBlockList:this.state.selectedBlockList,showLowFillRateWarning:this.state.showLowFillRateWarning})};return c}(g.PureComponent);a.defaultProps={appliable:!1,businessID:null,enableBlockListExportButton:!1,isMediaManagerVersion:!1,shouldInitializeOnMount:!0,isNewComposerStyle:!1,userID:null,contextID:"0"};e.exports=b("FluxContainer").create(a,{pure:!1})}),null);
__d("PagesComposerEligibilityUtils",["PagesComposerUnpublishedPostsStore","ReactComposerPortableCTAAttachmentStore","ReactComposerScrapedAttachmentStore","ReactComposerTaggerEligibilityUtils"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=b("ReactComposerTaggerEligibilityUtils").isStoryCreateEligible(a),e=b("ReactComposerScrapedAttachmentStore").hasAttachment(a);c=!e||!!((e=c)!=null?(e=e.gks)!=null?e.enablePageLinkStoryCreation:e:e);e=b("PagesComposerUnpublishedPostsStore").getPostActionType(a);return d&&c&&(e==="PUBLISH"||e==="PREVIEW")&&!b("ReactComposerPortableCTAAttachmentStore").isPortableCTAAttached(a)}e.exports={isPageStoryCreateEligible:a}}),null);
__d("ReactComposerFileActions",["ReactComposerDispatcher","ReactComposerFileActionType","ReactComposerFileStore"],(function(a,b,c,d,e,f){b("ReactComposerFileStore");a=function(){"use strict";function a(){}var c=a.prototype;c.reset=function(a){a={composerID:a,type:b("ReactComposerFileActionType").RESET};b("ReactComposerDispatcher").dispatch(a)};c.saveFile=function(a,c){a={composerID:a,type:b("ReactComposerFileActionType").SAVE_FILE,name:c.name,file:c.file};b("ReactComposerDispatcher").dispatch(a)};c.setConfig=function(a,c){a={composerID:a,type:b("ReactComposerFileActionType").SET_FILE_CONFIG,config:c};b("ReactComposerDispatcher").dispatch(a)};return a}();e.exports=new a()}),null);
__d("ReactComposerOptimisticPostingStoryListAttachmentContainer.react",["cx","JSResource","React","ifRequired","lazyLoadComponent"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("lazyLoadComponent")(b("JSResource")("ReactComposerOptimisticPostingStoryListAttachment.react").__setRef("ReactComposerOptimisticPostingStoryListAttachmentContainer.react"));a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=null;b("ifRequired")("ReactComposerListStore",function(b){var d=b.getListTitle(a.props.composerID),e=b.getListItems(a.props.composerID);e=e.map(function(a){return a.getCurrentContent().getPlainText().trim().length>0?a.getCurrentContent().getPlainText().trim():null}).filter(function(a){return!!a});var f=b.getListColors(a.props.composerID),g=b.getSelectedListColor(a.props.composerID);f=f[g];g=b.getSelectedListTitleEmoji(a.props.composerID);b=b.getSelectedListStyle(a.props.composerID);c=h.jsx(h.Suspense,{fallback:h.jsx("div",{}),children:h.jsx(i,{className:"_1rl8 _671b",emoji:g,listItems:e,listColor:f,listStyle:b,title:d.getCurrentContent().getPlainText()})})});return c};return c}(h.Component);e.exports=a}),null);
__d("LivingRoomComposerActions",["LivingRoomComposerDispatcher"],(function(a,b,c,d,e,f){"use strict";a={enablePostButton:function(){var a={type:"ENABLE_POST_BUTTON"};b("LivingRoomComposerDispatcher").dispatch(a)},queueVideo:function(a){a={type:"QUEUE_VIDEO",video:a};b("LivingRoomComposerDispatcher").dispatch(a)},removeVideo:function(a){a={type:"REMOVE_VIDEO",video:a};b("LivingRoomComposerDispatcher").dispatch(a)},removeUnownedVideo:function(a,c){a={type:"REMOVE_UNOWNED_VIDEOS",composerID:a,ownerID:c};b("LivingRoomComposerDispatcher").dispatch(a)},removeUnmonetizableVideos:function(a){a={type:"REMOVE_UNMONETIZABLE_VIDEOS",ownerID:a};b("LivingRoomComposerDispatcher").dispatch(a)},setAddVideoDialogShown:function(a){a={type:"SET_ADD_VIDEO_DIALOG_SHOWN",shown:a};b("LivingRoomComposerDispatcher").dispatch(a)},setAddVideoDialogTab:function(a){a={type:"SET_ADD_VIDEO_DIALOG_TAB",tab:a};b("LivingRoomComposerDispatcher").dispatch(a)},setAddVideoInputSearchQuery:function(a){a={type:"SET_ADD_VIDEO_INPUT_SEARCH_QUERY",query:a};b("LivingRoomComposerDispatcher").dispatch(a)},setAddVideoSubmittedSearchQuery:function(a){a={type:"SET_ADD_VIDEO_SUBMITTED_SEARCH_QUERY",query:a};b("LivingRoomComposerDispatcher").dispatch(a)},setAddVideoSelectedPage:function(a){a={type:"SET_ADD_VIDEO_SELECTED_PAGE",page:a};b("LivingRoomComposerDispatcher").dispatch(a)},setAddVideoSelectedVideo:function(a){a={type:"SET_ADD_VIDEO_SELECTED_VIDEO",video:a};b("LivingRoomComposerDispatcher").dispatch(a)},setAddVideoSelectedVideoList:function(a){a={type:"SET_ADD_VIDEO_SELECTED_VIDEO_LIST",video:a};b("LivingRoomComposerDispatcher").dispatch(a)},setAutoPlayState:function(a){a={type:"SET_AUTO_PLAY_STATE",autoPlayEnabled:a};b("LivingRoomComposerDispatcher").dispatch(a)},clearAddVideoSearchQueries:function(){var a={type:"CLEAR_ADD_VIDEO_SEARCH_QUERIES"};b("LivingRoomComposerDispatcher").dispatch(a)},clearAddVideoSelectedPage:function(){var a={type:"CLEAR_ADD_VIDEO_SELECTED_PAGE"};b("LivingRoomComposerDispatcher").dispatch(a)},setBackgroundImage:function(a,c){a={type:"SET_BACKGROUND_IMAGE",backgroundImage:a,backgroundImageURL:c};b("LivingRoomComposerDispatcher").dispatch(a)},clearAddVideoSelectedVideo:function(){var a={type:"CLEAR_ADD_VIDEO_SELECTED_VIDEO"};b("LivingRoomComposerDispatcher").dispatch(a)},clearAddVideoSelectedVideoList:function(){var a={type:"CLEAR_ADD_VIDEO_SELECTED_VIDEO_LIST"};b("LivingRoomComposerDispatcher").dispatch(a)},setContentQueueDialogShown:function(a){a={type:"SET_CONTENT_QUEUE_DIALOG_SHOWN",shown:a};b("LivingRoomComposerDispatcher").dispatch(a)},setCustomName:function(a){a={type:"SET_CUSTOM_NAME",customName:a};b("LivingRoomComposerDispatcher").dispatch(a)},setGroupID:function(a){a={type:"SET_GROUP_ID",groupID:a};b("LivingRoomComposerDispatcher").dispatch(a)},setPageID:function(a){a={type:"SET_PAGE_ID",pageID:a};b("LivingRoomComposerDispatcher").dispatch(a)},setProfileName:function(a){a={type:"SET_PROFILE_NAME",profileName:a};b("LivingRoomComposerDispatcher").dispatch(a)},setLivingRoomAttachmentData:function(a){a={type:"SET_LIVING_ROOM_ATTACHMENT_DATA",livingRoomAttachmentData:a};b("LivingRoomComposerDispatcher").dispatch(a)},setLivingRoomID:function(a){a={type:"SET_LIVING_ROOM_ID",livingRoomID:a};b("LivingRoomComposerDispatcher").dispatch(a)},setScheduledLivingRoomMetadataID:function(a){a={type:"SET_SCHEDULED_LIVING_ROOM_METADATA_ID",scheduledLivingRoomMetadataID:a};b("LivingRoomComposerDispatcher").dispatch(a)},setStartingInterstitialShown:function(a){a={type:"SET_STARTING_INTERSTITIAL_SHOWN",shown:a};b("LivingRoomComposerDispatcher").dispatch(a)},setWelcomeNuxShown:function(a){a={type:"SET_WELCOME_NUX_SHOWN",shown:a};b("LivingRoomComposerDispatcher").dispatch(a)},setConfigType:function(a){a={type:"SET_CONFIG_TYPE",configType:a};b("LivingRoomComposerDispatcher").dispatch(a)},setProfileID:function(a){a={type:"SET_PROFILE_ID",profileID:a};b("LivingRoomComposerDispatcher").dispatch(a)},setComposerID:function(a){a={type:"SET_COMPOSER_ID",composerID:a};b("LivingRoomComposerDispatcher").dispatch(a)},setScheduledTime:function(a,c){c===void 0&&(c=!1);c={type:"SET_SCHEDULED_TIME",isUsingDefaultScheduledTime:c,scheduledTime:a};b("LivingRoomComposerDispatcher").dispatch(c)},setSessionID:function(a){a={type:"SET_SESSION_ID",sessionID:a};b("LivingRoomComposerDispatcher").dispatch(a)},setCreationSource:function(a){a={type:"SET_CREATION_SOURCE",creationSource:a};b("LivingRoomComposerDispatcher").dispatch(a)},setIsGameGroup:function(a){a={type:"SET_IS_GAME_GROUP",isGameGroup:a};b("LivingRoomComposerDispatcher").dispatch(a)},resetSession:function(a){a={type:"RESET_SESSION",configType:a};b("LivingRoomComposerDispatcher").dispatch(a)},setHasPreroll:function(a){a={type:"SET_HAS_PREROLL",hasPreroll:a};b("LivingRoomComposerDispatcher").dispatch(a)},setAnnouncementPostMessage:function(a){a={type:"SET_ANNOUNCEMENT_POST_MESSAGE",announcementPostMessage:a};b("LivingRoomComposerDispatcher").dispatch(a)},setCreateLivingRoomFunction:function(a){a={type:"SET_CREATE_LIVING_ROOM_FUNCTION",createLivingRoom:a};b("LivingRoomComposerDispatcher").dispatch(a)}};e.exports=a}),null);
__d("ReactComposerCollageUtils",["CollageLayoutConfig","ReactComposerCollageLayoutSelection"],(function(a,b,c,d,e,f){var g={extractDimensionDataIfValid:function(a){var b=!0,c=new Map();a.forEach(function(a){if(!a.width||!a.height){b=!1;return}var d=a.width,e=a.height;a.isSpherical&&(d=e);c.set(a.id,[d,e])});return b?c:null},getCollageLayout:function(a){if(!a||a.size<2)return[];a=g.extractDimensionDataIfValid(a);if(!a)return[];var c=b("ReactComposerCollageLayoutSelection").getBestUserCollageLayout(a);if(!c)return[];var d=[];for(var a=a.keys(),e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=a.length)break;h=a[f++]}else{f=a.next();if(f.done)break;h=f.value}h=h;h=c.get(h);if(!h)return[];d.push({x:h.l,y:h.t,width:h.w(),height:h.h()})}return d},getCollageLayoutConfig:function(a,c){a=a.filter(function(a){return a.width&&a.height});a=g.getCollageLayout(a);return new(b("CollageLayoutConfig"))(a,c)},getSingleItemStyleInfo:function(a,b){var c=[],d=b,e=a.width/a.height;a.isSpherical&&(e=1);e>1?d=b/e:b=e*d;c.push({left:0,top:0,width:b,height:d});return c}};e.exports=g}),null);
__d("ReactMultilingualComposerWrapper.react",["React","ReactComposerContextProviderMixin","ReactComposerContextTypes","ReactComposerMultilingualStatusContainer.react","classWithMixins","mixin"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return g.jsx(b("ReactComposerMultilingualStatusContainer.react"),{onChange:function(){}})};return c}(b("classWithMixins")(g.Component,b("mixin")(b("ReactComposerContextProviderMixin"))));a.childContextTypes=b("ReactComposerContextTypes");e.exports=a}),null);
__d("PageComposerMessengerCTATaggerBannerButton.react",["cx","fbt","React","XUIAbstractGlyphButton.react","joinClasses","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=Object.freeze({DARK:"dark",LIGHT:"light"}),k=Object.freeze({MEDIUM:"medium",SMALL:"small"});a=Object.freeze({BUTTON:"button",RESET:"reset",SUBMIT:"submit"});c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.size,c=this.props.shade;a="_50zy"+(a===k.SMALL?" _50zz":"")+(a===k.MEDIUM?" _50-0":"")+(c===j.LIGHT?" _50z_":"")+(c===j.DARK?" _50z-":"");c=this.props.label;var d=this.props.title;!this.props.title&&!this.props.tooltip&&(c||(c=h._("Remove")),d=c);return i.jsx(b("XUIAbstractGlyphButton.react"),babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,a),"data-hover":this.props.tooltip&&"tooltip","data-tooltip-alignh":this.props.tooltip&&"center","data-tooltip-content":this.props.tooltip,label:c,title:d,type:this.props.href?null:this.props.type}))};return c}(i.Component);c.propTypes={shade:b("prop-types").oneOf([j.DARK,j.LIGHT]),size:b("prop-types").oneOf([k.MEDIUM,k.SMALL]),type:b("prop-types").oneOf([a.BUTTON,a.RESET,a.SUBMIT])};c.defaultProps={size:"medium",shade:"dark",type:"button"};e.exports=c}),null);
__d("PageComposerCTATaggerBanner.react",["cx","FlexLayout.react","PageComposerMessengerCTATaggerBannerButton.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=h.jsx(b("PageComposerMessengerCTATaggerBannerButton.react"),{className:"_51-t",label:this.props.closeButtonText,onClick:this.props.onCloseButtonClick});return h.jsx("div",{className:"_xbh",children:h.jsxs(b("FlexLayout.react"),{children:[h.jsx("h3",{className:"_xbj",children:this.props.bannerText}),h.jsx("div",{className:"_26pn",children:a})]})})};return c}(h.Component);e.exports=a}),null);
__d("ReactComposerTaggerButton.react",["cx","AlignmentEnum","React","Tooltip.react","TooltipLink.react","createReactClass_DEPRECATED","emptyFunction","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){var h=b("React");c=b("createReactClass_DEPRECATED")({displayName:"ReactComposerTaggerButton",propTypes:{taggerID:(a=b("prop-types")).string.isRequired,title:a.string,tooltip:a.string,selected:a.bool,hasData:a.bool,onSelect:a.func,suppressTaggerLink:a.bool,toolTipAlignH:b("AlignmentEnum").propType},getDefaultProps:function(){return{title:null,tooltip:null,selected:!1,hasData:!1,onSelect:b("emptyFunction"),suppressTaggerLink:!1,toolTipAlignH:null}},render:function(){var a="_3xem"+(this.props.selected?" _50hx":""),c=b("joinClasses")("_2vwi"+(this.props.hasData?" _6xe":""),this.props.className),d=this.props.suppressTaggerLink?b("Tooltip.react"):b("TooltipLink.react");return h.jsxs(d,{onClick:this._onSelect,"data-testid":void 0,tooltip:this.props.tooltip,className:a,href:"#",alignH:this.props.toolTipAlignH,role:"button",children:[h.jsx("span",{className:"accessible_elem",children:this.props.title}),h.jsx("div",{className:c}),this.props.children]})},_onSelect:function(){this.props.onSelect&&this.props.onSelect(this.props.taggerID)}});e.exports=c}),null);
__d("ReactComposerTaggerButtonMixin",["cx","invariant","BootloaderResource","JSResource","React","ReactComposerMediaUploadStore","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerTaggerActions","ReactComposerTaggerButton.react","ReactComposerTaggerStore","VideoComposerDispatchers","VideoComposerStores"],(function(a,b,c,d,e,f,g,h){var i=b("React"),j=b("VideoComposerDispatchers").DEFAULT_VIDEO_COMPOSER_ID;a={mixins:[b("ReactComposerPropsAndStoreBasedStateMixin")(b("ReactComposerTaggerStore"))],statics:{calculateState:function(a,c){var d=(c=b("ReactComposerTaggerStore")).getSelectedTagger(a);return{selected:d===this.taggerID,hasData:c.hasData(a,this.taggerID),showNUX:c.shouldShowNUX(a,this.taggerID),showTooltip:c.shouldShowTooltip(a,this.taggerID),shouldHide:c.isDisabled(a,this.taggerID)}}},UNSAFE_componentWillMount:function(){this.constructor.taggerID||h(0,954)},render:function(){if(this.state.shouldHide)return null;this.constructor.taggerID==="PRODUCT"&&this.state.selected&&this._logProductTagClick();var a=this.getTooltopAlignH?this.getTooltopAlignH():null,c=this.getRef?this.getRef():"";return i.jsx("div",{className:"uiContextualLayerParent",style:{display:"inline-block"},children:i.jsxs(b("ReactComposerTaggerButton.react"),babelHelpers["extends"]({taggerID:this.constructor.taggerID,title:this.getTitle(),tooltip:this.getTooltip(),className:this.getClassName(),ref:c,onSelect:this._onSelect,suppressTaggerLink:this.constructor.suppressTaggerLink,toolTipAlignH:a},this.state,{children:[this.getNUX&&this.getNUX(),this.props.children]}))})},_onSelect:function(){this._onSelectX&&this._onSelectX(),this.constructor.unselectable!==!0&&b("ReactComposerTaggerActions").selectTagger(this.context.composerID,this.constructor.loggingName,this.constructor.taggerID,this.constructor.disableToggle)},_logProductTagClick:function(){var a,c=b("BootloaderResource").read(b("JSResource")("ProductTaggingCreatorTypedLogger").__setRef("ReactComposerTaggerButtonMixin")),d=b("BootloaderResource").read(b("JSResource")("ProductTaggingCreationWaterfallLoggerEvent").__setRef("ReactComposerTaggerButtonMixin"));a=(a=b("ReactComposerMediaUploadStore").getPhotos(this.context.composerID).first())==null?void 0:a.photoID;var e=b("VideoComposerStores").getMetadataStore(j).getState().videoID,f=e!=null?"video":"photo";e=f==="video"?e:a;a=f==="video"?b("ReactComposerTaggerStore").getReferralSource(this.context.composerID):"page_composer_edit";new c().setEvent(d.ACTN_PRODUCT_TAG_CREATION_VIDEO_AND_PHOTO_EDIT_COMPOSER).setReferralSource(a).setCreatorID(this.context.targetID).setContainerPostID(this.props.postID).setMediaID(e).setMediaType(f).log()}};e.exports=a}),null);
__d("ReactComposerBackdateTaggerButton.react",["cx","fbt","ReactComposerLoggingName","ReactComposerTaggerButtonMixin","ReactComposerTaggerType","createReactClass_DEPRECATED"],(function(a,b,c,d,e,f,g,h){a=b("createReactClass_DEPRECATED")({displayName:"ReactComposerBackdateTaggerButton",mixins:[b("ReactComposerTaggerButtonMixin")],statics:{taggerID:b("ReactComposerTaggerType").BACKDATE,loggingName:b("ReactComposerLoggingName").BACKDATE_TAGGER},getTitle:function(){return h._("Set date and time of your post")},getTooltip:function(){return h._("Set date and time of your post")},getClassName:function(){return"_4ve3"}});e.exports=a}),null);
__d("ReactComposerSupportNowTaggerButton.react",["cx","fbt","React","ReactComposerLoggingName","ReactComposerSupportNowActions","ReactComposerTaggerActions","ReactComposerTaggerButtonMixin","ReactComposerTaggerType","SimpleNUXMessage","SimpleNUXMessageTypes","WoodhengePromotionStrings","XUIAmbientNUX.react","createReactClass_DEPRECATED","prop-types"],(function(a,b,c,d,e,f,g,h){var i=b("React");a=b("createReactClass_DEPRECATED")({displayName:"ReactComposerSupportNowTaggerButton",mixins:[b("ReactComposerTaggerButtonMixin")],propTypes:{pageID:b("prop-types").string.isRequired},statics:{taggerID:b("ReactComposerTaggerType").SUPPORT_NOW,loggingName:b("ReactComposerLoggingName").SUPPORT_NOW_TAGGER},getTitle:function(){return h._("Add Subscription Button")},getTooltip:function(){return b("WoodhengePromotionStrings").COMPOSER_NUX_TEXT},getNUX:function(){var a=this;return!this.state.showNUX?null:i.jsx(b("XUIAmbientNUX.react"),{alignment:"left",contextRef:function(){return a.state.contextRef},onCloseButtonClick:this._hideNUX,position:"above",shown:!0,width:"custom",hideOnBlur:!0,customwidth:450,children:b("WoodhengePromotionStrings").COMPOSER_NUX_TEXT})},_hideNUX:function(){b("SimpleNUXMessage").markMessageSeenByUser(b("SimpleNUXMessageTypes").SUPPORT_NOW_CTA_NUX),b("ReactComposerTaggerActions").handleSetTaggerShowNUX(this.context.composerID,b("ReactComposerTaggerType").SUPPORT_NOW,!1),this.setState({showNUX:!1})},getClassName:function(){return"_77hj"},_onSelectX:function(){b("ReactComposerSupportNowActions").onSelect(this.context.composerID,this.props.pageID,"VIDEO_COMPOSER","woodhenge")},getRef:function(){return"fbReactComposerSupportNowTaggerButton"},componentDidMount:function(){b("ReactComposerTaggerActions").handleSetTaggerShowNUX(this.context.composerID,b("ReactComposerTaggerType").SUPPORT_NOW,!b("SimpleNUXMessage").hasUserSeenMessage(b("SimpleNUXMessageTypes").SUPPORT_NOW_CTA_NUX)),this.setState({contextRef:this.refs.fbReactComposerSupportNowTaggerButton})}});e.exports=a}),null);
__d("ReactComposerProductTaggerButton.react",["cx","fbt","AsyncRequest","PagesNuxFrameworkHelper","React","ReactComposerLoggingName","ReactComposerTaggerActions","ReactComposerTaggerButtonMixin","ReactComposerTaggerType","XCommerceSelfServeMerchantNUXSeenController","XUIAmbientNUX.react","createReactClass_DEPRECATED","prop-types","qex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");c=b("createReactClass_DEPRECATED")({displayName:"ReactComposerProductTaggerButton",mixins:[b("ReactComposerTaggerButtonMixin")],statics:{loggingName:b("ReactComposerLoggingName").PRODUCT_TAGGER,taggerID:b("ReactComposerTaggerType").PRODUCT},propTypes:{nuxType:(a=b("prop-types")).string,productTaggerType:a.string.isRequired,shouldUseNewNuxFramework:a.bool,postID:a.number},getDefaultProps:function(){return{nuxType:"composer_product_tagger_button"}},getInitialState:function(){return{isProductTaggerNuxVisible:!this._shouldUseNuxFramework()}},getTitle:function(){return h._("Tag a product")},getNUX:function(){var a=this;if(!this.state.showNUX||!this.state.contextRef)return null;var c=this.props.productTaggerType==="shop_page"?h._("Tag products from your shop in your post"):h._("Tag products in your post");c=i.jsx(b("XUIAmbientNUX.react"),{alignment:"center",contextRef:function(){return a.state.contextRef},onCloseButtonClick:this._hideNUX,position:"below",shown:this.state.isProductTaggerNuxVisible,width:"auto",children:c});this.props.shouldUseNewNuxFramework&&b("PagesNuxFrameworkHelper").registerNux(5057,"page_composer",function(){return a._showNux()});return c},getTooltip:function(){return h._("Tag a product")},getClassName:function(){return b("qex")._("1357963")?"_914r":"_22ma"},getRef:function(){return"fbReactComposerProductTaggerButton"},componentDidMount:function(){this.setState({contextRef:this.refs.fbReactComposerProductTaggerButton,isProductTaggerNuxVisible:!this._shouldUseNuxFramework()})},_shouldUseNuxFramework:function(){return!!this.props.productTaggerNuxID&&!!this.props.shouldUseNewNuxFramework},_showNux:function(){this.setState({isProductTaggerNuxVisible:!0})},_hideNUX:function(){this.setState({isProductTaggerNuxVisible:!1});this._shouldUseNuxFramework()&&b("PagesNuxFrameworkHelper").closeNux(5057,"page_composer");b("ReactComposerTaggerActions").handleSetTaggerShowNUX(this.context.composerID,b("ReactComposerTaggerType").PRODUCT,!1);var a=b("XCommerceSelfServeMerchantNUXSeenController").getURIBuilder().setInt("page_id",this.context.actorID).setEnum("nux_type",this.props.nuxType).getURI();new(b("AsyncRequest"))(a).send()}});e.exports=c}),null);
__d("ReactComposerProductTaggerTokenizerToken.react",["cx","React","ReactComposerPeopleTaggerTokenizerToken.react","joinClasses"],(function(a,b,c,d,e,f,g){var h=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a="_rox";return h.jsx(b("ReactComposerPeopleTaggerTokenizerToken.react"),babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,a)}))};return c}(h.Component);e.exports=a}),null);
__d("ReactComposerTaggerViewStyles",["React","prop-types"],(function(a,b,c,d,e,f){a=320;c=210;d=40;b("React");f={useScrollableArea:b("prop-types").bool.isRequired,itemHeight:b("prop-types").number,maxHeight:b("prop-types").number};e.exports={DEFAULT:{useScrollableArea:!1},SCROLLABLE:{useScrollableArea:!0,itemHeight:d,maxHeight:a},SCROLLABLE_SHORT:{useScrollableArea:!0,itemHeight:d,maxHeight:c},Shape:f}}),null);
__d("ReactComposerProductTaggerComponent.react",["cx","fbt","DOM","Grid.react","PhotoProductTaggingComposer.react","ReactComposerMediaUploadStore","ReactComposerPhotoActions","ReactComposerProductTaggerTokenizerToken.react","ReactComposerTaggerActions","ReactComposerTaggerPresenter","ReactComposerTaggerType","ReactComposerTaggerViewStyles","PageProductComposerDialogLoader.react","ProductTaggingCreatorTypedLogger","ProductTaggingTranslations","React","VideoComposerStores","gkx","prop-types","ReactDOM","SearchableEntry","VideoComposerDispatchers","TokenizerExampleSearchSource","XUITokenizer.react","ReactComposerLoggingName","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("Grid.react").GridItem,j=b("React"),k=b("VideoComposerDispatchers").DEFAULT_VIDEO_COMPOSER_ID;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={numberOfTags:d.props.taggerData.length,queryString:""},d.$9=function(a){a=a.products.data[0];if(d.$8(a.id))return;a={title:a.name,subtitle:a.price,type:"product_item",uniqueID:a.id};d.$10(new(b("SearchableEntry"))(a))},d.$4=function(a){d.$11(a);if(a.getType()==="product_item_add"){b("ReactDOM").render(j.jsx(b("PageProductComposerDialogLoader.react"),{onProductCreated:d.$9,pageID:d.props.pageID,source:"ProductTaggingTypeahead"}),b("DOM").create("div"));return}if(d.$8(a.getUniqueID()))return;d.$10(a)},d.$6=function(a){d.$12(a);var c=d.props.taggerData,e=c.indexOf(a);if(e==-1)return;c.splice(e,1);d.setState({numberOfTags:c.length});b("ReactComposerPhotoActions").untagSubjectFromAllPhotos(d.props.reactComposerID,a.getUniqueID());d.props.onSelect&&d.props.onSelect(c)},d.$5=function(a){d.setState({queryString:a.target.value})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$2()};d.componentDidUpdate=function(a,b){(this.state.numberOfTags!==b.numberOfTags||this.state.queryString!==b.queryString)&&this.$2()};d.componentWillUnmount=function(){this.$2(!1)};d.render=function(){var a=this,c;c=(c=b("ReactComposerMediaUploadStore").getPhotos(this.props.reactComposerID).first())==null?void 0:c.photoID;return c&&b("gkx")("1406634")?j.jsx(b("PhotoProductTaggingComposer.react"),{pageID:this.props.pageID,composerID:this.props.reactComposerID,photoID:c,onHide:function(){b("ReactComposerTaggerActions").deselectCurrentTagger(a.props.reactComposerID,b("ReactComposerLoggingName").PRODUCT_TAGGER)},suggestions:new Map()}):j.jsxs(b("Grid.react"),{cols:2,className:"_5esl",children:[j.jsx(i,{className:"_5esm",children:h._("Products")},"label"),j.jsx(i,{className:"_5esw",children:j.jsx("div",{children:j.jsx(b("XUITokenizer.react"),babelHelpers["extends"]({},this.props,{additionalEntries:this.$3(),className:"_5esx _ysh _4fmg",entries:this.props.taggerData,focusAfterSelection:!1,focusedOnInit:this.props.autoFocus,onAddEntryAttempt:this.$4,onQueryStringChange:this.$5,onRemoveEntryAttempt:this.$6,placeholder:this.props.placeholder,presenter:this.$7(),ref:function(b){return a.$1=b},searchSource:this.props.taggerSource,showEntriesOnFocus:!0}))})},"tokenizer")]})};d.$2=function(a){var c=this.props.productTaggerType;if(c!=="influencer_page")return;a!==void 0?c=a:c=this.state.numberOfTags===1&&!this.state.queryString;b("ReactComposerTaggerActions").handleSetTaggerShowTooltip(this.props.reactComposerID,b("ReactComposerTaggerType").SPONSOR,c)};d.$3=function(){if(!this.props.showAddProduct)return[];var a=this.props.productTaggerType==="shop_page";a={photo:"/images/commerce/create-product-typeahead.png",title:b("ProductTaggingTranslations").getAddProductTitle(a),subtitle:b("ProductTaggingTranslations").getAddProductSubtitle(a),type:"product_item_add",uniqueID:"product_item_add"};return[new(b("SearchableEntry"))(a)]};d.$8=function(a){var b=this.props.taggerData;return b.some(function(b){return b.getUniqueID()===a})};d.$10=function(a){var b=this.props.taggerData;b.push(a);this.setState({numberOfTags:b.length,queryString:this.$1.queryString});this.props.onSelect&&this.props.onSelect(b)};d.$7=function(){var a={};a.taggerViewStyle=b("ReactComposerTaggerViewStyles").DEFAULT;a.taggerListClassName="_ysi";return Object.assign({},b("ReactComposerTaggerPresenter"),{extraRendererProps:a,sortEntries:this.$13,TokenRenderer:b("ReactComposerProductTaggerTokenizerToken.react")})};d.$13=function(a,b,c){a.sort(function(a,b){if(a.getType()==="product_item_add")return 1;return b.getType()==="product_item_add"?-1:0});return a};d.$11=function(a){if(a.getType()==="product_item_add")new(b("ProductTaggingCreatorTypedLogger"))().setEvent("Actn_PhotoComposerWithTagAddProduct").setCreatorID(this.props.pageID).setContainerPostID(this.props.postID).log();else if(!this.$8(a.getUniqueID())){var c=b("VideoComposerStores").getMetadataStore(k).getState().videoID,d=c!=null?"video_composer":"page_composer";new(b("ProductTaggingCreatorTypedLogger"))().setEvent("Actn_PhotoVideoComposerWithTagSelectProduct").setReferralSource(d).setCreatorID(this.props.pageID).setContainerPostID(this.props.postID).setMediaID(c).setMediaType("video").setProductID(a.getUniqueID()).log()}};d.$12=function(a){new(b("ProductTaggingCreatorTypedLogger"))().setEvent("Actn_PhotoComposerWithTagRemoveProduct").setCreatorID(this.props.pageID).setContainerPostID(this.props.postID).setProductID(a.getUniqueID()).log()};return c}(j.Component);a.propTypes={autoFocus:(c=b("prop-types")).bool,onSelect:c.func,pageID:c.string.isRequired,placeholder:c.string,productTaggerType:c.string.isRequired,reactComposerID:c.string.isRequired,showAddProduct:c.bool,taggerSource:c.object,taggerData:c.array.isRequired};a.defaultProps={autoFocus:!0,onSelect:b("emptyFunction"),placeholder:h._("Type in the product name or ID"),showAddProduct:!1,taggerData:[],taggerSource:new(b("TokenizerExampleSearchSource"))()};e.exports=a}),null);
__d("ReactComposerTaggerContainerStateMixin",["invariant","Arbiter","ReactComposerEvents","ReactComposerPrefillStore","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerTaggerActions","ReactComposerTaggerStore","isEmpty"],(function(a,b,c,d,e,f,g){var h;a=function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return{_prefillSubscription:void 0,mixins:[b("ReactComposerPropsAndStoreBasedStateMixin").apply(void 0,c.concat([b("ReactComposerTaggerStore")]))],statics:{beforeCalculateInitialState:function(a,c){var d=c.taggerConfig&&c.taggerConfig.defaultData;if(d){var e=b("ReactComposerTaggerStore").getTaggerData(a,this.taggerID);(h||(h=b("isEmpty")))(e)&&b("ReactComposerTaggerActions").setTaggerDataWithoutLogging(a,this.taggerID,d)}c.taggerSource&&b("ReactComposerTaggerActions").setTaggerSource(a,this.taggerID,c.taggerSource)},calculateState:function(a,c){var d=(c=b("ReactComposerTaggerStore")).getSelectedTagger(a),e=c.getAutoFocusOnSelectedTagger(a),f=c.getTaggerData(a,this.taggerID);c=c.getTaggerSource(a,this.taggerID);a=d===this.taggerID;return{autoFocus:e,isSelected:a,taggerData:f,taggerSource:c}}},UNSAFE_componentWillMount:function(){this._prefillSubscription=b("Arbiter").subscribe(b("ReactComposerEvents").SET_PREFILL_DATA+this.context.composerID,this._handlePrefill),this.constructor.taggerID||g(0,4299)},componentDidUpdate:function(a,b){if(this.__onTaggerDataChanged){a=Object.keys(b.taggerData).length===0&&Object.keys(this.state.taggerData).length>0;b=Object.keys(b.taggerData).length>0&&Object.keys(this.state.taggerData).length===0;(a||b)&&this.__onTaggerDataChanged(this.state.taggerData)}},componentWillUnmount:function(){this._prefillSubscription&&this._prefillSubscription.unsubscribe(),this._prefillSubscription=null},_handlePrefill:function(){var a=b("ReactComposerPrefillStore").getAndEraseNestedField(this.context.composerID,["taggersData",this.constructor.taggerID]);a&&b("ReactComposerTaggerActions").setTaggerDataWithoutLogging(this.context.composerID,this.constructor.taggerID,a)}}};e.exports=a}),null);
__d("ReactKeyPressHandler.react",["Event","React","SubscriptionsHandler","createReactClass_DEPRECATED","prop-types"],(function(a,b,c,d,e,f){b("React");a=b("createReactClass_DEPRECATED")({displayName:"ReactKeyPressHandler",propTypes:{onKeyDownEvent:b("prop-types").func.isRequired},getInitialState:function(){return{subscriptions:new(b("SubscriptionsHandler"))()}},componentDidMount:function(){var a=this;this.state.subscriptions.engage();this.state.subscriptions.addSubscriptions(b("Event").listen(document.body,"keydown",function(b){a.props.onKeyDownEvent&&a.props.onKeyDownEvent(b)}))},componentWillUnmount:function(){this.state.subscriptions&&this.state.subscriptions.release()},render:function(){return this.props.children}});e.exports=a}),null);
__d("ReactComposerTaggerHideOnEscapeKeyPress.react",["Keys","React","ReactComposerContextTypes","ReactComposerLoggingName","ReactComposerTaggerActions","ReactKeyPressHandler.react","createReactClass_DEPRECATED","prop-types"],(function(a,b,c,d,e,f){var g=b("React");a=b("createReactClass_DEPRECATED")({displayName:"ReactComposerTaggerHideOnEscapeKeyPress",contextTypes:b("ReactComposerContextTypes"),propTypes:{shouldHideOnEscape:b("prop-types").bool},render:function(){return this.props.shouldHideOnEscape?g.jsx(b("ReactKeyPressHandler.react"),{onKeyDownEvent:this._onKeyDownEvent,children:this.props.children}):this.props.children},_onKeyDownEvent:function(a){a.keyCode===b("Keys").ESC&&(a.stopPropagation(),b("ReactComposerTaggerActions").deselectCurrentTagger(this.context.composerID,b("ReactComposerLoggingName").ESCAPE_KEY))}});e.exports=a}),null);
__d("ReactComposerTaggerContainerMixin",["invariant","React","ReactComposerTaggerActions","ReactComposerTaggerContainerStateMixin","ReactComposerTaggerHideOnEscapeKeyPress.react"],(function(a,b,c,d,e,f,g){var h=b("React");a=function(){return{mixins:[b("ReactComposerTaggerContainerStateMixin").apply(void 0,arguments)],UNSAFE_componentWillMount:function(){this.constructor.taggerComponent||g(0,5691)},render:function(){if(!this.state.isSelected)return h.jsx("noscript",{});var a=this.constructor.taggerComponent,c=this.constructor.enableHideOnEscape&&this.state.isSelected;return h.jsx("div",{"data-testid":void 0,children:h.jsx(b("ReactComposerTaggerHideOnEscapeKeyPress.react"),{shouldHideOnEscape:c,children:h.jsx(a,babelHelpers["extends"]({},this.props,{autoFocus:this.state.autoFocus,composerID:(c=this.context)==null?void 0:c.composerID,taggerSource:this.state.taggerSource,taggerData:this.state.taggerData,onSelect:this._onTaggerDataChanged}))})})},_onTaggerDataChanged:function(a){this._suppressUpdateLogging&&this._suppressUpdateLogging(a)?b("ReactComposerTaggerActions").setTaggerDataWithoutLogging(this.context.composerID,this.constructor.taggerID,a):b("ReactComposerTaggerActions").setTaggerData(this.context.composerID,this.constructor.loggingName,this.constructor.taggerID,a),this.__onTaggerDataChanged&&this.__onTaggerDataChanged(a),this.props.onSelect&&this.props.onSelect(a)}}};e.exports=a}),null);
__d("ReactComposerProductTaggerContainer.react",["ReactComposerLoggingName","ReactComposerProductTaggerComponent.react","ReactComposerTaggerActions","ReactComposerTaggerContainerMixin","ReactComposerTaggerType","WebAsyncSearchSource","createReactClass_DEPRECATED","prop-types"],(function(a,b,c,d,e,f){c=b("createReactClass_DEPRECATED")({displayName:"ReactComposerProductTaggerContainer",_subscriptions:void 0,mixins:[b("ReactComposerTaggerContainerMixin")()],statics:{taggerID:b("ReactComposerTaggerType").PRODUCT,loggingName:b("ReactComposerLoggingName").PRODUCT_TAGGER,taggerComponent:b("ReactComposerProductTaggerComponent.react")},propTypes:{pageID:(a=b("prop-types")).string.isRequired,productTaggerType:a.string.isRequired,reactComposerID:a.string.isRequired,showAddProduct:a.bool,viewer:a.string.isRequired,postID:a.number},getInitialState:function(){return{reachEstimate:null,searchSource:null}},UNSAFE_componentWillMount:function(){this._updateProductSearchSource()},componentWillUnmount:function(){this._subscriptions&&this._subscriptions.release()},_updateProductSearchSource:function(){var a=this.state.searchSource;a===null&&(a=this._createAndBootstrapProductTypeSearchSource());b("ReactComposerTaggerActions").setTaggerSource(this.context.composerID,b("ReactComposerTaggerType").PRODUCT,a)},_createAndBootstrapProductTypeSearchSource:function(){var a={filter:["product_items"],viewer:this.props.viewer};return new(b("WebAsyncSearchSource"))({getAllForEmptyQuery:!0,queryRequests:[{uri:"/ajax/product_items/typeahead/query.php",data:Object.assign({},a,{is_bootstrap:!1,page_id:this.props.pageID})}],bootstrapRequests:[{uri:"/ajax/product_items/typeahead/bootstrap.php",data:Object.assign({},a,{is_bootstrap:!0,page_id:this.props.pageID})}],auxiliaryFields:{verified:"is_verified"}})}});e.exports=c}),null);
__d("ReactComposerTargetingTaggerButtonMixin",["cx","fbt","setTimeout"],(function(a,b,c,d,e,f,g,h){"use strict";a={getInitialState:function(){return{dialogShown:!1}},getTitleTooltip:function(){if(this.props.isDisabled)return h._("Audience restrictions and News Feed targeting have moved to the \"Publishing options\" tab");if(this.props.createLiveVideoTooltipText!=null)return this.props.createLiveVideoTooltipText;else return h._("Choose who you'd like to see this post")},getTitle:function(){return this.getTitleTooltip()},getTooltip:function(){return this.getTitleTooltip()},getClassName:function(){return"_lmf"+(this.props.isDisabled?" _8-2b":"")},getRef:function(){return"fbReactComposerTargetingTagger"},_onToggle:function(a){var c=this;if(this.props.isDisabled)return;b("setTimeout")(function(){return c.setState({dialogShown:a})},0)},_onSelectX:function(){if(this.props.isDisabled)return;this.setState({dialogShown:!0})}};e.exports=a}),null);
__d("XReactComposerTargetingTaggerNuxController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/react_composer/edit/targeting_tagger_nux/",{})}),null);
__d("ReactComposerTargetingTaggerButton.react",["fbt","AsyncRequest","PagesComposerAudiences.react","PagesComposerAudiencesConstants","PagesNuxFrameworkHelper","React","ReactComposerTaggerButtonMixin","ReactComposerTaggerType","ReactComposerTargetingTaggerButtonMixin","ReactLayeredComponentMixin_DEPRECATED","XReactComposerTargetingTaggerNuxController","XUIAmbientNUX.react","XUIText.react","createReactClass_DEPRECATED","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("PagesComposerAudiencesConstants").TABS,i=b("React"),j=-12,k=300;c=b("createReactClass_DEPRECATED")({displayName:"ReactComposerTargetingTaggerButton",mixins:[b("ReactComposerTaggerButtonMixin"),b("ReactComposerTargetingTaggerButtonMixin"),b("ReactLayeredComponentMixin_DEPRECATED")],propTypes:{accessToken:(a=b("prop-types")).string,appID:a.string,createLiveVideoTooltipText:a.string,isLiveVideo:a.bool,feedTargetingGK:a.bool,feedTargetingShowReachGK:a.bool,hideFeedTargeting:a.bool,hideGating:a.bool,enableLanguageGating:a.bool,enableLocationExclusionGating:a.bool,shouldShowTargetingTaggerNux:a.bool,shouldShowRestrictionTabNux:a.bool,useTargetingAsFilter:a.bool,shouldHideLeftFooter:a.bool,allowExclusionsWithoutInclusions:a.bool,shouldUseNewNuxFramework:a.bool,targetingTaggerNuxID:a.number,showWoodhengeGating:a.bool,woodhengeTiers:a.array,isDisabled:a.bool},statics:{taggerID:b("ReactComposerTaggerType").TARGETING,disableToggle:!0},getDefaultProps:function(){return{feedTargetingGK:!1,feedTargetingShowReachGK:!1,hideFeedTargeting:!1,hideGating:!1,enableLanguageGating:!1,enableLocationExclusionGating:!1,useTargetingAsFilter:!0,shouldUseNewNuxFramework:!1}},getInitialState:function(){return{showTargetingTaggerNux:this.props.shouldShowTargetingTaggerNux,isTargetingTaggerNuxVisible:!this._shouldUseNuxFramework()}},componentDidMount:function(){var a=!this.state.dialogShown&&this.state.showTargetingTaggerNux&&this.props.feedTargetingGK;if(a){a=b("XReactComposerTargetingTaggerNuxController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(a).setMethod("POST").setData({impression:!0}).send()}},componentWillUnmount:function(){this.state.showTargetingTaggerNux&&this.setState({showTargetingTaggerNux:!1,isTargetingTaggerNuxVisible:!this._shouldUseNuxFramework()})},_onNuxClose:function(){this.setState({showTargetingTaggerNux:!1,isTargetingTaggerNuxVisible:!1});this._shouldUseNuxFramework()&&b("PagesNuxFrameworkHelper").closeNux(5056,"page_composer");var a=b("XReactComposerTargetingTaggerNuxController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(a).setMethod("POST").setData({acked:!0}).send()},_showNux:function(){this.setState({isTargetingTaggerNuxVisible:!0})},_shouldUseNuxFramework:function(){return!!this.props.targetingTaggerNuxID&&!!this.props.shouldUseNewNuxFramework},_renderNux:function(){var a=this,c=i.jsx(b("XUIAmbientNUX.react"),{contextRef:function(){return a.refs.fbReactComposerTargetingTagger},onCloseButtonClick:this._onNuxClose,offsetY:j,position:"below",shown:this.state.isTargetingTaggerNuxVisible,width:"custom",customwidth:k,children:i.jsx("div",{children:i.jsx(b("XUIText.react"),{children:g._("Use Audience Optimisation to reach people who are more likely to engage with your post.")})})});this._shouldUseNuxFramework()&&b("PagesNuxFrameworkHelper").registerNux(5056,"page_composer",function(){return a._showNux()});return c},renderLayers:function(){var a=this,c=!this.state.dialogShown&&this.state.showTargetingTaggerNux&&this.props.feedTargetingGK;if(c)return this._renderNux();return this.state.dialogShown&&!this.props.isDisabled?i.jsx(b("PagesComposerAudiences.react"),{accessToken:this.props.accessToken,allowExclusionsWithoutInclusions:this.props.allowExclusionsWithoutInclusions,appID:this.props.appID,shown:this.state.dialogShown,onToggle:this._onToggle,onSave:function(){return a._onToggle(!1)},initialActiveKey:this.props.hideFeedTargeting?h.GATING:h.TARGETING,shouldHideLeftFooter:this.props.shouldHideLeftFooter,useTargetingAsFilter:this.props.useTargetingAsFilter,feedTargetingShowReachGK:this.props.feedTargetingShowReachGK,hideFeedTargeting:this.props.hideFeedTargeting,hideGating:this.props.hideGating,enableLanguageGating:this.props.enableLanguageGating,enableLocationExclusionGating:this.props.enableLocationExclusionGating,shouldShowRestrictionTabNux:this.props.shouldShowRestrictionTabNux,isLiveVideo:this.props.isLiveVideo,showWoodhengeGating:this.props.showWoodhengeGating,woodhengeTiers:this.props.woodhengeTiers}):{}}});e.exports=c}),null);
__d("UserPayStarsStrings",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={COMPOSER_TAGGER_BUTTON_TITLE:g._("Enable Stars"),COMPOSER_TAGGER_BUTTON_TOOLTIP:g._("Enable Stars for this post"),COMPOSER_TAGGER_BUTTON_NUX_CONTENT:g._("Allow people to send you Stars on this post"),STARS_ON:g._("ON"),STARS_OFF:g._("OFF"),STARS_TITLE:g._("Stars")};e.exports=a}),null);
__d("ReactComposerStarsTaggerButton.react",["cx","React","ReactComposerLoggingName","ReactComposerTaggerActions","ReactComposerTaggerButtonMixin","ReactComposerTaggerStore","ReactComposerTaggerType","SimpleNUXMessage","SimpleNUXMessageTypes","UserPayStarsStrings","XUIAmbientNUX.react","createReactClass_DEPRECATED"],(function(a,b,c,d,e,f,g){var h=b("React");a=b("createReactClass_DEPRECATED")({displayName:"ReactComposerStarsTaggerButton",mixins:[b("ReactComposerTaggerButtonMixin")],statics:{taggerID:b("ReactComposerTaggerType").STARS,loggingName:b("ReactComposerLoggingName").STARS_TAGGER},componentDidMount:function(){var a=this.context.composerID,c=b("ReactComposerTaggerStore").getSelectedTagger(a);b("ReactComposerTaggerActions").handleSetTaggerShowNUX(a,b("ReactComposerTaggerType").STARS,!b("SimpleNUXMessage").hasUserSeenMessage(b("SimpleNUXMessageTypes").STARS_TAGGER_NUX));c==null&&(b("ReactComposerTaggerActions").selectTagger(a,b("ReactComposerLoggingName").STARS_TAGGER,b("ReactComposerTaggerType").STARS),b("ReactComposerTaggerActions").setTaggerData(a,b("ReactComposerLoggingName").STARS_TAGGER,b("ReactComposerTaggerType").STARS,{isEnabled:!0}));this.setState({contextRef:this.refs.fbReactComposerStarsTaggerButton})},getTitle:function(){return b("UserPayStarsStrings").COMPOSER_TAGGER_BUTTON_TITLE},getTooltip:function(){return b("UserPayStarsStrings").COMPOSER_TAGGER_BUTTON_TOOLTIP},getNUX:function(){var a=this,c=this.context.composerType,d=this.state,e=d.showNUX;d=d.contextRef;return e!==!0||d==null?null:h.jsx(b("XUIAmbientNUX.react"),{alignment:c==="cs_home_go_live"?"right":"left",contextRef:function(){return a.state.contextRef},onCloseButtonClick:this._hideNUX,position:"above",shown:!0,width:"auto",children:b("UserPayStarsStrings").COMPOSER_TAGGER_BUTTON_NUX_CONTENT})},_hideNUX:function(){b("SimpleNUXMessage").markMessageSeenByUser(b("SimpleNUXMessageTypes").STARS_TAGGER_NUX),b("ReactComposerTaggerActions").handleSetTaggerShowNUX(this.context.composerID,b("ReactComposerTaggerType").STARS,!1),this.setState({showNUX:!1})},getClassName:function(){return"_8xmv"},getRef:function(){return"fbReactComposerStarsTaggerButton"},_onSelectX:function(){var a=this.context.composerID,c=b("ReactComposerTaggerStore").hasData(a,b("ReactComposerTaggerType").STARS);c&&b("ReactComposerTaggerActions").setTaggerData(a,b("ReactComposerLoggingName").STARS_TAGGER,b("ReactComposerTaggerType").STARS,{isEnabled:!1})}});e.exports=a}),null);
__d("VideoComposerActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({ALL_TABS_BOOTLOADED:"",BACKDATE_CONFIRM:"",CLOSE_CONFIRM_DIALOG:"",CLOSE_TITLE_ERROR_TOOLTIP:"",CLOSE_PRIMARY_ERROR_DIALOG:"",EDIT_EXPIRATION:"",EDIT_TABS_LOADED:"",EDIT_SCHEDULED_TIME:"",EDIT_POST_END_TIME:"",EDIT_SHOULD_EXPIRE:"",EDIT_SHOULD_PUBLISH:"",EXIT_DIALOG:"",EXIT_DIALOG_ATTEMPT:"",EXIT_DIALOG_REPLACE_FILE:"",EXIT_DIALOG_SAVE_DRAFT:"",FIRST_STEP_FOOTER_NEXT_BUTTON_CLICKED:"",FIRST_STEP_FOOTER_AD_BREAK_SUBMIT_FOR_REVIEW:"",MINIMIZE_DIALOG:"",HIDE_MISSING_VIDEO_TYPE_TOOLTIP:"",HIGHLIGHT_MISSING_VIDEO_TYPE:"",HIGHLIGHT_TITLE_WITH_ERROR_TOOLTIP:"",INITIALIZE_UPLOAD_COMPOSER:"",INITIALIZE_CROSSPOST_COMPOSER:"",INITIALIZE_EDIT_COMPOSER:"",INIT_VIDEO_UPLOADER:"",LOAD_VIDEO_DATA_FOR_ID:"",NAVIGATED_FROM_PAGE:"",METADATA_LOADED_FROM_HTML_PLAYER:"",METADATA_LOADED_FROM_VIDEO_UPLOADER:"",MOUNT_COMPOSER_DIALOG:"",POST_FAILED:"",POST_FINISHED:"",PUBLISH_POST:"",PREMIERE_REPLACE_FILE:"",INITIALIZE_COMPOSER_PREVIEW:"",RESET_COMPOSER:"",SET_COMPOSER_UPSELL_ELIGIBILITY_STATUS:"",SET_COMPOSER_SHOWN:"",SET_PASSES_UPSELL_GK:"",SAVE_POST_DATA_FOR_PAGES_COMPOSER:"",SELECT_TAB:"",UPDATE_IS_FEATURED_VIDEO:"",UPDATE_SHOW_VIDEO_TYPE:"",UPDATE_TITLE:"",UPLOAD_FAILED:"",UPLOAD_FINISHED:"",UPLOAD_PROGRESSED:"",POST_REQUEST_SENT:"",CLOSE_PUBLISH_CONFIRM_DIALOG:"",SAVE_EDITED_VIDEO:"",SAVE_EDITED_VIDEO_FAILURE:"",SAVE_EDITED_VIDEO_SUCCESS:"",SCHEDULE_CONFIRM:"",SENDING_POST_REQUEST:"",SET_VIDEO_START_END_TIME:"",SPHERICAL_METADATA_PARSED:"",SAVE_AS_DRAFT:"",SAVE_AS_DRAFT_ATTEMPT:"",SAVE_AS_DRAFT_ABORT:"",SAVE_AS_DRAFT_CONFIRM:"",SELECT_EDITING_PUBLISH_ACTION:"",TAB_LOAD_ERROR:"",UPDATE_PREMIERE_DATA:"",CANCEL_UPLOAD:"",SHOW_RIGHTS_CONFIRM_DIALOG:"",HIDE_RIGHTS_CONFIRM_DIALOG:"",OPEN_PUBLISH_DRAWER:"",CLOSE_PUBLISH_DRAWER:"",SET_PUBLISHING_TYPE:"",SET_POST_TYPE:"",SET_SCHEDULE_TYPE:"",SET_BACKDATE_HIDE_FROM_NEWS_FEED:"",SET_BACKDATE_DATE:"",SET_PREMIERE_DATE:"",SET_PREMIERE_FEED_BACKGROUND_IMAGE:"",TAB_BOOTLOAD_ERROR:"",TOGGLE_PREMIERE_WITH_SHOW_OR_SEASON:"",UPDATE_PREMIERE_CUSTOM_NAME:"",UPDATE_SHOULD_PREMIERE:"",UPDATE_PREMIERE_LIVING_ROOM_REMOVE_UNOWNED_VIDEOS:"",UPDATE_PREMIERE_LIVING_ROOM_VIDEOS:"",UPDATE_PREMIERE_AUDIENCE:"",POST_REQUEST_INVALID:"",PAGE_STORY_CREATION_ATTEMPT:"",PAGE_STORY_CREATION_FAILURE:"",PAGE_STORY_CREATION_SUCCESS:"",APPEND_CONTENT_TAGS:"",BOOTLOAD_DEFAULT_TAB_PARAMETERS:"",BOOTLOAD_CROSSPOST_DEFAULT_TAB:"",BOOTLOAD_DEFAULT_EDIT_PARAMS:"",CHANGE_GAME:"",HIDE_MISSING_FUNDED_CONTENT_PROGRAM_TYPE_TOOLTIP:"",HIGHLIGHT_MISSING_FUNDED_CONTENT_PROGRAM_TYPE_TOOLTIP:"",PAUSE_VIDEO_PREVIEW:"",SET_IS_VIDEO_PREVIEW_PAUSED:"",TOGGLE_CROSSPOST_TO_PARENT:"",UPDATE_CONTENT_TAGS:"",UPDATE_BROWSE_TAGS:"",UPDATE_HISTORY_TAGS:"",UPDATE_IS_EXPLICITLY_TAGGED_AS_GAMING_VIDEO:"",UPDATE_SUGGESTED_TAGS:"",UPDATE_TAG_SUGGESTION_SOURCE:"",UPDATE_DESCRIPTION_EDITOR_STATE:"",UPDATE_PLAYLIST_IDS:"",UPDATE_SEASON_ID_OLD:"",UPDATE_VIDEO_LIST_OPTIONS:"",UPDATE_VIDEO_PREVIEW_CONTROLLER:"",UPDATE_DEAL:"",UPDATE_FUNDED_CONTENT_PROGRAM:"",USER_PLAYED_VIDEO_PREVIEW:"",AGREE_VIDEO_RIGHTS:"",BOOTLOAD_AD_BREAK_PARAMETERS:"",DELETE_AD_BREAK:"",FETCH_AD_BREAK_EDIT_PARAMETERS:"",INSERT_AD_BREAK:"",SET_AUTO_INSERTION_CHECKBOX_VALUE:"",SET_CAN_USE_AD_BREAKS:"",SET_CURRENT_AD_BREAK:"",SET_CURRENT_PREVIEW_INDEX:"",SET_HAS_USER_SEEN_AD_BREAK_TAB:"",SET_IS_AD_BREAK_AUTO_ADJUSTMENT_ENABLED:"",SET_IS_AD_BREAK_AUTO_INSERTION_ENABLED:"",SET_IS_AD_BREAK_TOGGLE_EDITED:"",SET_IS_BRANDED_CONTENT_VIDEO:"",SET_IS_INSTREAM_SPONSORSHIP_VIDEO:"",SET_PREREVIEW_DIALOG:"",SET_SHOULD_SHOW_IMAGE_ADS_MODAL:"",SET_SHOULD_SHOW_IMAGE_ADS_UPSELL:"",SET_SHOULD_USE_IMAGE_ADS:"",SET_IS_IMAGE_ADS_DROPDOWN_EXPANDED:"",SET_SHOW_AD_BREAKS_UPSELL_DIALOG:"",SUBMIT_FOR_PREREVIEW:"",START_PAGE_ONBOARDING:"",SET_PAGE_ONBOARDING_PENDING:"",SHOW_ONBOARDED_PAGE_NUX:"",UPDATE_AD_BREAK_STATUS:"",UPDATE_HOLDOUT_TEST_STATUS:"",UPDATE_THUMBNAIL_URL:"",UPDATE_VPC:"",SET_IS_AUTO_INSERTION_PAGE_ENABLED:"",LOG_MID_ROLL_OPT_OUT_EVENT:"",LOG_SHORTER_CONTENT_MONETIZATION_EVENT:"",CONFIRM_REVIEWABLE_BRANDED_CONTENT:"",SHOW_REVIEWABLE_BRANDED_CONTENT_CONFIRMATION:"",HIDE_REVIEWABLE_BRANDED_CONTENT_CONFIRMATION:"",MARK_AS_REVIEWABLE_BRANDED_CONTENT:"",ADD_CAPTION_ENTRY:"",REMOVE_CAPTION_ENTRY:"",EDIT_CAPTION_ENTRY:"",SET_PREVIEW_ENTRY:"",SET_EDITOR_LANGUAGE:"",SET_EDITOR_LOCALE:"",INITIALIZE_IS_AUTO_CAPTION:"",SET_DEFAULT_CAPTION_LOCALE:"",SET_DISMISS_CAPTIONS_NUX:"",SET_CAPTIONS:"",SET_NEXT_ENTRY:"",PLAY_PREVIEW_ENTRY:"",CONFIRM_CLOSE_DIALOG:"",CANCEL_CLOSE_DIALOG:"",SHOW_EXIT_DIALOG:"",START_SAVE_CAPTION_CHANGESET:"",FINISH_SAVE_CAPTION_CHANGESET:"",INITIALIZE_EDITOR_LANGUAGE:"",RESET_CAPTION_EDITOR:"",RESET_PLAYER:"",SET_CURRENT_PLAY_POSITION:"",SET_VPC:"",SET_DURATION:"",SET_PLAYER_STATE:"",SHOW_CAPTION_EDITOR:"",HIDE_CAPTION_EDITOR:"",INITIALIZE_CAPTION_LANDING_SCREEN:"",GENERATE:"",CANCEL_GENERATE:"",CREATE:"",CAPTION_HAS_TRIMMED:"",EDIT_CAPTIONS_DRAFT:"",DELETE_CAPTIONS_DRAFT:"",DELETE_SUBTITLES_FAILURE:"",DELETE_SUBTITLES_SUCCESS:"",START_SRT_UPLOAD:"",FINISH_SRT_UPLOAD:"",GENERATE_COMPLETE:"",CREATE_COMPLETE:"",SELECT_SPOKEN_LANGUAGE:"",SELECT_SPOKEN_LOCALE:"",FINISHED_FETCH_DRAFTS:"",GENERATE_PROGRESS_UPDATE:"",UPDATE_CAPTION_FILES:"",UPDATE_ERROR_STATE:"",SET_AUTO_GENERATED_CAPTIONS:"",RESET_CAPTIONS_LANDING_TAB:"",RETRY_AUTO_GENERATION:"",RESUME_AUTO_GENERATION:"",RESET_AUTO_GENERATING_LOCALE:"",TRY_RESUME_AUTO_GENERATION:"",INITIALIZE_ALL_CAPTION_FILES:"",BOOTLOAD_PARAMETERS_CAPTIONS_TAB:"",CHANGE_PUBLISHED_STATE:"",PENDING_TO_PUBLISHED:"",CAPTION_LANDING_SCREEN_OPEN_EVENT:"",OLD_COMPOSER_CAPTION_TAB_OPEN_EVENT:"",RESET_OPEN_LANDING_SCREEN_STATE:"",FETCH_CAPTION_EDITOR_CROSSPOST_PARAMS:"",CAPTIONS_EDIT_PARAMS_FETCHED:"",CHANGE_PUBLISHED_STATE_URL:"",DELETE_CAPTIONS_URL:"",DELETE_LOCAL_CAPTION_FILE:"",DELETE_LOCALE_WITHOUT_SUBTITLE:"",FETCHED_AUTO_GEN_V1_SUBTITLE:"",UPDATE_ALL_LOCAL_CAPTIONS:"",UPLOAD_LOCAL_CAPTIONS:"",UPDATE_SHOULD_AUTOPUBLISH_CAPTIONS:"",BOOTLOAD_DISTRIBUTION_TAB:"",BOOTLOAD_DISTRIBUTION_TAB_FOR_EDIT:"",BOOTLOAD_DISTRIBUTION_TAB_FOR_CROSSPOST:"",TOGGLE_ADD_TO_PAGES_STORY:"",TOGGLE_DISPLAY_IN_WATCH_OPTION:"",TOGGLE_NEWS_FEED:"",TOGGLE_EMBEDDING:"",TOGGLE_SECRET_VIDEO:"",CROSSPOST_PAGES_FETCHED:"",TOGGLE_CROSSPOST_PAGE:"",TOGGLE_GRAPHIC_WARNING:"",TOGGLE_BLOCK_SOCIAL:"",TOGGLE_COMMENTATING_PERMISSION:"",CROSSPOST_LINK_CLICKED:"",REFRESH_CROSSPOST_PAGES:"",SHOW_MATURE_CONTENT_APPEAL_FORM:"",HIDE_MATURE_CONTENT_APPEAL_FORM:"",SUBMIT_MATURE_CONTENT_APPEAL_FORM:"",SUBMIT_MATURE_CONTENT_APPEAL_FORM_SUCCESS:"",UPDATE_CHARITY_DATA:"",UPDATE_MATURE_CONTENT_RATING:"",TOGGLE_DRM:"",UPDATE_SHOW_AND_SEASON_ID:"",BOOTLOAD_RIGHTS_PARAMETERS:"",BOOTLOAD_EDIT_RIGHTS_PARAMETERS:"",UPDATE_ATTRIBUTION:"",UPDATE_CATEGORY:"",UPDATE_CATEGORY_REQUIRED_ERROR:"",UPDATE_FB_WHITELISTED_USERS:"",UPDATE_IG_WHITELISTED_USERS:"",UPDATE_MONITORING_TYPE:"",UPDATE_OWNERSHIP_COUNTRIES:"",UPDATE_SHOULD_DETECT_MATCHES:"",UPDATE_MATCH_RULE:"",BOOTLOAD_SPHERICAL_CONTEXT_CONFIG:"",BOOTLOAD_SPHERICAL_DIRECTOR_CROSSPOST_PARAMETERS:"",BOOTLOAD_SPHERICAL_DIRECTOR_EDIT_PARAMETERS:"",BOOTLOAD_SPHERICAL_DIRECTOR_UPLOAD_PARAMETERS:"",PARSE_SPHERICAL_METADATA:"",TOGGLE_SPHERICAL:"",BOOTLOAD_CROSSPOST_THUMBNAILS:"",BOOTLOAD_THUMBNAILS_FOR_EDIT:"",GENERATED_THUMBNAILS:"",GENERATED_THUMBNAILS_FAILED:"",GENERATED_THUMBNAILS_STARTED:"",SELECT_SECTION:"",THUMBNAIL_EDITOR_CANCEL:"",THUMBNAIL_EDITOR_OPEN:"",THUMBNAIL_EDITOR_SAVE:"",THUMBNAIL_PREVIEW_HIDE:"",TOGGLE_SELECTED_GENERATED_THUMBNAIL:"",UPDATE_CUSTOM_THUMBNAIL:"",UPDATE_SCRUBBED_THUMBNAIL:"",UPDATE_SELECTED_THUMBNAIL:"",APPEND_CUSTOM_LABELS:"",BOOTLOAD_TRACKING_EDIT_PARAMS:"",UPDATE_CUSTOM_LABELS:"",UPDATE_UNIVERSAL_ID:"",POLLS_ADD_NEW:"",POLLS_BOOTLOAD_EDIT:"",POLLS_CANCEL_CHANGES_ATTEMPT:"",POLLS_CANCEL_CHANGES_ABANDON:"",POLLS_CANCEL_CHANGES_CONFIRM:"",POLLS_CLOSE_EDITOR_ATTEMPT:"",POLLS_CLOSE_EDITOR_ABANDON:"",POLLS_CLOSE_EDITOR_CONFIRM:"",POLLS_DELETE_ATTEMPT:"",POLLS_DELETE_INTERACTION_CANCEL:"",POLLS_DELETE_CONFIRM:"",POLLS_DELETE_SLIDER_ATTEMPT:"",POLLS_DELETE_SLIDER_CONFIRM:"",POLLS_DRAFT_ADD_OPTION:"",POLLS_DRAFT_DELETE_OPTION:"",POLLS_DRAFT_SET_RESULTS_VISIBLE:"",POLLS_DRAFT_SET_DISPLAY_RESULTS_TIMESTAMP:"",POLLS_DRAFT_SET_VOTING_CLOSED_TIMESTAMP:"",POLLS_DRAFT_UPDATE_END_TIME:"",POLLS_DRAFT_UPDATE_OPTION_TEXT:"",POLLS_DRAFT_STICKER_SELECT:"",POLLS_DRAFT_UPDATE_IMAGE_ATTACHMENT:"",POLLS_DRAFT_UPDATE_QUESTION:"",POLLS_DRAFT_UPDATE_SLIDER_EMOJI:"",POLLS_DRAFT_UPDATE_SLIDER_QUESTION:"",POLLS_DRAFT_UPDATE_START_TIME:"",POLLS_DRAFT_TOGGLE_AD_BREAK_POLL:"",POLLS_EDIT_ATTEMPT:"",POLLS_EDIT_ATTEMPT_DISCARD_PREVIOUS:"",POLLS_EDIT_ATTEMPT_HIDE_DIALOG:"",POLLS_EDIT_ATTEMPT_SAVE_PREVIOUS:"",POLLS_EDIT_SLIDER_ATTEMPT:"",POLLS_OPEN_POLLS_FORM_SECTION_ATTEMPT:"",POLLS_OPEN_POLLS_FORM_SECTION_CONFIRM:"",POLLS_OPEN_POLLS_FORM_SECTION_CANCEL:"",POLLS_OPEN_SLIDERS_FORM_SECTION_ATTEMPT:"",POLLS_OPEN_SLIDERS_FORM_SECTION_CONFIRM:"",POLLS_OPEN_SLIDERS_FORM_SECTION_CANCEL:"",POLLS_SAVE:"",POLLS_SAVE_SLIDER:"",POLLS_TOGGLE_WAS_LIVE_VOTING:"",QUESTIONS_ADD_NEW:"",QUESTIONS_CANCEL_CHANGES_ATTEMPT:"",QUESTIONS_CLOSE_EDITOR_ATTEMPT:"",QUESTIONS_DRAFT_UPDATE_END_TIME:"",QUESTIONS_DRAFT_UPDATE_QUESTION:"",QUESTIONS_DRAFT_UPDATE_START_TIME:"",QUESTIONS_EDIT_ATTEMPT:"",QUESTIONS_SAVE:"",QUESTIONS_DELETE_ATTEMPT:"",QUESTIONS_CANCEL_CHANGES_ABANDON:"",QUESTIONS_CLOSE_EDITOR_ABANDON:"",QUESTIONS_CANCEL_CHANGES_CONFIRM:"",QUESTIONS_CLOSE_EDITOR_CONFIRM:"",GAMESHOW_LIGHTWEIGHT_LOAD_AVAILABLE_GAMES_SUCCESS:"",GAMESHOW_LIGHTWEIGHT_LOAD_GAME_SUCCESS:"",GAMESHOW_LIGHTWEIGHT_LOAD_EDIT_DATA_SUCCESS:"",GAMESHOW_LIGHTWEIGHT_SELECT_GAME:"",GAMESHOW_LIGHTWEIGHT_OPEN_EDITOR:"",GAMESHOW_LIGHTWEIGHT_CLOSE_EDITOR_ATTEMPT:"",GAMESHOW_LIGHTWEIGHT_CLOSE_EDITOR_CONFIRM:"",GAMESHOW_LIGHTWEIGHT_CLOSE_EDITOR_CANCEL:"",GAMESHOW_LIGHTWEIGHT_UPDATE_TIMESTAMP_STRING:"",GAMESHOW_LIGHTWEIGHT_ATTEMPT_SAVE_EDITS:"",GAMESHOW_LIGHTWEIGHT_REMOVE_GAME_ATTEMPT:"",GAMESHOW_LIGHTWEIGHT_REMOVE_GAME_CONFIRM:"",GAMESHOW_LIGHTWEIGHT_REMOVE_GAME_CANCEL:"",ATTEMPT_CLOSE_TRIMMING_EDITOR:"",CANCEL_CLOSE_TRIMMING_EDITOR:"",CONFIRM_CLOSE_TRIMMING_EDITOR:"",OPEN_TRIMMING_EDITOR:"",TRIMMING_PREVIEW_BY_START_END:"",TRIMMING_SAVE_DRAFT:"",TRIMMING_SET_END_TIME:"",TRIMMING_SET_PLAYER_STATE:"",TRIMMING_SET_START_TIME:"",TRIMMING_SET_VPC:"",TRIMMING_SET_IS_WAS_LIVE_TRIMMED:"",CLIPPING_ADD_CLIP:"",CLIPPING_EDIT_CLIP:"",CLIPPING_DELETE_CLIP:"",CLIPPING_MANUAL_INPUT:"",CLIPPING_SCRUBBER_INPUT:"",CLIPPING_SET_END_TIME:"",CLIPPING_SET_PLAYER_STATE:"",CLIPPING_SET_START_TIME:"",CLIPPING_SET_VPC:"",CLIPPING_PREVIEW_BY_START_END:"",ATTEMPT_CLOSE_SOUND_EDITOR:"",CANCEL_CLOSE_SOUND_EDITOR:"",CONFIRM_CLOSE_SOUND_EDITOR:"",FINISH_TRACK_SELECTION:"",OPEN_SOUND_EDITOR:"",OPEN_TRACK_SELECTOR:"",SOUND_EDITOR_ADD_NESTING_TRACK_ITEM:"",SOUND_EDITOR_DELETE_ADDED_TRACK:"",SOUND_EDITOR_EDIT_ADDED_TRACK:"",SOUND_EDITOR_REGISTER_SCRUBBER:"",SOUND_EDITOR_SAVE_DRAFT:"",SOUND_EDITOR_SCRUBBER_ADD_TRACK:"",SOUND_EDITOR_SET_SCRUBBER_FOCUS_POSITION:"",SOUND_EDITOR_SET_SOUND_COLLECTION_AUDIO_PLAYER:"",SOUND_EDITOR_SET_SOUND_COLLECTION_FILTER_SELECTION:"",SOUND_EDITOR_SET_SOUND_COLLECTION_IS_PLAYING:"",SOUND_EDITOR_SET_SOUND_COLLECTION_NEXT_PAGE_PROMISE:"",SOUND_EDITOR_SET_SOUND_COLLECTION_PLAY_TRACK:"",SOUND_EDITOR_SET_SOUND_COLLECTION_SEARCH_RESULTS:"",SOUND_EDITOR_SET_SOUND_COLLECTION_TAB:"",SOUND_EDITOR_SET_SOUND_COLLECTION_TAB_LOADING_DONE:"",SOUND_EDITOR_SET_SOUND_COLLECTION_TAB_LOADING_ERROR:"",SOUND_EDITOR_SET_VIDEO_PLAYER_VOLUME:"",SOUND_EDITOR_SET_VIDEO_VOLUME:"",SOUND_EDITOR_SHOW_VIDEO_VOLUME_EDITOR:"",SOUND_EDITOR_SOUND_COLLECTION_INIT:"",SOUND_EDITOR_SOUND_COLLECTION_LOAD_NEXT_PAGE:"",SOUND_EDITOR_SOUND_COLLECTION_LOAD_TABS_DONE:"",SOUND_EDITOR_SOUND_COLLECTION_LOAD_TABS_ERROR:"",SOUND_EDITOR_SOUND_COLLECTION_SELECT_TRACK:"",SOUND_EDITOR_SOUND_COLLECTION_UNSELECT_TRACK:"",SOUND_EDITOR_SUBMIT_EFFECTS_SEARCHSTRING:"",SOUND_EDITOR_SUBMIT_TRACKS_SEARCHSTRING:"",SOUND_EDITOR_UPDATE_ADDED_TRACK:"",SOUND_EDITOR_UPDATE_ADDED_TRACK_VOLUME:"",SOUND_EDITOR_UPDATE_SELECTED_TRACK_NESTING_ITEM_ORDER:"",SOUND_EDITOR_UPDATE_VIDEO_PLAYER_CONTROLLER:"",STARS_EDITOR_DATA_RECEIVED:"",STARS_BOOTLOAD_EDIT:"",STARS_EDITOR_TOGGLE_STARS_ENABLED:"",STARS_EDITOR_UPDATE_SELECTED_GOAL:"",OPEN_PREVIEW_DIALOG:"",CLOSE_PREVIEW_DIALOG:"",LOG_EVENT:""});e.exports=a}),null);
__d("VideoComposerCaptionsTabActions",["VideoComposerActionTypes","VideoComposerDispatchers"],(function(a,b,c,d,e,f){"use strict";a=function(a){var c={type:b("VideoComposerActionTypes").SHOW_CAPTION_EDITOR};b("VideoComposerDispatchers").get(a).dispatch(c)};c=function(a){var c={type:b("VideoComposerActionTypes").HIDE_CAPTION_EDITOR};b("VideoComposerDispatchers").get(a).dispatch(c)};d=function(a,c,d,e,f,g,h,i,j){c={type:b("VideoComposerActionTypes").INITIALIZE_CAPTION_LANDING_SCREEN,videoFile:c,video_id:d,accessToken:e,composerID:f,pageID:g,videoDurationInSec:h,dialogMode:i,isOldComposer:j};b("VideoComposerDispatchers").get(a).dispatch(c)};f=function(a){var c={type:b("VideoComposerActionTypes").CAPTION_LANDING_SCREEN_OPEN_EVENT};b("VideoComposerDispatchers").get(a).dispatch(c)};var g=function(a){var c={type:b("VideoComposerActionTypes").OLD_COMPOSER_CAPTION_TAB_OPEN_EVENT};b("VideoComposerDispatchers").get(a).dispatch(c)},h=function(a){var c={type:b("VideoComposerActionTypes").RESET_OPEN_LANDING_SCREEN_STATE};b("VideoComposerDispatchers").get(a).dispatch(c)},i=function(a,c,d){c={type:b("VideoComposerActionTypes").FINISHED_FETCH_DRAFTS,drafts:c,captionLocalesWithoutSubtitles:d};b("VideoComposerDispatchers").get(a).dispatch(c)},j=function(a){var c={type:b("VideoComposerActionTypes").GENERATE};b("VideoComposerDispatchers").get(a).dispatch(c)},k=function(a){var c={type:b("VideoComposerActionTypes").CANCEL_GENERATE};b("VideoComposerDispatchers").get(a).dispatch(c)},l=function(a,c){c={type:b("VideoComposerActionTypes").GENERATE_PROGRESS_UPDATE,progress:c};b("VideoComposerDispatchers").get(a).dispatch(c)},m=function(a){var c={type:b("VideoComposerActionTypes").CREATE};b("VideoComposerDispatchers").get(a).dispatch(c)},n=function(a){var c={type:b("VideoComposerActionTypes").CAPTION_HAS_TRIMMED};b("VideoComposerDispatchers").get(a).dispatch(c)},o=function(a,c){c={type:b("VideoComposerActionTypes").EDIT_CAPTIONS_DRAFT,id:c};b("VideoComposerDispatchers").get(a).dispatch(c)},p=function(a,c){c={type:b("VideoComposerActionTypes").DELETE_CAPTIONS_DRAFT,id:c};b("VideoComposerDispatchers").get(a).dispatch(c)},q=function(a){var c={type:b("VideoComposerActionTypes").DELETE_SUBTITLES_FAILURE};b("VideoComposerDispatchers").get(a).dispatch(c)},r=function(a){var c={type:b("VideoComposerActionTypes").DELETE_SUBTITLES_SUCCESS};b("VideoComposerDispatchers").get(a).dispatch(c)},s=function(a,c,d){c={type:b("VideoComposerActionTypes").START_SRT_UPLOAD,captions:c,partialUploadError:d};b("VideoComposerDispatchers").get(a).dispatch(c)},t=function(a,c,d){c={type:b("VideoComposerActionTypes").UPLOAD_LOCAL_CAPTIONS,captions:c,partialUploadError:d};b("VideoComposerDispatchers").get(a).dispatch(c)},u=function(a,c){c={type:b("VideoComposerActionTypes").UPDATE_ALL_LOCAL_CAPTIONS,captions:c};b("VideoComposerDispatchers").get(a).dispatch(c)},v=function(a,c){c={type:b("VideoComposerActionTypes").SELECT_SPOKEN_LANGUAGE,language:c};b("VideoComposerDispatchers").get(a).dispatch(c)},w=function(a,c){c={type:b("VideoComposerActionTypes").SELECT_SPOKEN_LOCALE,locale:c};b("VideoComposerDispatchers").get(a).dispatch(c)},x=function(a,c){c={type:b("VideoComposerActionTypes").UPDATE_SHOULD_AUTOPUBLISH_CAPTIONS,value:c};b("VideoComposerDispatchers").get(a).dispatch(c)},y=function(a,c,d,e){c={type:b("VideoComposerActionTypes").GENERATE_COMPLETE,captions:c,locale:d,subtitlesID:e};b("VideoComposerDispatchers").get(a).dispatch(c)},z=function(a,c){c={type:b("VideoComposerActionTypes").UPDATE_ERROR_STATE,errors:c};b("VideoComposerDispatchers").get(a).dispatch(c)},A=function(a){var c={type:b("VideoComposerActionTypes").CREATE_COMPLETE};b("VideoComposerDispatchers").get(a).dispatch(c)},B=function(a){var c={type:b("VideoComposerActionTypes").UPDATE_CAPTION_FILES};b("VideoComposerDispatchers").get(a).dispatch(c)},C=function(a,c,d,e){c={type:b("VideoComposerActionTypes").FINISH_SRT_UPLOAD,success:c,error:d,uploadedVideoSubtitles:e};b("VideoComposerDispatchers").get(a).dispatch(c)},D=function(a){var c={type:b("VideoComposerActionTypes").RESET_CAPTIONS_LANDING_TAB};b("VideoComposerDispatchers").get(a).dispatch(c)},E=function(a){var c={type:b("VideoComposerActionTypes").RETRY_AUTO_GENERATION};b("VideoComposerDispatchers").get(a).dispatch(c)},F=function(a){var c={type:b("VideoComposerActionTypes").RESET_AUTO_GENERATING_LOCALE};b("VideoComposerDispatchers").get(a).dispatch(c)},G=function(a){var c={type:b("VideoComposerActionTypes").RESUME_AUTO_GENERATION};b("VideoComposerDispatchers").get(a).dispatch(c)},H=function(a){var c={type:b("VideoComposerActionTypes").TRY_RESUME_AUTO_GENERATION};b("VideoComposerDispatchers").get(a).dispatch(c)},I=function(a,c){c={type:b("VideoComposerActionTypes").INITIALIZE_ALL_CAPTION_FILES,subtitles:c};b("VideoComposerDispatchers").get(a).dispatch(c)},J=function(a,c){c={type:b("VideoComposerActionTypes").BOOTLOAD_PARAMETERS_CAPTIONS_TAB,data:c};b("VideoComposerDispatchers").get(a).dispatch(c)},K=function(a,c){c={type:b("VideoComposerActionTypes").CHANGE_PUBLISHED_STATE,id:c};b("VideoComposerDispatchers").get(a).dispatch(c)},L=function(a,c){c={type:b("VideoComposerActionTypes").CHANGE_PUBLISHED_STATE_URL,id:c};b("VideoComposerDispatchers").get(a).dispatch(c)},M=function(a,c){c={type:b("VideoComposerActionTypes").DELETE_CAPTIONS_URL,id:c};b("VideoComposerDispatchers").get(a).dispatch(c)},N=function(a,c){c={type:b("VideoComposerActionTypes").DELETE_LOCAL_CAPTION_FILE,id:c};b("VideoComposerDispatchers").get(a).dispatch(c)},O=function(a,c){c={type:b("VideoComposerActionTypes").DELETE_LOCALE_WITHOUT_SUBTITLE,locale:c};b("VideoComposerDispatchers").get(a).dispatch(c)},P=function(a,c){c={type:b("VideoComposerActionTypes").FETCHED_AUTO_GEN_V1_SUBTITLE,autoGenV1Subtitle:c};b("VideoComposerDispatchers").get(a).dispatch(c)},Q=function(a){var c={type:b("VideoComposerActionTypes").PENDING_TO_PUBLISHED};b("VideoComposerDispatchers").get(a).dispatch(c)},R=function(a,c){c={type:b("VideoComposerActionTypes").SET_DEFAULT_CAPTION_LOCALE,locale:c};b("VideoComposerDispatchers").get(a).dispatch(c)},S=function(a){var c={type:b("VideoComposerActionTypes").SET_DISMISS_CAPTIONS_NUX};b("VideoComposerDispatchers").get(a).dispatch(c)};e.exports={showCaptionEditor:a,hideCaptionEditor:c,initialize:d,generate:j,cancelGenerate:k,updateGenerateProgress:l,create:m,captionHasTrimmed:n,editCaptionsDraft:o,deleteCaptionsDraft:p,deleteLocalCaptionFile:N,deleteLocaleWithoutSubtitle:O,deleteSubtitlesFailure:q,deleteSubtitlesSuccess:r,dismissCaptionsNux:S,upload:s,selectSpokenLanguage:v,selectSpokenLocale:w,updateShouldAutopublishCaptions:x,generateComplete:y,createComplete:A,finishedFetchDrafts:i,updateCaptionFiles:B,updateErrorState:z,finishSRTUpload:C,resetCaptionsLandingTab:D,retryAutoGeneration:E,resetAutoGeneratingLocale:F,resumeAutoGeneration:G,tryResumeAutoGeneration:H,initializeAllCaptionFiles:I,bootloadParametersCaptionsTab:J,changePublishedState:K,changePublishedStatePendingToPublished:Q,tryLogCaptionLandingScreenOpenEvent:f,emitOldComposerCaptionTabOpenEvent:g,resetOpenLandingScreenState:h,setDefaultLocale:R,changePublishedStateURL:L,deleteCaptionsURL:M,fetchedAutoGenV1Subtitle:P,updateAllLocalCaptions:u,uploadLocalCaptions:t}}),null);
__d("VideoComposerDialogCaptionEditorConstants",["immutable"],(function(a,b,c,d,e,f){"use strict";a={SMALLEST_UNIT:.09,TOP:50,START_TIME_OFFSET_IN_MS:100,PREVIEW_END_TIME_OFFSET_IN_MS:200,DURATION_TIME_IN_MS:1e3,DIALOG_WIDTH:970,MIN_HEIGHT:645,MAX_HEIGHT:645,LEFT_PANE_WIDTH:670,RIGHT_PANE_WIDTH:300,INITIAL_SPOKEN_LOCALE:"xx_XX",EMPTY_LOCALE:"",NO_LANGUAGE_SELECTED:"Select Language",AUTO_GENERATED:"AUTO_GENERATION",SPEECH_NON_SPEECH:"SPEECH_NON_SPEECH",SRT_UPLOAD:"SRT_UPLOAD",MANUAL:"MANUAL",AUTO_GENERATION:"AUTO_GENERATION",AUTO_GENERATION_CANCEL_FETCH:5e3,AUTO_GENERATION_MAX_DURATION_SUPPORTED_IN_SEC:9e3,AUTO_GENERATE_RETRY_TEXT:"Error auto-generating captions. Retrying.",AUTO_GENERATABLE_HEAD_LOCALES:b("immutable").Set(["en_US","es_LA","pt_BR"]),GENERAL_LOCALES_TO_HEAD:b("immutable").Map({en_XX:"en_US",es_XX:"es_LA",fr_XX:"fr_FR",ja_XX:"ja_JP",nl_XX:"nl_NL",pt_XX:"pt_BR",tl_XX:"tl_PH"}),HEAD_TO_GENERAL_LOCALES:b("immutable").Map({en_US:"en_XX",es_LA:"es_XX",fr_FR:"fr_XX",ja_JP:"ja_XX",nl_NL:"nl_XX",pt_BR:"pt_XX",tl_PH:"tl_XX"}),NO_PAYLOAD:"NO_PAYLOAD",GENERATION_PILL_WIDTH:368,MAX_FAKE_POLL_ITERATIONS:6e3,POLL_FAKE_FREQUENCY_GENERATE_MS:1e3,DEFAULT_PROCESSING_SPEED:2,GENERATION_RETRY_THRESHOLD:{PCT:175,TIME_S:75},BUTTON_UNIFORM:{use:{"default":{normal:{background:"transparent"}}},padding:{normal:{onlyIcon:"0px"},tall:{onlyIcon:"0px"}},height:{normal:16,tall:20}},VIDEO_DURATION_PADDING:1e4,EMPTY_CAPTION_TEXT:" ",SEGMENT_LENGTH:76,RESUME_PLAYBACK_AFTER:1e3,AUTO_GEN_PROGRESS_RATE_FACTOR:.5};e.exports=a}),null);
__d("VideoComposerLandingScreenLanguageSelector.react",["ix","cx","fbt","ContextualLayer.react","ContextualLayerAutoFlip","ContextualLayerUpdateOnScroll","Image.react","LanguageDialectInlineTypeahead.react","LayerAutoFocus","LayerHideOnBlur","LayerHideOnEscape","React","XUIPopoverButton.react","asset","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isOpen:c.props.initiallyOpen},c.$2=function(a){c.setState({isOpen:!1});var b=c.props.onSetDialect;b&&b(a.getUniqueID());c.props.onSetDialectName(a.getTitle())},c.$3=function(){c.setState({isOpen:!c.state.isOpen})},c.$4=function(a){c.setState({isOpen:a})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this,c=(this.props.slimButton?"_83z-":"")+(!this.props.slimButton&&!this.props.darkMode?" _6eqi":"")+(!this.props.slimButton&&this.props.darkMode&&!this.props.isBlockingUpload?" _7ip-":"")+(!this.props.slimButton&&this.props.darkMode&&this.props.isBlockingUpload?" _7ipb":""),d=j.jsx("span",{children:this.props.dialectName});d=j.jsxs("span",{className:(this.props.darkMode?"":"_6eqm")+(this.props.darkMode?" _7ipc":"")+(this.props.isDisabled?" _6ma_":""),children:[d,this.props.darkMode?j.jsx(b("Image.react"),{className:"_7ipd",src:g("500187")}):null]});var e=200;c=j.jsx(b("XUIPopoverButton.react"),{className:c,haschevron:!this.props.darkMode,label:d,disabled:this.props.isDisabled,image:j.jsx(b("Image.react"),{src:this.props.darkMode?g("141277"):this.props.isLanguageSelected?g("125257"):g("134869")}),maxwidth:e,onClick:this.$3,size:"xlarge",ref:function(b){return a.$1=b}});return j.jsxs("span",{className:this.props.className,children:[c,j.jsx(b("ContextualLayer.react"),{alignment:"left",autofocus:!0,behaviors:{ContextualLayerAutoFlip:b("ContextualLayerAutoFlip"),ContextualLayerUpdateOnScroll:b("ContextualLayerUpdateOnScroll"),LayerAutoFocus:b("LayerAutoFocus"),LayerHideOnBlur:b("LayerHideOnBlur"),LayerHideOnEscape:b("LayerHideOnEscape")},contextRef:function(){return a.$1},position:"below",onToggle:this.$4,shown:this.state.isOpen,children:j.jsx("div",{className:"_5ge1",children:j.jsx(b("LanguageDialectInlineTypeahead.react"),{dialectType:this.props.dialectType,onSelect:this.$2,placeholder:this.props.placeholder,excludedDialects:this.props.excludedDialects,hasCategories:this.props.hasCategories,renderStyle:this.props.renderStyle})})})]})};return c}(j.Component);a.defaultProps={hasCategories:!1,renderStyle:"default",initiallyOpen:!1,dialectName:i._("Select language")};e.exports=a}),null);
__d("VideoComposerBasicVideoLanguageSelectorContainer.react",["cx","FluxContainer","React","VideoComposerCaptionsTabActions","VideoComposerDialogCaptionEditorConstants","VideoComposerLandingScreenLanguageSelector.react","VideoComposerStores"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=null,c.$2=function(a){return c.$1=a},b)||babelHelpers.assertThisInitialized(c)}c.getStores=function(a){return[b("VideoComposerStores").getCaptionsStore(a.videoComposerID)]};c.calculateState=function(a,c){return{spokenLanguage:b("VideoComposerStores").getCaptionsStore(c.videoComposerID).getSpokenLanguage(),isSpokenLanguageSelected:b("VideoComposerStores").getCaptionsStore(c.videoComposerID).isSpokenLanguageSelected()}};var d=c.prototype;d.$3=function(a){b("VideoComposerCaptionsTabActions").selectSpokenLanguage(this.props.videoComposerID,a)};d.$4=function(a){b("VideoComposerCaptionsTabActions").selectSpokenLocale(this.props.videoComposerID,a)};d.render=function(){var a=this;return h.jsx(b("VideoComposerLandingScreenLanguageSelector.react"),{className:"_7i13",darkMode:!0,dialectType:"language_detection",dialectName:this.state.spokenLanguage,hasCategories:!1,initiallyOpen:!1,isBlockingUpload:!1,isLanguageSelected:this.state.isSpokenLanguageSelected,onSetDialect:function(b){return a.$4(b)},onSetDialectName:function(b){return a.$3(b)},placeholder:b("VideoComposerDialogCaptionEditorConstants").NO_LANGUAGE_SELECTED,ref:this.$2,renderStyle:"default"})};return c}(h.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerActions",["fbt","VideoComposerActionTypes","VideoComposerDispatchers","VideoComposerPremiereUtils","VideoUploadProgressBar","immutable"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,c,d,e,f){c={type:b("VideoComposerActionTypes").BACKDATE_CONFIRM,year:c,month:d,day:e,hideFromNewsFeed:f};b("VideoComposerDispatchers").get(a).dispatch(c)};c=function(a,c){c={type:b("VideoComposerActionTypes").SAVE_POST_DATA_FOR_PAGES_COMPOSER,postData:c};b("VideoComposerDispatchers").get(a).dispatch(c)};d=function(a){var c={type:b("VideoComposerActionTypes").CLOSE_CONFIRM_DIALOG};b("VideoComposerDispatchers").get(a).dispatch(c)};f=function(a){var c={type:b("VideoComposerActionTypes").CLOSE_TITLE_ERROR_TOOLTIP};b("VideoComposerDispatchers").get(a).dispatch(c)};var h=function(a){var c={type:b("VideoComposerActionTypes").CLOSE_PRIMARY_ERROR_DIALOG};b("VideoComposerDispatchers").get(a).dispatch(c)},i=function(a){var c={type:b("VideoComposerActionTypes").CLOSE_PUBLISH_CONFIRM_DIALOG};b("VideoComposerDispatchers").get(a).dispatch(c)},j=function(a){var c={type:b("VideoComposerActionTypes").PAGE_STORY_CREATION_ATTEMPT};b("VideoComposerDispatchers").get(a).dispatch(c)},k=function(a,c){c={type:b("VideoComposerActionTypes").PAGE_STORY_CREATION_FAILURE,error:c};b("VideoComposerDispatchers").get(a).dispatch(c)},l=function(a){var c={type:b("VideoComposerActionTypes").PAGE_STORY_CREATION_SUCCESS};b("VideoComposerDispatchers").get(a).dispatch(c)},m=function(a,c){c={type:b("VideoComposerActionTypes").POST_FAILED,errorMessage:c.message};b("VideoComposerDispatchers").get(a).dispatch(c)},n=function(a){var c={type:b("VideoComposerActionTypes").POST_FINISHED,data:null};b("VideoComposerDispatchers").get(a).dispatch(c)},o=function(a,c,d){c={type:b("VideoComposerActionTypes").EDIT_EXPIRATION,expirationTime:c,expirationType:d};b("VideoComposerDispatchers").get(a).dispatch(c)},p=function(a,c){c={type:b("VideoComposerActionTypes").EDIT_POST_END_TIME,postEndDate:c};b("VideoComposerDispatchers").get(a).dispatch(c)},q=function(a){var c={type:b("VideoComposerActionTypes").EDIT_TABS_LOADED};b("VideoComposerDispatchers").get(a).dispatch(c)},r=function(a,c){c={type:b("VideoComposerActionTypes").EDIT_SCHEDULED_TIME,scheduleDate:c};b("VideoComposerDispatchers").get(a).dispatch(c)},s=function(a,c){c={type:b("VideoComposerActionTypes").EDIT_SHOULD_EXPIRE,expire:c};b("VideoComposerDispatchers").get(a).dispatch(c)},t=function(a,c){c={type:b("VideoComposerActionTypes").EDIT_SHOULD_PUBLISH,publish:c};b("VideoComposerDispatchers").get(a).dispatch(c)},u=function(a){var c={type:b("VideoComposerActionTypes").MINIMIZE_DIALOG};b("VideoComposerDispatchers").get(a).dispatch(c)},v=function(a){var c={type:b("VideoComposerActionTypes").EXIT_DIALOG};b("VideoComposerDispatchers").get(a).dispatch(c)},w=function(a){var c={type:b("VideoComposerActionTypes").EXIT_DIALOG_ATTEMPT};b("VideoComposerDispatchers").get(a).dispatch(c)},x=function(a){var c={type:b("VideoComposerActionTypes").EXIT_DIALOG_REPLACE_FILE};b("VideoComposerDispatchers").get(a).dispatch(c)},y=function(a){var c={type:b("VideoComposerActionTypes").EXIT_DIALOG_SAVE_DRAFT};b("VideoComposerDispatchers").get(a).dispatch(c)},z=function(a){var c={type:b("VideoComposerActionTypes").HIDE_MISSING_VIDEO_TYPE_TOOLTIP};b("VideoComposerDispatchers").get(a).dispatch(c)},A=function(a,c,d){c={type:b("VideoComposerActionTypes").HIGHLIGHT_TITLE_WITH_ERROR_TOOLTIP,tooltipCaption:c,tooltipText:d};b("VideoComposerDispatchers").get(a).dispatch(c)},B=function(a){var c={type:b("VideoComposerActionTypes").HIGHLIGHT_TITLE_WITH_ERROR_TOOLTIP,tooltipCaption:g._("Title too long"),tooltipText:g._("Please use a shorter title")};b("VideoComposerDispatchers").get(a).dispatch(c)},C=function(a){return A(a,g._("Invalid video duration for premiere"),b("VideoComposerPremiereUtils").INVALID_DURATION_MESSAGE)},D=function(a,c){c={type:b("VideoComposerActionTypes").HIGHLIGHT_MISSING_VIDEO_TYPE,tooltipText:c};b("VideoComposerDispatchers").get(a).dispatch(c);$(a,"basic")},E=function(a,c){c={type:b("VideoComposerActionTypes").METADATA_LOADED_FROM_HTML_PLAYER,videoPlayer:c};b("VideoComposerDispatchers").get(a).dispatch(c)},F=function(a,c){c={type:b("VideoComposerActionTypes").METADATA_LOADED_FROM_VIDEO_UPLOADER,data:c};b("VideoComposerDispatchers").get(a).dispatch(c)},G=function(a){var c={type:b("VideoComposerActionTypes").MOUNT_COMPOSER_DIALOG};b("VideoComposerDispatchers").get(a).dispatch(c)},H=function(a,c){c={type:b("VideoComposerActionTypes").SPHERICAL_METADATA_PARSED,sphericalMetadata:c};b("VideoComposerDispatchers").get(a).dispatch(c)},I=function(a,c,d){d={type:b("VideoComposerActionTypes").INITIALIZE_UPLOAD_COMPOSER,videoComposerID:a,serverParams:d,clientParams:c};b("VideoComposerDispatchers").get(a).dispatch(d)},J=function(a,c,d){c={type:b("VideoComposerActionTypes").INITIALIZE_EDIT_COMPOSER,videoComposerID:a,editParams:c,eventCallbacks:d};b("VideoComposerDispatchers").get(a).dispatch(c)},K=function(a,c){c={type:b("VideoComposerActionTypes").INITIALIZE_CROSSPOST_COMPOSER,videoComposerID:a,params:c};b("VideoComposerDispatchers").get(a).dispatch(c)},L=function(a,c){c={type:b("VideoComposerActionTypes").INIT_VIDEO_UPLOADER,videoUploader:c};b("VideoComposerDispatchers").get(a).dispatch(c)},M=function(a,c){c={type:b("VideoComposerActionTypes").LOAD_VIDEO_DATA_FOR_ID,videoData:c};b("VideoComposerDispatchers").get(a).dispatch(c)},N=function(a){var c={type:b("VideoComposerActionTypes").NAVIGATED_FROM_PAGE};b("VideoComposerDispatchers").get(a).dispatch(c)},O=function(a,c,d){c=d.error_summary;d.error_description&&typeof d.error_description==="string"&&d.error_description.trim()!=""&&(c=c+": "+d.error_description);d={type:b("VideoComposerActionTypes").POST_FAILED,errorMessage:c};b("VideoComposerDispatchers").get(a).dispatch(d)},P=function(a,c,d){c={type:b("VideoComposerActionTypes").POST_FINISHED,data:d};b("VideoComposerDispatchers").get(a).dispatch(c)},Q=function(a){var c={type:b("VideoComposerActionTypes").PUBLISH_POST};b("VideoComposerDispatchers").get(a).dispatch(c)},R=function(a){var c={type:b("VideoComposerActionTypes").RESET_COMPOSER};b("VideoComposerDispatchers").get(a).dispatch(c)},S=function(a){var c={type:b("VideoComposerActionTypes").SAVE_AS_DRAFT};b("VideoComposerDispatchers").get(a).dispatch(c)},T=function(a){var c={type:b("VideoComposerActionTypes").SAVE_EDITED_VIDEO};b("VideoComposerDispatchers").get(a).dispatch(c)},U=function(a,c){c={type:b("VideoComposerActionTypes").SAVE_EDITED_VIDEO_FAILURE,errorMessage:c};b("VideoComposerDispatchers").get(a).dispatch(c)},V=function(a){var c={type:b("VideoComposerActionTypes").SAVE_EDITED_VIDEO_SUCCESS};b("VideoComposerDispatchers").get(a).dispatch(c)},W=function(a,c){c={type:b("VideoComposerActionTypes").SELECT_EDITING_PUBLISH_ACTION,publishAction:c};b("VideoComposerDispatchers").get(a).dispatch(c)},X=function(a,c,d){c={type:b("VideoComposerActionTypes").SET_VIDEO_START_END_TIME,endTime:c,startTime:d};b("VideoComposerDispatchers").get(a).dispatch(c)},Y=function(a){var c={type:b("VideoComposerActionTypes").CANCEL_UPLOAD};b("VideoComposerDispatchers").get(a).dispatch(c)},Z=function(a,c,d,e,f,g){c={type:b("VideoComposerActionTypes").SCHEDULE_CONFIRM,scheduleDate:c,postEndDate:d,expireDate:e,expirationType:f,announcementPostTitle:g};b("VideoComposerDispatchers").get(a).dispatch(c)},aa=function(a,c){c={type:b("VideoComposerActionTypes").PREMIERE_REPLACE_FILE,file:c};b("VideoComposerDispatchers").get(a).dispatch(c)},ba=function(a,c,d,e){c={type:b("VideoComposerActionTypes").INITIALIZE_COMPOSER_PREVIEW,videoComposerID:a,entryPointRef:c,file:d,eventCallbacks:e};b("VideoComposerDispatchers").get(a).dispatch(c)},ca=function(a,c,d,e,f,g,h){c={type:b("VideoComposerActionTypes").UPDATE_PREMIERE_DATA,scheduleDate:c,customProfileImage:d,customProfileImageFocus:e,feedBackgroundImage:f,feedBackgroundFocus:g,customAnnouncementThumbnail:h};b("VideoComposerDispatchers").get(a).dispatch(c)},$=function(a,c){c={type:b("VideoComposerActionTypes").SELECT_TAB,tab:c};b("VideoComposerDispatchers").get(a).dispatch(c)},da=function(a){var c={type:b("VideoComposerActionTypes").SUBMIT_FOR_PREREVIEW};b("VideoComposerDispatchers").get(a).dispatch(c)},ea=function(a,c){c={type:b("VideoComposerActionTypes").TAB_LOAD_ERROR,error:c};b("VideoComposerDispatchers").get(a).dispatch(c)},fa=function(a){var c={type:b("VideoComposerActionTypes").UPDATE_IS_FEATURED_VIDEO};b("VideoComposerDispatchers").get(a).dispatch(c)},ga=function(a,c){c={type:b("VideoComposerActionTypes").UPDATE_SHOW_VIDEO_TYPE,showVideoType:c};b("VideoComposerDispatchers").get(a).dispatch(c)},ha=function(a,c){c={type:b("VideoComposerActionTypes").UPDATE_TITLE,title:c};b("VideoComposerDispatchers").get(a).dispatch(c)},ia=function(a,c){c={type:b("VideoComposerActionTypes").UPLOAD_FAILED,errorData:c};b("VideoComposerDispatchers").get(a).dispatch(c)},ja=function(a){var c={type:b("VideoComposerActionTypes").UPLOAD_FINISHED};b("VideoComposerDispatchers").get(a).dispatch(c)},ka=function(a,c,d){c=b("VideoUploadProgressBar").computeProgress(d.start_offset,d.sent_bytes,d.file_size,0,0);d={type:b("VideoComposerActionTypes").UPLOAD_PROGRESSED,progress:Math.round(10*c)/10};b("VideoComposerDispatchers").get(a).dispatch(d)},la=function(a){var c={type:b("VideoComposerActionTypes").SHOW_REVIEWABLE_BRANDED_CONTENT_CONFIRMATION};b("VideoComposerDispatchers").get(a).dispatch(c)},ma=function(a){var c={type:b("VideoComposerActionTypes").HIDE_REVIEWABLE_BRANDED_CONTENT_CONFIRMATION};b("VideoComposerDispatchers").get(a).dispatch(c)},na=function(a){var c={type:b("VideoComposerActionTypes").CONFIRM_REVIEWABLE_BRANDED_CONTENT};b("VideoComposerDispatchers").get(a).dispatch(c)},oa=function(a){var c={type:b("VideoComposerActionTypes").MARK_AS_REVIEWABLE_BRANDED_CONTENT};b("VideoComposerDispatchers").get(a).dispatch(c)},pa=function(a,c){c={type:b("VideoComposerActionTypes").POST_REQUEST_SENT,postData:c};b("VideoComposerDispatchers").get(a).dispatch(c)},qa=function(a){var c={type:b("VideoComposerActionTypes").FIRST_STEP_FOOTER_NEXT_BUTTON_CLICKED};b("VideoComposerDispatchers").get(a).dispatch(c)},ra=function(a){var c={type:b("VideoComposerActionTypes").FIRST_STEP_FOOTER_AD_BREAK_SUBMIT_FOR_REVIEW};b("VideoComposerDispatchers").get(a).dispatch(c)},sa=function(a){var c={type:b("VideoComposerActionTypes").OPEN_PUBLISH_DRAWER};b("VideoComposerDispatchers").get(a).dispatch(c)},ta=function(a){var c={type:b("VideoComposerActionTypes").CLOSE_PUBLISH_DRAWER};b("VideoComposerDispatchers").get(a).dispatch(c)},ua=function(a){var c={type:b("VideoComposerActionTypes").OPEN_PREVIEW_DIALOG};b("VideoComposerDispatchers").get(a).dispatch(c)},va=function(a){var c={type:b("VideoComposerActionTypes").CLOSE_PREVIEW_DIALOG};b("VideoComposerDispatchers").get(a).dispatch(c)},wa=function(a,c){c={type:b("VideoComposerActionTypes").SET_PUBLISHING_TYPE,publishingType:c};b("VideoComposerDispatchers").get(a).dispatch(c)},xa=function(a,c){c={type:b("VideoComposerActionTypes").SET_POST_TYPE,postType:c};b("VideoComposerDispatchers").get(a).dispatch(c)},ya=function(a,c){c={type:b("VideoComposerActionTypes").SET_SCHEDULE_TYPE,scheduleType:c};b("VideoComposerDispatchers").get(a).dispatch(c)},za=function(a,c){c={type:"SET_BACKDATE_DATE",date:c};b("VideoComposerDispatchers").get(a).dispatch(c)},Aa=function(a,c){c={type:"SET_BACKDATE_HIDE_FROM_NEWS_FEED",hideFromNewsFeed:c};b("VideoComposerDispatchers").get(a).dispatch(c)},Ba=function(a,c){c={type:"SET_PREMIERE_DATE",premiereDate:c};b("VideoComposerDispatchers").get(a).dispatch(c)},Ca=function(a,c){c={type:"SET_PREMIERE_FEED_BACKGROUND_IMAGE",image:c};b("VideoComposerDispatchers").get(a).dispatch(c)},Da=function(a){var c={type:"TOGGLE_PREMIERE_WITH_SHOW_OR_SEASON"};b("VideoComposerDispatchers").get(a).dispatch(c)},Ea=function(a,c){c={type:"UPDATE_SHOULD_PREMIERE",shouldPremiere:c};b("VideoComposerDispatchers").get(a).dispatch(c)},Fa=function(a,c){c={type:b("VideoComposerActionTypes").UPDATE_PREMIERE_AUDIENCE,premiereAudience:c};b("VideoComposerDispatchers").get(a).dispatch(c)},Ga=function(a,c){c={type:b("VideoComposerActionTypes").UPDATE_PREMIERE_LIVING_ROOM_VIDEOS,premiereLivingRoomVideos:c};b("VideoComposerDispatchers").get(a).dispatch(c)},Ha=function(a,c){if(c==null)return;c={type:b("VideoComposerActionTypes").UPDATE_PREMIERE_LIVING_ROOM_REMOVE_UNOWNED_VIDEOS,ownerID:c};b("VideoComposerDispatchers").get(a).dispatch(c)},Ia=function(a,c){c={type:b("VideoComposerActionTypes").UPDATE_PREMIERE_CUSTOM_NAME,name:c};b("VideoComposerDispatchers").get(a).dispatch(c)},Ja=function(a,c){c={type:b("VideoComposerActionTypes").SET_COMPOSER_SHOWN,composerShown:c};b("VideoComposerDispatchers").get(a).dispatch(c)},Ka=function(a,c){c={type:b("VideoComposerActionTypes").LOG_EVENT,event:c};b("VideoComposerDispatchers").get(a).dispatch(c)},La=function(a,c){c={type:b("VideoComposerActionTypes").SET_COMPOSER_UPSELL_ELIGIBILITY_STATUS,isEligible:c};b("VideoComposerDispatchers").get(a).dispatch(c)},Ma=function(a,c){c={type:b("VideoComposerActionTypes").SET_PASSES_UPSELL_GK,passesUpsellGK:c};b("VideoComposerDispatchers").get(a).dispatch(c)},Na=function(a,c,d){c={type:b("VideoComposerActionTypes").POST_REQUEST_INVALID,postData:c,invalidationReasons:d};b("VideoComposerDispatchers").get(a).dispatch(c)},Oa=function(a){var c={type:b("VideoComposerActionTypes").SHOW_RIGHTS_CONFIRM_DIALOG};b("VideoComposerDispatchers").get(a).dispatch(c)},Pa=function(a){var c={type:b("VideoComposerActionTypes").HIDE_RIGHTS_CONFIRM_DIALOG};b("VideoComposerDispatchers").get(a).dispatch(c)},Qa=function(a){var c={type:b("VideoComposerActionTypes").ALL_TABS_BOOTLOADED};b("VideoComposerDispatchers").get(a).dispatch(c)},Ra=function(a){var c={type:b("VideoComposerActionTypes").SENDING_POST_REQUEST};b("VideoComposerDispatchers").get(a).dispatch(c)},Sa=function(a,c,d){c={type:b("VideoComposerActionTypes").TAB_BOOTLOAD_ERROR,tab:c,error:d};b("VideoComposerDispatchers").get(a).dispatch(c)};e.exports={allTabsBootloaded:Qa,backdateConfirm:a,cancelUpload:Y,closeConfirmDialog:d,closeTitleTooltip:f,closePreviewDialog:va,closePrimaryErrorDialog:h,closePublishConfirmDialog:i,closePublishDrawer:ta,confirmReviewableBrandedContent:na,createPageStoryAttempt:j,createPageStoryFailure:k,createPageStorySuccess:l,crosspostFailed:m,crosspostFinished:n,editExpiration:o,editTabsLoaded:q,editScheduledTime:r,editPostEndDate:p,editShouldExpire:s,editShouldPublish:t,exitDialog:v,exitDialogAttempt:w,exitDialogReplaceFile:x,exitDialogSaveDraft:y,firstStepFooterNextButtonClicked:qa,firstStepFooterAdBreakSubmitForReviewButtonClicked:ra,minimizeDialog:u,hideMissingVideoTypeTooltip:z,hideReviewableBrandedContentConfirmation:ma,hideRightsConfirmDialog:Pa,highlightPremiereVideoDurationIsInvalid:C,highlightTitleTooLong:B,highlightTitleWithErrorTooltip:A,highlightMissingVideoType:D,initializeComposer:I,initializeComposerPreview:ba,initializeCrosspostComposer:K,initializeEditComposer:J,initVideoUploader:L,loadVideoDataForID:M,logEvent:Ka,markAsReviewableBrandedContent:oa,navigatedFromPage:N,metadataLoadedFromHTMLPlayer:E,metadataLoadedFromVideoUploader:F,mountComposerDialog:G,openPreviewDialog:ua,openPublishDrawer:sa,postFailed:O,postFinished:P,postRequestInvalid:Na,postRequestSent:pa,premiereReplaceFile:aa,publishPost:Q,resetComposer:R,saveAsDraft:S,saveEditedVideo:T,saveEditedVideoFailure:U,saveEditedVideoSuccess:V,savePostDataForPagesComposer:c,scheduleConfirm:Z,selectEditPublishAction:W,selectTab:$,sendingPostRequest:Ra,setBackdateDate:za,setBackdateHideFromNewsFeed:Aa,setComposerShown:Ja,setIsComposerUpsellEligible:La,setPassesUpsellGK:Ma,setPremiereDate:Ba,setPremiereFeedBackgroundImage:Ca,setPublishingType:wa,setPostType:xa,setScheduleType:ya,setVideoStartEndTime:X,showRightsConfirmDialog:Oa,showReviewableBrandedContentConfirmation:la,submitForPrereview:da,sphericalMetadataParsed:H,tabBootloadError:Sa,tabLoadError:ea,togglePremiereWithShowOrSeason:Da,updateIsFeaturedVideo:fa,updateShouldPremiere:Ea,updatePremiereLivingRoomRemoveUnownedVideos:Ha,updatePremiereLivingRoomVideos:Ga,updatePremiereAudience:Fa,updatePremiereCustomName:Ia,updateShowVideoType:ga,updateTitle:ha,uploadFailed:ia,uploadFinished:ja,updatePremiereData:ca,uploadProgressed:ka}}),null);
__d("VideoComposerBodySection.react",["cx","fbt","ErrorBoundary.react","React","VideoComposerActions","VideoComposerDialogConstants","VideoComposerTabs","XUINotice.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a){b("VideoComposerActions").tabLoadError(d.props.videoComposerID,a&&a.message+a.stack)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){return i.jsx(b("XUINotice.react"),{className:"_6q9_",use:"warn",children:h._("Sorry, something went wrong while loading this tab. Please try again later.")})};d.render=function(){var a=b("VideoComposerTabs").get(this.props.selectedTab).bodyContainer,c=b("VideoComposerDialogConstants").LEFT_SECTION_WIDTH;this.props.selectedTab!=="spherical_director"&&(c-=b("VideoComposerDialogConstants").LEFT_SECTION_PADDING);return i.jsx("div",{className:"_6eme",children:i.jsx("div",{style:{width:c},className:"_6emf"+(this.props.selectedTab==="basic"?" _6emg":"")+(this.props.selectedTab==="spherical_director"?" _6emh":""),children:i.jsx(b("ErrorBoundary.react"),{fallbackComponent:this.$1,onHandleError:this.$2,children:i.jsx(a,{videoComposerID:this.props.videoComposerID})},this.props.selectedTab)})})};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerHeightConfig",[],(function(a,b,c,d,e,f){"use strict";a={LARGE_HEIGHT:800,STANDARD_HEIGHT:720,SMALL_HEIGHT:660,EXTRA_SMALL_HEIGHT:560,DIALOG_VERTICAL_MARGIN:80};e.exports=a}),null);
__d("VideoComposerDialogAdjustHeightBehavior",["csx","DOM","Env","Event","Style","SubscriptionsHandler","Vector","VideoComposerHeightConfig","throttle"],(function(a,b,c,d,e,f,g){var h;a=function(){"use strict";function a(a){var c=this;this.$4=function(){b("Style").set(c.$3,"height",c.$5()+"px"),c.$2.updatePosition()};this.$2=a}var c=a.prototype;c.enable=function(){this.$1=new(b("SubscriptionsHandler"))(),this.$1.addSubscriptions(this.$2.subscribe("beforeshow",this.$4),b("Event").listen(window,"resize",b("throttle")(this.$4))),this.$3=b("DOM").find(this.$2.getRoot(),"._6er7")};c.disable=function(){this.$1&&this.$1.release(),this.$1=null};c.$5=function(){if((h||(h=b("Env"))).isCQuick)return b("VideoComposerHeightConfig").SMALL_HEIGHT;var a=b("Vector").getViewportDimensions().y;if(a>=b("VideoComposerHeightConfig").LARGE_HEIGHT+b("VideoComposerHeightConfig").DIALOG_VERTICAL_MARGIN)return b("VideoComposerHeightConfig").LARGE_HEIGHT;if(a>=b("VideoComposerHeightConfig").STANDARD_HEIGHT+b("VideoComposerHeightConfig").DIALOG_VERTICAL_MARGIN)return b("VideoComposerHeightConfig").STANDARD_HEIGHT;return a>=b("VideoComposerHeightConfig").SMALL_HEIGHT+b("VideoComposerHeightConfig").DIALOG_VERTICAL_MARGIN/2?b("VideoComposerHeightConfig").SMALL_HEIGHT:b("VideoComposerHeightConfig").EXTRA_SMALL_HEIGHT};return a}();e.exports=a}),null);
__d("VideoComposerDialog.react",["cx","DialogDispatchToCompatBroker","Env","React","VideoComposerActions","VideoComposerDialogAdjustHeightBehavior","VideoComposerDialogConstants","VideoComposerPostPublishSummaryContainer.react","VideoComposerWrapperContainer.react","XUIDialog.react","XUIDialogBody.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){d.props.publishConfirmDialogShown?b("VideoComposerActions").closePublishConfirmDialog(d.props.videoComposerID):b("VideoComposerActions").exitDialogAttempt(d.props.videoComposerID)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a={};this.props.composerShown&&(a=babelHelpers["extends"]({},a,{VideoComposerDialogAdjustHeightBehavior:b("VideoComposerDialogAdjustHeightBehavior")}));(h||(h=b("Env"))).isCQuick&&(a=babelHelpers["extends"]({},a,{DialogDispatchToCompatBroker:b("DialogDispatchToCompatBroker")}));return i.jsx(b("XUIDialog.react"),{className:"_2rjm","data-testid":void 0,label:"placeholder",labelIsHidden:!0,layerHideOnBlur:!1,onHide:this.$1,isStrictlyControlled:!0,behaviors:a,shown:this.props.composerShown||this.props.publishConfirmDialogShown,width:this.props.composerShown?b("VideoComposerDialogConstants").DIALOG_WIDTH:b("VideoComposerDialogConstants").SECONDARY_DIALOG_WIDTH,children:i.jsx(b("XUIDialogBody.react"),{className:"_2rjf",children:this.props.composerShown?i.jsx(b("VideoComposerWrapperContainer.react"),{videoComposerID:this.props.videoComposerID}):this.props.publishConfirmDialogShown?i.jsx(b("VideoComposerPostPublishSummaryContainer.react"),{videoComposerID:this.props.videoComposerID}):null})})};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerLeftSection.react",["cx","React","VideoComposerBodySectionContainer.react","VideoComposerDialogConstants"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsx("div",{className:"_6enj",style:{width:b("VideoComposerDialogConstants").LEFT_SECTION_WIDTH},children:h.jsx(b("VideoComposerBodySectionContainer.react"),{videoComposerID:this.props.videoComposerID})})};return c}(h.Component);e.exports=a}),null);
__d("MediaManagerBulkUploadActions",["MediaManagerActionTypes","MediaManagerDispatcher","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("MediaManagerActionTypes").MediaManagerActionTypes;a=function(a,c){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_LAUNCH_PANEL,eventSource:a,saveSuccessCallback:c})};c=function(a,c,d,e){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_EDIT_LAUNCH_PANEL,eventSource:a,page:c,videoIDs:d,saveSuccessCallback:e})};d=function(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_SET_BULK_SCHEDULE_INFO,bulkUploadBulkScheduleInfo:a})};f=function(a,c){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_UPDATE_PUBLISHING_TYPE_PER_VIDEO,videoComposerID:a,publishingType:c})};var h=function(a,c){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_UPDATE_CUSTOM_LABELS_SETTING,labelsEntries:a,shouldDeleteOldCustomLabels:c})},i=function(a,c){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_UPDATE_TAGS_SETTING,shouldDeleteOldTags:a,tagsEntries:c})},j=function(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_UPDATE_PLAYLIST_SETTING,playlistOptionsStatus:a})},k=function(a,c){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_UPDATE_SERIES_SETTING,seriesSelected:a,seasonSelected:c})},l=function(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_SET_PANEL_ROOT_REF,panelRootRef:a})},m=function(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_SET_RAW_VIDEO_FILES,rawVideoFiles:a})},n=function(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_START_UPLOAD_FOR_PAGE,page:a})},o=function(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_VIDEO_COMPOSER_ALL_TABS_BOOTLOADED,videoComposerID:a})},p=function(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_VIDEO_COMPOSER_INITIALIZED,videoComposerID:a})},q=function(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_EDIT_VIDEO_COMPOSER_INITIALIZED,videoComposerID:a})},r=function(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_VIDEO_COMPOSER_INIT_FAILED,videoComposerID:a})},s=function(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_VIDEO_COMPOSER_UPLOAD_FAILED,videoComposerID:a})},t=function(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_RETRY_INIT_FOR_FAILED_VIDEO,videoComposerID:a})},u=function(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_RETRY_INIT_FOR_ALL_FAILED_VIDEOS})},v=function(a,c,d){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_UPDATE_UPLOAD_PROGRESS,videoComposerID:a,uploadProgress:c,uploadFinished:d})},w=function(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_UPDATE_IN_STREAM_ADS_SETTING,isAutoPlacementOn:a})},x=function(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_UPDATE_CAPTION_SETTING,isAutoCaptionOn:a})},y=function(a,c){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_UPDATE_AUDIENCE_SETTING,gating:a,gatingSentences:c})},z=function(a,c,d,e,f,h,i){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_UPDATE_RIGHTS_SETTING,isRMLite:a,areCountriesIncluded:c,ownershipCountries:d,shouldDetectMatches:e,selectedCategory:f,monitoringType:h,matchRuleID:i})},A=function(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_LAUNCH_INDIVIDUAL_COMPOSER,videoComposerID:a})},B=function(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_CLOSE_INDIVIDUAL_COMPOSER,videoComposerID:a})},C=function(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_TOGGLE_VIDEO_ROW_SELECTION,videoComposerID:a})},D=function(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_TOGGLE_ALL_VIDEO_ROWS_SELECTION})},E=function(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_DELETE_VIDEO_ROWS_ATTEMPT})},F=function(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_DELETE_VIDEO_ROWS_ATTEMPT_CANCEL})},G=function(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_DELETE_VIDEO_ROWS_ATTEMPT_CONFIRM})},H=function(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_EXIT_PANEL_ATTEMPT})},I=function(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_EXIT_PANEL_ATTEMPT_CANCEL})},J=function(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_EXIT_PANEL_ATTEMPT_CONFIRM})},K=function(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_EDIT_SAVE_POSTS_ATTEMPT})},L=function(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_EDIT_SAVE_POSTS})},M=function(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_EDIT_SAVE_POST_BY_COMPOSER_ID,videoComposerID:a})},N=function(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_PUBLISH_POST_BY_COMPOSER_ID,videoComposerID:a})},O=function(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_CREATE_POSTS_ATTEMPT})},P=function(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_CREATE_POSTS})},Q=function(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_SHOW_INTERCEPTS_CONFIRM_PANEL,composerIDToInterceptsMap:a})},R=function(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_HIDE_INTERCEPTS_CONFIRM_PANEL})},S=function(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_CONFIRM_INTERCEPTS})},T=function(a,c){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_PUBLISH_POST_SUCCESS,videoComposerID:a,videoID:c})},U=function(a,c,d){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_PUBLISH_POST_FAILURE,videoComposerID:a,error:c,videoID:d})},V=function(a,c){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_EDIT_SAVE_POST_SUCCESS,videoComposerID:a,videoID:c})},W=function(a,c,d){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_EDIT_SAVE_POST_FAILURE,videoComposerID:a,error:c,videoID:d})},X=function(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_START_UPLOAD_FOR_NEXT_N_VIDEOS,nextVideosToUploadCount:a})},Y=function(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_REVEAL_PUBLISH_VALIDATION_ERRORS})},Z=function(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_ACTION_HIDE_UPDATED_TOAST})},$=function(a,c){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_SAVE_BULK_ACTION_UPDATE,bulkActionFeature:a,lastBulkActionStatusOn:c})},aa=function(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_SHOW_EDIT_PENCIL_TOOLTIP_FOR_VIDEO,videoComposerID:a})},ba=function(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_CLOSE_EDIT_PENCIL_TOOLTIP_FOR_VIDEO,videoComposerID:a})},ca=function(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_CLOSE_MULTIPLE_PUBLISH_NOW_WARNING_TOOLTIP_FOR_VIDEO,videoComposerID:a})},da=function(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_HIDE_EXCEEDED_VIDEOS_LIMIT_DIALOG})},ea=function(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_PARTIAL_RESET_ON_FAILURE})},fa=function(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_NAVIGATED_FROM_PAGE})},ga=function(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_BULK_UPLOAD_RESET})};e.exports={closeEditPencilTooltipForVideo:ba,closeIndividualComposer:B,closeMultiplePublishNowWarningTooltipForVideo:ca,confirmIntercepts:S,createPosts:P,createPostsAttempt:O,deleteVideoRowsAttempt:E,deleteVideoRowsAttemptCancel:F,deleteVideoRowsAttemptConfirm:G,exitPanelAttempt:H,exitPanelAttemptCancel:I,exitPanelAttemptConfirm:J,hideBulkActionUpdatedToast:Z,hideExceededVideosLimitDialog:da,hideInterceptsConfirmPanel:R,launchBulkEditPanel:c,launchBulkUploadPanel:a,launchIndividualComposer:A,navigatedFromPage:fa,partialResetOnFailure:ea,publishPostByComposerID:N,publishPostFailure:U,publishPostSuccess:T,retryInitForAllFailedVideos:u,retryInitForFailedVideo:t,revealPublishValidationErrors:Y,saveBulkActionUpdate:$,saveBulkEdit:L,saveBulkEditAttempt:K,editSaveSuccess:V,editSaveFailure:W,editSaveByComposerID:M,setBulkScheduleInfo:d,setPanelRootRef:l,setRawVideoFiles:m,showEditPencilTooltipForVideo:aa,showInterceptsConfirmPanel:Q,startUploadForNextNVideos:X,startUploadForPage:n,toggleAllVideoRowsSelection:D,toggleVideoRowSelection:C,updateAudienceSetting:y,updatePlaylistSetting:j,updateSeriesSetting:k,updateInStreamAdsSetting:w,updateCaptionSetting:x,updateCustomLabelsSetting:h,updateTagsSetting:i,updateRightsSetting:z,updateUploadProgress:v,updatePublishingTypePerVideo:f,videoComposerAllTabsBootloaded:o,videoComposerInitialized:p,videoEditComposerInitialized:q,videoComposerInitFailed:r,videoComposerUploadFailed:s,reset:ga}}),null);
__d("VideoComposerPanelIndividualComposerPublishDrawerFooter.react",["cx","fbt","FDSButton.react","React","VideoComposerActions"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("VideoComposerActions").closePublishDrawer(d.props.videoComposerID),d.props.onCloseComposer()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return i.jsx("div",{className:"_765t",children:i.jsx(b("FDSButton.react"),{href:"#",label:h._("Save"),size:"large",use:"primary",onClick:this.$1})})};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerSlidingDrawer.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return h.jsx("div",{className:"_2e5y",children:h.jsx("div",{className:"_2e5z",children:this.props.children})})};return b}(h.Component);e.exports=a}),null);
__d("VideoComposerUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a==="cs_home_upload_video"||a==="cs_home_multipost"||a==="cs_global_upload_video"||a==="cs_global_multipost"||a==="cs_content_library_upload_videos"||a==="liberty_video_composer"||a==="liberty_pages_composer"||a==="liberty_multipost_upsell_banner"||a==="cs_multipost_annoucement_card"||a==="cs_content_show_episode_upload"||a==="cs_content_show_trailer_upload"||a==="cs_home_bulk_video"||a==="cs_global_bulk_upload"||a==="cs_content_library_bulk_edit"||a==="cs_ab_testing_video_upload"||a==="cs_bulk_upload_annoucement_card"||a==="cs_content_library_bulk_upload"||a==="pages_composer_bulk_upload_upsell"}function b(a){return a==="cs_home_basic_post"||a==="cs_home_upload_video"||a==="cs_home_multipost"||a==="cs_global_basic_post"||a==="cs_global_upload_video"||a==="cs_global_multipost"||a==="cs_content_library_upload_videos"||a==="cs_bulk_upload_panel"||a==="media_manager"||a==="liberty_video_composer"||a==="liberty_pages_composer"||a==="liberty_multipost_upsell_banner"||a==="cs_multipost_annoucement_card"||a==="cs_content_show_episode_upload"||a==="cs_content_show_trailer_upload"||a==="cs_home_bulk_video"||a==="cs_global_bulk_upload"||a==="cs_content_library_bulk_edit"||a==="cs_ab_testing_video_upload"||a==="cs_bulk_upload_annoucement_card"||a==="cs_content_library_bulk_upload"||a==="pages_composer_bulk_upload_upsell"}function c(a){return a==="cs_home_multipost"||a==="cs_global_multipost"||a==="liberty_video_composer"||a==="liberty_pages_composer"||a==="liberty_multipost_upsell_banner"||a==="cs_multipost_annoucement_card"}function d(a){return a==="cs_content_show_episode_upload"||a==="cs_content_show_trailer_upload"}function f(a){return a==="cs_home_bulk_video"||a==="cs_global_bulk_upload"||a==="cs_bulk_upload_annoucement_card"||a==="cs_content_library_bulk_upload"||a==="pages_composer_bulk_upload_upsell"||a==="cs_content_library_bulk_edit"}function g(a){return a==="cs_ab_testing_video_upload"}e.exports={isFromCreatorStudioABTestingPanel:g,isFromCreatorStudioBulkUploadPanel:f,isFromCreatorStudioMultipostPanel:c,isFromCreatorStudioShowsPanel:d,isTrayBasedComposer:a,isCreatorStudioComposer:b}}),null);
__d("VideoComposerPublishDrawer.react",["cx","CreatorStudioMultipostActions","FlexLayout.react","MediaManagerBulkUploadActions","React","VideoComposerPanelIndividualComposerPublishDrawerFooter.react","VideoComposerPublishDrawerFooterContainer.react","VideoComposerPublishDrawerLeftSide.react","VideoComposerPublishDrawerRightSideContainer.react","VideoComposerSlidingDrawer.react","VideoComposerUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("VideoComposerUtils").isFromCreatorStudioBulkUploadPanel,j=b("VideoComposerUtils").isFromCreatorStudioMultipostPanel;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=null,d=j(this.props.composerEntryPointRef),e=i(this.props.composerEntryPointRef);d||e?c=h.jsx(b("VideoComposerPanelIndividualComposerPublishDrawerFooter.react"),{videoComposerID:this.props.videoComposerID,onCloseComposer:d?b("CreatorStudioMultipostActions").closeIndividualComposer:function(){return b("MediaManagerBulkUploadActions").closeIndividualComposer(a.props.videoComposerID)}}):c=h.jsx(b("VideoComposerPublishDrawerFooterContainer.react"),{videoComposerID:this.props.videoComposerID});return h.jsx(b("VideoComposerSlidingDrawer.react"),{children:h.jsxs(b("FlexLayout.react"),{direction:"vertical",align:"stretch",className:"_7taf",children:[h.jsxs(b("FlexLayout.react"),{justify:"all",align:"stretch",className:"_6er6",children:[h.jsx(b("VideoComposerPublishDrawerLeftSide.react"),{videoComposerID:this.props.videoComposerID}),h.jsx(b("VideoComposerPublishDrawerRightSideContainer.react"),{videoComposerID:this.props.videoComposerID})]}),c]})})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerPublishDrawerLeftSide.react",["cx","fbt","React","VideoComposerDialogConstants","VideoComposerDistributionContainer.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return i.jsxs("div",{className:"_6enj",style:{width:b("VideoComposerDialogConstants").LEFT_SECTION_WIDTH},children:[i.jsxs("div",{className:"_6lll",children:[i.jsx("div",{children:h._("Publishing options")}),i.jsx("div",{className:"_6enk"})]}),i.jsx("div",{className:"_6eme",children:i.jsx("div",{style:{width:b("VideoComposerDialogConstants").LEFT_SECTION_WIDTH-b("VideoComposerDialogConstants").LEFT_SECTION_PADDING},className:"_6emf",children:i.jsx(b("VideoComposerDistributionContainer.react"),{showGuidanceCard:this.props.showGuidanceCard===!0,videoComposerID:this.props.videoComposerID})})})]})};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerRHCPremiereUpsellUtils",["fbt"],(function(a,b,c,d,e,f,g){"use strict";b="2055604178103249";c=g._("You can now publish videos as premieres.");d=g._("As soon as your video is published, people will be able to watch, chat and engage with it in real time. You'll also be able to see how many people are watching the video at the same time. Afterwards, it'll appear as a regular video post.");function a(){return!1}e.exports={shouldShowPremiereMarketingVideo:a,TITLE:c,DESCRIPTION:d,PREMIERE_MARKETING_VIDEO_ID:b}}),null);
__d("VideoComposerPublishDrawerRHCPremiereUpsell.react",["cx","ix","FDSText.react","Image.react","React","VideoComponentCover.react","VideoComponentEmbeddedControls.react","VideoComponentPlayButton.react","VideoComposerRHCPremiereUpsellUtils","VideoDataContainer.react","VideoPlayer.react","XUISpinner.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=(a=b("VideoComposerRHCPremiereUpsellUtils")).DESCRIPTION,k=a.PREMIERE_MARKETING_VIDEO_ID,l=a.TITLE,m=a.shouldShowPremiereMarketingVideo;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=m()?i.jsx("div",{className:"_6pgz",children:i.jsx(b("VideoDataContainer.react"),{videoID:k,renderLoading:function(){return i.jsx(b("XUISpinner.react"),{})},children:i.jsxs(b("VideoPlayer.react"),{videoData:b("VideoDataContainer.react").VIDEO_DATA_PLACEHOLDER,width:265,subOrigin:"embedded_video",children:[i.jsx(b("VideoComponentCover.react"),{}),i.jsx(b("VideoComponentPlayButton.react"),{}),i.jsx(b("VideoComponentEmbeddedControls.react"),{showSettingsButton:!1})]})})}):null;return i.jsxs("div",{children:[i.jsxs("div",{className:"_6pit _6pgz",children:[i.jsx(b("Image.react"),{className:"_6pg-",src:h("648241")}),i.jsx("div",{className:"_6pg_",children:i.jsx(b("FDSText.react"),{color:"highlight",size:"body2",weight:"bold",children:l})})]}),i.jsx("div",{className:"_6pgz",children:i.jsx(b("FDSText.react"),{color:"secondary",size:"body2",children:j})}),a]})};return c}(i.Component);e.exports=c}),null);
__d("VideoComposerRightSectionHeading.react",["ix","cx","fbt","FlexLayout.react","Image.react","Link.react","React","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return j.jsxs(b("FlexLayout.react"),{justify:"all",align:"center",className:"_6ejt _2ph_",children:[j.jsxs(b("FlexLayout.react"),{align:"center",children:[this.props.icon,j.jsx("div",{className:"_3-9a",children:this.props.dialogTitle}),this.props.infoIcon]}),this.props.hideCloseButton===!0?null:j.jsx(b("Link.react"),{href:"#",className:"_6eju","data-testid":void 0,onClick:this.props.onCloseButtonClick,children:j.jsx(b("Image.react"),{alt:i._("Close"),src:g("478812")})})]})};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerPublishDrawerPreview.react",["ix","cx","fbt","Image.react","React","VideoComposerActions","VideoComposerDialogConstants","VideoComposerPublishDrawerRHCPremiereUpsell.react","VideoComposerRightSectionHeading.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){return b("VideoComposerActions").closePublishDrawer(d.props.videoComposerID)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=i._("What's this?"),c=j.jsx(b("VideoComposerPublishDrawerRHCPremiereUpsell.react"),{}),d=j.jsx(b("Image.react"),{src:g("368981")});return j.jsxs("div",{className:"_6em0",style:{width:b("VideoComposerDialogConstants").RIGHT_SECTION_WIDTH},children:[j.jsx(b("VideoComposerRightSectionHeading.react"),{closeButtonTestID:null,dialogTitle:a,hideCloseButton:this.props.isPublishing,icon:d,infoIcon:null,onCloseButtonClick:this.$1}),c]})};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerPublishDrawerRightSide.react",["React","VideoComposerPublishDrawerPreview.react","VideoComposerPublishDrawerRightSideChecklistContainer.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return this.props.showBestPracticesChecklist?g.jsx(b("VideoComposerPublishDrawerRightSideChecklistContainer.react"),{videoComposerID:this.props.videoComposerID}):g.jsx(b("VideoComposerPublishDrawerPreview.react"),{videoComposerID:this.props.videoComposerID,isPublishing:this.props.isPublishing})};return c}(g.Component);e.exports=a}),null);
__d("VideoComposerRightSection.react",["cx","React","VideoComposerDialogConstants","VideoComposerTabSectionContainer.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsx("div",{className:"_6em0",style:{width:b("VideoComposerDialogConstants").RIGHT_SECTION_WIDTH},children:h.jsx(b("VideoComposerTabSectionContainer.react"),{videoComposerID:this.props.videoComposerID})})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerDialogHeader.react",["ix","cx","fbt","Image.react","Link.react","React","VideoComposerActions","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("VideoComposerActions").exitDialogAttempt(d.props.videoComposerID)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$2=function(){var a;switch(this.props.dialogMode){case"video_upload":this.props.showVideoType==="trailer"?a=i._("Upload trailer"):a=i._("Upload video");break;case"video_crosspost":a=this.props.videoAssetWaterfallSource==="video_recovery_action"?i._("Repost Video"):i._("Crosspost video");break;case"video_edit":a=this.props.isPremiere?i._("Edit premiere"):i._("Edit video");break}return a};d.render=function(){var a=this.props.dialogMode==="video_upload"?"video_upload_dialog_close_button":this.props.dialogMode==="video_edit"?"edit_dialog_close_button":null;return j.jsxs("div",{className:"_8dwn",children:[j.jsx("div",{className:"_8dvx",children:this.$2()}),j.jsx(b("Link.react"),{href:"#",className:"_8dvy","data-testid":void 0,onClick:this.$1,children:j.jsx(b("Image.react"),{alt:i._("Close"),src:g("478814")})})]})};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerUploadExitConfirmDialog.react",["cx","fbt","CurrentUser","React","VideoComposerActions","VideoComposerDialogConstants","WebFunnelLogger","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogTitle.react","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("VideoComposerActions").closeConfirmDialog(d.props.videoComposerID)},d.$2=function(){b("VideoComposerActions").exitDialogSaveDraft(d.props.videoComposerID)},d.$3=function(){b("VideoComposerActions").exitDialog(d.props.videoComposerID),b("gkx")("1157336")&&new(b("WebFunnelLogger"))("AdBreaksCreatorFunnelDefinition").setAction("EXIT_VIDEO_COMPOSER").setSessionKey(b("CurrentUser").getAccountID()).markEnd().log()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.showSaveDraftButton?h._("Your video will not be uploaded and will be deleted. You can save your video as a draft."):h._("Your video will not be uploaded and will be deleted.");return i.jsxs(b("XUIDialog.react"),{className:"_6eng",isStrictlyControlled:!0,width:b("VideoComposerDialogConstants").SECONDARY_DIALOG_WIDTH,onHide:this.$1,onCancel:this.$1,shown:this.props.shown,children:[i.jsx(b("XUIDialogTitle.react"),{children:h._("Exit session")}),i.jsxs(b("XUIDialogBody.react"),{children:[i.jsx("div",{className:"_6epy",children:h._("Are you sure that you want to exit?")}),i.jsx("div",{className:"_6epz",children:a})]}),i.jsxs(b("XUIDialogFooter.react"),{leftContent:this.props.showSaveDraftButton?i.jsx(b("XUIDialogCancelButton.react"),{size:"xlarge"}):null,children:[this.props.showSaveDraftButton?i.jsx(b("XUIDialogButton.react"),{label:h._("Save as draft"),action:"button",size:"xlarge",onClick:this.$2}):i.jsx(b("XUIDialogCancelButton.react"),{size:"xlarge"}),i.jsx(b("XUIDialogButton.react"),{action:"confirm",className:"_6ep-",size:"xlarge",use:"confirm",label:h._("Exit without saving"),onClick:this.$3,"data-testid":void 0})]})]})};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerRoot.react",["cx","fbt","ix","FBConfirmDialog.react","FlexLayout.react","MediaManagerBlueBanner.react","React","VideoComposerActions","VideoComposerDialogHeader.react","VideoComposerFooterSectionContainer.react","VideoComposerLeftSection.react","VideoComposerPublishDrawerLeftSide.react","VideoComposerPublishDrawerRightSideContainer.react","VideoComposerRightSection.react","VideoComposerStepperContainer.react","VideoComposerUploadExitConfirmDialog.react","VideoComposerUtils"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isNuxVisible:!0},d.$1=function(){d.setState({isNuxVisible:!1})},d.$4=function(a){a||b("VideoComposerActions").closeConfirmDialog(d.props.videoComposerID)},d.$2=function(){b("VideoComposerActions").exitDialog(d.props.videoComposerID)},d.$3=function(){b("VideoComposerActions").closeConfirmDialog(d.props.videoComposerID)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=b("VideoComposerUtils").isFromCreatorStudioShowsPanel(this.props.composerEntryPointRef);a=this.props.showAddToSeriesNux&&this.state.isNuxVisible&&!a&&!this.props.publishDrawerShown;var c=this.props.dialogMode==="video_upload",d=this.props.dialogMode==="video_edit",e=b("VideoComposerUtils").isCreatorStudioComposer(this.props.composerEntryPointRef);d=c||this.props.isEditModeUpgrade&&d;var f=this.props.showDialogHeader;return j.jsxs(j.Fragment,{children:[j.jsxs(b("FlexLayout.react"),{align:"stretch",className:"_6er7",direction:"vertical",children:[f?j.jsx(b("VideoComposerDialogHeader.react"),{dialogMode:this.props.dialogMode,isPremiere:this.props.isPremiere,showVideoType:this.props.showVideoType,videoAssetWaterfallSource:this.props.videoAssetWaterfallSource,videoComposerID:this.props.videoComposerID}):null,a?j.jsx("div",{className:(e||f?"_2pib":"")+(f?" _2pif":""),children:j.jsx(b("MediaManagerBlueBanner.react"),{className:(e?"_87wo":"")+(!e&&!f?" _88xw":"")+(f?" _8dvw":""),headerText:null,imageSource:i("1017995"),showCloseButton:!0,showConfirmButton:!1,text:h._("Increase discovery of your content by adding thematically related videos to playlists or series. Add content to a playlist or series in step 2 of \"Publishing options\"."),onClose:this.$1})}):null,d?j.jsx(b("VideoComposerStepperContainer.react"),{addPaddingTop:a||!e||this.props.composerEntryPointRef==="cs_global_basic_post",videoComposerID:this.props.videoComposerID}):null,j.jsx(b("FlexLayout.react"),{justify:"all",align:"stretch",className:"_6er6"+(!d&&!f?" _90je":""),children:this.props.publishDrawerShown&&d?j.jsxs(j.Fragment,{children:[j.jsx(b("VideoComposerPublishDrawerLeftSide.react"),{videoComposerID:this.props.videoComposerID,showGuidanceCard:this.props.showAddToSeriesNux}),j.jsx(b("VideoComposerPublishDrawerRightSideContainer.react"),{videoComposerID:this.props.videoComposerID})]}):j.jsxs(j.Fragment,{children:[j.jsx(b("VideoComposerLeftSection.react"),{videoComposerID:this.props.videoComposerID}),j.jsx(b("VideoComposerRightSection.react"),{videoComposerID:this.props.videoComposerID})]})}),j.jsx(b("VideoComposerFooterSectionContainer.react"),{videoComposerID:this.props.videoComposerID})]}),c?j.jsx(b("VideoComposerUploadExitConfirmDialog.react"),{videoComposerID:this.props.videoComposerID,shown:this.props.showExitConfirmDialog,showSaveDraftButton:this.props.showSaveDraftButton}):j.jsx(b("FBConfirmDialog.react"),{className:"_6eng",title:h._("Exit session"),content:h._("Are you sure you want to leave?"),onConfirm:this.$2,onCancel:this.$3,onToggle:this.$4,shown:this.props.showExitConfirmDialog})]})};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerSpatialAudioControllerComponent.react",["Bootloader","React","SphericalDirectorSpatialAudioUtils","VideoComponent"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.enable=function(a){var c=this;if(!b("SphericalDirectorSpatialAudioUtils").getShouldUseSpatialAudioController())return;b("Bootloader").loadModules(["SphericalVideoSpatialAudioController"],function(d){var e,f=(e=b("SphericalDirectorSpatialAudioUtils")).getBufferParams(),g=e.getCanUseSpatialAudio(),h=e.getFocusEnabled(),i=e.getOffFocusLevelDB(),j=e.getFocusWidth(),k=e.getUseWebAudioImplementation(),l=e.getRemapChannelsForSevenPointOne(),m=e.getUseNewAudio360Renderer(),n=!0;e=e.getAudioChannelLayout();c.$1=new d(f,g,h,i,j,k,l,m,n,e);c.$1.enable(a)},"VideoComposerSpatialAudioControllerComponent.react")};d.disable=function(){this.$1&&this.$1.destroy()};d.render=function(){return null};return c}(a.Component);e.exports=b("VideoComponent").createContainer(c)}),null);
__d("VideoComposerStepper.react",["cx","fbt","FlexLayout.react","React","ShimButton.react","VideoComposerActions","VideoComposerFirstStepNextButtonContainer.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){d.props.isPublishing||b("VideoComposerActions").closePublishDrawer(d.props.videoComposerID)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return i.jsxs(b("FlexLayout.react"),{className:"_8d5a"+(this.props.addPaddingTop?" _2pif":""),children:[i.jsx("div",{className:"_8dzq",children:i.jsx(b("ShimButton.react"),{className:"_8dzr","data-testid":void 0,onClick:this.$1,children:i.jsx("div",{className:(this.props.publishDrawerShown?"":"_8d5c")+(this.props.publishDrawerShown&&!this.props.isPublishing?" _8d5d":"")+(this.props.isPublishing?" _8h_t":""),children:h._("1. Create a post.")})})}),i.jsx("div",{className:"_8dzq",children:i.jsx(b("VideoComposerFirstStepNextButtonContainer.react"),{videoComposerID:this.props.videoComposerID,dataTestID:"VIDEO_COMPOSER_STEPPER_NEXT_BUTTON",children:i.jsx("div",{className:(this.props.publishDrawerShown?"_8d5c":"")+(this.props.publishDrawerShown?"":" _8d5d"),children:h._("2. Publishing options")})})})]})};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerTabItem.react",["cx","Image.react","LeftRight.react","React","ShimButton.react","SimpleNUXMessage","Tooltip","VideoComposerActions","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=290;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={nuxShown:!1},d.$1=function(){b("VideoComposerActions").selectTab(d.props.videoComposerID,d.props.tabConfig.key),d.props.onTabClick&&d.props.onTabClick()},d.$2=function(){if(d.props.tabConfig.nuxMessage){b("SimpleNUXMessage").markMessageSeenByUser(d.props.tabConfig.nuxMessage);d.setState({nuxShown:!1});var a=d.props.tabConfig.onNuxMessageClose;a!=null&&a(d.props.videoComposerID)}},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.setState({nuxShown:this.props.tabConfig.nuxMessage?!b("SimpleNUXMessage").hasUserSeenMessage(this.props.tabConfig.nuxMessage):!1}),this.props.onTabRender&&this.props.onTabRender(this.props.tabConfig.key)};d.UNSAFE_componentWillReceiveProps=function(a){this.props.tabConfig.nuxMessage!==a.tabConfig.nuxMessage&&this.setState({nuxShown:a.tabConfig.nuxMessage?!b("SimpleNUXMessage").hasUserSeenMessage(a.tabConfig.nuxMessage):!1})};d.renderLayers=function(){var a=this,c=this.props.tabConfig;return!c.renderNuxMessage||!this.props.shouldShowNux?null:h.jsx(b("XUIAmbientNUX.react"),{contextRef:function(){return a.refs.tabContainer},shown:this.state.nuxShown,position:"left",width:"custom",customwidth:c.nuxWidth?c.nuxWidth:i,onCloseButtonClick:this.$2,children:c.renderNuxMessage()})};d.render=function(){var a=this.props.tabConfig;a=this.props.shouldShowNuxPill&&this.state.nuxShown&&a.nuxPillText?h.jsx("div",{className:"_84ff",children:h.jsx("span",{className:"_84f9",children:a.nuxPillText})}):null;return h.jsxs(b("ShimButton.react"),babelHelpers["extends"]({className:"_6ekr"+(this.props.isSelected?" _6eks":"")+(this.props.disabled?" _6ekt":""),ref:"tabContainer",href:"#",onClick:this.props.disabled?null:this.$1},b("Tooltip").propsFor(this.props.tooltip,"left"),{children:[h.jsxs(b("LeftRight.react"),{children:[h.jsxs("div",{className:"_6eku",children:[h.jsx(b("Image.react"),{className:"_6ekv _3-90",src:this.props.isSelected?this.props.tabConfig.glyphSelected:this.props.tabConfig.glyphUnselected}),h.jsx("span",{children:this.props.tabConfig.title})]}),h.jsxs("div",{className:"_6eku",children:[h.jsx("span",{children:this.props.badgeStatus}),a]})]}),h.jsx("div",{className:"_6ekw",children:this.props.customDescription?this.props.customDescription:this.props.tabConfig.defaultDescription}),this.renderLayers()]}))};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerTabItemContainer.react",["FluxContainer","React","VideoComposerStores","VideoComposerTabItem.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getThumbnailsStore(a.videoComposerID),b("VideoComposerStores").getUIStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getThumbnailsStore(c.videoComposerID).getState();a=a.selectedThumbnail;c=b("VideoComposerStores").getUIStore(c.videoComposerID).getState();var d=c.navigatedAwayFromLoadedTab;c=c.publishDrawerShown;return{selectedThumbnail:a,navigatedAwayFromLoadedTab:d,publishDrawerShown:c}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerTabItem.react"),babelHelpers["extends"]({},this.props,{shouldShowNux:!this.state.navigatedAwayFromLoadedTab&&!this.state.publishDrawerShown}))};return c}(g.PureComponent);a.defaultProps={disabled:!1};e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerMoreOptionsButton.react",["ix","cx","fbt","Image","React","ShimButton.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return j.jsx(b("ShimButton.react"),babelHelpers["extends"]({},this.props,{children:j.jsxs("div",{className:"_771c",children:[i._("More Options"),j.jsx(b("Image"),{source:g("760379")})]})}))};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerTabSection.react",["cx","DOMEventListener","FBScrollbarsUtils","React","VideoComposerMoreOptionsButton.react","VideoComposerTabs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("FBScrollbarsUtils").addScrollingContainerResizeObserver,i=b("React"),j=15,k=96;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={showMoreOptionsButton:!1,hasDismissedMoreOptionsButton:!1},c.$1=i.createRef(),c.$4=function(a){a=c.$1.current;a&&(a.scrollTop=a.offsetHeight,c.$3())},c.$5=function(){var a=c.$1.current;a&&c.setState({showMoreOptionsButton:a.scrollHeight-a.offsetHeight>=k-j})},c.$6=function(){var a=c.$1.current;a&&c.$3()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$3=function(){this.setState({showMoreOptionsButton:!1,hasDismissedMoreOptionsButton:!0})};d.componentDidMount=function(){var a=this.$1.current;if(!a)return;h(a,"vertical",this.$5);this.$2=b("DOMEventListener").add(a,"scroll",this.$6,{passive:!0})};d.componentWillUnmount=function(){this.$2&&this.$2.remove()};d.render=function(){var a=this;return i.jsxs("div",{className:"_6em_",ref:this.$1,children:[this.props.enabledTabs.map(function(c){var d=b("VideoComposerTabs").get(c).tabContainer;return i.jsx(d,{videoComposerID:a.props.videoComposerID},c)}),this.state.showMoreOptionsButton&&!this.state.hasDismissedMoreOptionsButton?i.jsx(b("VideoComposerMoreOptionsButton.react"),{onClick:this.$4}):null]})};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerBasicActions",["VideoComposerActions","VideoComposerActionTypes","VideoComposerDispatchers"],(function(a,b,c,d,e,f){"use strict";a=function(a,c){c={type:b("VideoComposerActionTypes").BOOTLOAD_DEFAULT_EDIT_PARAMS,data:c};b("VideoComposerDispatchers").get(a).dispatch(c)};c=function(a,c){c={type:b("VideoComposerActionTypes").BOOTLOAD_DEFAULT_TAB_PARAMETERS,data:c};b("VideoComposerDispatchers").get(a).dispatch(c)};d=function(a,c){c={type:b("VideoComposerActionTypes").BOOTLOAD_CROSSPOST_DEFAULT_TAB,data:c};b("VideoComposerDispatchers").get(a).dispatch(c)};f=function(a,c){c={type:b("VideoComposerActionTypes").UPDATE_IS_EXPLICITLY_TAGGED_AS_GAMING_VIDEO,isExplicitlyTaggedAsGamingVideo:c};b("VideoComposerDispatchers").get(a).dispatch(c)};var g=function(a,c){c={type:b("VideoComposerActionTypes").CHANGE_GAME,game:c};b("VideoComposerDispatchers").get(a).dispatch(c)},h=function(a){var c={type:b("VideoComposerActionTypes").HIDE_MISSING_FUNDED_CONTENT_PROGRAM_TYPE_TOOLTIP};b("VideoComposerDispatchers").get(a).dispatch(c)},i=function(a,c){c={type:b("VideoComposerActionTypes").HIGHLIGHT_MISSING_FUNDED_CONTENT_PROGRAM_TYPE_TOOLTIP,tooltipTextFCF:c};b("VideoComposerDispatchers").get(a).dispatch(c);b("VideoComposerActions").selectTab(a,"basic")},j=function(a){var c={type:b("VideoComposerActionTypes").PAUSE_VIDEO_PREVIEW};b("VideoComposerDispatchers").get(a).dispatch(c)},k=function(a){var c={type:b("VideoComposerActionTypes").TOGGLE_CROSSPOST_TO_PARENT};b("VideoComposerDispatchers").get(a).dispatch(c)},l=function(a,c){c={type:b("VideoComposerActionTypes").UPDATE_CONTENT_TAGS,tags:c};b("VideoComposerDispatchers").get(a).dispatch(c)},m=function(a,c){c={type:b("VideoComposerActionTypes").APPEND_CONTENT_TAGS,tags:c};b("VideoComposerDispatchers").get(a).dispatch(c)},n=function(a,c){c={type:b("VideoComposerActionTypes").UPDATE_BROWSE_TAGS,tags:c};b("VideoComposerDispatchers").get(a).dispatch(c)},o=function(a,c){c={type:b("VideoComposerActionTypes").UPDATE_HISTORY_TAGS,tags:c};b("VideoComposerDispatchers").get(a).dispatch(c)},p=function(a,c){c={type:b("VideoComposerActionTypes").UPDATE_SUGGESTED_TAGS,tags:c};b("VideoComposerDispatchers").get(a).dispatch(c)},q=function(a,c){c={type:b("VideoComposerActionTypes").UPDATE_TAG_SUGGESTION_SOURCE,tab:c};b("VideoComposerDispatchers").get(a).dispatch(c)},r=function(a,c){c={type:b("VideoComposerActionTypes").UPDATE_DESCRIPTION_EDITOR_STATE,editorState:c};b("VideoComposerDispatchers").get(a).dispatch(c)},s=function(a,c){c={type:b("VideoComposerActionTypes").UPDATE_FUNDED_CONTENT_PROGRAM,fundedContentProgram:c};b("VideoComposerDispatchers").get(a).dispatch(c);h(a)},t=function(a,c){c={type:b("VideoComposerActionTypes").UPDATE_PLAYLIST_IDS,playlistIDs:c};b("VideoComposerDispatchers").get(a).dispatch(c)},u=function(a,c){c={type:b("VideoComposerActionTypes").UPDATE_SEASON_ID_OLD,seasonIDOld:c};b("VideoComposerDispatchers").get(a).dispatch(c)},v=function(a,c,d){c={type:b("VideoComposerActionTypes").UPDATE_VIDEO_LIST_OPTIONS,playlistOptions:c,seasonOptionsOld:d};b("VideoComposerDispatchers").get(a).dispatch(c)},w=function(a,c){c={type:b("VideoComposerActionTypes").UPDATE_VIDEO_PREVIEW_CONTROLLER,videoPreviewController:c};b("VideoComposerDispatchers").get(a).dispatch(c)},x=function(a){var c={type:b("VideoComposerActionTypes").USER_PLAYED_VIDEO_PREVIEW};b("VideoComposerDispatchers").get(a).dispatch(c)},y=function(a,c){c={type:b("VideoComposerActionTypes").SET_IS_VIDEO_PREVIEW_PAUSED,isVideoPreviewPaused:c};b("VideoComposerDispatchers").get(a).dispatch(c)},z=function(a,c){c={type:b("VideoComposerActionTypes").UPDATE_DEAL,deal:c};b("VideoComposerDispatchers").get(a).dispatch(c)};e.exports={appendContentTags:m,bootloadDefaultEditParameters:a,bootloadDefaultTabParameters:c,bootloadCrosspostDefaultTabParameters:d,changeExplicitlyTaggedAsGamingVideo:f,changeGame:g,hideMissingFundedContentProgramTooltip:h,highlightMissingFundedContentProgram:i,pauseVideoPreview:j,setIsVideoPreviewPaused:y,toggleCrosspostToParent:k,updateContentTags:l,updateBrowseTags:n,updateHistoryTags:o,updateSuggestedTags:p,updateTagSuggestionSource:q,updateDescriptionEditorState:r,updateFundedContentProgram:s,updatePlaylistIDs:t,updateSeasonIDOld:u,updateVideoListOptions:v,updateVideoPreviewController:w,userPlayedVideoPreview:x,updateDeal:z}}),null);
__d("VideoComposerSoundEditorActions",["VideoComposerActionTypes","VideoComposerDispatchers"],(function(a,b,c,d,e,f){"use strict";a=function(a,c,d){c={type:b("VideoComposerActionTypes").SOUND_EDITOR_ADD_NESTING_TRACK_ITEM,trackId:c,trackData:d};b("VideoComposerDispatchers").get(a).dispatch(c)};c=function(a,c,d,e){c={type:b("VideoComposerActionTypes").SOUND_EDITOR_SCRUBBER_ADD_TRACK,trackId:c,startTimeInMs:d,endTimeInMs:e};b("VideoComposerDispatchers").get(a).dispatch(c)};d=function(a){var c={type:b("VideoComposerActionTypes").ATTEMPT_CLOSE_SOUND_EDITOR};b("VideoComposerDispatchers").get(a).dispatch(c)};f=function(a){var c={type:b("VideoComposerActionTypes").CANCEL_CLOSE_SOUND_EDITOR};b("VideoComposerDispatchers").get(a).dispatch(c)};var g=function(a){var c={type:b("VideoComposerActionTypes").CONFIRM_CLOSE_SOUND_EDITOR};b("VideoComposerDispatchers").get(a).dispatch(c)},h=function(a,c){c={type:b("VideoComposerActionTypes").SOUND_EDITOR_EDIT_ADDED_TRACK,addedTrackData:c};b("VideoComposerDispatchers").get(a).dispatch(c)},i=function(a,c,d,e){c={type:b("VideoComposerActionTypes").SOUND_EDITOR_DELETE_ADDED_TRACK,index:c,trackResultId:d,addedTrackId:e};b("VideoComposerDispatchers").get(a).dispatch(c)},j=function(a){var c={type:b("VideoComposerActionTypes").FINISH_TRACK_SELECTION};b("VideoComposerDispatchers").get(a).dispatch(c)},k=function(a){var c={type:b("VideoComposerActionTypes").SOUND_EDITOR_SOUND_COLLECTION_INIT};b("VideoComposerDispatchers").get(a).dispatch(c)},l=function(a){b("VideoComposerDispatchers").get(a).dispatch({type:b("VideoComposerActionTypes").SOUND_EDITOR_SOUND_COLLECTION_LOAD_NEXT_PAGE})},m=function(a){b("VideoComposerDispatchers").get(a).dispatch({type:b("VideoComposerActionTypes").SOUND_EDITOR_SOUND_COLLECTION_LOAD_TABS_DONE})},n=function(a,c){b("VideoComposerDispatchers").get(a).dispatch({type:b("VideoComposerActionTypes").SOUND_EDITOR_SOUND_COLLECTION_LOAD_TABS_ERROR,error:c})},o=function(a){var c={type:b("VideoComposerActionTypes").OPEN_SOUND_EDITOR};b("VideoComposerDispatchers").get(a).dispatch(c)},p=function(a){var c={type:b("VideoComposerActionTypes").OPEN_TRACK_SELECTOR};b("VideoComposerDispatchers").get(a).dispatch(c)},q=function(a,c){c={type:b("VideoComposerActionTypes").SOUND_EDITOR_REGISTER_SCRUBBER,scrubber:c};b("VideoComposerDispatchers").get(a).dispatch(c)},r=function(a){var c={type:b("VideoComposerActionTypes").SOUND_EDITOR_SAVE_DRAFT};b("VideoComposerDispatchers").get(a).dispatch(c)},s=function(a,c){c={type:b("VideoComposerActionTypes").SOUND_EDITOR_SET_SCRUBBER_FOCUS_POSITION,positionInMs:c};b("VideoComposerDispatchers").get(a).dispatch(c)},t=function(a,c){b("VideoComposerDispatchers").get(a).dispatch({type:b("VideoComposerActionTypes").SOUND_EDITOR_SET_SOUND_COLLECTION_AUDIO_PLAYER,audioPlayer:c})},u=function(a,c,d){b("VideoComposerDispatchers").get(a).dispatch({type:b("VideoComposerActionTypes").SOUND_EDITOR_SET_SOUND_COLLECTION_FILTER_SELECTION,tagtype:c,value:d})},v=function(a,c){b("VideoComposerDispatchers").get(a).dispatch({type:b("VideoComposerActionTypes").SOUND_EDITOR_SET_SOUND_COLLECTION_IS_PLAYING,isPlaying:c})},w=function(a,c,d){b("VideoComposerDispatchers").get(a).dispatch({type:b("VideoComposerActionTypes").SOUND_EDITOR_SET_SOUND_COLLECTION_NEXT_PAGE_PROMISE,promise:c,soundCollectionTab:d})},x=function(a,c){b("VideoComposerDispatchers").get(a).dispatch({type:b("VideoComposerActionTypes").SOUND_EDITOR_SET_SOUND_COLLECTION_PLAY_TRACK,track:c})},y=function(a,c,d,e){b("VideoComposerDispatchers").get(a).dispatch({type:b("VideoComposerActionTypes").SOUND_EDITOR_SET_SOUND_COLLECTION_SEARCH_RESULTS,results:c,resultType:d,totalResultsCount:e})},z=function(a,c){b("VideoComposerDispatchers").get(a).dispatch({type:b("VideoComposerActionTypes").SOUND_EDITOR_SET_SOUND_COLLECTION_TAB,soundCollectionTab:c})},A=function(a,c){b("VideoComposerDispatchers").get(a).dispatch({type:b("VideoComposerActionTypes").SOUND_EDITOR_SET_SOUND_COLLECTION_TAB_LOADING_DONE,soundCollectionTab:c})},B=function(a,c){b("VideoComposerDispatchers").get(a).dispatch({type:b("VideoComposerActionTypes").SOUND_EDITOR_SET_SOUND_COLLECTION_TAB_LOADING_ERROR,soundCollectionTab:c})},C=function(a,c){b("VideoComposerDispatchers").get(a).dispatch({type:b("VideoComposerActionTypes").SOUND_EDITOR_SET_VIDEO_PLAYER_VOLUME,volume:c})},D=function(a,c){b("VideoComposerDispatchers").get(a).dispatch({type:b("VideoComposerActionTypes").SOUND_EDITOR_SET_VIDEO_VOLUME,volume:c})},E=function(a,c){b("VideoComposerDispatchers").get(a).dispatch({type:b("VideoComposerActionTypes").SOUND_EDITOR_SHOW_VIDEO_VOLUME_EDITOR,show:c})},F=function(a,c){b("VideoComposerDispatchers").get(a).dispatch({type:b("VideoComposerActionTypes").SOUND_EDITOR_SOUND_COLLECTION_SELECT_TRACK,track:c})},G=function(a,c){b("VideoComposerDispatchers").get(a).dispatch({type:b("VideoComposerActionTypes").SOUND_EDITOR_SOUND_COLLECTION_UNSELECT_TRACK,trackId:c})},H=function(a,c,d){if(c==="sound_effects"){var e={type:b("VideoComposerActionTypes").SOUND_EDITOR_SUBMIT_EFFECTS_SEARCHSTRING,value:d};b("VideoComposerDispatchers").get(a).dispatch(e)}else if(c==="sound_tracks"){e={type:b("VideoComposerActionTypes").SOUND_EDITOR_SUBMIT_TRACKS_SEARCHSTRING,value:d};b("VideoComposerDispatchers").get(a).dispatch(e)}},I=function(a,c,d,e,f){c={type:b("VideoComposerActionTypes").SOUND_EDITOR_UPDATE_ADDED_TRACK,actionType:c,index:d,startTimeInMs:e,endTimeInMs:f};b("VideoComposerDispatchers").get(a).dispatch(c)},J=function(a,c,d,e){c={type:b("VideoComposerActionTypes").SOUND_EDITOR_UPDATE_ADDED_TRACK_VOLUME,actionType:c,index:d,volume:e};b("VideoComposerDispatchers").get(a).dispatch(c)},K=function(a,c){c={type:b("VideoComposerActionTypes").SOUND_EDITOR_UPDATE_SELECTED_TRACK_NESTING_ITEM_ORDER,trackId:c};b("VideoComposerDispatchers").get(a).dispatch(c)},L=function(a,c){c={type:b("VideoComposerActionTypes").SOUND_EDITOR_UPDATE_VIDEO_PLAYER_CONTROLLER,vpc:c};b("VideoComposerDispatchers").get(a).dispatch(c)};e.exports={addNestingTrackItemToSelectedList:a,addTrackToScrubber:c,attemptCloseSoundEditor:d,cancelCloseSoundEditor:f,confirmCloseSoundEditor:g,deleteAddedTrack:i,editAddedTrack:h,finishTrackSelection:j,initSoundCollection:k,loadSoundCollectionNextPage:l,loadSoundCollectionTabsDone:m,loadSoundCollectionTabsError:n,openSoundEditor:o,openTrackSelector:p,registerScrubber:q,saveSoundEditorDraft:r,scrollScrubberToPosition:s,setAudioPlayerRef:t,setSoundCollectionFilterSelected:u,setSoundCollectionIsPlaying:v,setSoundCollectionNextPagePromise:w,setSoundCollectionPlayTrack:x,setSoundCollectionSearchResults:y,setSoundCollectionTab:z,setSoundCollectionTabLoadingDone:A,setSoundCollectionTabLoadingError:B,setVideoPlayerVolume:C,setVideoVolume:D,showVideoVolumeEditor:E,soundCollectionSelectTrack:F,soundCollectionUnselectTrack:G,submitSearchString:H,updateAddedTrack:I,updateAddedTrackVolume:J,updateSelectedTrackNestingItemOrder:K,updateVideoPlayerController:L}}),null);
__d("VideoComposerSoundEditorButton.react",["ix","fbt","FDSButton.react","Image.react","React","VideoComposerBasicActions","VideoComposerSoundEditorActions","asset"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={hovering:!1},d.$1=function(){d.setState({hovering:!1})},d.$2=function(){d.setState({hovering:!0})},d.$3=function(){b("VideoComposerBasicActions").pauseVideoPreview(d.props.videoComposerID),b("VideoComposerSoundEditorActions").openSoundEditor(d.props.videoComposerID)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=h._("Add Music");return i.jsx("div",{style:{backgroundColor:this.state.hovering?"rgba(0,0,0,0.70)":null},children:i.jsx(b("FDSButton.react"),{icon:i.jsx(b("Image.react"),{src:g("506930")}),label:this.state.hovering?a:"",onClick:this.$3,use:"flatWhite",onMouseEnter:this.$2,onMouseLeave:this.$1})})};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerVideoEditActionGroup.react",["cx","React","VideoComposerSoundEditorButton.react","VideoComposerTrimmingButtonContainer.react","VideoComposerVideoEditorToolTypes"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("VideoComposerVideoEditorToolTypes").VideoComposerVideoEditorTools;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){var a=this;if(this.props.editorTools.length<=0)return null;var b=this.props.editorTools.map(function(b){return h.jsx(j,{toolKey:b,videoComposerID:a.props.videoComposerID},b)});return h.jsx("div",{className:"_6f-3",children:b})};return b}(h.Component);function j(a){switch(a.toolKey){case i.TRIM:return h.jsx(b("VideoComposerTrimmingButtonContainer.react"),{videoComposerID:a.videoComposerID});case i.SOUND:return h.jsx(b("VideoComposerSoundEditorButton.react"),{videoComposerID:a.videoComposerID});default:throw new Error("Unimplemented editor tool")}}e.exports=a}),null);
__d("VideoWithPlayStartEnd",["SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,c,d,e,f,g,h){var i=this;this.$1=e;this.$5=!1;this.$3=!0;this.$8=d||0;this.setEndTime(a);this.setStartTime(c);this.setLoop(h);this.$11=new(b("SubscriptionsHandler"))();this.onUpdateCurrentPlayPosition=f;this.onUpdatePlayerState=g;this.$1.seek(this.$10);this.$11.addSubscriptions(this.$1.addListener("updateStatus",this.$12.bind(this)),this.$1.addListener("playRequested",function(a){return i.$13()}),this.$1.addListener("previewByStartEndTime",function(a){return i.$14(a.startTime,a.endTime,a.persistPlayState)}),this.$1.addListener("pausePlayback",function(){i.onUpdatePlayerState&&i.onUpdatePlayerState(!1),i.$5=!1,i.$3=!0}),this.$1.addListener("finishPlayback",function(){i.onUpdatePlayerState&&i.onUpdatePlayerState(!1),i.$5=!1,i.$3=!0}),this.$1.addListener("beginPlayback",function(){i.$5=!0,i.$3=!1}))}var c=a.prototype;c.$13=function(){var a=this.$1.getVideoAPI().getCurrentTimePosition();(a<this.$10||a>=this.$2)&&(this.$1.setState("playing"),this.$1.seek(this.$10));this.$5=!0;this.$3=!1};c.$14=function(a,b,c){a+=this.$8,b+=this.$8,a=Math.max(a,this.$10),b=Math.min(b,this.$2),this.$15(a),this.$16(b),this.$4=!0,this.$5=!1,this.$3=!1,this.$1.seek(this.$9),c||this.$1.play("user_initiated")};c.$15=function(a){this.$9=a};c.$16=function(a){this.$7=a};c.$12=function(a){this.$5&&(this.onUpdateCurrentPlayPosition&&this.onUpdateCurrentPlayPosition(a)),this.$3||this.onUpdatePlayerState&&this.onUpdatePlayerState(!0),this.$4||(this.$5=!0),this.$4&&a.position>=this.$7?this.$6?this.$1.seek(this.$9):(this.$1.pause("user_initiated"),this.$4=!1):a.position>=this.$2&&(this.$1.pause("user_initiated"),this.$1.setState("finished"))};c.seek=function(a){this.$1&&this.$1.seek(a)};c.getStartTime=function(){return this.$10};c.setStartTime=function(a){this.$10=a};c.getEndTime=function(){return this.$2};c.setEndTime=function(a){this.$2=a};c.getLoop=function(){return this.$6};c.setLoop=function(a){this.$6=a};c.setOnUpdateCurrentPlayPosition=function(a){this.onUpdateCurrentPlayPosition=a};c.release=function(){this.$11.release()};return a}();e.exports=a}),null);
__d("VideoComponentWithPlayStartEnd.react",["React","VideoComponent","VideoWithPlayStartEnd"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.enable=function(a){this.$1=a,this.props.onEnableVPC&&this.props.onEnableVPC(a),this.$2=new(b("VideoWithPlayStartEnd"))(this.props.endTime,this.props.startTime,this.props.previewTimeOffset,this.$1,this.props.onUpdateCurrentPlayPosition,this.props.onUpdatePlayerState,this.props.loop)};d.disable=function(){this.$2.release()};d.UNSAFE_componentWillUpdate=function(a){var b=a.endTime,c=a.startTime,d=a.loop,e=a.onUpdateCurrentPlayPosition;this.$2&&this.props.onUpdateCurrentPlayPosition!==e&&this.$2.setOnUpdateCurrentPlayPosition(e);e=a.endTime!==this.props.endTime||a.startTime!==this.props.startTime||a.loop!==this.props.loop;this.$2&&e&&(this.$2.setStartTime(c),this.$2.setEndTime(b),this.$2.setLoop(d),this.$2.seek(c))};d.render=function(){return null};return c}(a.Component);c.defaultProps={loop:!1,previewTimeOffset:0};e.exports=b("VideoComponent").createContainer(c)}),null);
__d("VideoComposerVideoPlayer.react",["cx","fbt","ix","ErrorBoundary.react","Image.react","React","VideoComponentEmbeddedControls.react","VideoComponentPlayButton.react","VideoComponentScrubberPreview.react","VideoComponentWithLoopingPlayback.react","VideoComponentWithPlayStartEnd.react","VideoComponentWithSpacePlayPause.react","VideoComposerBasicActions","VideoComposerBasicVideoLanguageSelectorContainer.react","VideoComposerSpatialAudioControllerComponent.react","VideoComposerVideoEditActionGroup.react","VideoPlayer.react","joinClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){b("VideoComposerBasicActions").updateVideoPreviewController(d.props.videoComposerID,a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=j.jsxs(b("VideoPlayer.react"),{className:"_6eoq",videoData:this.props.videoData,height:this.props.height,width:this.props.width,autoplay:!1,subOrigin:"not_specified_please_fix",onVideoClick:this.props.onVideoClick,onVpcUpdate:this.$1,children:[j.jsx(b("VideoComponentPlayButton.react"),{alsoVisibleWhen:"finished"}),j.jsx(b("VideoComponentEmbeddedControls.react"),{showSettingsButton:!0,displayDurationLimit:this.props.endTime!==0?this.props.endTime-this.props.startTime:null,displayTimeOffset:this.props.startTime}),this.props.endTime!==0?j.jsx(b("VideoComponentWithPlayStartEnd.react"),{endTime:this.props.endTime,startTime:this.props.startTime}):null,j.jsx(b("VideoComponentWithLoopingPlayback.react"),{}),j.jsx(b("VideoComponentWithSpacePlayPause.react"),{}),j.jsx(b("VideoComponentScrubberPreview.react"),{}),j.jsx(b("VideoComposerSpatialAudioControllerComponent.react"),{})]}),c=j.jsxs("div",{className:"_6eor",style:{height:this.props.height,width:this.props.width},children:[j.jsx(b("Image.react"),{src:i("485937"),className:"_6eos"}),j.jsx("div",{className:"_6eot",children:h._("Video preview unavailable")}),j.jsx("div",{className:"_6eou",children:h._("Video preview is not available for this video file")})]});return j.jsx("div",{className:b("joinClasses")(this.props.className,"_6eov"),children:j.jsx(b("ErrorBoundary.react"),{children:j.jsxs("div",{className:"_6eow"+(this.props.videoMetadataUnavailable?" _6eox":""),children:[this.props.videoMetadataUnavailable?c:a,this.props.videoEditorTools?j.jsx(b("VideoComposerVideoEditActionGroup.react"),{videoComposerID:this.props.videoComposerID,editorTools:this.props.videoEditorTools}):null,this.props.showLanguageSelectorOverlay?j.jsx(b("VideoComposerBasicVideoLanguageSelectorContainer.react"),{videoComposerID:this.props.videoComposerID}):null]})})})};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerPrimaryActionErrorDialog.react",["cx","fbt","ix","FlexLayout.react","Image.react","LeftRight.react","React","VideoComposerActions","VideoComposerDialogConstants","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("VideoComposerActions").closePrimaryErrorDialog(d.props.videoComposerID)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a;switch(this.props.dialogMode){case"video_crosspost":case"video_upload":a=h._("There was an error while creating your video post");break;case"video_edit":a=h._("There was an error while saving your video");break}return j.jsxs(b("XUIDialog.react"),{isStrictlyControlled:!0,label:"primary action error dialog",shown:this.props.shown,width:b("VideoComposerDialogConstants").SECONDARY_DIALOG_WIDTH,children:[j.jsxs(b("XUIDialogBody.react"),{children:[j.jsxs(b("LeftRight.react"),{children:[j.jsx("div",{}),j.jsx(b("Image.react"),{style:{cursor:"pointer"},src:i("363596"),onClick:this.$1})]}),j.jsxs(b("FlexLayout.react"),{direction:"vertical",align:"center",children:[j.jsx(b("Image.react"),{src:i("467078"),className:"_900q"}),j.jsx("div",{className:"_6em4",children:a}),j.jsx("div",{className:"_6em5",children:this.props.errorMessage?this.props.errorMessage:h._("Sorry, something went wrong. Please try again later.")})]})]}),j.jsx("div",{children:j.jsx(b("XUIDialogFooter.react"),{children:j.jsx(b("XUIButton.react"),{size:"xlarge",use:"confirm",onClick:this.$1,label:h._("Continue")})})})]})};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerWrapper.react",["React","VideoComposerPrimaryActionErrorDialog.react","VideoComposerRootContainer.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.composerShown?g.jsx(b("VideoComposerRootContainer.react"),{videoComposerID:this.props.videoComposerID}):null;return g.jsxs("div",{children:[a,g.jsx(b("VideoComposerPrimaryActionErrorDialog.react"),{videoComposerID:this.props.videoComposerID,shown:this.props.primaryActionErrorDialogShown,errorMessage:this.props.primaryActionErrorMessage||"",dialogMode:this.props.dialogMode})]})};return c}(g.Component);e.exports=a}),null);
__d("VideoComposerField.react",["ix","cx","FlexLayout.react","Image.react","React","Tooltip.react","XUIGrayText.react","XUIText.react","cxMargin","fbglyph"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return i.jsxs("div",{className:this.props.disabled?"_6el2":"",children:[i.jsx("div",{className:this.props.showTopBorder?"_6el3":""}),i.jsx("div",{className:this.props.guidanceCard!=null?"_2pig":"",children:this.props.guidanceCard}),i.jsxs("div",{className:"_6el4"+(this.props.showTopBorder?" _2pig":""),children:[i.jsxs("div",{className:"_6el5"+(this.props.disableLeftSection?" _6el6":""),children:[i.jsxs(b("FlexLayout.react"),{align:"center",className:"_6el7",children:[i.jsx(b("XUIText.react"),{size:"header4",weight:"bold",children:this.props.title}),this.props.tooltip?i.jsx(b("Tooltip.react"),{tooltip:this.props.tooltip,children:i.jsx(b("Image.react"),{className:"_6ek9",src:g("126340")})}):null]}),this.props.subtitle?i.jsx(b("XUIGrayText.react"),{className:"_6el8",display:"block",size:"meta1",children:this.props.subtitle}):null,this.props.children&&i.jsx("div",{className:"_84m5",children:this.props.children}),this.props.footer?i.jsx("div",{className:"_3-8y",children:this.props.footer}):null]}),i.jsx("div",{className:"_6el9"+(this.props.inputPadding?" _6ela":""),children:this.props.input})]})]})};return c}(i.Component);a.defaultProps={disabled:!1,inputPadding:!1,showTopBorder:!0};e.exports=a}),null);
__d("VideoComposerAdBreakBlockListField.react",["fbt","PagesSettingsInstreamAdsBlockListContainer","React","VideoComposerField.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.pageID;return a==null?null:h.jsx(b("VideoComposerField.react"),{input:h.jsx(b("PagesSettingsInstreamAdsBlockListContainer"),{appliable:!0,currentPageId:a,isNewComposerStyle:!0,shouldInitializeOnMount:!1}),inputPadding:!0,subtitle:g._("Use block lists to prevent certain kinds of ads from appearing in your videos."),title:g._("Block lists"),tooltip:g._("Use block lists to prevent certain types of ads from appearing in your videos. Block lists can be applied to specific videos or to all videos on your Page.")})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerAdBreakCountryRestrictionsField.react",["fbt","PagesSettingsInstreamAdsCountryRestrictionsContainer","React","VideoComposerField.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.pageID;return a==null?null:h.jsx(b("VideoComposerField.react"),{input:h.jsx(b("PagesSettingsInstreamAdsCountryRestrictionsContainer"),{appliable:!0,currentPageId:a,isNewComposerStyle:!0,shouldInitializeOnMount:!1}),inputPadding:!0,subtitle:g._("Decide which countries can see ads in your videos."),title:g._("Country restrictions"),tooltip:g._("Limit where ads will be shown by targeting or excluding specific countries.")})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerPollsActions",["VideoComposerActionTypes","VideoComposerDispatchers"],(function(a,b,c,d,e,f){"use strict";a=function(a){var c={type:b("VideoComposerActionTypes").POLLS_ADD_NEW,isAdBreakPoll:!1};b("VideoComposerDispatchers").get(a).dispatch(c)};c=function(a){var c={type:b("VideoComposerActionTypes").POLLS_ADD_NEW,isAdBreakPoll:!0};b("VideoComposerDispatchers").get(a).dispatch(c)};d=function(a){var c={type:b("VideoComposerActionTypes").POLLS_CANCEL_CHANGES_ATTEMPT};b("VideoComposerDispatchers").get(a).dispatch(c)};f=function(a){var c={type:b("VideoComposerActionTypes").POLLS_CANCEL_CHANGES_ABANDON};b("VideoComposerDispatchers").get(a).dispatch(c)};var g=function(a){var c={type:b("VideoComposerActionTypes").POLLS_CANCEL_CHANGES_CONFIRM};b("VideoComposerDispatchers").get(a).dispatch(c)},h=function(a){var c={type:b("VideoComposerActionTypes").POLLS_CLOSE_EDITOR_ATTEMPT};b("VideoComposerDispatchers").get(a).dispatch(c)},i=function(a){var c={type:b("VideoComposerActionTypes").POLLS_CLOSE_EDITOR_ABANDON};b("VideoComposerDispatchers").get(a).dispatch(c)},j=function(a){var c={type:b("VideoComposerActionTypes").POLLS_CLOSE_EDITOR_CONFIRM};b("VideoComposerDispatchers").get(a).dispatch(c)},k=function(a){var c={type:b("VideoComposerActionTypes").POLLS_DRAFT_ADD_OPTION};b("VideoComposerDispatchers").get(a).dispatch(c)},l=function(a,c){c={type:b("VideoComposerActionTypes").POLLS_DRAFT_DELETE_OPTION,optionIndex:c};b("VideoComposerDispatchers").get(a).dispatch(c)},m=function(a){var c={type:b("VideoComposerActionTypes").POLLS_DRAFT_TOGGLE_AD_BREAK_POLL};b("VideoComposerDispatchers").get(a).dispatch(c)},n=function(a,c){c={type:b("VideoComposerActionTypes").POLLS_DRAFT_SET_RESULTS_VISIBLE,showResultsAfterVote:c};b("VideoComposerDispatchers").get(a).dispatch(c)},o=function(a,c){c={type:b("VideoComposerActionTypes").POLLS_DRAFT_SET_DISPLAY_RESULTS_TIMESTAMP,time:c};b("VideoComposerDispatchers").get(a).dispatch(c)},p=function(a,c){c={type:b("VideoComposerActionTypes").POLLS_DRAFT_SET_VOTING_CLOSED_TIMESTAMP,time:c};b("VideoComposerDispatchers").get(a).dispatch(c)},q=function(a,c){c={type:b("VideoComposerActionTypes").POLLS_DRAFT_UPDATE_END_TIME,time:c};b("VideoComposerDispatchers").get(a).dispatch(c)},r=function(a,c,d){c={type:b("VideoComposerActionTypes").POLLS_DRAFT_UPDATE_OPTION_TEXT,text:c,optionIndex:d};b("VideoComposerDispatchers").get(a).dispatch(c)},s=function(a,c,d){c={type:b("VideoComposerActionTypes").POLLS_DRAFT_STICKER_SELECT,stickerID:c,optionIndex:d};b("VideoComposerDispatchers").get(a).dispatch(c)},t=function(a,c,d,e){c={type:b("VideoComposerActionTypes").POLLS_DRAFT_UPDATE_IMAGE_ATTACHMENT,imageURL:c,imageFile:d,optionIndex:e};b("VideoComposerDispatchers").get(a).dispatch(c)},u=function(a,c){c={type:b("VideoComposerActionTypes").POLLS_TOGGLE_WAS_LIVE_VOTING,enableWasLiveVoting:c};b("VideoComposerDispatchers").get(a).dispatch(c)},v=function(a,c){c={type:b("VideoComposerActionTypes").POLLS_DRAFT_UPDATE_QUESTION,text:c};b("VideoComposerDispatchers").get(a).dispatch(c)},w=function(a,c){c={type:b("VideoComposerActionTypes").POLLS_DRAFT_UPDATE_START_TIME,time:c};b("VideoComposerDispatchers").get(a).dispatch(c)},x=function(a,c){c={type:b("VideoComposerActionTypes").POLLS_EDIT_ATTEMPT,pollID:c};b("VideoComposerDispatchers").get(a).dispatch(c)},y=function(a){var c={type:b("VideoComposerActionTypes").POLLS_EDIT_ATTEMPT_DISCARD_PREVIOUS};b("VideoComposerDispatchers").get(a).dispatch(c)},z=function(a){var c={type:b("VideoComposerActionTypes").POLLS_EDIT_ATTEMPT_HIDE_DIALOG};b("VideoComposerDispatchers").get(a).dispatch(c)},A=function(a){var c={type:b("VideoComposerActionTypes").POLLS_EDIT_ATTEMPT_SAVE_PREVIOUS};b("VideoComposerDispatchers").get(a).dispatch(c)},B=function(a){var c={type:b("VideoComposerActionTypes").POLLS_SAVE};b("VideoComposerDispatchers").get(a).dispatch(c)},C=function(a,c){c={type:b("VideoComposerActionTypes").POLLS_BOOTLOAD_EDIT,data:c};b("VideoComposerDispatchers").get(a).dispatch(c)},D=function(a,c){c={type:b("VideoComposerActionTypes").POLLS_DELETE_ATTEMPT,pollID:c};b("VideoComposerDispatchers").get(a).dispatch(c)},E=function(a){var c={type:b("VideoComposerActionTypes").POLLS_DELETE_INTERACTION_CANCEL};b("VideoComposerDispatchers").get(a).dispatch(c)},F=function(a){var c={type:b("VideoComposerActionTypes").POLLS_DELETE_CONFIRM};b("VideoComposerDispatchers").get(a).dispatch(c)},G=function(a){var c={type:b("VideoComposerActionTypes").POLLS_OPEN_POLLS_FORM_SECTION_ATTEMPT};b("VideoComposerDispatchers").get(a).dispatch(c)},H=function(a){var c={type:b("VideoComposerActionTypes").POLLS_OPEN_POLLS_FORM_SECTION_CONFIRM};b("VideoComposerDispatchers").get(a).dispatch(c)},I=function(a){var c={type:b("VideoComposerActionTypes").POLLS_OPEN_POLLS_FORM_SECTION_CANCEL};b("VideoComposerDispatchers").get(a).dispatch(c)},J=function(a){var c={type:b("VideoComposerActionTypes").POLLS_OPEN_SLIDERS_FORM_SECTION_ATTEMPT};b("VideoComposerDispatchers").get(a).dispatch(c)},K=function(a){var c={type:b("VideoComposerActionTypes").POLLS_OPEN_SLIDERS_FORM_SECTION_CONFIRM};b("VideoComposerDispatchers").get(a).dispatch(c)},L=function(a){var c={type:b("VideoComposerActionTypes").POLLS_OPEN_SLIDERS_FORM_SECTION_CANCEL};b("VideoComposerDispatchers").get(a).dispatch(c)},M=function(a,c){c={type:b("VideoComposerActionTypes").POLLS_DRAFT_UPDATE_SLIDER_QUESTION,text:c};b("VideoComposerDispatchers").get(a).dispatch(c)},N=function(a,c){c={type:b("VideoComposerActionTypes").POLLS_DRAFT_UPDATE_SLIDER_EMOJI,emoji:c};b("VideoComposerDispatchers").get(a).dispatch(c)},O=function(a){var c={type:b("VideoComposerActionTypes").POLLS_SAVE_SLIDER};b("VideoComposerDispatchers").get(a).dispatch(c)},P=function(a,c){c={type:b("VideoComposerActionTypes").POLLS_EDIT_SLIDER_ATTEMPT,sliderID:c};b("VideoComposerDispatchers").get(a).dispatch(c)},Q=function(a,c){c={type:b("VideoComposerActionTypes").POLLS_DELETE_SLIDER_ATTEMPT,sliderID:c};b("VideoComposerDispatchers").get(a).dispatch(c)},R=function(a){var c={type:b("VideoComposerActionTypes").POLLS_DELETE_SLIDER_CONFIRM};b("VideoComposerDispatchers").get(a).dispatch(c)};e.exports={addNew:a,addNewAdBreakPoll:c,bootloadTabForEdit:C,cancelChangesAttempt:d,cancelChangesAbandon:f,cancelChangesConfirm:g,closeEditorAttempt:h,closeEditorAbandon:i,closeEditorConfirm:j,deletePollAttempt:D,deleteInteractionCancel:E,deletePollConfirm:F,draftAddOption:k,draftDeleteOption:l,draftToggleAdBreakPoll:m,draftSetResultsVisible:n,draftSetDisplayResultTimestamp:o,draftSetVotingClosedTimestamp:p,draftUpdateEndTime:q,draftUpdateOption:r,draftStickerSelect:s,draftUpdateImage:t,draftUpdatePollQuestion:v,draftUpdateStartTime:w,editPollAttempt:x,confirmEditAndDiscardPrevious:y,cancelEditAttempt:z,confirmEditAndSavePrevious:A,toggleWasLiveVoting:u,savePoll:B,openPollsFormSectionAttempt:G,openPollsFormSectionConfirm:H,openPollsFormSectionCancel:I,openSlidersFormSectionAttempt:J,openSlidersFormSectionConfirm:K,openSlidersFormSectionCancel:L,draftUpdateSliderQuestion:M,draftUpdateSliderEmoji:N,saveSlider:O,editSliderAttempt:P,deleteSliderAttempt:Q,deleteSliderConfirm:R}}),null);
__d("VideoComposerPollQuestion.react",["ix","cx","fbt","Image.react","React","VideoComposerPollsActions","XUIAbstractGlyphButton.react","XUICardSection.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return j.jsxs(b("XUICardSection.react"),{className:"_689w",children:[j.jsx("div",{className:"_23dj",children:this.props.poll.isAdBreakPoll?j.jsx(b("Image.react"),{src:g("487808")}):j.jsx(b("Image.react"),{src:g("524182")})}),j.jsx("div",{className:"_689x _78x9",children:this.props.poll.questionText}),j.jsx("div",{className:"_3-9a",children:j.jsx(b("XUIAbstractGlyphButton.react"),{image:j.jsx(b("Image.react"),{src:g("363763")}),label:i._("Edit"),labelIsHidden:!0,onClick:function(){return b("VideoComposerPollsActions").editPollAttempt(a.props.videoComposerID,a.props.poll.id)}})}),j.jsx("div",{className:"_3-9b",children:j.jsx(b("XUIAbstractGlyphButton.react"),{image:j.jsx(b("Image.react"),{src:g("394831")}),label:i._("Delete"),labelIsHidden:!0,onClick:function(){return b("VideoComposerPollsActions").deletePollAttempt(a.props.videoComposerID,a.props.poll.id)}})})]})};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerAdBreakCreatePollField.react",["cx","fbt","React","ShimButton.react","SUIBusinessTheme","SUIText.react","VideoComposerField.react","VideoComposerPollQuestion.react","VideoComposerPollsActions","XUICard.react","XUICardSection.react","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("VideoComposerPollsActions").addNewAdBreakPoll(d.props.videoComposerID)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this;return i.jsx(b("VideoComposerField.react"),{input:i.jsx("div",{className:"_4wvw",children:this.props.adBreaksPolls.size===0?i.jsx(b("XUICardSection.react"),{className:"_689w",children:i.jsx(b("ShimButton.react"),{form:"link",onClick:this.$1,children:i.jsx(b("SUIText.react"),{color:"interactive",size:"body2",theme:b("SUIBusinessTheme"),weight:"bold",children:h._("Add poll")})})},-1):i.jsx(b("XUICard.react"),{className:"_689y",children:this.props.adBreaksPolls.toArray().map(function(c,d){return i.jsx(b("VideoComposerPollQuestion.react"),{videoComposerID:a.props.videoComposerID,poll:c},d)})})}),inputPadding:!0,subtitle:h._("Create a question for your viewers to answer while they're watching ads in your video."),title:h._("Poll viewers while showing ads"),tooltip:h._("Running a poll helps you get feedback from your audience.")})};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerAdBreakDemonetizationNuxConfig",["fbt","Link.react","MonetizationEligibilityStandardsGuideLines","React"],(function(a,b,c,d,e,f,g){"use strict";a=b("React");c={title:g._("Video doesn't meet guidelines"),text:a.jsxs("div",{children:[g._("Ads have been reduced or stopped for this video because it contains content that does not meet Facebook's content guidelines for monetisation.")," ",a.jsx(b("Link.react"),{href:b("MonetizationEligibilityStandardsGuideLines").contentGuideLines,target:"_blank",children:g._("Learn more")}),"."]})};d={title:g._("In-stream ads were disabled"),text:a.jsxs("div",{children:[g._("This video contains content that does not meet Facebook's monetisation eligibility standards.")," ",a.jsx(b("Link.react"),{href:b("MonetizationEligibilityStandardsGuideLines").contentGuideLines,target:"_blank",children:g._("Learn more.")})]})};e.exports={adBreakPrereview:d,adBreakSrtReview:c}}),null);
__d("XVideoComposerAdBreakNuxController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/nux/",{nux_id:{type:"Int",required:!0}})}),null);
__d("VideoComposerAdBreakNUX.react",["cx","AsyncRequest","ContextualLayerShowAndHideOnScrollOut","ContextualLayerUpdateOnScroll","React","XBasicFBNuxDismissController","XUIAmbientNUX.react","XUINotice.react","XUIText.react","XVideoComposerAdBreakNuxController"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={dismissed:!!d.props.nuxID},d.$1=function(){d.setState({dismissed:!0});if(d.props.nuxID){var a=b("XBasicFBNuxDismissController").getURIBuilder().setInt("nux_id",d.props.nuxID).getURI();new(b("AsyncRequest"))().setURI(a).send()}},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){var a=this;if(this.props.nuxID){var c=b("XVideoComposerAdBreakNuxController").getURIBuilder().setInt("nux_id",this.props.nuxID).getURI();new(b("AsyncRequest"))().setURI(c).setMethod("GET").setReadOnly(!0).setHandler(function(b){b.getPayload()&&b.getPayload().shouldShowNux&&a.setState({dismissed:!1})}).send()}};d.render=function(){if(this.state.dismissed)return null;if(this.props.style==="notice"){var a=this.props.dismissible?{onDismiss:this.$1}:{};return h.jsx(b("XUINotice.react"),babelHelpers["extends"]({className:"_6es2",use:"notify"},a,{children:h.jsxs("div",{className:"_6es3",children:[h.jsx(b("XUIText.react"),{size:"header4",weight:"bold",children:this.props.title}),h.jsx("div",{className:"_6es4",children:h.jsx(b("XUIText.react"),{size:"meta1",children:this.props.description})})]})}))}if(this.props.style==="tooltip"){a=this.props.dismissible?{onCloseButtonClick:this.$1}:{};return h.jsx(b("XUIAmbientNUX.react"),babelHelpers["extends"]({behaviors:{ContextualLayerUpdateOnScroll:b("ContextualLayerUpdateOnScroll"),ContextualLayerShowAndHideOnScrollOut:b("ContextualLayerShowAndHideOnScrollOut")},contextRef:this.props.contextRef,customwidth:300,position:"above",shown:!this.state.dismissed,width:"custom"},a,{children:h.jsxs("div",{children:[h.jsx(b("XUIText.react"),{size:"header4",weight:"bold",children:this.props.title}),h.jsx("div",{className:"_6es4",children:h.jsx(b("XUIText.react"),{size:"meta1",children:this.props.description})})]})}))}return null};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerAdBreakDemonetizationNotice.react",["React","VideoComposerAdBreakDemonetizationNuxConfig","VideoComposerAdBreakNUX.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){a=i(a.isDemonetized,a.adBreakPrereviewStatus);a=h(a);return a==null?null:g.jsx(b("VideoComposerAdBreakNUX.react"),{description:a.text,dismissible:!1,style:"notice",title:a.title})}function h(a){switch(a){case"ad_break_srt_review":return b("VideoComposerAdBreakDemonetizationNuxConfig").adBreakSrtReview;case"ad_break_prereview":return b("VideoComposerAdBreakDemonetizationNuxConfig").adBreakPrereview;default:return null}}function i(a,b){if(!a)return"not_demonetized";return b==="rejected"?"ad_break_prereview":"ad_break_srt_review"}e.exports=a}),null);
__d("VideoComposerAdBreakSwitch.react",["cx","BUISwitch.react","React","Tooltip","XUIGrayText.react","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsxs("div",babelHelpers["extends"]({className:"_6em-"},b("Tooltip").propsFor(this.props.tooltip,"above","right"),{children:[h.jsx("div",{className:"_3-90",children:h.jsx(b("BUISwitch.react"),{disabled:this.props.disabled,value:this.props.value,onToggle:this.props.onToggle})}),this.props.value?h.jsx(b("XUIGrayText.react"),{size:"meta1",weight:"bold",children:this.props.labelOn}):h.jsx(b("XUIGrayText.react"),{size:"meta1",weight:"bold",children:this.props.labelOff})]}))};return c}(h.Component);a.defaultProps={disabled:!1};e.exports=a}),null);
__d("VideoComposerRadioButton.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={hovered:!1},c.$1=function(){c.setState({hovered:!0})},c.$2=function(){c.setState({hovered:!1})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return h.jsxs("div",{className:b("joinClasses")("_6emo"+(this.props.checked?" _6emp":""),this.props.className),onClick:this.props.onSelect,onMouseEnter:this.$1,onMouseLeave:this.$2,role:"presentation",children:[h.jsx("div",{className:"_6emq"+(this.state.hovered&&!this.props.checked?" _6emr":"")+(this.props.checked?" _6emp":"")}),h.jsx("div",{className:"_6ems",children:this.props.label})]})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerAdBreakHoldoutTestField.react",["cx","fbt","HubbleConstants","Link.react","React","VideoComposerAdBreakSwitch.react","VideoComposerField.react","VideoComposerRadioButton.react","XPagesManagerInsightsController","XUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.onUpdateHoldoutTestStatus(!0)},c.$2=function(){c.props.onUpdateHoldoutTestStatus(!1)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return!this.props.holdoutTestPublicMetadata.isEligibleCreator||!this.props.hasEnabledAdBreaks?null:i.jsx(b("VideoComposerField.react"),{input:i.jsx(j,{enabled:this.props.enabled,holdoutTestPublicMetadata:this.props.holdoutTestPublicMetadata,pageID:this.props.pageID,onDisableHoldoutTest:this.$2,onEnableHoldoutTest:this.$1,onUpdateHoldoutTestStatus:this.props.onUpdateHoldoutTestStatus}),inputPadding:!0,subtitle:h._("Enable holdout testing to learn how your video performs when there are in-stream ads."),title:h._("Viewer holdout testing"),tooltip:i.jsxs("div",{children:[i.jsx(b("XUIText.react"),{display:"block",weight:"bold",children:h._("How holdouts work for in-stream ads")}),i.jsx("br",{}),i.jsx(b("XUIText.react"),{display:"block",children:h._("For this video, a small percentage of your viewers will be split into a group for the test. Some viewers will see ads and some won't. The remaining viewers are not affected.")}),i.jsx("br",{}),i.jsx(b("XUIText.react"),{display:"block",children:h._("When you turn on holdout testing for a video, the test will run for 14 days or until the test group with in-stream ads earns $100. Test results are available in your Page's Insights.")})]})})};return c}(i.Component);function j(a){var c=b("XPagesManagerInsightsController").getURIBuilder().setString("page_token",a.pageID).setString("section",b("HubbleConstants").NAV_SECTIONS.AD_BREAKS).getURI();if(a.holdoutTestPublicMetadata.isExpired)return i.jsx(b("XUIText.react"),{size:"meta1",children:h._("Test results are available in your {page insights link}",[h._param("page insights link",i.jsx(b("Link.react"),{href:c,children:h._("Page's insights.")}))])});return a.holdoutTestPublicMetadata.isStarted?i.jsx(b("VideoComposerAdBreakSwitch.react"),{labelOff:h._("OFF"),labelOn:h._("ON"),tooltip:a.enabled?h._("Turn off test and disable hold-out testing permanently for this video."):null,value:a.enabled,onToggle:a.onUpdateHoldoutTestStatus}):i.jsxs("div",{className:"_6epj",children:[i.jsx(b("VideoComposerRadioButton.react"),{checked:a.enabled,label:h._("Yes"),onSelect:a.onEnableHoldoutTest}),i.jsx(b("VideoComposerRadioButton.react"),{checked:!a.enabled,label:h._("No"),onSelect:a.onDisableHoldoutTest})]})}e.exports=a}),null);
__d("VideoComposerAdBreakAutoAdjustmentTooltip.react",["fbt","React","VideoComposerAdBreakNUX.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=5575;function a(a){return h.jsx(b("VideoComposerAdBreakNUX.react"),{contextRef:a.contextRef,description:h.jsx("div",{children:g._("To give viewers the best possible experience, ad placements that interrupt speech in the video may be moved slightly earlier or later.")}),dismissible:!0,nuxID:i,style:"tooltip",title:g._("Optimised in-stream ads placements")})}e.exports=a}),null);
__d("VideoComposerAdBreakAutoAdjustmentSettings.react",["cx","fbt","React","SUIBusinessTheme","SUIText.react","VideoComposerAdBreakAutoAdjustmentTooltip.react","XUICheckboxInput.react","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){c.props.onEnableAdBreakAutoAdjustment(a.target.checked)},c.$2=function(){return c.refs.autoAdjustmentCheckbox},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return i.jsxs("div",{className:"_6eqy",children:[i.jsxs("div",{className:"_3-90",children:[i.jsx(b("XUICheckboxInput.react"),{checked:this.props.isAdBreakAutoAdjustmentEnabled,ref:"autoAdjustmentCheckbox",onChange:this.$1}),i.jsx(b("VideoComposerAdBreakAutoAdjustmentTooltip.react"),{contextRef:this.$2})]}),i.jsx(b("SUIText.react"),{color:"secondary",display:"block",size:"meta1",theme:b("SUIBusinessTheme"),children:h._("Automatically adjust in-stream ad placements to improve your viewers' experience")})]})};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerAdBreakInsertionButton.react",["cx","fbt","DateConsts","React","Tooltip","VideoInstreamAdsConstants","VideoInstreamUtils","XUIButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){var a=this.props.insertedAdBreaks.map(function(a){return{thumbnailURL:a.thumbnailURL,timeOffset:a.timeOffset}}),c=b("VideoInstreamUtils").getEligibleTimeSegments(a,this.props.videoDuration,this.props.hasGapRule);if(c.length===0){c=b("VideoInstreamUtils").getMaxPossibleAdBreaks(this.props.videoDuration,this.props.hasGapRule);return c>a.length?h._({"*":"In-stream ads need to be at least {number} minutes apart. Based on where you've placed your current in-stream ads, there isn't space for another one.","_1":"In-stream ads need to be at least 1 minute apart. Based on where you've placed your current in-stream ads, there isn't space for another one."},[h._plural(b("VideoInstreamAdsConstants").AD_INSERTION_INTERVAL_MS/b("DateConsts").MS_PER_MIN,"number")]):h._("You've reached your in-stream ad limit for this video.")}c=b("VideoInstreamUtils").isInEligibleTimeSegments(this.props.currentAdBreakTimeOffset,this.props.videoDuration,a,this.props.hasGapRule);if(c)return null;a=b("VideoInstreamAdsConstants").AD_INSERTION_START_TIME_OFFSET_MS/b("DateConsts").MS_PER_SEC;if(this.props.currentAdBreakTimeOffset<a)return h._({"*":"In-stream ads cannot be placed in the first {number} seconds.","_1":"In-stream ads cannot be placed in the first second."},[h._plural(a,"number")]);c=b("VideoInstreamAdsConstants").AD_INSERTION_END_TIME_OFFSET_MS/b("DateConsts").MS_PER_SEC;return this.props.currentAdBreakTimeOffset>this.props.videoDuration-c?h._({"*":"In-stream ads cannot be placed in the last {number} seconds.","_1":"In-stream ads cannot be placed in the last second."},[h._plural(c,"number")]):h._({"*":"In-stream ads cannot be placed less than {number} minutes apart.","_1":"In-stream ads cannot be placed less than 1 minute apart."},[h._plural(b("VideoInstreamAdsConstants").AD_INSERTION_INTERVAL_MS/b("DateConsts").MS_PER_MIN,"number")])};d.render=function(){return i.jsx(b("XUIButton.react"),babelHelpers["extends"]({className:"_6ent _3-8_",disabled:this.props.disabled||!b("VideoInstreamUtils").isInEligibleTimeSegments(this.props.currentAdBreakTimeOffset,this.props.videoDuration,this.props.insertedAdBreaks.map(function(a){return{timeOffset:a.timeOffset,thumbnailURL:a.thumbnailURL}}),this.props.hasGapRule),href:"#",label:this.props.hasGapRule?h._("Add"):h._("Insert"),labelIsHidden:!1,type:"button",onClick:this.props.onInsertAdBreak},b("Tooltip").propsFor(this.$1(),"above","right")))};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerAdBreakThumbnail.react",["cx","Image.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){if(c.props.isAdBreakDisabled)return;c.props.isPreviewingCurrentAdBreak?c.props.onCancelPreview():!c.props.isPreviewingAdBreak&&c.props.adBreakIndex!=null&&c.props.onPreviewAdBreak(c.props.adBreakIndex)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return h.jsxs("div",{className:"_6ers"+(this.props.isAdBreakDisabled||!this.props.isPreviewingCurrentAdBreak&&this.props.isPreviewingAdBreak?" _6ekl":""),role:"presentation",onClick:this.$1,children:[h.jsx("div",{className:"_6ert"+(this.props.isAdBreakDisabled?" _6ekl":""),children:h.jsx("div",{className:(!this.props.isPreviewingCurrentAdBreak&&!this.props.isAdBreakDisabled?"_6eru":"")+(this.props.isPreviewingCurrentAdBreak&&!this.props.isAdBreakDisabled?" _6erv":"")})}),h.jsx(b("Image.react"),{className:"_6erw",src:this.props.thumbnailURL})]})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerAdBreakTimeOffsetEditorArrow.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){var a=this.props.disabled;return h.jsxs("div",{className:"_6eol",children:[h.jsx("div",{className:(a?"":"_6eom")+(a?" _6eon":""),onMouseDown:this.props.onClickUpArrow}),h.jsx("div",{className:(a?"":"_6eoo")+(a?" _6eop":""),onMouseDown:this.props.onClickDownArrow})]})};return b}(h.Component);e.exports=a}),null);
__d("VideoComposerAdBreakTimeOffsetEditor.react",["cx","AbstractTextInput.react","DateConsts","React","VideoComposerAdBreakTimeOffsetEditorArrow.react","VideoInstreamUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=10/b("DateConsts").MS_PER_SEC;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isInputtingCurrentAdBreak:!1,timeOffsetString:"00:00.000"},d.$1=function(a){d.setState({isInputtingCurrentAdBreak:!0}),d.props.onSetCurrentAdBreak(d.props.adBreakTimeOffset,!0,!0)},d.$2=function(a){d.setState({isInputtingCurrentAdBreak:!1,timeOffsetString:j(d.props.adBreakTimeOffset)})},d.$3=function(a){d.setState({timeOffsetString:a.target.value});a=b("VideoInstreamUtils").convertFormattedTimeToSeconds(a.target.value);d.state.isInputtingCurrentAdBreak&&d.props.onSetCurrentAdBreak(Number(a),!0,!0)},d.$4=function(){d.$5(i)},d.$6=function(){d.$5(-i)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.setState({timeOffsetString:j(this.props.adBreakTimeOffset)})};d.UNSAFE_componentWillReceiveProps=function(a){this.state.isInputtingCurrentAdBreak||this.setState({timeOffsetString:j(a.adBreakTimeOffset)})};d.$5=function(a){if(this.props.isPreviewingAdBreak)return;a=this.props.adBreakTimeOffset+a;a=Math.max(a,0);a=Math.min(a,this.props.videoDuration);this.props.onSetCurrentAdBreak(a,!0,!0)};d.$7=function(){return this.props.adBreakIndex===null};d.render=function(){return h.jsxs("div",{className:"_6ek6",children:[this.props.isIndexCircleVisible?h.jsx("div",{className:"_6ek7",children:this.props.adBreakIndex!==null?this.props.adBreakIndex+1:null}):null,h.jsx(b("AbstractTextInput.react"),{className:"_6ek8",disabled:this.props.isPreviewingAdBreak||!this.$7(),placeholder:"00:00.000",value:this.state.timeOffsetString,onBlur:this.$2,onChange:this.$3,onDownArrow:this.$6,onFocus:this.$1,onUpArrow:this.$4}),this.$7()?h.jsx(b("VideoComposerAdBreakTimeOffsetEditorArrow.react"),{disabled:this.props.isPreviewingAdBreak,onClickDownArrow:this.$6,onClickUpArrow:this.$4}):null]})};return c}(h.Component);a.defaultProps={isIndexCircleVisible:!0};var j=function(a){return b("VideoInstreamUtils").convertTimestampToFormattedString(a)};e.exports=a}),null);
__d("VideoComposerAdBreakDetailsItem.react",["cx","React","VideoComposerAdBreakInsertionButton.react","VideoComposerAdBreakThumbnail.react","VideoComposerAdBreakTimeOffsetEditor.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={hover:!1},c.$1=function(){c.props.adBreakIndex!==null&&c.props.adBreakIndex!==void 0&&c.props.onDeleteAdBreak(c.props.adBreakIndex)},c.$4=function(){c.setState({hover:!0})},c.$5=function(){c.setState({hover:!1})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$2=function(){return this.props.currentPreviewIndex!==null};d.$3=function(){return this.props.currentPreviewIndex!==null&&this.props.currentPreviewIndex===this.props.adBreakIndex};d.render=function(){return h.jsxs("div",{className:"_6ekh _6eki",onMouseEnter:this.$4,onMouseLeave:this.$5,children:[h.jsxs("div",{className:"_6ekj"+(this.props.adBreakIndex===0?" _6ejn":"")+(this.props.adBreakIndex===null?" _6ekk":"")+(this.props.adBreak.status==="disabled"||this.$2()&&!this.$3()?" _6ekl":"")+" _2pis",children:[h.jsx(b("VideoComposerAdBreakTimeOffsetEditor.react"),{adBreakIndex:this.props.adBreakIndex,adBreakTimeOffset:this.props.adBreak.timeOffset,isPreviewingAdBreak:this.$2(),videoDuration:this.props.videoDuration,onSetCurrentAdBreak:this.props.onSetCurrentAdBreak}),h.jsx("div",{className:"_6ekm"}),this.props.adBreakIndex!==null?h.jsx(b("VideoComposerAdBreakThumbnail.react"),{adBreakIndex:this.props.adBreakIndex,isAdBreakDisabled:this.props.adBreak.status==="disabled",isPreviewingAdBreak:this.$2(),isPreviewingCurrentAdBreak:this.$3(),thumbnailURL:this.props.adBreak.thumbnailURL,onCancelPreview:this.props.onCancelPreview,onPreviewAdBreak:this.props.onPreviewAdBreak}):h.jsx(b("VideoComposerAdBreakInsertionButton.react"),{currentAdBreakTimeOffset:this.props.adBreak.timeOffset,disabled:this.props.adBreak.status==="disabled"||this.props.currentPreviewIndex!=null,hasGapRule:this.props.hasGapRule,insertedAdBreaks:this.props.insertedAdBreaks,videoDuration:this.props.videoDuration,onInsertAdBreak:this.props.onInsertAdBreak})]}),h.jsx("div",{className:"_6ekn",children:h.jsx("div",{className:"_6eko"+(!this.state.hover||this.props.adBreakIndex===null||this.props.currentPreviewIndex!=null?" _6ekp":""),role:"presentation",onClick:this.$1})})]})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerAdBreakDetails.react",["cx","React","VideoComposerAdBreakDetailsItem.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return h.jsxs("div",{className:"_6ekb",children:[h.jsx(i,babelHelpers["extends"]({},this.props)),h.jsx(j,babelHelpers["extends"]({},this.props))]})};return b}(h.Component);function i(a){return a.insertedAdBreaks.map(function(c,d){return h.jsx(b("VideoComposerAdBreakDetailsItem.react"),{adBreak:c,adBreakIndex:d,currentPreviewIndex:a.currentPreviewIndex,hasGapRule:a.hasGapRule,insertedAdBreaks:a.insertedAdBreaks,videoDuration:a.videoDuration,onCancelPreview:a.onCancelPreview,onDeleteAdBreak:a.onDeleteAdBreak,onInsertAdBreak:a.onInsertAdBreak,onPreviewAdBreak:a.onPreviewAdBreak,onSetCurrentAdBreak:a.onSetCurrentAdBreak},d)})}function j(a){return h.jsx(b("VideoComposerAdBreakDetailsItem.react"),{adBreak:{status:a.adBreaksDisabled?"disabled":"enabled",thumbnailURL:null,timeOffset:a.currentAdBreakTimeOffset},adBreakIndex:null,currentPreviewIndex:a.currentPreviewIndex,hasGapRule:a.hasGapRule,insertedAdBreaks:a.insertedAdBreaks,videoDuration:a.videoDuration,onCancelPreview:a.onCancelPreview,onDeleteAdBreak:a.onDeleteAdBreak,onInsertAdBreak:a.onInsertAdBreak,onPreviewAdBreak:a.onPreviewAdBreak,onSetCurrentAdBreak:a.onSetCurrentAdBreak})}e.exports=a}),null);
__d("VideoComposerAdBreakInsertionField.react",["cx","fbt","BUISwitch.react","DateConsts","React","VideoComposerAdBreakAutoAdjustmentSettings.react","VideoComposerAdBreakDetails.react","VideoComposerField.react","VideoInstreamAdsConstants","VideoInstreamUtils","XUIGrayText.react","XUIText.react","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){c.props.onUpdateAdBreakStatus(!a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return i.jsx(b("VideoComposerField.react"),{footer:i.jsxs("div",{className:"_6en0",children:[i.jsx("div",{className:"_3-90",children:i.jsx(b("BUISwitch.react"),{disabled:this.props.currentPreviewIndex!==null,value:!this.props.adBreaksDisabled,onToggle:this.$1})}),this.props.adBreaksDisabled?i.jsx(k,{}):i.jsx(j,{})]}),input:i.jsxs("div",{className:"_6en1",children:[i.jsx(b("VideoComposerAdBreakDetails.react"),{adBreaksDisabled:this.props.adBreaksDisabled,currentAdBreakTimeOffset:this.props.currentAdBreakTimeOffset,currentPreviewIndex:this.props.currentPreviewIndex,hasGapRule:this.props.hasGapRule,insertedAdBreaks:this.props.insertedAdBreaks,videoDuration:this.props.videoDuration,onCancelPreview:this.props.onCancelPreview,onDeleteAdBreak:this.props.onDeleteAdBreak,onInsertAdBreak:this.props.onInsertAdBreak,onPreviewAdBreak:this.props.onPreviewAdBreak,onSetCurrentAdBreak:this.props.onSetCurrentAdBreak}),this.props.isAdBreakInsertionRedesignV1?i.jsx(b("VideoComposerAdBreakAutoAdjustmentSettings.react"),{isAdBreakAutoAdjustmentEnabled:this.props.isAdBreakAutoAdjustmentEnabled,onEnableAdBreakAutoAdjustment:this.props.onEnableAdBreakAutoAdjustment}):null]}),inputPadding:!0,showTopBorder:!1,subtitle:this.props.hasGapRule?h._({"*":"Place up to {number} in-stream ads within the highlighted area of the video preview.","_1":"Place up to 1 in-stream ad within the highlighted area of the video preview."},[h._plural(b("VideoInstreamUtils").getMaxPossibleAdBreaks(this.props.videoDuration,this.props.hasGapRule),"number")]):h._({"*":"Select up to {number} places where an in-stream ad may be played. In-stream ads placements will be filled for each individual viewer based on ad availability.","_1":"Select up to 1 place where an in-stream ad may be played. In-stream ads placements will be filled for each individual viewer based on ad availability."},[h._plural(b("VideoInstreamUtils").getMaxPossibleAdBreaks(this.props.videoDuration,this.props.hasGapRule),"number")]),title:this.props.hasGapRule?h._("Place in-stream ads"):h._("Choose in-stream ads placements"),tooltip:this.props.hasGapRule?h._({"*":{"*":"In-stream ads can be placed after the first {start time offset} seconds and must be at least {insertion interval} minutes apart. When using the highlighted area in the video preview, you can find the exact frame with the up and down arrow keys."}},[h._param("start time offset",b("VideoInstreamAdsConstants").AD_INSERTION_START_TIME_OFFSET_MS/b("DateConsts").MS_PER_SEC,[0]),h._param("insertion interval",b("VideoInstreamAdsConstants").AD_INSERTION_INTERVAL_MS/b("DateConsts").MS_PER_MIN,[0])]):h._({"*":{"*":"Videos need to be at least {min video length} minutes long, and in-stream ads may only be placed after {min start time} seconds. When using the highlighted area in the video preview, you can find the exact frame with the up and down arrow keys.","_1":"Videos need to be at least {min video length} minutes long, and in-stream ads may only be placed after 1 second. When using the highlighted area in the video preview, you can find the exact frame with the up and down arrow keys."},"_1":{"*":"Videos need to be at least 1 minute long, and in-stream ads may only be placed after {min start time} seconds. When using the highlighted area in the video preview, you can find the exact frame with the up and down arrow keys.","_1":"Videos need to be at least 1 minute long, and in-stream ads may only be placed after 1 second. When using the highlighted area in the video preview, you can find the exact frame with the up and down arrow keys."}},[h._plural(b("VideoInstreamAdsConstants").AD_INSERTION_MINIMUM_VIDEO_LENGTH_MS/b("DateConsts").MS_PER_MIN,"min video length"),h._plural(b("VideoInstreamAdsConstants").AD_INSERTION_START_TIME_OFFSET_MS/b("DateConsts").MS_PER_SEC,"min start time")])})};return c}(i.Component);function j(){return i.jsx(b("XUIText.react"),{size:"meta1",weight:"bold",children:h._("IN-STREAM ADS ON")})}function k(){return i.jsx(b("XUIGrayText.react"),{size:"meta1",weight:"bold",children:h._("IN-STREAM ADS OFF")})}e.exports=a}),null);
__d("BannerWithImage.react",["FDSText.react","FlexLayout.react","Image.react","React","cxMargin"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=80,i=80;function a(a){return g.jsxs(b("FlexLayout.react"),{className:a.className,justify:"start",align:"center",children:[g.jsx("div",{children:g.jsx(b("Image.react"),{className:"_3-8r",src:a.imageSrc,width:h,height:i})}),g.jsxs(b("FlexLayout.react"),{direction:"vertical",align:"start",className:"_3-9b",children:[g.jsx(b("FDSText.react"),{margin:"_3-95",size:"body2",weight:"bold",children:a.headerText}),g.jsx(b("FDSText.react"),{size:"body3",color:"secondary",children:a.bodyText})]})]})}e.exports=a}),null);
__d("ShorterContentMonetizationContent",["fbt","React"],(function(a,b,c,d,e,f,g){a=b("React");c=90;d=180;f=g._("In-stream ads are turned on.");b=g._("In-stream ads are turned off.");var h=g._("New! Monetise shorter videos"),i=g._("You've been selected to test a new monetisation feature that lets you earn money from shorter videos."),j=g._("You're testing a new monetisation feature");c=g._("Now you can monetise {minimum video duration in seconds}- to {maximum video duration in seconds}-second videos with image ads that are displayed below your content. If you'd rather not participate, you can turn off in-stream ads for this video. Thank you for helping us improve your monetisation experience.",[g._param("minimum video duration in seconds",c),g._param("maximum video duration in seconds",d)]);d=g._("Test a new monetisation feature");a=g._("To help you earn money from more of your content, we're running an experiment that lets you monetise shorter videos with image ads. Select {=Try It} to turn on in-stream ads and monetise this video.",[g._param("=Try It",a.jsx("b",{children:g._("Try It")}))]);g=g._("Try It");e.exports={adBreaksTabEnabledContentOverride:f,adBreaksTabDisabledContentOverride:b,bluesCluesTitle:h,bluesCluesBody:i,adsEnabledInsertionBannerTitle:j,adsEnabledInsertionBannerBody:c,adsDisabledInsertionBannerTitle:d,adsDisabledInsertionBannerBody:a,adsDisabledInsertionBannerButtonText:g}}),null);
__d("XInstreamReservedBuyingSponsorshipFetchController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ad_breaks/instream_reserved_buying/sponsorship_fetch/",{creator_page_id:{type:"FBID",required:!0},advertiser_page_id:{type:"FBID",required:!0}})}),null);
__d("VideoComposerAdBreakActions",["AsyncTypedRequest","VideoComposerActionTypes","VideoComposerDispatchers","XInstreamReservedBuyingSponsorshipFetchController"],(function(a,b,c,d,e,f){"use strict";a=function(a){var c={type:b("VideoComposerActionTypes").AGREE_VIDEO_RIGHTS};b("VideoComposerDispatchers").get(a).dispatch(c)};c=function(a,c){c={type:b("VideoComposerActionTypes").BOOTLOAD_AD_BREAK_PARAMETERS,data:c};b("VideoComposerDispatchers").get(a).dispatch(c)};d=function(a,c){c={type:b("VideoComposerActionTypes").DELETE_AD_BREAK,adBreakIndex:c};b("VideoComposerDispatchers").get(a).dispatch(c)};f=function(a,c){c={type:b("VideoComposerActionTypes").FETCH_AD_BREAK_EDIT_PARAMETERS,data:c};b("VideoComposerDispatchers").get(a).dispatch(c)};var g=function(a){var c={type:b("VideoComposerActionTypes").INSERT_AD_BREAK};b("VideoComposerDispatchers").get(a).dispatch(c)},h=function(a,c){c={type:b("VideoComposerActionTypes").SET_CAN_USE_AD_BREAKS,canUseAdBreaks:c};b("VideoComposerDispatchers").get(a).dispatch(c)},i=function(a,c){c={type:b("VideoComposerActionTypes").SET_CURRENT_AD_BREAK,adBreakTimeOffset:c};b("VideoComposerDispatchers").get(a).dispatch(c)},j=function(a,c){c={type:b("VideoComposerActionTypes").SET_CURRENT_PREVIEW_INDEX,currentPreviewIndex:c};b("VideoComposerDispatchers").get(a).dispatch(c)},k=function(a,c){c={type:b("VideoComposerActionTypes").SET_IS_AD_BREAK_AUTO_ADJUSTMENT_ENABLED,isAdBreakAutoAdjustmentEnabled:c};b("VideoComposerDispatchers").get(a).dispatch(c)},l=function(a,c){c={type:b("VideoComposerActionTypes").SET_IS_AD_BREAK_AUTO_INSERTION_ENABLED,isAdBreakAutoInsertionEnabled:c};b("VideoComposerDispatchers").get(a).dispatch(c)},m=function(a,c,d){c={type:b("VideoComposerActionTypes").SET_IS_AUTO_INSERTION_PAGE_ENABLED,pageID:c,enabled:d};b("VideoComposerDispatchers").get(a).dispatch(c)},n=function(a,c){c={type:b("VideoComposerActionTypes").SET_IS_AD_BREAK_TOGGLE_EDITED,isAdBreakToggleEdited:c};b("VideoComposerDispatchers").get(a).dispatch(c)},o=function(a,c){c={type:b("VideoComposerActionTypes").SET_IS_BRANDED_CONTENT_VIDEO,isBrandedContentVideo:c};b("VideoComposerDispatchers").get(a).dispatch(c)},p=function(a,c,d){c=b("XInstreamReservedBuyingSponsorshipFetchController").getURIBuilder().setFBID("creator_page_id",c).setFBID("advertiser_page_id",d).getURI();new(b("AsyncTypedRequest"))(c).setMethod("POST").setPayloadHandler(function(b){b.deal_id===null?q(a,!1):q(a,!0)}).send()},q=function(a,c){c={type:b("VideoComposerActionTypes").SET_IS_INSTREAM_SPONSORSHIP_VIDEO,isInstreamSponsorshipVideo:c};b("VideoComposerDispatchers").get(a).dispatch(c)},r=function(a,c){c={type:b("VideoComposerActionTypes").SET_PREREVIEW_DIALOG,isAdBreakPrereviewDialogOpen:c};b("VideoComposerDispatchers").get(a).dispatch(c)},s=function(a,c){c={type:b("VideoComposerActionTypes").START_PAGE_ONBOARDING,pageID:c};b("VideoComposerDispatchers").get(a).dispatch(c)},t=function(a,c){c={type:b("VideoComposerActionTypes").SET_PAGE_ONBOARDING_PENDING,isPending:c};b("VideoComposerDispatchers").get(a).dispatch(c)},u=function(a,c){c={type:b("VideoComposerActionTypes").SET_SHOW_AD_BREAKS_UPSELL_DIALOG,showAdBreaksUpsellDialog:c};b("VideoComposerDispatchers").get(a).dispatch(c)},v=function(a,c){c={type:b("VideoComposerActionTypes").SHOW_ONBOARDED_PAGE_NUX,enabled:c};b("VideoComposerDispatchers").get(a).dispatch(c)},w=function(a,c,d){c={type:b("VideoComposerActionTypes").UPDATE_AD_BREAK_STATUS,adBreaksDisabled:c,isMonetizableShortVideo:d};b("VideoComposerDispatchers").get(a).dispatch(c)},x=function(a,c){c={type:b("VideoComposerActionTypes").UPDATE_HOLDOUT_TEST_STATUS,enabled:c};b("VideoComposerDispatchers").get(a).dispatch(c)},y=function(a,c,d){c={type:b("VideoComposerActionTypes").UPDATE_THUMBNAIL_URL,adBreakTimeOffset:c,thumbnailURL:d};b("VideoComposerDispatchers").get(a).dispatch(c)},z=function(a,c){c={type:b("VideoComposerActionTypes").UPDATE_VPC,vpc:c};b("VideoComposerDispatchers").get(a).dispatch(c)},A=function(a,c){l(a,!0);c={type:b("VideoComposerActionTypes").SET_SHOULD_USE_IMAGE_ADS,shouldUseImageAds:c};b("VideoComposerDispatchers").get(a).dispatch(c)},B=function(a,c){c={type:b("VideoComposerActionTypes").SET_IS_IMAGE_ADS_DROPDOWN_EXPANDED,isImageAdsDropdownExpanded:c};b("VideoComposerDispatchers").get(a).dispatch(c)},C=function(a,c){c={type:b("VideoComposerActionTypes").SET_SHOULD_SHOW_IMAGE_ADS_UPSELL,shouldShowImageAdsUpsell:c};b("VideoComposerDispatchers").get(a).dispatch(c)},D=function(a,c){c={type:b("VideoComposerActionTypes").LOG_MID_ROLL_OPT_OUT_EVENT,event:c};b("VideoComposerDispatchers").get(a).dispatch(c)},E=function(a,c){c={type:b("VideoComposerActionTypes").SET_SHOULD_SHOW_IMAGE_ADS_MODAL,shouldShowImageAdsModal:c};b("VideoComposerDispatchers").get(a).dispatch(c)},F=function(a,c){c={type:b("VideoComposerActionTypes").SET_HAS_USER_SEEN_AD_BREAK_TAB,hasUserSeenAdBreakTab:c};b("VideoComposerDispatchers").get(a).dispatch(c)},G=function(a,c){c={type:b("VideoComposerActionTypes").LOG_SHORTER_CONTENT_MONETIZATION_EVENT,event:c};b("VideoComposerDispatchers").get(a).dispatch(c)};e.exports={agreeVideoRights:a,bootloadParameters:c,deleteAdBreak:d,fetchEditParameters:f,insertAdBreak:g,logMidRollOptOutEvent:D,logShorterContentMonetizationEvent:G,setCanUseAdBreaks:h,setCurrentAdBreak:i,setCurrentPreviewIndex:j,setHasUserSeenAdBreakTab:F,setIsAdBreakAutoAdjustmentEnabled:k,setIsAdBreakAutoInsertionEnabled:l,setIsAdBreakAutoInsertionProfileEnabled:m,setIsAdBreakToggleEdited:n,setIsBrandedContentVideo:o,fetchAndSetIsInstreamSponsorshipVideo:p,setIsImageAdsDropdownExpanded:B,setPrereviewDialog:r,setShouldShowImageAdsModal:E,setShouldShowImageAdsUpsell:C,setShouldUseImageAds:A,setShowAdBreaksUpsellDialog:u,startPageOnboarding:s,setPageOnboardingPending:t,shouldOnboardedPageNux:v,updateAdBreakStatus:w,updateHoldoutTestStatus:x,updateThumbnailURL:y,updateVPC:z}}),null);
__d("VideoComposerAdBreakSimpleCheckbox.react",["ix","cx","FDSText.react","FlexLayout.react","Image.react","React","ShimButton.react","asset","cxMargin","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.handleLabelClick=function(){c.props.onLabelClick(!c.props.isChecked)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props.isChecked?g("492798"):g("492817"),c="_7mqd";return i.jsx("div",{children:i.jsx(b("ShimButton.react"),{onClick:this.handleLabelClick,children:i.jsx(b("FlexLayout.react"),{align:"center",className:c,justify:"all",children:i.jsxs(b("FlexLayout.react"),{align:"center",justify:"start",children:[i.jsx(b("FDSText.react"),{margin:this.props.imageMargin,ref:this.props.nuxReferenceSetter,children:i.jsx(b("Image.react"),{src:a})}),i.jsx(b("FDSText.react"),{margin:this.props.labelMargin,size:"header4",children:this.props.label})]})})})})};return c}(i.Component);a.defaultProps={imageMargin:null,labelMargin:"_3-9a",onLabelClick:b("emptyFunction")};e.exports=a}),null);
__d("VideoComposerAdBreakMidRollOptOutRow.react",["ix","fbt","FDSText.react","FlexLayout.react","Image","React","SignalsExpandable.react","SimpleNUXMessage","SimpleNUXMessageTypes","Tooltip.react","VideoComposerAdBreakActions","VideoComposerAdBreakSimpleCheckbox.react","XUIAmbientNUX.react","XUIGrayText.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("SignalsExpandable.react").SignalsExpandableRow,k=b("SimpleNUXMessageTypes").MID_ROLL_OPT_OUT_COMPOSER_NUX,l=g("495718"),m=g("503703");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=null,d.$2=function(){return d.$1},d.$3=function(a){return d.$1=a},d.state={isNuxShown:d.props.shouldShowUpsell&&!b("SimpleNUXMessage").hasUserSeenMessage(k)},d.$4=function(){if(d.props.isChecked)return;b("VideoComposerAdBreakActions").setIsImageAdsDropdownExpanded(d.props.videoComposerID,!d.props.isExpanded)},d.$5=function(){b("VideoComposerAdBreakActions").logMidRollOptOutEvent(d.props.videoComposerID,"mro_checkbox_nux_dismissal"),b("SimpleNUXMessage").markMessageSeenByUser(k),d.setState({isNuxShown:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.state.isNuxShown&&b("VideoComposerAdBreakActions").logMidRollOptOutEvent(this.props.videoComposerID,"mro_checkbox_nux_impression")};d.render=function(){var a=this.props,c=a.isChecked,d=a.isExpanded;a=a.onToggleImageAds;return i.jsxs(j,{header:i.jsxs(b("FlexLayout.react"),{align:"center",style:{marginTop:"12px",marginBottom:"4px"},children:[i.jsx(b("Image"),{className:"_3-90",source:d?m:l}),i.jsx(b("XUIGrayText.react"),{display:"block",size:"meta1",weight:"normal",children:h._("More options")})]}),isActive:d,onRowClick:this.$4,children:[i.jsx(b("VideoComposerAdBreakSimpleCheckbox.react"),{imageMargin:"_3-9c",isChecked:c,label:i.jsxs(b("FlexLayout.react"),{children:[i.jsx(b("XUIGrayText.react"),{display:"block",size:"meta1",weight:"normal",children:h._("Don't include mid-roll ads in this video (lower monetisation)")}),i.jsx(b("Tooltip.react"),{tooltip:h._("Monetises videos with pre-roll and image ads only"),children:i.jsx(b("FDSText.react"),{margin:"_3-99",children:i.jsx(b("Image"),{source:g("480042")})})})]}),nuxReferenceSetter:this.$3,onLabelClick:a}),i.jsx(b("XUIAmbientNUX.react"),{contextRef:this.$2,position:"below",shown:this.state.isNuxShown,onCloseButtonClick:this.$5,children:h._("You can monetise this video without including mid-roll ads")})]})};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerDialogAdBreakStrings",["fbt","DateConsts","VideoInstreamAdsConstants","VideoInstreamUtils"],(function(a,b,c,d,e,f,g){"use strict";a={AD_BREAK_TOGGLE_TITLE:g._("In-stream ads"),AD_BREAK_TOGGLE_DESCRIPTION:g._("Earn money from your content with pre-roll, mid-roll and image ads."),AD_BREAK_TOGGLE_TOOLTIP:g._({"*":{"*":"Videos need to be at least {min video length} minutes long, and in-stream ads may only be placed after {min start time} seconds.","_1":"Videos need to be at least {min video length} minutes long, and in-stream ads may only be placed after 1 second."},"_1":{"*":"Videos need to be at least 1 minute long, and in-stream ads may only be placed after {min start time} seconds.","_1":"Videos need to be at least 1 minute long, and in-stream ads may only be placed after 1 second."}},[g._plural(b("VideoInstreamAdsConstants").AD_INSERTION_MINIMUM_VIDEO_LENGTH_MS/b("DateConsts").MS_PER_MIN,"min video length"),g._plural(b("VideoInstreamAdsConstants").AD_INSERTION_START_TIME_OFFSET_MS/b("DateConsts").MS_PER_SEC,"min start time")]),AUTO_INSERTION_TITLE:g._("Automatic placements"),AUTO_INSERTION_DESCRIPTION:g._("Ads will automatically be placed at natural breaks in your video. Use automatic placements to save time and give viewers the best possible experience."),MANUAL_INSERTION_TITLE:g._("Choose placements"),getManualInsertionDescription:function(a,c){a=b("VideoInstreamUtils").getMaxPossibleAdBreaks(a,c);return c?g._({"*":"This video can have {number} in-stream ads placed within the highlighted area of the video preview.","_1":"This video can have 1 in-stream ad placed within the highlighted area of the video preview."},[g._plural(a,"number")]):g._({"*":"Choose up to {number} possible placements for in-stream ads in your video. If you choose multiple placements, viewers will see ads in different places depending on when they last watched an ad.","_1":"Choose up to 1 possible placement for in-stream ads in your video. If you choose multiple placements, viewers will see ads in different places depending on when they last watched an ad."},[g._plural(a,"number")])},INSERTION_TIME_OFFSET_EDITOR_DESCRIPTION:g._("Enter a time or drag the circle in the preview to choose an in-stream ad placement."),FULL_MONETIZATION_SECTION_TITLE:g._("Full monetisation"),FULL_MONETIZATION_SECTION_DESCRIPTION:g._("Includes in-stream video ad and image ad placements to maximise earnings."),IMAGE_ADS_SECTION_TITLE:g._("Image ads only (lower monetisation)"),IMAGE_ADS_SECTION_DESCRIPTION:g._("Image ads sit below your content and help you earn money from videos that don't have a good place for in-stream video ads.")};e.exports=a}),null);
__d("VideoComposerAdBreakAutoInsertionSelectionField.react",["cx","CurrentUser","React","VideoComposerAdBreakMidRollOptOutRow.react","VideoComposerDialogAdBreakStrings","VideoComposerRadioButton.react","WebFunnelLogger","XUIGrayText.react","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){d.props.onEnableAdBreakAutoInsertion(!0),b("gkx")("1157336")&&new(b("WebFunnelLogger"))("AdBreaksCreatorFunnelDefinition").setAction("CHOOSE_AD_BREAKS_PLACEMENTS").setSessionKey(b("CurrentUser").getAccountID()).addActionPayload("placements","auto").log()},d.$2=function(){d.props.onEnableAdBreakAutoInsertion(!1),b("gkx")("1157336")&&new(b("WebFunnelLogger"))("AdBreaksCreatorFunnelDefinition").setAction("CHOOSE_AD_BREAKS_PLACEMENTS").setSessionKey(b("CurrentUser").getAccountID()).addActionPayload("placements","manual").log()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.isPageMidRollOptOutEnabled,c=h.jsx(b("VideoComposerRadioButton.react"),{checked:this.props.isAdBreakAutoInsertionEnabled,className:"_6epg",label:h.jsxs("div",{children:[h.jsx("div",{className:"_6eph",children:b("VideoComposerDialogAdBreakStrings").AUTO_INSERTION_TITLE}),h.jsx(b("XUIGrayText.react"),{display:"block",size:"meta1",weight:"normal",children:b("VideoComposerDialogAdBreakStrings").AUTO_INSERTION_DESCRIPTION}),a?h.jsx(b("VideoComposerAdBreakMidRollOptOutRow.react"),{isChecked:this.props.isImageAdsSelected,isExpanded:this.props.isImageAdsDropdownExpanded,shouldShowUpsell:this.props.shouldShowImageAdsUpsell,videoComposerID:this.props.videoComposerID,onToggleImageAds:this.props.onToggleImageAds}):null]}),onSelect:this.$1}),d=h.jsx(b("VideoComposerRadioButton.react"),{checked:!this.props.isAdBreakAutoInsertionEnabled,className:"_6epg",label:h.jsxs("div",{children:[h.jsx("div",{className:"_6eph",children:b("VideoComposerDialogAdBreakStrings").MANUAL_INSERTION_TITLE}),h.jsx(b("XUIGrayText.react"),{display:"block",size:"meta1",weight:"normal",children:b("VideoComposerDialogAdBreakStrings").getManualInsertionDescription(this.props.videoDuration,this.props.hasGapRule)})]}),onSelect:this.$2});return a?h.jsxs("div",{className:"_7mq5",children:[h.jsx("div",{className:"_7mqb",children:c}),h.jsx("div",{className:"_7mqb",children:d})]}):h.jsxs("div",{className:"_7mqc",children:[c,d]})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerAdBreakBlueBannerNUX.react",["ix","cx","fbt","AsyncRequest","ClickableArea.react","FDSButton.react","FDSText.react","FlexLayout.react","Image.react","React","XBasicFBNuxDismissController","asset","cxMargin","emptyFunction"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=90;function l(a){return j.jsxs(b("FlexLayout.react"),{align:"start",className:"_7nv8",direction:"horizontal",children:[j.jsxs(b("FlexLayout.react"),{align:"stretch",direction:"vertical",children:[j.jsx(b("FDSText.react"),{color:"white",margin:"_3-95",size:"body2",weight:"bold",children:a.headerText}),j.jsx(b("FDSText.react"),{color:"white",margin:"_3-97",size:"body3",children:a.text}),j.jsxs(b("FlexLayout.react"),{align:"start",direction:"horizontal",children:[j.jsx(b("FDSButton.react"),{label:a.confirmButtonText,minWidth:k,onClick:a.onConfirmClick}),a.onClose?j.jsx(b("FDSButton.react"),{label:i._("Not Now"),margin:"_3-9a",minWidth:k,use:"flatWhite",onClick:a.onClose}):null]})]}),a.onClose!=null?j.jsx(b("ClickableArea.react"),{onClick:a.onClose||b("emptyFunction"),children:j.jsx("div",{className:"_7mqd",children:j.jsx(b("Image.react"),{src:g("480718")})})}):null]})}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){if(d.props.nuxID!=null){var a=b("XBasicFBNuxDismissController").getURIBuilder().setInt("nux_id",d.props.nuxID).getURI();new(b("AsyncRequest"))().setURI(a).send()}d.props.onCloseClick!=null&&d.props.onCloseClick()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return this.props.shown?j.jsx(l,{confirmButtonText:this.props.confirmButtonText,headerText:this.props.headerText,text:this.props.text,onClose:this.props.onCloseClick!=null?this.$1:null,onConfirmClick:this.props.onConfirmClick}):null};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerAdBreakImageAdsBlueNUX.react",["fbt","React","VideoComposerAdBreakActions","VideoComposerAdBreakBlueBannerNUX.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={hasBeenClosed:!1},d.$1=function(){var a;(a=b("VideoComposerAdBreakActions")).updateAdBreakStatus(d.props.videoComposerID,!1);a.setIsAdBreakAutoInsertionEnabled(d.props.videoComposerID,!0);a.setIsImageAdsDropdownExpanded(d.props.videoComposerID,!0);a.setShouldShowImageAdsUpsell(d.props.videoComposerID,!0);a.setShouldUseImageAds(d.props.videoComposerID,!0);a.logMidRollOptOutEvent(d.props.videoComposerID,"mro_try_it_nux_click")},d.$2=function(){d.setState({hasBeenClosed:!0}),b("VideoComposerAdBreakActions").logMidRollOptOutEvent(d.props.videoComposerID,"mro_try_it_nux_not_dismissal")},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.props.shown&&b("VideoComposerAdBreakActions").logMidRollOptOutEvent(this.props.videoComposerID,"mro_try_it_nux_impression")};d.render=function(){return!this.props.shown?null:h.jsx(b("VideoComposerAdBreakBlueBannerNUX.react"),{confirmButtonText:g._("Try It"),headerText:g._("You can now monetise videos without including mid-roll ads"),shown:this.props.shown&&!this.state.hasBeenClosed,text:g._("You can earn money from videos that don't have a good place for mid-roll ads, such as music videos. Pre-roll and image ads earn less money but let you monetise more of your content."),onCloseClick:this.$2,onConfirmClick:this.$1})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerAdBreakInsertedAdBreaksItem.react",["cx","CurrentUser","Image.react","React","VideoInstreamUtils","WebFunnelLogger","XUIText.react","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){d.props.onSelect(d.props.adBreak.timeOffset),b("gkx")("1157336")&&new(b("WebFunnelLogger"))("AdBreaksCreatorFunnelDefinition").setAction("SELECT_AD_BREAKS_ITEM").setSessionKey(b("CurrentUser").getAccountID()).log()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return h.jsx("div",{className:"_6epk",children:h.jsxs("div",{className:"_6epl"+(this.props.selected?" _6epm":""),ref:"insertedAdBreaksItem",role:"presentation",onClick:this.$1,children:[h.jsx(b("Image.react"),{className:"_6epn",src:this.props.adBreak.thumbnailURL}),h.jsx("div",{className:"_6epo",children:h.jsx(b("XUIText.react"),{children:b("VideoInstreamUtils").convertTimestampToFormattedString(this.props.adBreak.timeOffset)})})]})})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerAdBreakInsertedAdBreaksSliderButtons.react",["ix","Image.react","React","XUIButton.react","XUIButtonGroup.react","asset"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsxs(b("XUIButtonGroup.react"),{children:[h.jsx(b("XUIButton.react"),{disabled:this.props.currentSliderOffset<=0,image:h.jsx(b("Image.react"),{src:g("406776")}),label:"Previous",labelIsHidden:!0,size:"small",onClick:this.props.onSlideLeft}),h.jsx(b("XUIButton.react"),{disabled:this.props.maxSliderOffset<=this.props.currentSliderOffset,image:h.jsx(b("Image.react"),{src:g("363528")}),label:"Next",labelIsHidden:!0,size:"small",onClick:this.props.onSlideRight})]})};return c}(h.Component);e.exports=a}),null);
__d("XAdBreakAdminPreviewNotificationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ad_breaks/admin_preview/notification/",{video_id:{type:"FBID",required:!0},ad_break_time_offsets:{type:"IntVector"}})}),null);
__d("XAdBreakAdminPreviewShareController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ad_breaks/admin_preview/share/",{video_id:{type:"FBID",required:!0},ad_break_time_offsets:{type:"IntVector"}})}),null);
__d("XAdBreakAdminPreviewStatusController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ad_breaks/admin_preview/status/",{video_id:{type:"FBID",required:!0}})}),null);
__d("AdBreakAdminPreviewManager",["AdBreakAdminPreviewTypedLogger","AsyncRequest","XAdBreakAdminPreviewNotificationController","XAdBreakAdminPreviewShareController","XAdBreakAdminPreviewStatusController"],(function(a,b,c,d,e,f){"use strict";var g=1e3;a=function(){function a(){}var c=a.prototype;c.sendNotification=function(a,c,d,e){var f=this;this.lastRequestTime=Date.now();new(b("AdBreakAdminPreviewTypedLogger"))().setVideoID(String(a)).setAdBreakTimeOffsets(c).setEvent("admin_send_notification").setTimeConsumedInMs(null).log();var g=function(){new(b("AdBreakAdminPreviewTypedLogger"))().setVideoID(String(a)).setAdBreakTimeOffsets(c).setEvent("admin_send_notification_success").setTimeConsumedInMs(Date.now()-f.lastRequestTime).log(),d()},h=function(){new(b("AdBreakAdminPreviewTypedLogger"))().setVideoID(String(a)).setAdBreakTimeOffsets(c).setEvent("admin_send_notification_failure").setTimeConsumedInMs(Date.now()-f.lastRequestTime).log(),e()},i=b("XAdBreakAdminPreviewNotificationController").getURIBuilder().setFBID("video_id",a).setIntVector("ad_break_time_offsets",c).getURI();new(b("AsyncRequest"))(i).setHandler(function(b){b.payload.status==="ok"?g():f.pollPreviewStatus(a,g,h)}).setErrorHandler(function(a){return h()}).send()};c.requestShareLink=function(a,c,d,e){var f=this;this.lastRequestTime=Date.now();new(b("AdBreakAdminPreviewTypedLogger"))().setVideoID(String(a)).setAdBreakTimeOffsets(c).setEvent("admin_request_shareable_link").setTimeConsumedInMs(null).log();var g=function(e){new(b("AdBreakAdminPreviewTypedLogger"))().setVideoID(String(a)).setAdBreakTimeOffsets(c).setEvent("admin_request_shareable_link_success").setTimeConsumedInMs(Date.now()-f.lastRequestTime).log(),d(e)},h=function(d){new(b("AdBreakAdminPreviewTypedLogger"))().setVideoID(String(a)).setAdBreakTimeOffsets(c).setEvent("admin_request_shareable_link_failure").setTimeConsumedInMs(Date.now()-f.lastRequestTime).log(),e(d)};this.requestShareLinkWithoutLogging(a,c,g,h)};c.requestShareLinkWithoutLogging=function(a,c,d,e){var f=this,g=b("XAdBreakAdminPreviewShareController").getURIBuilder().setFBID("video_id",a).setIntVector("ad_break_time_offsets",c).getURI();new(b("AsyncRequest"))(g).setHandler(function(b){b.payload.status==="ok"?d(b):f.pollPreviewStatus(a,function(){return f.requestShareLinkWithoutLogging(a,c,d,e)},function(){return e(b)})}).setErrorHandler(function(a){return e(a)}).send()};c.pollPreviewStatus=function(a,b,c){var d=this;clearInterval(this.timer);this.timer=setInterval(function(){return d.getPreviewStatus(a,b,c)},g)};c.stopPolling=function(){clearInterval(this.timer)};c.getPreviewStatus=function(a,c,d){var e=this;a=b("XAdBreakAdminPreviewStatusController").getURIBuilder().setFBID("video_id",a).getURI();new(b("AsyncRequest"))(a).setHandler(function(a){a.payload.status==="ok"&&(clearInterval(e.timer),c())}).setErrorHandler(function(a){clearInterval(e.timer),d()}).send()};return a}();e.exports=new a()}),null);
__d("ComposerVideoAdBreakAdminPreviewLoadingDialog.react",["cx","fbt","CenteredContainer.react","React","SUIBusinessTheme","SUISpinner.react","XUIDialog.react","XUIDialogBody.react","XUIDialogCloseButton.react","XUIDialogFooter.react","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=475;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={shown:!0},c.$1=function(){c.props.onClose&&c.props.onClose()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.show=function(){this.setState({shown:!0})};d.hide=function(){this.setState({shown:!1})};d.render=function(){return i.jsxs(b("XUIDialog.react"),{label:h._("Loading"),layerHideOnBlur:!1,shown:this.state.shown,width:j,children:[i.jsx(b("CenteredContainer.react"),{children:i.jsx(b("XUIDialogBody.react"),{children:i.jsxs("div",{className:"_380g",children:[h._("Your preview is being prepared. This may take a moment..."),i.jsx(b("SUISpinner.react"),{className:"_3-9b",size:"small",theme:b("SUIBusinessTheme")})]})})}),i.jsx(b("XUIDialogFooter.react"),{children:i.jsx(b("XUIDialogCloseButton.react"),{onClick:this.$1})})]})};return c}(i.PureComponent);e.exports=a}),null);
__d("ComposerVideoAdBreakAdminPreviewNotificationHandler",["fbt","AdBreakAdminPreviewManager","ComposerVideoAdBreakAdminPreviewLoadingDialog.react","DOM","React","ReactDOM","SimpleXUIDialog","XUIDialogCloseButton.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(){function a(){var a=this;this.$2=function(){if(!a.loadingDialog)return;a.$4();var c=g._("A notification has been sent to your Facebook account. Please open Facebook on your phone to preview your video with in-stream ads."),d=h.jsx(b("XUIDialogCloseButton.react"),{}),e=g._("Mobile in-stream ad preview");b("SimpleXUIDialog").showEx(c,e,d)};this.$3=function(){if(!a.loadingDialog)return;a.$4();var c=g._("An error occurred while sending notification."),d=h.jsx(b("XUIDialogCloseButton.react"),{}),e=g._("Mobile in-stream ad preview");b("SimpleXUIDialog").showEx(c,e,d)}}var c=a.prototype;c.sendNotification=function(a,c){this.$1(),b("AdBreakAdminPreviewManager").sendNotification(a,c,this.$2,this.$3)};c.$1=function(){var a=h.jsx(b("ComposerVideoAdBreakAdminPreviewLoadingDialog.react"),{});this.loadingDialog=b("ReactDOM").render(a,b("DOM").create("div"));this.loadingDialog.show()};c.$4=function(){this.loadingDialog&&(this.loadingDialog.hide(),this.loadingDialog=null)};return a}();e.exports=new a()}),null);
__d("ComposerVideoAdBreakAdminPreviewShareDialog.react",["cx","fbt","AdBreakAdminPreviewManager","Clipboard","ComposerVideoAdBreakAdminPreviewLoadingDialog.react","FBClipboardLink.react","Image.react","Link.react","React","SUIBusinessTheme","SUIText.react","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIGrayText.react","XUITextInput.react","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isLoading:!1,shareURL:null,shown:!1},c.hide=function(){c.setState({shown:!1})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){var a=this;this.props.videoID&&(this.setState({isLoading:!0}),b("AdBreakAdminPreviewManager").requestShareLink(this.props.videoID,this.props.adBreakTimeOffsets,function(b){a.setState({isLoading:!1,shareURL:b.payload.url})},function(b){a.setState({isLoading:!1})}))};d.show=function(){this.setState({shown:!0})};d.render=function(){if(this.state.isLoading)return i.jsx(b("ComposerVideoAdBreakAdminPreviewLoadingDialog.react"),{onClose:this.hide});var a=null;!this.state.shareURL?a=h._("Failed to load share link."):a=i.jsxs("div",{className:"_40s0",children:[i.jsxs("div",{className:"_40s1",children:[i.jsx(j,{}),i.jsx(k,{shareURL:this.state.shareURL}),i.jsx(l,{})]}),i.jsx(b("Image.react"),{className:"_40s7",src:"/images/aet/ShareAdPreview.png"})]});return i.jsxs(b("XUIDialog.react"),{layerHideOnBlur:!1,shown:this.state.shown,width:700,children:[i.jsx(b("XUIDialogTitle.react"),{children:h._("Preview this video with in-stream ads")}),i.jsx(b("XUIDialogBody.react"),{children:a}),i.jsx(b("XUIDialogFooter.react"),{children:i.jsx(b("XUIDialogButton.react"),{action:"cancel",label:h._("Done"),onClick:this.hide,use:"confirm"})})]})};return c}(i.PureComponent);function j(){return i.jsxs("div",{children:[i.jsx(b("SUIText.react"),{display:"block",size:"meta1",theme:b("SUIBusinessTheme"),weight:"bold",children:h._("Send link")}),i.jsx(b("SUIText.react"),{className:"_3-8x",display:"block",size:"meta1",theme:b("SUIBusinessTheme"),children:h._("Use this URL to preview this video with in-stream ads on desktop. You can share this link with others.")})]})}function k(a){var c=null;b("Clipboard").isSupported()&&(c=i.jsx(b("FBClipboardLink.react"),{value:a.shareURL,children:i.jsx(b("XUIButton.react"),{className:"_3-9b",label:h._("Copy"),use:"confirm"})}));var d=i.jsx(b("XUITextInput.react"),{className:"_40s8",disabled:!0,value:a.shareURL});b("Clipboard").isSupported()&&(d=i.jsx(b("FBClipboardLink.react"),{value:a.shareURL,children:i.jsx(b("Link.react"),{children:a.shareURL})}));return i.jsxs("div",{className:"_2pie",children:[d,c]})}function l(){return i.jsx("div",{className:"_2pie",children:i.jsx(b("XUIGrayText.react"),{display:"block",children:h._("A sample ad will be played during your in-stream ad placements.")})})}e.exports=a}),null);
__d("ComposerVideoAdBreakAdminPreviewMenu.react",["ix","cx","fbt","AccessibleLayer","AdBreakAdminPreviewManager","ComposerVideoAdBreakAdminPreviewNotificationHandler","ComposerVideoAdBreakAdminPreviewShareDialog.react","ContextualLayerHideOnScroll","CurrentUser","DateConsts","DOM","Image.react","LayerFadeOnHide","LayerFadeOnShow","LayerFitHeightToScreen","LayerHideOnBlur","LayerHideOnEscape","React","ReactDOM","ShimButton.react","SUIBusinessTheme","SUIText.react","WebFunnelLogger","XUIContextualDialog.react","asset","gkx"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showMenu:!1},d.$5=function(a){return j.jsxs("div",{children:[j.jsx("div",{className:"_-em",children:j.jsx(b("SUIText.react"),{className:"_2pit",shade:"medium",size:"meta1",theme:b("SUIBusinessTheme"),weight:"bold",children:a.header})}),j.jsx("div",{children:a.items.map(d.$6,babelHelpers.assertThisInitialized(d))})]},a.id)},d.$6=function(a){return j.jsxs(b("ShimButton.react"),{className:"_-en",onClick:function(b){return d.$7(b,a.onClick)},children:[j.jsx(b("Image.react"),{src:a.icon}),j.jsx(b("SUIText.react"),{className:"_2pit",shade:"medium",size:"meta1",theme:b("SUIBusinessTheme"),weight:"bold",children:a.title})]},a.id)},d.$4=function(a){d.setState({showMenu:a})},d.$1=function(a){d.setState({showMenu:!d.state.showMenu}),a.stopPropagation(),b("gkx")("1157336")&&new(b("WebFunnelLogger"))("AdBreaksCreatorFunnelDefinition").setAction("SHARE_AD_BREAKS").setSessionKey(b("CurrentUser").getAccountID()).log()},d.$3=[{id:"share_preview_section",header:i._("Share previews"),items:[{id:"share_a_link_menu_item",icon:g("407157"),title:i._("Share a link"),onClick:function(){var a=j.jsx(b("ComposerVideoAdBreakAdminPreviewShareDialog.react"),{adBreakTimeOffsets:d.$8(),videoID:d.props.videoID});a=b("ReactDOM").render(a,b("DOM").create("div"));a.show()}}]},{id:"preview_on_device_section",header:i._("Preview on device"),items:[{id:"send_notification_to_facebook_menu_item",icon:g("390904"),title:i._("Send notification to Facebook"),onClick:function(){b("ComposerVideoAdBreakAdminPreviewNotificationHandler").sendNotification(d.props.videoID,d.$8())}}]}],c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentWillUnmount=function(){b("AdBreakAdminPreviewManager").stopPolling()};d.render=function(){return j.jsxs("div",{className:"_65wv",ref:"adminPreviewMenuButton",role:"presentation",onClick:this.$1,children:[this.props.children,this.$2(this.$3)]})};d.$2=function(a){var c=this;return!this.props.videoID?null:j.jsx(b("XUIContextualDialog.react"),{alignment:"right",behaviors:{AccessibleLayer:b("AccessibleLayer"),ContextualLayerHideOnScroll:b("ContextualLayerHideOnScroll"),LayerHideOnTransition:!1,LayerHideOnBlur:b("LayerHideOnBlur"),LayerHideOnEscape:b("LayerHideOnEscape"),LayerFadeOnShow:b("LayerFadeOnShow"),LayerFadeOnHide:b("LayerFadeOnHide"),LayerFitHeightToScreen:b("LayerFitHeightToScreen")},contextRef:function(){return c.refs.adminPreviewMenuButton},label:i._("In-stream ads admin preview menu"),onToggle:this.$4,position:"below",shown:this.state.showMenu,width:b("XUIContextualDialog.react").WIDTH.NORMAL,children:a.map(this.$5,this)})};d.$7=function(a,b){b(),this.setState({showMenu:!this.state.showMenu}),a.stopPropagation()};d.$8=function(){var a=[];this.props.disablePreview||(a=this.props.insertedAdBreaks.map(function(a){return Math.round(a.timeOffset*b("DateConsts").MS_PER_SEC)}));return a};return c}(j.PureComponent);e.exports=a}),null);
__d("VideoComposerAdBreakToolbarButton.react",["cx","Image.react","React","XUIText.react","cxMargin","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){if(this.props.disabled)return this.props.iconSrcDisabled;return this.props.active?this.props.iconSrcActive:this.props.iconSrc};d.render=function(){return h.jsxs("div",{className:b("joinClasses")("_6emb"+(this.props.active?" _6emc":"")+(this.props.disabled?" _6ekl":""),this.props.className),role:"presentation",onClick:this.props.disabled?null:this.props.onClick,children:[h.jsx(b("Image.react"),{src:this.$1()}),h.jsx(b("XUIText.react"),{className:"_3-99",display:"block",children:this.props.label})]})};return c}(h.Component);a.defaultProps={active:!1,disabled:!1};e.exports=a}),null);
__d("VideoComposerAdBreakInsertedAdBreaksToolbar.react",["ix","cx","fbt","ComposerVideoAdBreakAdminPreviewMenu.react","React","Tooltip.react","VideoComposerAdBreakToolbarButton.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.isPreviewingAdBreak?c.props.onCancelPreview():c.props.onPreviewAdBreak(c.props.selectedAdBreakIndex)},c.$2=function(){c.props.onDeleteAdBreak(c.props.selectedAdBreakIndex)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=null;this.props.isVideoTrimmed&&(a=i._("Sharing in-stream ads preview is not supported for trimmed video."));return j.jsxs("div",{className:"_6ej-",children:[j.jsx(b("VideoComposerAdBreakToolbarButton.react"),{active:this.props.isPreviewingAdBreak,className:"_3-92",iconSrc:g("431966"),iconSrcActive:g("459445"),label:this.props.isPreviewingAdBreak?i._("Stop"):i._("Preview"),onClick:this.$1}),j.jsx(b("ComposerVideoAdBreakAdminPreviewMenu.react"),{disablePreview:this.props.isVideoTrimmed||this.props.adBreaksDisabled,insertedAdBreaks:this.props.insertedAdBreaks.slice(this.props.selectedAdBreakIndex,this.props.selectedAdBreakIndex+1),videoID:this.props.videoID,children:j.jsx(b("Tooltip.react"),{position:"above",tooltip:a,children:j.jsx(b("VideoComposerAdBreakToolbarButton.react"),{className:"_3-92",disabled:this.props.isVideoTrimmed||!this.props.videoID,iconSrc:g("363826"),iconSrcDisabled:g("399490"),label:i._("Share")})})}),j.jsx(b("VideoComposerAdBreakToolbarButton.react"),{disabled:this.props.isPreviewingAdBreak,iconSrc:g("411467"),iconSrcDisabled:g("411466"),label:i._("Remove"),onClick:this.$2})]})};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerAdBreakInsertedAdBreaks.react",["cx","React","VideoComposerAdBreakInsertedAdBreaksItem.react","VideoComposerAdBreakInsertedAdBreaksSliderButtons.react","VideoComposerAdBreakInsertedAdBreaksToolbar.react","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=80;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={currentSliderOffset:0,selectedAdBreakTimeOffset:null},c.$2=function(a){c.setState({selectedAdBreakTimeOffset:a})},c.$3=function(){c.setState(function(a){return{currentSliderOffset:Math.max(0,a.currentSliderOffset-i)}})},c.$4=function(){c.setState(function(a){return{currentSliderOffset:Math.min(a.currentSliderOffset+i,c.$1())}})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidUpdate=function(a,b){if(this.props.insertedAdBreaks.length===a.insertedAdBreaks.length)return;if(!this.refs.insertedAdBreaks||!this.refs.insertedAdBreaksContent)return;b=this.refs.insertedAdBreaks.getBoundingClientRect();a=this.refs.insertedAdBreaksContent.getBoundingClientRect();b.left<a.left?this.setState({currentSliderOffset:0}):a.right<b.right&&this.setState({currentSliderOffset:this.$1()})};d.$1=function(){if(!this.refs.insertedAdBreaks||!this.refs.insertedAdBreaksContent)return 0;var a=this.refs.insertedAdBreaks.getBoundingClientRect(),b=this.refs.insertedAdBreaksContent.getBoundingClientRect();return Math.max(0,b.width-a.width)};d.render=function(){var a=this;if(this.props.insertedAdBreaks.length===0)return null;var c=this.props.insertedAdBreaks.findIndex(function(b){return b.timeOffset===a.state.selectedAdBreakTimeOffset});return h.jsxs("div",{className:"_6ep5",children:[h.jsx("div",{className:"_6ep6",ref:"insertedAdBreaks",children:h.jsx("div",{className:"_6ep7",ref:"insertedAdBreaksContent",style:{right:this.state.currentSliderOffset+"px"},children:this.props.insertedAdBreaks.map(function(c,d){var e=d>0?{className:"_3-9a"}:null;return h.jsx("div",babelHelpers["extends"]({},e,{children:h.jsx(b("VideoComposerAdBreakInsertedAdBreaksItem.react"),{adBreak:c,adBreakIndex:d,selected:a.state.selectedAdBreakTimeOffset===c.timeOffset,onSelect:a.$2})}),d)})})}),h.jsxs("div",{className:"_6ep8 _3-8x",children:[c<0?null:h.jsx(b("VideoComposerAdBreakInsertedAdBreaksToolbar.react"),{adBreaksDisabled:this.props.adBreaksDisabled,insertedAdBreaks:this.props.insertedAdBreaks,isPreviewingAdBreak:this.props.isPreviewingAdBreak,isVideoTrimmed:this.props.isVideoTrimmed,selectedAdBreakIndex:c,videoID:this.props.videoID,onCancelPreview:this.props.onCancelPreview,onDeleteAdBreak:this.props.onDeleteAdBreak,onPreviewAdBreak:this.props.onPreviewAdBreak}),h.jsx("div",{className:"_3-9a"}),h.jsx(b("VideoComposerAdBreakInsertedAdBreaksSliderButtons.react"),{currentSliderOffset:this.state.currentSliderOffset,maxSliderOffset:this.$1(),onSlideLeft:this.$3,onSlideRight:this.$4})]})]})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerAdBreakInsertionEditorField.react",["cx","React","VideoComposerAdBreakInsertionButton.react","VideoComposerAdBreakTimeOffsetEditor.react","VideoComposerDialogAdBreakStrings","XUIGrayText.react","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsxs("div",{className:"_6em1",children:[h.jsx(b("XUIGrayText.react"),{display:"block",size:"meta1",children:b("VideoComposerDialogAdBreakStrings").INSERTION_TIME_OFFSET_EDITOR_DESCRIPTION}),h.jsxs("div",{className:"_6em2",children:[h.jsx(b("VideoComposerAdBreakTimeOffsetEditor.react"),{adBreakIndex:null,adBreakTimeOffset:this.props.currentAdBreakTimeOffset,isIndexCircleVisible:!1,isPreviewingAdBreak:this.props.currentPreviewIndex!=null,videoDuration:this.props.videoDuration,onSetCurrentAdBreak:this.props.onSetCurrentAdBreak}),h.jsx("div",{className:"_3-9b",children:h.jsx(b("VideoComposerAdBreakInsertionButton.react"),{currentAdBreakTimeOffset:this.props.currentAdBreakTimeOffset,disabled:this.props.adBreaksDisabled||this.props.currentPreviewIndex!=null,hasGapRule:this.props.hasGapRule,insertedAdBreaks:this.props.insertedAdBreaks,videoDuration:this.props.videoDuration,onInsertAdBreak:this.props.onInsertAdBreak})})]})]})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerAdBreakInsertionToggleField.react",["cx","fbt","React","VideoComposerAdBreakSwitch.react","VideoComposerDialogAdBreakStrings","VideoComposerField.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){c.props.onUpdateAdBreakStatus(!a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return i.jsx(b("VideoComposerField.react"),{input:i.jsx("div",{className:"_6en0",children:i.jsx(b("VideoComposerAdBreakSwitch.react"),{disabled:this.props.toggleDisabled,labelOff:h._("OFF"),labelOn:h._("ON"),value:!this.props.adBreaksDisabled,onToggle:this.$1})}),showTopBorder:!1,subtitle:b("VideoComposerDialogAdBreakStrings").AD_BREAK_TOGGLE_DESCRIPTION,title:b("VideoComposerDialogAdBreakStrings").AD_BREAK_TOGGLE_TITLE,tooltip:b("VideoComposerDialogAdBreakStrings").AD_BREAK_TOGGLE_TOOLTIP})};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerAdBreakPreviewSection.react",["cx","DateConsts","InstreamVideoAdBreak","React","VideoComponentClickPlayPause.react","VideoComponentCommercialBreakStartingIndicator.react","VideoComponentCommercialBreakVideoAdOverlay.react","VideoComponentCommercialBreakVodTransitionOverlay.react","VideoComponentContextMenu.react","VideoComponentEmbeddedControls.react","VideoComponentPlayButton.react","VideoComponentScrubberPreview.react","VideoComponentVodWithCommercialBreak.react","VideoComponentWithCommercialBreak.react","VideoComponentWithInstreamVideo.react","VideoComponentWithPlayStartEnd.react","VideoComponentWithSpacePlayPause.react","VideoComposerDialogConstants","VideoPlayer.react","XUISpinner.react","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){var a=this;return!this.props.insertedAdBreaks||this.props.isAdBreakDisabled?[]:this.props.insertedAdBreaks.map(function(c,d){return new(b("InstreamVideoAdBreak"))({adBreakDurationInMs:null,index:0,instreamPlacement:"mid_roll",isAdBreakAutoInserted:!1,timeOffsetInMs:(c.timeOffset+a.props.videoStartTime)*b("DateConsts").MS_PER_SEC})})};d.$2=function(){return this.props.insertedAdBreaks&&this.props.currentPreviewIndex!=null?this.props.insertedAdBreaks[this.props.currentPreviewIndex].thumbnailURL:null};d.$3=function(){return this.props.currentPreviewIndex!=null};d.render=function(){var a=this.props.videoData;return!a?h.jsx("div",{className:"_6eni",children:h.jsx(b("XUISpinner.react"),{size:"large"})}):h.jsx("div",{className:"_3-98",children:h.jsxs(b("VideoPlayer.react"),{autoplay:!1,className:"_6epe",height:b("VideoComposerDialogConstants").PLAYER_HEIGHT,playerOrigin:"composer",subOrigin:"not_specified_please_fix",videoData:a,onUpdateMetadata:this.props.onVPCUpdate,onVpcUpdate:this.props.onVPCUpdate,children:[h.jsx(b("VideoComponentPlayButton.react"),{}),h.jsx(b("VideoComponentEmbeddedControls.react"),{adBreaks:{insertedAdBreaks:this.props.insertedAdBreaks,isAdBreakDisabled:this.props.isAdBreakDisabled,isAdBreakInsertionWithoutGapRule:!this.props.hasGapRule,isPreviewingAdBreak:this.$3()},displayDurationLimit:this.props.videoEndTime?this.props.videoEndTime-this.props.videoStartTime:null,displayElapsedTime:!0,displayMilliseconds:!0,displayTimeOffset:this.props.videoStartTime,showFullscreenButton:!1,showSettingsButton:!1}),h.jsx(b("VideoComponentWithPlayStartEnd.react"),{endTime:this.props.videoEndTime,startTime:this.props.videoStartTime}),h.jsx(b("VideoComponentContextMenu.react"),{}),h.jsx(b("VideoComponentClickPlayPause.react"),{}),h.jsx(b("VideoComponentWithSpacePlayPause.react"),{}),h.jsx(b("VideoComponentScrubberPreview.react"),{}),h.jsx(b("VideoComponentWithInstreamVideo.react"),{shouldUsePreviewConfig:!0,thumbnailURLForPreview:this.$2()}),h.jsx(b("VideoComponentWithCommercialBreak.react"),{}),h.jsx(b("VideoComponentVodWithCommercialBreak.react"),{adBreaks:this.$1()}),h.jsx(b("VideoComponentCommercialBreakVideoAdOverlay.react"),{adsStopped:!this.$3()}),h.jsx(b("VideoComponentCommercialBreakVodTransitionOverlay.react"),{}),h.jsx(b("VideoComponentCommercialBreakStartingIndicator.react"),{adsStopped:!this.$3()})]})})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerAdBreakVideoRightsNotice.react",["fbt","React","VideoComposerAdBreakNUX.react","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return a.videoRightsAgreed?null:h.jsx("div",{className:"_3-96",children:h.jsx(b("VideoComposerAdBreakNUX.react"),{description:g._("To include in-stream ads, you agree that you have the rights to use all of the content in your video."),dismissible:!1,style:"notice"})})}e.exports=a}),null);
__d("VideoComposerShorterContentMonetizationNUX.react",["React","ShorterContentMonetizationContent","VideoComposerAdBreakActions","VideoComposerAdBreakBlueBannerNUX.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("ShorterContentMonetizationContent").adsDisabledInsertionBannerBody,i=b("ShorterContentMonetizationContent").adsDisabledInsertionBannerButtonText,j=b("ShorterContentMonetizationContent").adsDisabledInsertionBannerTitle,k=b("VideoComposerAdBreakActions").logShorterContentMonetizationEvent;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=!1,d.$2=function(){b("VideoComposerAdBreakActions").updateAdBreakStatus(d.props.videoComposerID,!1,!0),b("VideoComposerAdBreakActions").setIsAdBreakAutoInsertionEnabled(d.props.videoComposerID,!0),k(d.props.videoComposerID,"scm_try_it_nux_click")},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.props.shown&&!this.$1&&(this.$1=!0,k(this.props.videoComposerID,"scm_try_it_nux_impression"))};d.componentDidUpdate=function(){this.props.shown&&!this.$1&&(this.$1=!0,k(this.props.videoComposerID,"scm_try_it_nux_impression"))};d.render=function(){return g.jsx(b("VideoComposerAdBreakBlueBannerNUX.react"),{confirmButtonText:i,headerText:j,shown:this.props.shown,text:h,onConfirmClick:this.$2})};return c}(g.Component);e.exports=a}),null);
__d("VideoComposerAdBreakInsertionFieldV2.react",["cx","ix","BannerWithImage.react","React","ShorterContentMonetizationContent","VideoComposerAdBreakAutoAdjustmentSettings.react","VideoComposerAdBreakAutoInsertionSelectionField.react","VideoComposerAdBreakImageAdsBlueNUX.react","VideoComposerAdBreakInsertedAdBreaks.react","VideoComposerAdBreakInsertionEditorField.react","VideoComposerAdBreakInsertionToggleField.react","VideoComposerAdBreakPreviewSection.react","VideoComposerAdBreakVideoRightsNotice.react","VideoComposerShorterContentMonetizationNUX.react","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("ShorterContentMonetizationContent").adsEnabledInsertionBannerBody,k=b("ShorterContentMonetizationContent").adsEnabledInsertionBannerTitle;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return i.jsxs("div",{className:"_6ejp",children:[i.jsx(b("VideoComposerAdBreakVideoRightsNotice.react"),{videoRightsAgreed:!this.props.adBreaksDisabled}),i.jsx(b("VideoComposerAdBreakImageAdsBlueNUX.react"),{videoComposerID:this.props.videoComposerID,shown:this.props.adBreaksDisabled&&this.props.isPageMidRollOptOutEnabled&&!this.props.isMonetizableShortVideo}),i.jsx(b("VideoComposerShorterContentMonetizationNUX.react"),{videoComposerID:this.props.videoComposerID,shown:this.props.isMonetizableShortVideo&&this.props.adBreaksDisabled}),i.jsx(b("VideoComposerAdBreakInsertionToggleField.react"),{adBreaksDisabled:this.props.adBreaksDisabled,hasGapRule:this.props.hasGapRule,toggleDisabled:this.props.currentPreviewIndex!=null,videoDuration:this.props.videoDuration,onUpdateAdBreakStatus:this.props.onUpdateAdBreakStatus}),!this.props.adBreaksDisabled&&this.props.isMonetizableShortVideo?i.jsx("div",{className:"_3-98",children:i.jsx(b("BannerWithImage.react"),{bodyText:j,className:"_7x7y",headerText:k,imageSrc:h("902278")})}):this.props.adBreaksDisabled?null:i.jsxs("div",{children:[i.jsx(b("VideoComposerAdBreakAutoInsertionSelectionField.react"),{videoComposerID:this.props.videoComposerID,hasGapRule:this.props.hasGapRule,isAdBreakAutoInsertionEnabled:this.props.isAdBreakAutoInsertionEnabled,isImageAdsDropdownExpanded:this.props.isImageAdsDropdownExpanded,isImageAdsSelected:this.props.shouldUseImageAds,isPageMidRollOptOutEnabled:this.props.isPageMidRollOptOutEnabled,shouldShowImageAdsUpsell:this.props.shouldShowImageAdsUpsell,videoDuration:this.props.videoDuration,onEnableAdBreakAutoInsertion:this.props.onEnableAdBreakAutoInsertion,onToggleImageAds:this.props.onToggleImageAds}),this.props.isAdBreakAutoInsertionEnabled?null:i.jsxs("div",{children:[i.jsx(b("VideoComposerAdBreakPreviewSection.react"),{currentPreviewIndex:this.props.currentPreviewIndex,hasGapRule:this.props.hasGapRule,insertedAdBreaks:this.props.insertedAdBreaks,isAdBreakDisabled:this.props.adBreaksDisabled,videoData:this.props.videoData,videoEndTime:this.props.videoEndTime,videoStartTime:this.props.videoStartTime,onVPCUpdate:this.props.onVPCUpdate}),i.jsxs("div",{className:"_6ejj",children:[i.jsx(b("VideoComposerAdBreakInsertionEditorField.react"),{adBreaksDisabled:this.props.adBreaksDisabled,currentAdBreakTimeOffset:this.props.currentAdBreakTimeOffset,currentPreviewIndex:this.props.currentPreviewIndex,hasGapRule:this.props.hasGapRule,insertedAdBreaks:this.props.insertedAdBreaks,videoDuration:this.props.videoDuration,onInsertAdBreak:this.props.onInsertAdBreak,onSetCurrentAdBreak:this.props.onSetCurrentAdBreak}),i.jsx("div",{className:"_3-9b"}),i.jsx(b("VideoComposerAdBreakInsertedAdBreaks.react"),{adBreaksDisabled:this.props.adBreaksDisabled,insertedAdBreaks:this.props.insertedAdBreaks,isPreviewingAdBreak:this.props.currentPreviewIndex!=null,isVideoTrimmed:this.props.isVideoTrimmed,videoID:this.props.videoID,onCancelPreview:this.props.onCancelPreview,onDeleteAdBreak:this.props.onDeleteAdBreak,onPreviewAdBreak:this.props.onPreviewAdBreak})]}),this.props.insertedAdBreaks.length>0?i.jsx("div",{className:"_6ejq",children:i.jsx(b("VideoComposerAdBreakAutoAdjustmentSettings.react"),{isAdBreakAutoAdjustmentEnabled:this.props.isAdBreakAutoAdjustmentEnabled,onEnableAdBreakAutoAdjustment:this.props.onEnableAdBreakAutoAdjustment})}):null]})]})]})};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerAdBreakPageOnboardingSection.react",["cx","fbt","React","VideoComposerField.react","XUIButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.pageID&&c.props.onStartPageOnboarding(c.props.pageID)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return i.jsx(b("VideoComposerField.react"),{input:i.jsx(b("XUIButton.react"),{className:"_6ent",label:h._("Get started"),labelIsHidden:!1,type:"button",onClick:this.$1}),inputPadding:!0,showTopBorder:!1,subtitle:h._("Set up in-stream ads to start earning money from your videos. You can choose when to start each break, which pauses your video so that a short ad can play."),title:h._("Earn money with ads")})};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerAdBreakVideoRightsSection.react",["cx","fbt","React","VideoComposerField.react","XUIButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return i.jsx(b("VideoComposerField.react"),{input:i.jsx(b("XUIButton.react"),{className:"_6ent",label:h._("I Agree"),labelIsHidden:!1,onClick:this.props.onAgree,type:"button"}),inputPadding:!0,showTopBorder:!1,subtitle:h._("To include in-stream ads, you agree that you have the rights to use all of the content in your video."),title:h._("Content ownership rights")})};return c}(i.Component);e.exports=a}),null);
__d("XAdBreakPageOnboardingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/instream_video/onboarding/pages/",{creator_id:{type:"FBID",required:!0},entrypoint:{type:"Enum",enumType:1}})}),null);
__d("XVideoComposerBootloadAdBreaksTabController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/bootload_ad_breaks/",{target_id:{type:"FBID",required:!0}})}),null);
__d("XVideoComposerEditAdBreaksTabController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/edit/ad_breaks/",{target_id:{type:"FBID",required:!0},video_id:{type:"FBID",required:!0}})}),null);
__d("VideoComposerDialogAdBreakUtils",["fbt","Promise","ActorURI","AdBreakPageOnboardingTypedLogger","AsyncRequest","SimpleXUIDialog","VideoComposerAdBreakActions","XAdBreakPageOnboardingController","XInstreamAdBreaksAutoInsertionProfileSettingsMutationController","XVideoComposerBootloadAdBreaksTabController","XVideoComposerEditAdBreaksTabController","goURI"],(function(a,b,c,d,e,f,g){"use strict";var h=90,i=180;a=function(a,c){var d=b("XVideoComposerBootloadAdBreaksTabController").getURIBuilder().setFBID("target_id",c).getURI(),e=b("ActorURI").create(d,c);return new(b("Promise"))(function(c,d){new(b("AsyncRequest"))(e).setHandler(function(d){b("VideoComposerAdBreakActions").bootloadParameters(a,d.payload),c(d)}).setErrorHandler(function(a){d(a)}).send()})};c=function(a,c){var d=b("XVideoComposerEditAdBreaksTabController").getURIBuilder().setFBID("target_id",c.common.actorID).setFBID("video_id",c.videoID).getURI(),e=b("ActorURI").create(d,c.common.actorID);return new(b("Promise"))(function(a,c){new(b("AsyncRequest"))(e).setHandler(function(b){a(b)}).send()}).then(function(c){b("VideoComposerAdBreakActions").fetchEditParameters(a,c.payload)})};d=function(a){b("SimpleXUIDialog").showConfirm(g._("If holdout testing is currently running for this video, turning off in-stream ads will immediately end the holdout test and disable holdout testing permanently for this video."),g._("Turn off in-stream ads?"),function(b){return b&&a()})};f=function(a){new(b("AdBreakPageOnboardingTypedLogger"))().setPageID(a).setAdBreakPageOnboardingEventType("composer_entry_point").log();a=b("XAdBreakPageOnboardingController").getURIBuilder().setFBID("creator_id",a).setEnum("entrypoint","from_composer").getURI();b("goURI")(a,!0)};var j=function(a,c){c=b("XInstreamAdBreaksAutoInsertionProfileSettingsMutationController").getURIBuilder().setBool("auto_insertion_status",c).setFBID("page_id",a).getURI();new(b("AsyncRequest"))(c).setMethod("POST").send()},k=function(a,b){return a&&b!=null&&b>=h&&b<i};e.exports={canShortVideoUseImageAds:k,beginBootloadingAdBreaksTab:a,fetchEditParameters:c,showHoldoutTestDisabledConfirmation:d,startPageOnboarding:f,updateInsertionProfileStatus:j}}),null);
__d("VideoComposerAdBreakInputSection.react",["cx","React","VideoComposerAdBreakBlockListField.react","VideoComposerAdBreakCountryRestrictionsField.react","VideoComposerAdBreakCreatePollField.react","VideoComposerAdBreakDemonetizationNotice.react","VideoComposerAdBreakHoldoutTestField.react","VideoComposerAdBreakInsertionField.react","VideoComposerAdBreakInsertionFieldV2.react","VideoComposerAdBreakPageOnboardingSection.react","VideoComposerAdBreakVideoRightsSection.react","VideoComposerDialogAdBreakUtils","VideoComposerInteractivityDeletePollAttemptDialogContainer.react","VideoComposerPollsEditor.react","VideoComposerSlidingDrawer.react","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){a&&d.props.holdoutTestEnabled&&d.props.holdoutTestPublicMetadata.isStarted&&!d.props.holdoutTestPublicMetadata.isExpired?b("VideoComposerDialogAdBreakUtils").showHoldoutTestDisabledConfirmation(function(){return d.props.onUpdateAdBreakStatus(a)}):d.props.onUpdateAdBreakStatus(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){if(this.props.isPageOnboardingVisible)return h.jsx(b("VideoComposerAdBreakPageOnboardingSection.react"),{pageID:this.props.pageID,onStartPageOnboarding:this.props.onStartPageOnboarding});return!this.props.videoRightsAgreed?h.jsx(b("VideoComposerAdBreakVideoRightsSection.react"),{onAgree:this.props.onAgreeVideoRights}):h.jsxs("div",{children:[h.jsx("div",{className:"_6erj",children:h.jsx(b("VideoComposerAdBreakDemonetizationNotice.react"),{adBreakPrereviewStatus:this.props.adBreakPrereviewStatus,isDemonetized:this.props.isDemonetized})}),this.props.isAdBreakInsertionRedesignV2?h.jsx(b("VideoComposerAdBreakInsertionFieldV2.react"),{adBreakPrereviewStatus:this.props.adBreakPrereviewStatus,adBreaksDisabled:this.props.adBreaksDisabled,currentAdBreakTimeOffset:this.props.currentAdBreakTimeOffset,currentPreviewIndex:this.props.currentPreviewIndex,hasGapRule:this.props.hasGapRule,insertedAdBreaks:this.props.insertedAdBreaks,isAdBreakAutoAdjustmentEnabled:this.props.isAdBreakAutoAdjustmentEnabled,isAdBreakAutoInsertionEnabled:this.props.isAdBreakAutoInsertionEnabled,isCountryRestrictionsEligible:this.props.isCountryRestrictionsEligible,isImageAdsDropdownExpanded:this.props.isImageAdsDropdownExpanded,isMonetizableShortVideo:this.props.isMonetizableShortVideo,isPageMidRollOptOutEnabled:this.props.isPageMidRollOptOutEnabled,isVideoTrimmed:this.props.isVideoTrimmed,shouldShowImageAdsUpsell:this.props.shouldShowImageAdsUpsell,shouldUseImageAds:this.props.shouldUseImageAds,videoComposerID:this.props.videoComposerID,videoData:this.props.videoData,videoDuration:this.props.videoDuration,videoEndTime:this.props.videoEndTime,videoID:this.props.videoID,videoStartTime:this.props.videoStartTime,onCancelPreview:this.props.onCancelPreview,onDeleteAdBreak:this.props.onDeleteAdBreak,onEnableAdBreakAutoAdjustment:this.props.onEnableAdBreakAutoAdjustment,onEnableAdBreakAutoInsertion:this.props.onEnableAdBreakAutoInsertion,onInsertAdBreak:this.props.onInsertAdBreak,onPreviewAdBreak:this.props.onPreviewAdBreak,onSetCurrentAdBreak:this.props.onSetCurrentAdBreak,onToggleImageAds:this.props.onToggleImageAds,onUpdateAdBreakStatus:this.$1,onVPCUpdate:this.props.onVPCUpdate}):h.jsx(b("VideoComposerAdBreakInsertionField.react"),{adBreaksDisabled:this.props.adBreaksDisabled,currentAdBreakTimeOffset:this.props.currentAdBreakTimeOffset,currentPreviewIndex:this.props.currentPreviewIndex,hasGapRule:this.props.hasGapRule,insertedAdBreaks:this.props.insertedAdBreaks,isAdBreakAutoAdjustmentEnabled:this.props.isAdBreakAutoAdjustmentEnabled,isAdBreakInsertionRedesignV1:this.props.isAdBreakInsertionRedesignV1,videoDuration:this.props.videoDuration,onCancelPreview:this.props.onCancelPreview,onDeleteAdBreak:this.props.onDeleteAdBreak,onEnableAdBreakAutoAdjustment:this.props.onEnableAdBreakAutoAdjustment,onInsertAdBreak:this.props.onInsertAdBreak,onPreviewAdBreak:this.props.onPreviewAdBreak,onSetCurrentAdBreak:this.props.onSetCurrentAdBreak,onUpdateAdBreakStatus:this.$1}),h.jsx(i,babelHelpers["extends"]({},this.props))]})};return c}(h.Component);function i(a){return a.isAdBreakInsertionRedesignV2&&a.adBreaksDisabled?null:h.jsxs("div",{children:[h.jsx(b("VideoComposerAdBreakHoldoutTestField.react"),{enabled:a.holdoutTestEnabled,hasEnabledAdBreaks:!a.adBreaksDisabled&&a.insertedAdBreaks.length>0,holdoutTestPublicMetadata:a.holdoutTestPublicMetadata,pageID:a.pageID,onUpdateHoldoutTestStatus:a.onUpdateHoldoutTestStatus}),h.jsx(b("VideoComposerAdBreakBlockListField.react"),{pageID:a.pageID}),a.isCountryRestrictionsEligible&&h.jsx(b("VideoComposerAdBreakCountryRestrictionsField.react"),{pageID:a.pageID}),a.isAdBreaksPollCreationEnabled&&h.jsx(b("VideoComposerAdBreakCreatePollField.react"),{adBreaksPolls:a.adBreaksPolls,videoComposerID:a.videoComposerID}),a.isAdBreaksPollCreationEnabled&&a.showAdPollEditor?h.jsx(b("VideoComposerSlidingDrawer.react"),{children:h.jsx(b("VideoComposerPollsEditor.react"),{videoComposerID:a.videoComposerID})}):null,h.jsx(b("VideoComposerInteractivityDeletePollAttemptDialogContainer.react"),{videoComposerID:a.videoComposerID})]})}e.exports=a}),null);
__d("VideoComposerBasicComposer.react",["ix","cx","fbt","AtSignMentionsStrategy","DocumentCompositeMentionsSource","DocumentMentionsSource","FlexLayout.react","Image.react","Link.react","MentionsInput.react","MentionsInputTypeaheadView.react","React","ReactComposerContextProviderMixin","ReactComposerProfilePhoto.react","ReactComposerTaggerSummaryContainer.react","ReactMultilingualComposerWrapper.react","Tooltip","VideoComposerBasicActions","VideoComposerBasicComposerTaggers.react","XUICheckboxInput.react","XUIContextualDialog.react","XUIContextualDialogBody.react","asset","createReactClass_DEPRECATED","cxMargin","emptyFunction","joinClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$4=function(a){b("VideoComposerBasicActions").updateDescriptionEditorState(d.props.videoComposerID,a)};d.$5=function(){d.props.showMultilingualComposer||d.$2&&d.$2.focus()};d.renderComposerTaggersButtons=function(a){var c=(d.props.showVideoType==="episode"||d.props.showVideoType==="recap")&&d.props.showParentPageName;return c?j.jsxs(b("FlexLayout.react"),{direction:"horizontal",justify:"all",align:"center",children:[a,d.$6()]}):a};d.$7=function(){b("VideoComposerBasicActions").toggleCrosspostToParent(d.props.videoComposerID)};c=new(b("DocumentMentionsSource"))(b("AtSignMentionsStrategy"),c.mentionsSearchSource);d.$1=new(b("DocumentCompositeMentionsSource"))([c]);return d}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){a=new(b("DocumentMentionsSource"))(b("AtSignMentionsStrategy"),a.mentionsSearchSource);this.$1=new(b("DocumentCompositeMentionsSource"))([a])};d.render=function(){var a=this;return j.jsxs("div",{className:b("joinClasses")(this.props.className,"_6elh"),children:[j.jsxs("div",{className:"_6eli",onClick:this.$5,children:[j.jsx("div",{className:"_6elj",children:this.props.profilePictureURI!==""?j.jsx(b("ReactComposerProfilePhoto.react"),{src:this.props.profilePictureURI,onClick:b("emptyFunction")}):null}),j.jsx(b("MentionsInput.react"),{className:"_6elk",editorState:this.props.descriptionEditorState,mentionsSource:this.$1,placeholder:i._("Describe your video so people will know what it's about."),ref:function(b){return a.$2=b},renderEmoji:!0,typeaheadView:b("MentionsInputTypeaheadView.react"),onChange:this.$4}),this.props.showMultilingualComposer?j.jsx(b("ReactMultilingualComposerWrapper.react"),{contextConfig:this.props.composerConfig?this.props.composerConfig.contextConfig:null}):null,this.props.composerConfig?j.jsx(k,{contextConfig:this.props.composerConfig.contextConfig,children:j.jsx(b("ReactComposerTaggerSummaryContainer.react"),{})}):null]}),j.jsx(b("VideoComposerBasicComposerTaggers.react"),{actorID:this.props.actorID.toString(),composerConfig:this.props.composerConfig,taggerSearchSource:this.props.taggerSearchSource,renderButtons:this.renderComposerTaggersButtons})]})};d.$6=function(){var a=this,c=i._("When you publish your episode, it will be crossposted to {parent page name}. The post will include your original description and a link to follow your show.",[i._param("parent page name",this.props.showParentPageName)]),d=this.props.canEditShowAndParent?null:i._("Your show is attributed to another Page, so you can automatically crosspost to this Page if you're an admin. Contact {parent page link} to become an admin.",[i._param("parent page link",j.jsx(b("Link.react"),{href:this.props.showParentPageProfileURI,target:"_blank",children:this.props.showParentPageName}))]);return j.jsxs(b("FlexLayout.react"),{className:"_3-90 _3-9a",children:[j.jsxs("div",{className:"_6ell",ref:function(b){return a.$3=b},children:[j.jsx(b("XUICheckboxInput.react"),{className:"_3-8_",checked:this.props.autoCrosspostToShowParent,onChange:this.$7,disabled:!this.props.canEditShowAndParent}),j.jsx("div",{className:"_6elm"+(this.props.canEditShowAndParent?"":" _6eln"),children:i._("Crosspost to {page name}",[i._param("page name",this.props.showParentPageName)])})]}),this.props.canEditShowAndParent?null:j.jsx(b("XUIContextualDialog.react"),{label:"auto-crosspost disabled help",autoFocus:!1,contextRef:function(){return a.$3},hoverContextRef:function(){return a.$3},position:"above",alignment:"left",width:b("XUIContextualDialog.react").WIDTH.NORMAL,children:j.jsx(b("XUIContextualDialogBody.react"),{children:d})}),j.jsx(b("Image.react"),babelHelpers["extends"]({className:"_6elo"},b("Tooltip").propsFor(c),{src:g("360717")}))]})};return c}(j.Component);var k=b("createReactClass_DEPRECATED")({displayName:"VideoComposerTaggerSummaryWrapper",mixins:[b("ReactComposerContextProviderMixin")],render:function(){return this.props.children}});e.exports=a}),null);
__d("ProgressiveDateAndTimePicker.react",["cx","fbt","InlineBlock.react","React","XUIProgressiveDatepicker.react","XUISelector.react","prop-types","formatDate"],(function(a,b,c,d,e,f,g,h){var i=b("React"),j=b("XUISelector.react").Option;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={datePickerResult:{year:c.props.initialYear,month:c.props.initialMonth,day:c.props.initialDay},hour:c.props.initialHour,minute:c.props.initialMinute},c.onDateChange=function(a){c.setState({datePickerResult:a},c.onDateAndTimeChange)},c.onDateAndTimeChange=function(){if(!c.props.onDateAndTimeChange)return;var a=c.state.datePickerResult;a=babelHelpers["extends"]({},a,{hour:c.state.hour,minute:c.state.minute});c.props.onDateAndTimeChange(a)},c.onHourChange=function(a){c.onSelectorChange(a,"hour")},c.onMinuteChange=function(a){c.onSelectorChange(a,"minute")},c.onSelectorChange=function(a,b){a=a.target?a.target.value:a.value;var d={};d[b]=a;c.setState(d,c.onDateAndTimeChange)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){var b=this.state,c=b.datePickerResult;(a.initialYear!==c.year||a.initialMonth!==c.month||a.initialDay!==c.day||a.initialHour!==b.hour||a.initialMinute!==b.minute)&&this.setState({datePickerResult:{year:a.initialYear,month:a.initialMonth,day:a.initialDay},hour:a.initialHour,minute:a.initialMinute})};d.render=function(){var a,c;if(this.state.datePickerResult.day){var d=[i.jsx(j,{value:-1,children:h._("Hour:")},-1)];for(var e=0;e<24;e++){var f=new Date();f.setHours(e);f=b("formatDate")(f,"g A");d.push(i.jsx(j,{value:e,children:f},e))}a=i.jsx(b("XUISelector.react"),{className:"_5vu1",disabled:!this.state.datePickerResult.day,maxheight:this.props.menuMaxHeight,name:this.props.inputPrefix+"_hour",onChange:this.onHourChange,value:this.state.hour,children:d})}if(this.state.hour!=-1){f=0;d=[i.jsx(j,{value:-1,children:h._("Minute:")},-1)];for(e=0;e<60;e+=10){var g="00";e>0&&(g=e);d.push(i.jsx(j,{value:e,children:g},e));this.state.minute===e&&(f=e)}c=i.jsx(b("XUISelector.react"),{className:"_5vu1",disabled:this.state.hour==-1,maxheight:this.props.menuMaxHeight,name:this.props.inputPrefix+"_minute",onChange:this.onMinuteChange,value:f,children:d})}return i.jsxs(b("InlineBlock.react"),{className:this.props.className,children:[i.jsx(b("XUIProgressiveDatepicker.react"),babelHelpers["extends"]({},this.props,{setDateTo:this.state.datePickerResult,onDateChange:this.onDateChange})),a,c]})};return c}(i.Component);a.propTypes=babelHelpers["extends"]({},b("XUIProgressiveDatepicker.react").propTypes,{initialHour:b("prop-types").number,initialMinute:b("prop-types").number});a.defaultProps={initialYear:0,initialMonth:0,initialDay:0,initialHour:-1,initialMinute:-1,maxTime:Date.now()/1e3,minTime:new Date(1906,0,0,0,0).getTime()/1e3};e.exports=a}),null);
__d("ReactComposerBackdateTaggerComponent.react",["cx","fbt","Grid.react","ProgressiveDateAndTimePicker.react","React","XUICloseButton.react","emptyFunction","prop-types"],(function(a,b,c,d,e,f,g,h){var i=b("React"),j=b("Grid.react").GridItem,k={day:0,hour:-1,minute:-1,month:0,year:0};a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){c.props.onSelect(a)},c.$2=function(){c.$1(k)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props.taggerData.year>0?i.jsx(b("XUICloseButton.react"),{className:"_3mjw",onClick:this.$2,size:"small"}):null;return i.jsxs(b("Grid.react"),{cols:2,className:"_5esl",children:[i.jsx(j,{className:"_5esm",children:h._("When")},"prefix"),i.jsxs(j,{className:"_5esw _3mjx",children:[i.jsx(b("ProgressiveDateAndTimePicker.react"),{className:"_5bm1",initialYear:this.props.taggerData.year,initialMonth:this.props.taggerData.month,initialDay:this.props.taggerData.day,initialHour:this.props.taggerData.hour,initialMinute:this.props.taggerData.minute,descendingYears:!0,onDateAndTimeChange:this.$1,menuMaxHeight:235}),a]},"tagger")]})};return c}(i.Component);a.propTypes={taggerData:b("prop-types").object.isRequired,onSelect:b("prop-types").func.isRequired};a.defaultProps={taggerData:{},onSelect:b("emptyFunction")};e.exports=a}),null);
__d("ReactComposerBackdateTaggerContainer.react",["ReactComposerBackdateTaggerComponent.react","ReactComposerLoggingName","ReactComposerTaggerContainerMixin","ReactComposerTaggerType","createReactClass_DEPRECATED"],(function(a,b,c,d,e,f){a=b("createReactClass_DEPRECATED")({displayName:"ReactComposerBackdateTaggerContainer",mixins:[b("ReactComposerTaggerContainerMixin")()],statics:{taggerID:b("ReactComposerTaggerType").BACKDATE,loggingName:b("ReactComposerLoggingName").BACKDATE_TAGGER,taggerComponent:b("ReactComposerBackdateTaggerComponent.react")}});e.exports=a}),null);
__d("PageComposerGetShowtimesCTATaggerBanner.react",["fbt","PageComposerCTATaggerBanner.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsx(b("PageComposerCTATaggerBanner.react"),{onCloseButtonClick:this.props.onCloseButtonClick,bannerText:g._("This post includes a button so that people can say they're interested or see showtimes."),closeButtonText:g._("Remove the Get Showtimes button")})};return c}(h.Component);e.exports=a}),null);
__d("ReactComposerGetShowtimesTaggerComponent.react",["PageComposerGetShowtimesCTATaggerBanner.react","React","ReactComposerLoggingName","ReactComposerTaggerActions","prop-types"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.dismissButtonOnClick=function(){d.props.onSelect({should_remove:!0}),b("ReactComposerTaggerActions").deselectCurrentTagger(d.props.reactComposerID,b("ReactComposerLoggingName").GET_SHOWTIMES_TAGGER)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return g.jsx(b("PageComposerGetShowtimesCTATaggerBanner.react"),{onCloseButtonClick:this.dismissButtonOnClick})};return c}(g.Component);a.propTypes={reactComposerID:b("prop-types").string.isRequired,onSelect:b("prop-types").func.isRequired};e.exports=a}),null);
__d("ReactComposerGetShowtimesTaggerContainer.react",["React","ReactComposerGetShowtimesTaggerComponent.react","ReactComposerLoggingName","ReactComposerTaggerActions","ReactComposerTaggerContainerMixin","ReactComposerTaggerType","createReactClass_DEPRECATED","isEmpty","prop-types"],(function(a,b,c,d,e,f){"use strict";var g;b("React");c=b("createReactClass_DEPRECATED")({displayName:"ReactComposerGetShowtimesTaggerContainer",_subscriptions:void 0,mixins:[b("ReactComposerTaggerContainerMixin")()],statics:{taggerID:b("ReactComposerTaggerType").GET_SHOWTIMES,loggingName:b("ReactComposerLoggingName").GET_SHOWTIMES_TAGGER,taggerComponent:b("ReactComposerGetShowtimesTaggerComponent.react")},propTypes:{autoSelect:(a=b("prop-types")).bool,externalMovieID:a.string,moviePageID:a.string,reactComposerID:a.string.isRequired},componentDidMount:function(){this.props.autoSelect===!0&&(g||(g=b("isEmpty")))(this.state.taggerData)&&this.props.externalMovieID!==null&&!this.state.isSelected&&(b("ReactComposerTaggerActions").setTaggerData(this.context.composerID,b("ReactComposerLoggingName").GET_SHOWTIMES_TAGGER,b("ReactComposerTaggerType").GET_SHOWTIMES,{external_movie_id:this.props.externalMovieID,movie_page_id:this.props.moviePageID}),b("ReactComposerTaggerActions").selectTaggerWithoutLogging(this.context.composerID,b("ReactComposerTaggerType").GET_SHOWTIMES))},componentWillUnmount:function(){this._subscriptions&&this._subscriptions.release()}});e.exports=c}),null);
__d("XMessengerMonetizationSmartSendMessageCTAController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/commerce/messenger_monetization/smart_send_message_cta/",{auto_select:{type:"Bool",defaultValue:!1}})}),null);
__d("ReactComposerMessagingTaggerButton.react",["cx","fbt","AsyncRequest","MNPageComposerUtils","React","ReactComposerLoggingName","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerStatusStore","ReactComposerTaggerActions","ReactComposerTaggerButton.react","ReactComposerTaggerStore","ReactComposerTaggerType","XCommerceSelfServeMerchantNUXSeenController","XMessengerMonetizationSmartSendMessageCTAController","XUIAmbientNUX.react","createReactClass_DEPRECATED","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=b("createReactClass_DEPRECATED")({displayName:"ReactComposerMessagingTaggerButton",mixins:[b("ReactComposerPropsAndStoreBasedStateMixin")(b("ReactComposerStatusStore"),b("ReactComposerTaggerStore"))],statics:{loggingName:b("ReactComposerLoggingName").MESSAGING_TAGGER,taggerID:b("ReactComposerTaggerType").MESSAGING,savedAutoSelect:void 0,calculateState:function(a,c){var d=(c=b("ReactComposerTaggerStore")).getSelectedTagger(a);return{selected:d===this.taggerID,hasData:c.hasData(a,this.taggerID),showNUX:c.shouldShowNUX(a,this.taggerID),showTooltip:c.shouldShowTooltip(a,this.taggerID),shouldHide:c.isDisabled(a,this.taggerID)}}},propTypes:{autoSelect:b("prop-types").bool,nuxType:b("prop-types").string,detectMessageIntent:b("prop-types").bool},getTitle:function(){return h._("Add a Send Message CTA")},getNUX:function(){var a=this;if(!this.state.showNUX||!this.state.contextRef)return null;var c=h._("Add this button to your post so that people can reply directly on Messenger.");return i.jsx(b("XUIAmbientNUX.react"),{alignment:"center",contextRef:function(){return a.state.contextRef},onCloseButtonClick:this._hideNUX,position:"below",shown:!0,width:"auto",children:c})},getInitialState:function(){return{loggedImpressions:[]}},getTooltip:function(){return h._("Add a Messenger button")},getClassName:function(){return"_3dnl"},getRef:function(){return"fbReactComposerMessagingTaggerButton"},_hideNUX:function(){b("ReactComposerTaggerActions").handleSetTaggerShowNUX(this.context.composerID,b("ReactComposerTaggerType").MESSAGING,!1);var a=b("XCommerceSelfServeMerchantNUXSeenController").getURIBuilder().setInt("page_id",this.context.actorID).setEnum("nux_type",this.props.nuxType).getURI();new(b("AsyncRequest"))(a).send()},componentDidMount:function(){this.setState({contextRef:this.refs.fbReactComposerMessagingTaggerButton});this.constructor.savedAutoSelect===void 0&&(this.constructor.savedAutoSelect=this.props.autoSelect);if(!this.state.shouldHide&&this.constructor.savedAutoSelect){var a=b("ReactComposerTaggerStore").getSelectedTagger(this.context.composerID);a!==b("ReactComposerTaggerType").MESSAGING&&(this.constructor.savedAutoSelect=!this.constructor.savedAutoSelect,this._onSelect(),this.constructor.savedAutoSelect||this._logImpression())}},UNSAFE_componentWillUpdate:function(a,c){a=b("ReactComposerTaggerStore").hasData(this.context.composerID,this.constructor.taggerID);!this.state.shouldHide&&c.shouldHide&&b("MNPageComposerUtils").clearMessengerTaggerData(this.context.composerID);!this.state.shouldHide&&this.props.detectMessageIntent&&a===void 0&&(this.constructor.savedAutoSelect=!this.constructor.savedAutoSelect,this._onSelect(),this._logImpression())},render:function(){return this.state.shouldHide?null:i.jsx("div",{className:"uiContextualLayerParent",style:{display:"inline-block"},children:i.jsx(b("ReactComposerTaggerButton.react"),babelHelpers["extends"]({},this.state,{taggerID:this.constructor.taggerID,title:this.getTitle(),tooltip:this.getTooltip(),className:this.getClassName(),ref:this.getRef(),onSelect:this._onSelect,suppressTaggerLink:this.constructor.suppressTaggerLink,children:this.getNUX&&this.getNUX()}))})},_logImpression:function(){var a=this.state.loggedImpressions;if(a.indexOf(this.constructor.taggerID)>=0)return;a.push(this.constructor.taggerID);this.setState({loggedImpressions:a})},_onSelect:function(){this._onSelectX(),b("ReactComposerTaggerActions").selectTagger(this.context.composerID,this.constructor.loggingName,this.constructor.taggerID,this.constructor.disableToggle)},_onSelectX:function(){b("MNPageComposerUtils").clearMessengerTaggerData(this.context.composerID);this.constructor.savedAutoSelect=!this.constructor.savedAutoSelect;var a=b("XMessengerMonetizationSmartSendMessageCTAController").getURIBuilder().setBool("auto_select",this.constructor.savedAutoSelect).getURI();new(b("AsyncRequest"))(a).send()}});e.exports=a}),null);
__d("PageComposerMessengerCTATaggerBanner.react",["fbt","PageComposerCTATaggerBanner.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsx(b("PageComposerCTATaggerBanner.react"),{onCloseButtonClick:this.props.onCloseButtonClick,bannerText:g._("This post includes a button so people can reply in Messenger"),closeButtonText:g._("Remove the Send Message button")})};return c}(h.Component);e.exports=a}),null);
__d("ReactComposerMessagingTaggerComponent.react",["AdsCallToActionTypesCond","PageComposerMessengerCTATaggerBanner.react","React","ReactComposerCTAActions","ReactComposerLoggingName","ReactComposerTaggerActions","ReactComposerTaggerStore","ReactComposerTaggerType"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.dismissButtonOnClick=function(){d.setState({setCTAConfig:!1});var a={ctaType:null,ctaValues:{is_cta_share_post:!0,service_config_id:null},ctaMarkup:"",ctaAttachmentConfig:""};d.setTaggerData(!1);d.deselectMessagingTagger();b("ReactComposerCTAActions").setConfig(d.props.reactComposerID,a)};d.state={setCTAConfig:!0};return d}var d=c.prototype;d.render=function(){if(!b("ReactComposerTaggerStore").hasMessagingCTA(this.props.reactComposerID))return null;return this.state.setCTAConfig?g.jsx(b("PageComposerMessengerCTATaggerBanner.react"),{onCloseButtonClick:this.dismissButtonOnClick}):null};d.componentDidMount=function(){this.setState({setCTAConfig:!0});this.setTaggerData(!0);var a={ctaType:b("AdsCallToActionTypesCond").TYPES.MESSAGE_PAGE.name,ctaValues:{is_cta_share_post:!0,service_config_id:null},ctaMarkup:"",ctaAttachmentConfig:""};b("ReactComposerCTAActions").setConfig(this.props.reactComposerID,a)};d.setTaggerData=function(a){b("ReactComposerTaggerActions").setTaggerData(this.props.reactComposerID,b("ReactComposerLoggingName").MESSAGING_TAGGER,b("ReactComposerTaggerType").MESSAGING,{hasCTA:a})};d.deselectMessagingTagger=function(){b("ReactComposerTaggerActions").deselectCurrentTagger(this.props.reactComposerID,b("ReactComposerLoggingName").MESSAGING_TAGGER)};return c}(g.Component);e.exports=a}),null);
__d("ReactComposerMessagingTaggerContainer.react",["ReactComposerLoggingName","ReactComposerMessagingTaggerComponent.react","ReactComposerTaggerContainerMixin","ReactComposerTaggerType","createReactClass_DEPRECATED","prop-types"],(function(a,b,c,d,e,f){"use strict";a=b("createReactClass_DEPRECATED")({displayName:"ReactComposerMessagingTaggerContainer",_subscriptions:void 0,mixins:[b("ReactComposerTaggerContainerMixin")()],statics:{taggerID:b("ReactComposerTaggerType").MESSAGING,loggingName:b("ReactComposerLoggingName").MESSAGING_TAGGER,taggerComponent:b("ReactComposerMessagingTaggerComponent.react")},propTypes:{reactComposerID:b("prop-types").string.isRequired},componentWillUnmount:function(){this._subscriptions&&this._subscriptions.release()}});e.exports=a}),null);
__d("XSponsorTagsOptInController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/branded_content/optin/",{profile_id:{type:"Int"},option:{type:"String"}})}),null);
__d("XBrandedContentTaggerNuxController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/branded_content/tagger/nux/",{action:{type:"Enum",required:!0,enumType:1}})}),null);
__d("ReactComposerBrandedContentBCTooltip.react",["cx","fbt","Image.react","React","SUIBusinessTheme","SUISimplePopover.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return i.jsx(b("SUISimplePopover.react"),{contentWidthUseSparingly:360,display:"inline",theme:b("SUIBusinessTheme"),content:i.jsxs("div",{children:[i.jsx("div",{children:h._("This is an example of what posts look like with the \"Paid\" label. Your business partner will also be able to see insights for this post.")}),i.jsx(b("Image.react"),{className:"_1muv",src:"/images/branded_content/option_branded_content.png"})]})})};return c}(i.Component);e.exports=a}),null);
__d("ReactComposerBrandedContentCardComponent.react",["cx","React","SimpleNUXMessage","XUIAmbientNUX.react","XUICard.react","XUIRadioInput.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={nuxShown:d.props.simpleNUX!=null&&!b("SimpleNUXMessage").hasUserSeenMessage(d.props.simpleNUX)},d.$1=function(){d.props.simpleNUX?b("SimpleNUXMessage").markMessageSeenByUser(d.props.simpleNUX):null,d.setState({nuxShown:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return h.jsxs("div",{className:"_3l7y",children:[h.jsxs(b("XUICard.react"),{className:"_3lhk"+(this.props.selected?" _3f2-":""),children:[h.jsx(b("XUIRadioInput.react"),{value:this.props.sponsorRelationship,checked:this.props.selected,onChange:this.props.onChange}),h.jsxs("div",{className:"_3lhl",children:[h.jsxs("div",{className:"_3lhm _3li1",children:[this.props.title,this.props.popover]}),h.jsx("div",{className:"_3li1",children:this.props.text}),h.jsx("div",{className:"_3li1",children:this.props.children})]})]}),this.renderLayers()]})};d.renderLayers=function(){var a=this;return h.jsx(b("XUIAmbientNUX.react"),{offsetY:35,position:"left",contextRef:function(){return a},shown:this.state.nuxShown,onCloseButtonClick:this.$1,children:this.props.simpleNUXMessage})};return c}(h.Component);e.exports=a}),null);
__d("ReactComposerBrandedContentDirectboostCheckbox.react",["cx","fbt","FDSCheckboxInput.maintenance.react","Link.react","React","SUIBusinessTheme","SUISimplePopover.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=!this.props.selected||this.props.value==1;return i.jsxs("div",{display:"inline",children:[i.jsx(b("FDSCheckboxInput.maintenance.react"),{value:c,isDisabled:!this.props.selected,onChange:function(b,c){a.props.onChange(b?1:0)},label:h._("Allow partner to boost this post.")}),i.jsx(b("SUISimplePopover.react"),{content:i.jsxs("div",{children:[h._("Your business partner will be able to boost your post. When they do, the post will continue to show your Page as its author, and you'll be able to see the total amount spent boosting it in your Page Insights."),i.jsx("span",{className:"_2pis",children:i.jsx(b("Link.react"),{href:"/business/help/2021526178075899/",target:"_blank",children:h._("Learn more")})})]}),theme:b("SUIBusinessTheme")})]})};return c}(i.PureComponent);e.exports=a}),null);
__d("ReactComposerBrandedContentLivingRoomInstructionContainer.react",["fbt","FluxContainer","React","ReactComposerAttachmentStore"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={hasLivingRoomAttachment:d.props.composerID!=null?b("ReactComposerAttachmentStore").getSelectedAttachmentID(d.props.composerID)==="LIVING_ROOM":!1},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("ReactComposerAttachmentStore")]};c.calculateState=function(a,c){return{hasLivingRoomAttachment:c.composerID!=null?b("ReactComposerAttachmentStore").getSelectedAttachmentID(c.composerID)==="LIVING_ROOM":!1}};var d=c.prototype;d.render=function(){return!this.state.hasLivingRoomAttachment?null:h.jsx("div",{children:g._("You can only use your Page's videos when creating a branded content post with a watch party.")})};return c}(h.Component);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("ReactComposerBrandedContentSponsorshipTooltip.react",["cx","fbt","Image.react","React","SUIBusinessTheme","SUISimplePopover.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return i.jsx(b("SUISimplePopover.react"),{contentWidthUseSparingly:360,display:"inline",theme:b("SUIBusinessTheme"),content:i.jsxs("div",{children:[i.jsx("div",{children:h._("This is an example of what posts look like without the \"Paid\" label. Your business partner will also be able to see insights for this post.")}),i.jsx(b("Image.react"),{className:"_1muv",src:"/images/branded_content/option_sponsorship.png"})]})})};return c}(i.Component);e.exports=a}),null);
__d("ReactComposerSponsorTaggerTypeahead.react",["cx","fbt","BCHSTStrings","BrandedContentHandshakeToolTypedLogger","Link.react","React","SearchableEntry","TaggingLimits","XUIContextualDialog.react","XUIContextualDialogBody.react","XUITokenizer.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={tipFocused:!1,inputFocused:!1,edited:!1,hasSeenTooltip:!1},d.$2=function(a){var c=a.getUniqueID(),e=d.props.sponsors.slice(),f=e.some(function(a){return a.getUniqueID()===c});if(f)return;d.setState({edited:!0});e.push(a);new(b("BrandedContentHandshakeToolTypedLogger"))().setBrandedContentEvent("tag_sponsor").setSponsorID(c).setCreatorID(d.props.creatorPageID).setEnforcementInterceptReason(d.props.enforcementInterceptReason).setEventLocation(d.props.eventLocation).log();d.props.onSponsorsChanged(e)},d.$6=function(a){var c=d.props.sponsors.slice(),e=c.indexOf(a);if(e==-1)return;d.setState({edited:!0});c.splice(e,1);new(b("BrandedContentHandshakeToolTypedLogger"))().setBrandedContentEvent("untag_sponsor").setSponsorID(a.getUniqueID()).setCreatorID(d.props.creatorPageID).setEnforcementInterceptReason(d.props.enforcementInterceptReason).setEventLocation(d.props.eventLocation).log();d.props.onSponsorsChanged(c)},d.$3=function(){d.setState({inputFocused:!1})},d.$4=function(){d.setState({inputFocused:!0})},d.$9=function(){d.state.hasSeenTooltip||new(b("BrandedContentHandshakeToolTypedLogger"))().setBrandedContentEvent("typeahead_tooltip_hover").setCreatorID(d.props.creatorPageID).setEnforcementInterceptReason(d.props.enforcementInterceptReason).setEventLocation(d.props.eventLocation).log(),d.setState({tipFocused:!0,hasSeenTooltip:!0})},d.$8=function(){d.setState({tipFocused:!1})},d.$5=function(a){d.state.edited||new(b("BrandedContentHandshakeToolTypedLogger"))().setBrandedContentEvent("tag_attempt").setCreatorID(d.props.creatorPageID).setEnforcementInterceptReason(d.props.enforcementInterceptReason).setEventLocation(d.props.eventLocation).log(),d.setState({edited:!0})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return i.jsxs("div",{children:[i.jsx(b("XUITokenizer.react"),babelHelpers["extends"]({ref:"typeahead"},this.props,{className:"_5esx",entries:this.$1(),focusedOnInit:!0,onAddEntryAttempt:this.$2,onInputBlur:this.$3,onInputFocus:this.$4,onQueryStringChange:this.$5,onRemoveEntryAttempt:this.$6,placeholder:b("BCHSTStrings").tagging.tagSponsorTypeaheadPlaceholder,searchSource:this.props.taggerSource,limit:b("TaggingLimits").MAX_SPONSOR_TAGS})),this.$7()]})};d.$7=function(){var a=this,c=!this.state.edited&&(this.state.inputFocused||this.state.tipFocused)&&this.props.sponsors&&this.props.sponsors.length===0,d=function(){return a.refs.typeahead},e=i.jsxs("span",{onMouseLeave:this.$8,onMouseEnter:this.$9,children:[h._("Pages that you tag will be notified. Business partners will be able to view this post's metrics."),i.jsx("span",{className:"_2pis",children:i.jsx(b("Link.react"),{href:"/policies/brandedcontent/",target:"_blank",children:h._("See policy")})})]});return i.jsx(b("XUIContextualDialog.react"),{label:h._("typeahead tip"),contextRef:d,position:"above",shown:c,width:350,children:i.jsx(b("XUIContextualDialogBody.react"),{children:e})})};d.$1=function(){if(this.state.edited||this.props.sponsors.length>0)return this.props.sponsors;else if(this.props.detectedBrandId&&this.props.detectedBrandName&&this.props.showBrandPrefill&&(this.props.enforcementInterceptReason=="keyword_based_brand_prefill"||this.props.enforcementInterceptReason=="model_detected_brand_prefill")){var a=new(b("SearchableEntry"))({title:this.props.detectedBrandName,uniqueID:this.props.detectedBrandId}),c=this.props.sponsors.slice();c.push(a);this.props.onSponsorsChanged(c);return c}return this.props.sponsors};return c}(i.Component);e.exports=a}),null);
__d("ReactComposerBrandedContentComposerUIV2Component.react",["cx","fbt","BCMPNuxContextSelectors","Grid.react","Link.react","React","ReactComposerBrandedContentBCTooltip.react","ReactComposerBrandedContentCardComponent.react","ReactComposerBrandedContentDirectboostCheckbox.react","ReactComposerBrandedContentLivingRoomInstructionContainer.react","ReactComposerBrandedContentSponsorshipTooltip.react","ReactComposerSponsorTaggerTypeahead.react","SimpleNUXMessageTypes","XUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("Grid.react").GridItem;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$4=function(a){a=c.$6({sponsorRelationship:parseInt(a.target.value,10),directShareStatus:1});c.props.onSelect&&c.props.onSelect(a)},c.$5=function(a){a=c.$6({directShareStatus:a});c.props.onSelect&&c.props.onSelect(a)},c.$1=function(a){a=c.$6({sponsors:a});a&&c.props.onSelect&&c.props.onSelect(a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=h._("With"),c="_5esm";return i.jsx("div",{id:b("BCMPNuxContextSelectors").HANDSHAKE_GUIDED_TOUR_TAGGER_CONTAINER,children:i.jsxs(b("Grid.react"),{cols:2,className:"_5esl",children:[i.jsx(j,{id:b("BCMPNuxContextSelectors").HANDSHAKE_GUIDED_TOUR_SPONSOR_TYPEAHEAD,className:c,children:a},"label"),i.jsx(j,{className:"_5esw",children:i.jsx(b("ReactComposerSponsorTaggerTypeahead.react"),{sponsors:this.props.taggerData.sponsors,creatorPageID:this.props.creatorPageID,detectedBrandId:this.props.detectedBrandId,detectedBrandName:this.props.detectedBrandName,enforcementInterceptReason:this.props.enforcementInterceptReason,eventLocation:this.props.eventLocation,showBrandPrefill:this.props.showBrandPrefill,taggerSource:this.props.taggerSource,onSponsorsChanged:this.$1})},"tokenizer"),i.jsx(j,{colSpan:2,children:i.jsx("div",{className:"_3lhm _3l7y",children:h._("Choose how this post should be labelled")})}),i.jsx(j,{colSpan:2,children:this.$2()}),i.jsx(j,{colSpan:2,children:this.$3()}),i.jsx(j,{colSpan:2,children:i.jsx("div",{id:b("BCMPNuxContextSelectors").HANDSHAKE_GUIDED_TOUR_LEARN_MORE,className:"_3l7y",children:i.jsx(b("Link.react"),{href:"/help/publisher/213764212711862?helpref=inprod",target:"_blank",children:h._("Learn more")})})})]})})};d.$2=function(){var a=this.props.taggerData.sponsorRelationship==1||this.props.taggerData.sponsorRelationship==0;return i.jsx(b("ReactComposerBrandedContentCardComponent.react"),{sponsorRelationship:1,selected:a,title:h._("Show the \"Paid\" label"),popover:i.jsx(b("ReactComposerBrandedContentBCTooltip.react"),{}),text:i.jsxs("div",{children:[h._("Select this option if you need to let people know that your post was influenced by your business partner. Their Page will be tagged."),i.jsx(b("ReactComposerBrandedContentLivingRoomInstructionContainer.react"),{composerID:this.props.composerID})]}),onChange:this.$4,children:i.jsx(b("ReactComposerBrandedContentDirectboostCheckbox.react"),{value:this.props.taggerData.directShareStatus,onChange:this.$5,selected:a})})};d.$3=function(){var a=this.props.taggerData.sponsorRelationship==2;return i.jsx(b("ReactComposerBrandedContentCardComponent.react"),{sponsorRelationship:2,selected:a,title:h._("Don't show the \"Paid\" label"),popover:i.jsx(b("ReactComposerBrandedContentSponsorshipTooltip.react"),{}),text:i.jsx("div",{children:h._("Select this option if you don't need to let people know about the relationship with your business partner because they didn't influence the content. Their Page will not be tagged.")}),onChange:this.$4,simpleNUX:b("SimpleNUXMessageTypes").BRANDED_CONTENT_SPONSORSHIP_USE_CASE_NUX,simpleNUXMessage:i.jsxs("div",{children:[i.jsx("div",{children:i.jsx(b("XUIText.react"),{weight:"bold",children:h._("New labelling option")})}),i.jsx("div",{children:i.jsx(b("XUIText.react"),{children:h._("You can now control whether your post is labelled {=Paid}, depending on the kind of partnership you have with your sponsor.",[h._param("=Paid",i.jsx(b("XUIText.react"),{weight:"bold",children:h._("Paid")}))])})})]}),children:i.jsx(b("ReactComposerBrandedContentDirectboostCheckbox.react"),{value:this.props.taggerData.directShareStatus,selected:a,onChange:this.$5})})};d.$6=function(a){var b={};b.sponsors="sponsors"in a?a.sponsors:this.props.taggerData.sponsors;b.directShareStatus="directShareStatus"in a?a.directShareStatus:this.props.taggerData.directShareStatus;b.sponsorRelationship="sponsorRelationship"in a?a.sponsorRelationship:this.props.taggerData.sponsorRelationship;return b};return c}(i.Component);e.exports=a}),null);
__d("ReactComposerSponsorTaggerSponsorRelationshipCheckbox.react",["cx","fbt","InputLabel.react","Link.react","React","SUIBusinessTheme","SUISimplePopover.react","XUICheckboxInput.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.defaultSponsorRelationship!==2&&this.props.defaultSponsorRelationship!==2;return this.props.showSponsorRelationship?i.jsxs("div",{className:"_4m0r",children:[i.jsx(b("InputLabel.react"),{display:"inline",label:h._("Show business partner in post"),children:i.jsx(b("XUICheckboxInput.react"),{name:"sponsorRelationshipToggle",checked:a,onChange:this.props.onChange})}),i.jsx(b("SUISimplePopover.react"),{content:i.jsxs("div",{children:[h._("If your business partner influenced the content of this post, their name will be displayed along with a \"paid\" label. Make sure that you follow all applicable laws and regulations in providing clear and transparent disclosure of your business partners."),i.jsx("span",{className:"_2pis",children:i.jsx(b("Link.react"),{href:"/business/help/1190980254246452/",target:"_blank",children:h._("Learn more")})})]}),theme:b("SUIBusinessTheme")})]}):null};return c}(i.PureComponent);e.exports=a}),null);
__d("ReactComposerSponsorTaggerComponent.react",["cx","fbt","AsyncRequest","BCHSTStrings","BCMPNuxContextSelectors","BrandedContentHandshakeToolTypedLoggerLite","BrandedContentMatchingToolCreatorTypedLogger","FDSCheckboxInput.react","Grid.react","Link.react","React","ReactComposerBrandedContentComposerUIV2Component.react","ReactComposerSponsorTaggerSponsorRelationshipCheckbox.react","ReactComposerSponsorTaggerTypeahead.react","ReactComposerTaggerViewStyles","SUIBusinessTheme","SUISimplePopover.react","TokenizerExampleSearchSource","XBasicFBNuxDismissController","XBasicFBNuxViewController","XUIAmbientNUX.react","emptyFunction","gkx","prop-types","useBoolean","useEffectOnce"],(function(a,b,c,d,e,f,g,h){var i=b("React"),j=b("Grid.react").GridItem;a=b("React");var k=a.useRef,l=5078;function m(a){var c=b("useBoolean")(a.showDirectBoostNUX),d=c.value,e=c.setFalse;b("useEffectOnce")(function(){a.showDirectBoostNUX&&new(b("AsyncRequest"))().setURI(b("XBasicFBNuxViewController").getURIBuilder().setInt("nux_id",l).getURI()).send(),new(b("BrandedContentMatchingToolCreatorTypedLogger"))().setPageID(a.creatorPageID).setEvent("ui_action_hst_deals_show_direct_boost").log()});var f=k();c=b("useBoolean")(!1);var g=c.value,j=c.setTrue;c=function(){if(!g){var c;b("BrandedContentHandshakeToolTypedLoggerLite").log({branded_content_event:"radio_button_tooltip_hover",creator_id:a.creatorPageID,enforcement_intercept_reason:a.enforcementInterceptReason,event_location:(c=a.eventLocation)!=null?c:null})}j()};var m=h._("Your business partner will be able to boost your post on Facebook or Instagram. If your business partner boosts this post, it will be associated with your Page on Facebook and your linked account on Instagram."),n=h._("Your business partner will be able to boost your post on Facebook or Instagram. If your business partner boosts this post, it will be associated with your Page on Facebook and your linked Instagram account on Instagram. Your business partner will also be able to add their own call to action to the boosted post.");return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"_4m0r",children:i.jsx(b("FDSCheckboxInput.react"),{value:a.value,onChange:a.onChange,ref:f,label:h._("Allow business partner to boost this post {popover}",[h._param("popover",i.jsx(b("SUISimplePopover.react"),{content:i.jsxs("div",{children:[b("gkx")("1345598")?n:m,i.jsx("span",{className:"_2pis",children:i.jsx(b("Link.react"),{href:"/business/help/2021526178075899/",target:"_blank",children:h._("Learn more")})})]}),onToggle:c,theme:b("SUIBusinessTheme")}))])})}),i.jsx(b("XUIAmbientNUX.react"),{alignment:"left",contextRef:function(){return f.current},position:"left",shown:d,onCloseButtonClick:function(){e(),new(b("AsyncRequest"))().setURI(b("XBasicFBNuxDismissController").getURIBuilder().setInt("nux_id",l).getURI()).send()},width:"custom",customwidth:240,children:h._("New! Your business partner will be able to boost your post.")})]})}c=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){if(!this.props.taggerData.bcmpDealID&&this.props.showDirectBoost&&this.props.taggerData.sponsors.length===0){var a={sponsors:this.props.taggerData.sponsors,directShareStatus:1,sponsorRelationship:this.props.taggerData.sponsorRelationship};this.props.onSelect&&this.props.onSelect(a)}};d.render=function(){var a=this;if(this.props.taggerData.bcmpDealID)return null;if(this.props.showBrandedContentComposerUIV2)return i.jsx(b("ReactComposerBrandedContentComposerUIV2Component.react"),{autoFocus:this.props.autoFocus,composerID:this.props.composerID,creatorPageID:this.props.creatorPageID,detectedBrandId:this.props.detectedBrandId,detectedBrandName:this.props.detectedBrandName,enforcementInterceptReason:this.props.enforcementInterceptReason,eventLocation:this.props.eventLocation,showBrandPrefill:this.props.showBrandPrefill,taggerSource:this.props.taggerSource,taggerData:this.props.taggerData,onSelect:this.props.onSelect});var c=this.props,d=c.creatorPageID,e=c.onSelect,f=c.taggerData,g=c.showDirectBoost,k=c.showDirectBoostNUX;c=c.showLearnMoreLink;return i.jsx("div",{id:b("BCMPNuxContextSelectors").HANDSHAKE_GUIDED_TOUR_TAGGER_CONTAINER,children:i.jsxs(b("Grid.react"),{cols:2,className:"_5esl",children:[i.jsx(j,{className:"_5esm",children:i.jsx("span",{id:b("BCMPNuxContextSelectors").HANDSHAKE_GUIDED_TOUR_SPONSOR_TYPEAHEAD,children:b("BCHSTStrings").tagging.tagSponsorLabel})},"label"),i.jsx(j,{className:"_5esw",children:i.jsx(b("ReactComposerSponsorTaggerTypeahead.react"),{sponsors:f.sponsors,creatorPageID:this.props.creatorPageID,detectedBrandId:this.props.detectedBrandId,detectedBrandName:this.props.detectedBrandName,enforcementInterceptReason:this.props.enforcementInterceptReason,eventLocation:this.props.eventLocation,showBrandPrefill:this.props.showBrandPrefill,taggerSource:this.props.taggerSource,onSponsorsChanged:function(a){return e&&e(babelHelpers["extends"]({},f,{bcmpDealUpsell:!1,sponsors:a}))}})},"tokenizer"),i.jsx(j,{colSpan:2,children:i.jsx(b("ReactComposerSponsorTaggerSponsorRelationshipCheckbox.react"),{onChange:function(a){return e&&e(babelHelpers["extends"]({},f,{sponsorRelationship:a.target.checked?1:2}))},defaultSponsorRelationship:f.sponsorRelationship,showSponsorRelationship:this.props.showSponsorRelationship})},"sponsor_relationship_toggle"),g?i.jsx(j,{colSpan:2,children:i.jsx(m,{creatorPageID:d,enforcementInterceptReason:this.props.enforcementInterceptReason,eventLocation:this.props.eventLocation,showDirectBoostNUX:(g=k)!=null?g:!1,value:this.props.taggerData.directShareStatus===1,onChange:function(c){var d;b("BrandedContentHandshakeToolTypedLoggerLite").log({branded_content_event:c?"allow_boost":"dont_allow_boost",creator_id:a.props.creatorPageID,enforcement_intercept_reason:a.props.enforcementInterceptReason,event_location:(d=a.props.eventLocation)!=null?d:null});e&&e(babelHelpers["extends"]({},f,{directShareStatus:c?1:0,bcmpDealUpsell:!1}))}})},"toggle"):null,c&&i.jsx(j,{colSpan:2,className:"_36y5",children:i.jsx(b("Link.react"),{id:b("BCMPNuxContextSelectors").HANDSHAKE_GUIDED_TOUR_LEARN_MORE,href:"/help/publisher/1512279682412364/",target:"_blank",children:h._("Learn More")})},"branded_content_help_center")]})})};return c}(i.Component);c.propTypes={autoFocus:(d=b("prop-types")).bool,composerID:d.string,composerLocation:d.string,creatorPageID:d.string,detectedBrandId:d.string,detectedBrandName:d.string,enforcementInterceptReason:d.string,eventLocation:d.string,taggerSource:d.object,taggerData:d.object.isRequired,onPeopleTagRemove:d.func,onSelect:d.func,taggerViewStyle:d.shape(b("ReactComposerTaggerViewStyles").Shape),showBrandPrefill:d.bool,showDirectBoost:d.bool,showDirectBoostNUX:d.bool,showSponsorRelationship:d.bool,showSponsorRelationshipRadioList:d.bool,showBrandedContentComposerUIV2:d.bool,showBrandedContentDealUpsell:d.bool,showLearnMoreLink:d.bool};c.defaultProps={autoFocus:!0,composerLocation:"default",creatorPageID:"",detectedBrandId:"",detectedBrandName:"",enforcementInterceptReason:"",eventLocation:"",onSelect:b("emptyFunction"),showBrandPrefill:!0,showDirectBoost:!1,showDirectBoostNUX:!1,showSponsorRelationship:!1,showSponsorRelationshipRadioList:!1,showBrandedContentComposerUIV2:!1,showBrandedContentDealUpsell:!1,showLearnMoreLink:!0,taggerData:{bcmpDealID:null,sponsors:[],directShareStatus:0,sponsorRelationship:1},taggerSource:new(b("TokenizerExampleSearchSource"))(),taggerViewStyle:b("ReactComposerTaggerViewStyles").DEFAULT};e.exports=c}),null);
__d("ReactComposerSponsorTaggerContainer.react",["LivingRoomComposerActions","ReactComposerLoggingName","ReactComposerSponsorTaggerComponent.react","ReactComposerTaggerActions","ReactComposerTaggerContainerMixin","ReactComposerTaggerType","VideoComposerActions","VideoComposerAdBreakActions","VideoComposerDispatchers","WebAsyncSearchSource","createReactClass_DEPRECATED","prop-types"],(function(a,b,c,d,e,f){var g=b("VideoComposerDispatchers").DEFAULT_VIDEO_COMPOSER_ID;a=b("createReactClass_DEPRECATED")({displayName:"ReactComposerSponsorTaggerContainer",_subscriptions:void 0,mixins:[b("ReactComposerTaggerContainerMixin")()],statics:{taggerID:b("ReactComposerTaggerType").SPONSOR,loggingName:b("ReactComposerLoggingName").SPONSOR_TAGGER,taggerComponent:b("ReactComposerSponsorTaggerComponent.react")},propTypes:{creatorPageID:b("prop-types").string,viewer:b("prop-types").string.isRequired},getInitialState:function(){return{sponsorSentences:null,reachEstimate:null,searchSource:null}},UNSAFE_componentWillMount:function(){this._updateSponsorSearchSource()},componentWillUnmount:function(){this._subscriptions&&this._subscriptions.release()},componentDidMount:function(){var a=this.state.taggerData.sponsors.length!==0;b("ReactComposerTaggerActions").setIsBrandedContentVideo(this.context.composerID,a);b("VideoComposerAdBreakActions").setIsBrandedContentVideo(g,a);a&&this.props.creatorPageID!=null&&(b("LivingRoomComposerActions").removeUnownedVideo(this.context.composerID,this.props.creatorPageID),b("VideoComposerActions").updatePremiereLivingRoomRemoveUnownedVideos(g,this.props.creatorPageID))},__onTaggerDataChanged:function(a){var c=a.sponsors.length!==0;b("ReactComposerTaggerActions").setIsBrandedContentVideo(this.context.composerID,c);b("VideoComposerAdBreakActions").setIsBrandedContentVideo(g,c);a.sponsors[0]&&b("VideoComposerAdBreakActions").fetchAndSetIsInstreamSponsorshipVideo(g,String(this.props.creatorPageID),a.sponsors[0].getUniqueID());c&&this.props.creatorPageID!=null&&(b("LivingRoomComposerActions").removeUnownedVideo(this.context.composerID,this.props.creatorPageID),b("VideoComposerActions").updatePremiereLivingRoomRemoveUnownedVideos(g,this.props.creatorPageID))},_updateSponsorSearchSource:function(){var a=this.state.searchSource;a===null&&(a=this._createAndBootstrapSponsorTypeSearchSource());b("ReactComposerTaggerActions").setTaggerSource(this.context.composerID,b("ReactComposerTaggerType").SPONSOR,a)},_createAndBootstrapSponsorTypeSearchSource:function(){var a={filter:["page"],viewer:this.props.viewer,rsp:"mentions",bsp:"false",context:"topics",surface:"sponsor_tagger",page_fbid:this.props.creatorPageID};return new(b("WebAsyncSearchSource"))({queryRequests:[{uri:"/ajax/typeahead/search.php",data:Object.assign({},a,{is_bootstrap:!1})}],bootstrapRequests:[{uri:"/ajax/typeahead/first_degree.php",data:Object.assign({},a,{is_bootstrap:!0})}],auxiliaryFields:{verified:"is_verified"}})}});e.exports=a}),null);
__d("PageComposerStarsTaggerBanner.react",["fbt","PageComposerCTATaggerBanner.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){a=a.onCloseButtonClick;return h.jsx(b("PageComposerCTATaggerBanner.react"),{onCloseButtonClick:a,bannerText:g._("This post has Stars enabled"),closeButtonText:g._("Disable Stars for this post")})}e.exports=a}),null);
__d("ReactComposerStarsTaggerComponent.react",["PageComposerStarsTaggerBanner.react","React","ReactComposerLoggingName","ReactComposerTaggerActions","ReactComposerTaggerType"],(function(a,b,c,d,e,f){"use strict";var g=b("React");c=b("React");var h=c.useEffect;function a(a){var c=a.reactComposerID;h(function(){b("ReactComposerTaggerActions").setTaggerData(c,b("ReactComposerLoggingName").STARS_TAGGER,b("ReactComposerTaggerType").STARS,{isEnabled:!0})},[c]);return g.jsx(b("PageComposerStarsTaggerBanner.react"),{onCloseButtonClick:function(){b("ReactComposerTaggerActions").setTaggerData(c,b("ReactComposerLoggingName").STARS_TAGGER,b("ReactComposerTaggerType").STARS,{isEnabled:!1}),b("ReactComposerTaggerActions").deselectCurrentTagger(c,b("ReactComposerLoggingName").STARS_TAGGER)}})}e.exports=a}),null);
__d("ReactComposerStarsTaggerContainer.react",["ReactComposerLoggingName","ReactComposerStarsTaggerComponent.react","ReactComposerTaggerContainerMixin","ReactComposerTaggerType","createReactClass_DEPRECATED"],(function(a,b,c,d,e,f){"use strict";a=b("createReactClass_DEPRECATED")({displayName:"ReactComposerStarsTaggerContainer",mixins:[b("ReactComposerTaggerContainerMixin")()],statics:{taggerID:b("ReactComposerTaggerType").STARS,loggingName:b("ReactComposerLoggingName").STARS_TAGGER,taggerComponent:b("ReactComposerStarsTaggerComponent.react")}});e.exports=a}),null);
__d("ReactComposerSupportNowTaggerContainer.react",["ReactComposerLoggingName","ReactComposerSupportNowActions","ReactComposerSupportNowAttachmentContainer.react","ReactComposerTaggerActions","ReactComposerTaggerContainerMixin","ReactComposerTaggerStore","ReactComposerTaggerType","createReactClass_DEPRECATED","prop-types"],(function(a,b,c,d,e,f){"use strict";a=b("createReactClass_DEPRECATED")({displayName:"ReactComposerSupportNowTaggerContainer",mixins:[b("ReactComposerTaggerContainerMixin")()],propTypes:{pageID:b("prop-types").string.isRequired,shouldAutoSelect:b("prop-types").bool.isRequired},statics:{taggerID:b("ReactComposerTaggerType").SUPPORT_NOW,loggingName:b("ReactComposerLoggingName").SUPPORT_NOW_TAGGER,taggerComponent:b("ReactComposerSupportNowAttachmentContainer.react")},componentDidMount:function(){var a=this.context.composerID,c=this.props,d=c.pageID;c=c.shouldAutoSelect;var e=b("ReactComposerTaggerStore").getSelectedTagger(a);c&&e==null&&(b("ReactComposerTaggerActions").selectTagger(a,b("ReactComposerLoggingName").SUPPORT_NOW_TAGGER,b("ReactComposerTaggerType").SUPPORT_NOW),b("ReactComposerSupportNowActions").initialize(a,d,"VIDEO_COMPOSER","woodhenge"))}});e.exports=a}),null);
__d("ReactComposerTargetingTaggerComponent.react",["cx","Grid.react","React","XUICloseButton.react","XUIText.react","emptyFunction","isEmpty","prop-types"],(function(a,b,c,d,e,f,g){var h,i=b("React"),j=b("Grid.react").GridItem;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.onSelect({})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return i.jsxs(b("Grid.react"),{cols:2,className:"_5esl",children:[i.jsx(j,{className:"_5esm",children:this.props.label},"prefix"),i.jsx(j,{className:"_5esw",children:i.jsxs("div",{className:"_2doa",children:[i.jsx("div",{className:"_2dob",children:i.jsx(b("XUICloseButton.react"),{className:"_2doc"+((h||(h=b("isEmpty")))(this.props.taggerData)?" hidden_elem":""),size:"small",type:"button",onClick:this.$1})}),i.jsx("div",{className:"_2dod",children:i.jsx(b("XUIText.react"),{children:this.props.targetingSentences})})]})},"tagger")]})};return c}(i.Component);a.propTypes={taggerData:(c=b("prop-types")).object.isRequired,onSelect:c.func.isRequired,targetingSentences:c.object,label:c.element};a.defaultProps={taggerData:{},onSelect:b("emptyFunction")};e.exports=a}),null);
__d("ReactComposerTargetingTaggerContainer.react",["fbt","React","ReactComposerLoggingName","ReactComposerTaggerActions","ReactComposerTaggerContainerStateMixin","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerTargetingTaggerComponent.react","createReactClass_DEPRECATED"],(function(a,b,c,d,e,f,g){var h=b("React");a=b("createReactClass_DEPRECATED")({displayName:"ReactComposerTargetingTaggerContainer",mixins:[b("ReactComposerTaggerContainerStateMixin")()],statics:{taggerID:b("ReactComposerTaggerType").TARGETING},_onTaggerDataChanged:function(a){this.__onTaggerDataChanged&&this.__onTaggerDataChanged(a),b("ReactComposerTaggerActions").setTaggerData(this.context.composerID,b("ReactComposerLoggingName").TARGETING_TAGGER,b("ReactComposerTaggerType").TARGETING,a),this.props.onSelect&&this.props.onSelect(a)},render:function(){var a=b("ReactComposerTaggerStore").getTaggerData(this.context.composerID,b("ReactComposerTaggerType").TARGETING),c=a.gatingSentences;a=a.targetingSentences;var d=g._("Targeting"),e=g._("Restrictions");a=a?h.jsx(b("ReactComposerTargetingTaggerComponent.react"),babelHelpers["extends"]({},this.props,{targetingSentences:a,autoFocus:this.state.autoFocus,label:d,taggerSource:this.state.taggerSource,taggerData:this.state.taggerData,onSelect:this._onTaggerDataChanged})):null;d=c?h.jsx(b("ReactComposerTargetingTaggerComponent.react"),babelHelpers["extends"]({},this.props,{label:e,targetingSentences:c,autoFocus:this.state.autoFocus,taggerSource:this.state.taggerSource,taggerData:this.state.taggerData,onSelect:this._onTaggerDataChanged})):null;return h.jsxs("div",{children:[a,d]})}});e.exports=a}),null);
__d("VideoComposerBasicComposerTaggers.react",["invariant","BasicTypeaheadLoggerJSConstants","BootloadedReactComposerFundraiserTaggerButton.react","BootloadedReactComposerFundraiserTaggerContainer.react","ProductTaggingCreatorTypedLogger","React","ReactComposerActivityTaggerButton.react","ReactComposerActivityTaggerContainer.react","ReactComposerBackdateTaggerButton.react","ReactComposerBackdateTaggerContainer.react","ReactComposerContextProviderMixin","ReactComposerGetShowtimesTaggerButton.react","ReactComposerGetShowtimesTaggerContainer.react","ReactComposerImplicitLocationContainer.react","ReactComposerLocationTaggerButton.react","ReactComposerLocationTaggerContainer.react","ReactComposerMessagingTaggerButton.react","ReactComposerMessagingTaggerContainer.react","ReactComposerPeopleTaggerButton.react","ReactComposerPeopleTaggerContainer.react","ReactComposerProductTaggerButton.react","ReactComposerProductTaggerContainer.react","ReactComposerSponsorTaggerButton.react","ReactComposerSponsorTaggerContainer.react","ReactComposerStarsTaggerButton.react","ReactComposerStarsTaggerContainer.react","ReactComposerSupportNowTaggerButton.react","ReactComposerSupportNowTaggerContainer.react","ReactComposerTaggerActions","ReactComposerTaggerButtons.react","ReactComposerTaggers.react","ReactComposerTaggerType","ReactComposerTaggerViewStyles","ReactComposerTargetingTaggerButton.react","ReactComposerTargetingTaggerContainer.react","VideoComposerDispatchers","VideoComposerStores","createReactClass_DEPRECATED","dotAccess","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=b("BasicTypeaheadLoggerJSConstants").EventNames,i=b("React"),j=b("VideoComposerDispatchers").DEFAULT_VIDEO_COMPOSER_ID;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={videoIDLogged:!1},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a,c=this.$1("video_poser_edit");a=(a=this.props.composerConfig)==null?void 0:(a=a.contextConfig)==null?void 0:a.composerID;if(a==null)return;b("ReactComposerTaggerActions").setReferralSource(a,c?"video_poser_edit":"video_composer")};d.componentWillUnmount=function(){this.state.videoIDLogged||this.$1("video_composer")};d.render=function(){if(!this.props.composerConfig)return i.jsx("div",{});var a=this.props.composerConfig,c=a.taggersConfig,d=Array.from(c).reduce(function(a,b){var c=b[0];b=b[1];return Object.assign(a,(a={},a[c]=b,a))},{}),f=c.get(b("ReactComposerTaggerType").LOCATION),j=c.get(b("ReactComposerTaggerType").OG),l=c.get(b("ReactComposerTaggerType").TARGETING),m=c.get(b("ReactComposerTaggerType").BACKDATE),n=c.get(b("ReactComposerTaggerType").SPONSOR),o=c.get(b("ReactComposerTaggerType").PRODUCT),p=c.get(b("ReactComposerTaggerType").FUNDRAISER),q=c.get(b("ReactComposerTaggerType").MESSAGING),r=c.get(b("ReactComposerTaggerType").SUPPORT_NOW),s=c.get(b("ReactComposerTaggerType").STARS),t=c.get(b("ReactComposerTaggerType").GET_SHOWTIMES);c=i.jsx(b("ReactComposerPeopleTaggerContainer.react"),{actorID:this.props.actorID.toString(),showEntriesOnFocus:!1,taggerConfig:c.get(b("ReactComposerTaggerType").PEOPLE),taggerSource:this.props.taggerSearchSource});var u=j&&j.enabled&&j.actionTypeIDsToPrefetch&&j.actionTypeIDsWithNoFreeForm&&j.rankVerbs?i.jsx(b("ReactComposerActivityTaggerContainer.react"),{actionTaggerViewStyle:b("ReactComposerTaggerViewStyles").SCROLLABLE,actionTypeIDsToPrefetch:j.actionTypeIDsToPrefetch,actionTypeIDsWithNoFreeForm:j.actionTypeIDsWithNoFreeForm,actorID:this.props.actorID,isPersonalTimeline:!1,objectTaggerViewStyle:b("ReactComposerTaggerViewStyles").SCROLLABLE,rankVerbs:j.rankVerbs,typeaheadLoggerEventName:h.OGCOMPOSER_TAGGER}):null;f=f&&typeof f.implicitLocationEnabled==="boolean"?i.jsx(b("ReactComposerLocationTaggerContainer.react"),{implicitLocationEnabled:f.implicitLocationEnabled,taggerConfig:f,taggerViewStyle:b("ReactComposerTaggerViewStyles").SCROLLABLE,typeaheadLoggerEventName:h.REACT_COMPOSER_LOCATION_TAGGER,typeaheadSearchSource:"web_composer"}):null;var v=s&&s.enabled?i.jsx(b("ReactComposerStarsTaggerContainer.react"),{reactComposerID:a.contextConfig.composerID,pageID:this.props.actorID}):null,w=r&&r.enabled?i.jsx(b("ReactComposerSupportNowTaggerContainer.react"),{shouldAutoSelect:v===null,pageID:this.props.actorID}):null,x=m&&m.enabled?i.jsx(b("ReactComposerBackdateTaggerContainer.react"),{}):null,y=!b("gkx")("1068250")&&l&&l.enabled?i.jsx(b("ReactComposerTargetingTaggerContainer.react"),{}):null,z=n&&n.enabled&&typeof n.showSponsorTaggerDirectBoost==="boolean"&&typeof n.showSponsorTaggerSponsorRelationship==="boolean"&&typeof n.showSponsorTaggerSponsorRelationshipRadioList==="boolean"&&typeof n.showSponsorTaggerBrandedContentDealUpsell==="boolean"&&typeof n.showSponsorTaggerBrandedContentComposerUIV2==="boolean"?i.jsx(b("ReactComposerSponsorTaggerContainer.react"),{viewer:this.props.actorID,showDirectBoost:n.showSponsorTaggerDirectBoost,showSponsorRelationship:n.showSponsorTaggerSponsorRelationship,showSponsorRelationshipRadioList:n.showSponsorTaggerSponsorRelationshipRadioList,showBrandedContentComposerUIV2:n.showSponsorTaggerBrandedContentComposerUIV2,showBrandedContentDealUpsell:n.showSponsorTaggerBrandedContentDealUpsell,creatorPageID:a.contextConfig.targetID,composerLocation:e.id}):null;!a&&g(0,1689);var A=o&&o.enabled&&typeof o.productTaggerType==="string"&&typeof o.showAddProduct==="boolean"?i.jsx(b("ReactComposerProductTaggerContainer.react"),{pageID:a.contextConfig.targetID,productTaggerType:o.productTaggerType,reactComposerID:a.contextConfig.composerID,showAddProduct:o.showAddProduct,viewer:this.props.actorID}):null,B=p&&p.enabled?i.jsx(b("BootloadedReactComposerFundraiserTaggerContainer.react"),{taggersConfig:d}):null,C=q&&q.enabled?i.jsx(b("ReactComposerMessagingTaggerContainer.react"),{reactComposerID:a.contextConfig.composerID}):null,D=t&&t.enabled&&typeof t.optIn==="boolean"&&typeof t.externalMovieID==="string"&&typeof t.moviePageID==="string"?i.jsx(b("ReactComposerGetShowtimesTaggerContainer.react"),{autoSelect:t.optIn,externalMovieID:t.externalMovieID,moviePageID:t.moviePageID,reactComposerID:a.contextConfig.composerID}):null,E=i.jsx(b("ReactComposerPeopleTaggerButton.react"),{});j=j&&j.enabled?i.jsx(b("ReactComposerActivityTaggerButton.react"),{}):null;var F=i.jsx(b("ReactComposerLocationTaggerButton.react"),{children:i.jsx(b("ReactComposerImplicitLocationContainer.react"),{})});r=r&&r.enabled?i.jsx(b("ReactComposerSupportNowTaggerButton.react"),{pageID:this.props.actorID}):null;s=s&&s.enabled?i.jsx(b("ReactComposerStarsTaggerButton.react"),{pageID:this.props.actorID}):null;l=l&&l.enabled?i.jsx(b("ReactComposerTargetingTaggerButton.react"),{isDisabled:b("gkx")("1068250"),allowExclusionsWithoutInclusions:b("dotAccess")(l,"allowExclusionsWithoutInclusionsGK"),feedTargetingGK:b("dotAccess")(l,"feedTargetingGK"),feedTargetingShowReachGK:b("dotAccess")(l,"feedTargetingShowReachGK"),hideTargeting:b("dotAccess")(l,"targetingKillswitch"),hideGating:b("dotAccess")(l,"gatingKillswitch"),enableLanguageGating:b("dotAccess")(l,"enableLanguageGating"),enableLocationExclusionGating:b("dotAccess")(l,"enableLocationExclusionGating"),showWoodhengeGating:b("dotAccess")(l,"showWoodhengeGating"),useTargetingAsFilter:!b("dotAccess")(l,"feedTargetingGK"),woodhengeTiers:b("dotAccess")(l,"woodhengeTiers")}):null;m=m&&m.enabled?i.jsx(b("ReactComposerBackdateTaggerButton.react"),{}):null;n=n&&n.enabled?i.jsx(b("ReactComposerSponsorTaggerButton.react"),{}):null;o=o&&o.productTaggerType?i.jsx(i.Suspense,{fallback:null,children:i.jsx(b("ReactComposerProductTaggerButton.react"),{productTaggerType:o.productTaggerType})}):null;p=p&&p.enabled?i.jsx(b("BootloadedReactComposerFundraiserTaggerButton.react"),{taggersConfig:d,source:"composer"}):null;d=q&&q.enabled?i.jsx(b("ReactComposerMessagingTaggerButton.react"),{reactComposerID:a.contextConfig.composerID}):null;q=t&&t.enabled&&typeof t.externalMovieID==="string"&&typeof t.moviePageID==="string"?i.jsx(b("ReactComposerGetShowtimesTaggerButton.react"),{externalMovieID:t.externalMovieID,moviePageID:t.moviePageID,reactComposerID:a.contextConfig.composerID}):null;return i.jsxs(k,{contextConfig:a.contextConfig,children:[i.jsxs(b("ReactComposerTaggers.react"),{children:[c,u,w,v,f,x,y,z,A,B,C,D]}),this.props.renderButtons(i.jsxs(b("ReactComposerTaggerButtons.react"),{children:[E,j,r,s,F,m,l,n,o,p,d,q]}))]})};d.$1=function(a){var c;c=(c=this.props.composerConfig)==null?void 0:(c=c.taggersConfig)==null?void 0:c.get(b("ReactComposerTaggerType").PRODUCT);if(c&&c.productTaggerType){c=b("VideoComposerStores").getMetadataStore(j).getState().videoID;if(c==null)return!1;this.setState({videoIDLogged:!0});new(b("ProductTaggingCreatorTypedLogger"))().setEvent("Imp_ProductTagCreationVideoComposer").setReferralSource(a).setCreatorID(this.props.actorID).setMediaID(c).setMediaType("video").log()}return!0};return c}(i.Component);var k=b("createReactClass_DEPRECATED")({displayName:"VideoComposerTaggerWrapper",mixins:[b("ReactComposerContextProviderMixin")],render:function(){return this.props.children}});e.exports=a}),null);
__d("VideoComposerGamingGameTaggerV2.react",["ix","cx","fbt","FDSText.react","FlexLayout.react","GamesTypeahead.react","Image.react","React","Token.react","Tooltip","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.onGameChange(null)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props.selectedGame,c=null;a&&(c=j.jsx(b("FlexLayout.react"),{align:"center",className:"_oii _2pi9",children:j.jsx(b("Token.react"),{label:a.getTitle(),removable:!0,value:a.getUniqueID(),onRemove:this.$1})}));a=i._("Gaming videos are easier for people to discover when tagged with a game.");var d=i._("Game"),e=j.jsx(b("GamesTypeahead.react"),{className:"_83j4",largeText:!0,clearOnSelect:!1,filterVideoTags:!0,includeSeries:!1,placeholder:i._("Add a video game featured in this video (e.g. Fortnite)"),tallInput:!0,onGameSelect:this.props.onGameChange,queryInstantGames:!1,showEntriesOnFocus:!1});return j.jsxs(b("FlexLayout.react"),{align:"stretch",className:"_6-29",children:[j.jsxs("div",babelHelpers["extends"]({},b("Tooltip").propsFor(a),{className:"_6ek1",children:[j.jsx(b("Image.react"),{src:g("545939")}),j.jsx(b("FDSText.react"),{margin:"_3-99",size:"header4",weight:"bold",children:d})]})),c?c:e]})};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerBasicGameSelectorWithExplicitGameTagging.react",["cx","fbt","FBToggleSwitch.react","FDSHelpMessage.react","GamesTypeahead.react","React","Token.react","VideoComposerGamingGameTaggerV2.react","XUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=function(){return i.jsxs("div",{className:"_6_5l",children:[i.jsx(b("XUIText.react"),{color:"white",size:"body2",weight:"bold",children:h._("Tag a video game:")})," ",i.jsx(b("XUIText.react"),{color:"white",size:"body2",children:h._("Gaming videos are easier for people to discover when tagged with a game.")})]})},k=function(a){return i.jsxs("div",{children:[i.jsx("div",{className:"_6_lw",children:i.jsx(b("FBToggleSwitch.react"),{checked:a.isExplicitlyTaggedAsGamingVideo,size:"large",onToggle:a.onExplicitlyTaggedAsGamingVideo})}),i.jsx("div",{className:"_6_lx",children:i.jsx(b("XUIText.react"),{size:"header4",weight:"bold",children:h._("Is this a gaming video?")})}),i.jsx("div",{className:"_6_ly",children:i.jsx(b("FDSHelpMessage.react"),{value:h._("Gaming videos you upload can be tagged with the games you're playing to help people find them.")})})]})},l=function(a){var c=a.selectedGame;if(c){var d=function(){a.onGameChange(null)};return i.jsx("div",{className:"_oii",children:i.jsx(b("Token.react"),{label:c.getTitle(),removable:!0,value:c.getUniqueID(),onRemove:d})})}return i.jsx(b("GamesTypeahead.react"),{className:"_6_5n",clearOnSelect:!1,filterVideoTags:!0,includeSeries:!1,placeholder:h._("Add a video game featured in this video (e.g. Fortnite)"),tallInput:!0,onGameSelect:a.onGameChange,queryInstantGames:!1,showEntriesOnFocus:!1})};a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){!a&&c.props.selectedGame!==null&&c.props.selectedGame!==void 0&&c.props.onGameChange(null),c.props.onExplicitlyTaggedAsGamingVideo(a)},c.$2=function(a){a!==null&&a!==void 0&&(!c.props.isExplicitlyTaggedAsGamingVideo||!c.props.gameTaggingToggle)&&c.props.onExplicitlyTaggedAsGamingVideo(!0),c.props.onGameChange(a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return this.props.isExplicitlyTaggedAsGamingVideo||!this.props.gameTaggingToggle?i.jsxs("div",{className:"_6_5o",children:[this.props.gameTaggingToggle?i.jsx(k,{isExplicitlyTaggedAsGamingVideo:this.props.isExplicitlyTaggedAsGamingVideo,onExplicitlyTaggedAsGamingVideo:this.$1}):null,this.props.gameTaggingNewTypeahead?i.jsx(b("VideoComposerGamingGameTaggerV2.react"),{selectedGame:this.props.selectedGame,onGameChange:this.$2}):i.jsxs("xfrag",{children:[i.jsx(j,{}),i.jsx(l,{selectedGame:this.props.selectedGame,onGameChange:this.$2})]})]}):i.jsx("div",{className:"_6_5o",children:i.jsx(k,{isExplicitlyTaggedAsGamingVideo:this.props.isExplicitlyTaggedAsGamingVideo,onExplicitlyTaggedAsGamingVideo:this.$1})})};return c}(i.PureComponent);e.exports=a}),null);
__d("VideoComposerTagSuggestionSources",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({SUGGESTED:"",HISTORY:"",BROWSE:""});e.exports=a}),null);
__d("VideoComposerContentTagsSuggestionDropdown.react",["fbt","FDSCard.react","FDSSection.react","FDSTabHeader.react","React","SUIBusinessThemeContainer.react","SUITokenizerItemList.react","VideoComposerSuggestedTagSelectionTypedLogger","VideoComposerTagSuggestionSources","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={highlightedEntry:void 0},c.$2=function(a){c.setState({highlightedEntry:a})},c.$5=function(a){c.props.onTabChange(a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){new(b("VideoComposerSuggestedTagSelectionTypedLogger"))().setFirstAppearance(!0).setNumHistoryTags(this.props.historyTags.length).setNumSuggestedTags(this.props.suggestedTags.length).log()};d.$1=function(a,b){if(a<b)return-1;else if(a>b)return 1;else return 0};d.$3=function(a,c){new(b("VideoComposerSuggestedTagSelectionTypedLogger"))().setFirstAppearance(!1).setSelectionSource(c).setTagName(a).log()};d.$4=function(){var a=this;switch(this.props.tagSuggestionSource){case b("VideoComposerTagSuggestionSources").SUGGESTED:return h.jsx(b("SUIBusinessThemeContainer.react"),{children:h.jsx(b("SUITokenizerItemList.react"),{entries:this.props.suggestedTags,onHighlight:b("emptyFunction"),onSelect:function(c){a.props.onAddEntryAttempt(c),a.$3(c.getTitle(),b("VideoComposerTagSuggestionSources").SUGGESTED)}})});case b("VideoComposerTagSuggestionSources").HISTORY:return h.jsx(b("SUIBusinessThemeContainer.react"),{children:h.jsx(b("SUITokenizerItemList.react"),{entries:this.props.historyTags,onHighlight:b("emptyFunction"),onSelect:function(c){a.props.onAddEntryAttempt(c),a.$3(c.getTitle(),b("VideoComposerTagSuggestionSources").HISTORY)}})});case b("VideoComposerTagSuggestionSources").BROWSE:return h.jsx(b("SUIBusinessThemeContainer.react"),{children:h.jsx(b("SUITokenizerItemList.react"),{areCategoriesCollapsible:!0,categoriesCompare:this.$1,entries:this.props.browseTags,hasCategories:!0,highlightedEntry:this.state.highlightedEntry,onHighlight:this.$2,onSelect:function(c){a.props.onAddEntryAttempt(c),a.$3(c.getTitle(),b("VideoComposerTagSuggestionSources").BROWSE)}})})}return null};d.render=function(){var a=[];this.props.suggestedTags.length>0&&a.push({label:g._("Suggested"),value:b("VideoComposerTagSuggestionSources").SUGGESTED});this.props.historyTags.length>0&&a.push({label:g._("Most used"),value:b("VideoComposerTagSuggestionSources").HISTORY});this.props.browseTags.length>0&&a.push({label:g._("Browse tags"),value:b("VideoComposerTagSuggestionSources").BROWSE});return a.length===0?null:h.jsx("div",{children:h.jsx(b("FDSCard.react"),{header:h.jsx(b("FDSTabHeader.react"),{onChange:this.$5,tabs:a,value:this.props.tagSuggestionSource}),children:h.jsx(b("FDSSection.react"),{children:this.$4()})})})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerTagFieldNUX.react",["cx","fbt","AsyncRequest","FDSCard.react","FDSSection.react","FDSText.react","FlexLayout.react","React","XBasicFBNuxViewController"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=6324;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){var a=b("XBasicFBNuxViewController").getURIBuilder().setInt("nux_id",j).getURI();new(b("AsyncRequest"))().setURI(a).send()};d.render=function(){return i.jsx(b("FDSCard.react"),{children:i.jsx(b("FDSSection.react"),{hasPadding:!1,children:i.jsx(b("FlexLayout.react"),{align:"center",className:"_6pgw",children:i.jsx(b("FDSText.react"),{color:"white",display:"block",size:"body2",children:h._("Tags make your post even more searchable for anyone looking for videos like yours.")})})})})};return c}(i.Component);e.exports=a}),null);
__d("XVideoComposerBrowseTagsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/browse_tags/",{})}),null);
__d("XVideoComposerSuggestedTagsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/suggested_tags/",{page_id:{type:"FBID",required:!0}})}),null);
__d("VideoComposerTaggingUtils",["fbt","Promise","AnyTokenSearchSource","AsyncRequest","CompositeSearchSource","SearchableEntry","WebAsyncSearchSource","XInterestTaxonomyTypeaheadDataSourceController","XVideoComposerBrowseTagsController","XVideoComposerSuggestedTagsController"],(function(a,b,c,d,e,f,g){a=function(){var a=b("XInterestTaxonomyTypeaheadDataSourceController").getURIBuilder().setEnum("app",1).getURI();return new(b("CompositeSearchSource"))([new(b("WebAsyncSearchSource"))({queryRequests:[{uri:a}]}),new(b("AnyTokenSearchSource"))(function(a){var c=g._("Add a new tag \"{free form tag}\"",[g._param("free form tag",a)]);return new(b("SearchableEntry"))({uniqueID:a,title:c,auxiliaryData:{isFreeForm:!0}})})])};c=function(a){var c=b("XVideoComposerSuggestedTagsController").getURIBuilder().setFBID("page_id",a).getURI();return new(b("Promise"))(function(a,d){new(b("AsyncRequest"))(c).setHandler(function(b){var c=h(b.getPayload().history);b=h(b.getPayload().suggested);a({history:c,suggested:b})}).setErrorHandler(function(a){return d(a)}).send()})};d=function(a){var c=b("XVideoComposerBrowseTagsController").getURIBuilder().getURI();return new(b("Promise"))(function(a,d){new(b("AsyncRequest"))(c).setHandler(function(c){c=c.getPayload().entries;c=c.filter(function(a){return a.uid!==null&&a.uid!==void 0&&a.text!==null&&a.text!==void 0&&a.text!==""}).map(function(a){return new(b("SearchableEntry"))({uniqueID:a.uid,title:a.text,type:a.type,auxiliaryData:{isFreeForm:!1}})});a(c)}).setErrorHandler(function(a){return d(a)}).send()})};var h=function(a){return a.filter(function(a){return a.uid!==null&&a.uid!==void 0&&a.text!==null&&a.text!==void 0&&a.text!==""}).map(function(a){return new(b("SearchableEntry"))({uniqueID:a.uid,title:a.text,auxiliaryData:{isFreeForm:a.uid===a.text}})})};e.exports={filterNullsAndMapToSearchbaleEntry:h,getContentTagSearchSource:a,getSuggestedContentTags:c,getBrowseTags:d}}),null);
__d("VideoComposerContentTagsField.react",["ix","cx","fbt","FDSText.react","FlexLayout.react","Image.react","React","SearchableEntry","Tooltip","VideoComposerContentTagsSuggestionDropdown.react","VideoComposerDialogConstants","VideoComposerTagFieldNUX.react","VideoComposerTaggingUtils","XUITokenizer.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=b("VideoComposerDialogConstants").MAX_TAG_COUNT;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={currentEntries:[],queryString:"",showFreeFormOption:!0,showSuggestionSheet:!1},d.$3=function(a){var b=document.getElementById("entire-tag-area");a=a.target;do{if(a==b)return;a=a.parentNode}while(a);d.setState({showSuggestionSheet:!1})},d.$7=function(a){if(d.$6(a))return;var c=d.props.entries.slice();if(d.$5())return;var e=a;a.getAuxiliaryData().isFreeForm&&(e=new(b("SearchableEntry"))({uniqueID:a.getUniqueID(),title:a.getUniqueID(),auxiliaryData:{isFreeForm:!0}}));c.push(e);d.$4(c)},d.$8=function(a){var b=d.props.entries.slice();d.$6(a)&&b.splice(b.indexOf(a),1);d.$4(b)},d.$9=function(){d.$2.focusInput()},d.$10=function(){d.state.queryString===""&&d.setState({showSuggestionSheet:!0})},d.$12=function(a){a=a.target.value;var b=d.$11(a,d.props.entries.concat(d.state.currentEntries));d.setState({showFreeFormOption:!b,queryString:a,showSuggestionSheet:a===""})},d.$13=function(a){var b=d.$11(d.state.queryString,a.concat(d.state.currentEntries));d.setState({showFreeFormOption:d.state.showFreeFormOption&&!b,currentEntries:a})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.$1=b("VideoComposerTaggingUtils").getContentTagSearchSource()};d.componentDidMount=function(){window.addEventListener("click",this.$3)};d.componentWillUnmount=function(){window.removeEventListener("click",this.$3)};d.$4=function(a){this.props.onEntriesChange(a),this.setState({queryString:"",showSuggestionSheet:!0})};d.$5=function(){return this.props.entries.length>=k};d.$6=function(a){var b=a.getUniqueID(),c=a.getAuxiliaryData().isFreeForm,d=a.getTitle();a=this.props.entries;a=a.some(function(a){if(a.getUniqueID()===b)return!0;else if(c&&b===a.getTitle()||a.getAuxiliaryData().isFreeForm&&a.getUniqueID()===d)return!0;return!1});return a};d.$11=function(a,b){b=b.some(function(b){return a===b.getTitle()});return b};d.$14=function(){return this.props.taggingGrowthExperimentEnabled&&(this.props.alwaysShowSuggestionSheet===!0||this.state.showSuggestionSheet)&&!this.$5()?j.jsx(b("VideoComposerContentTagsSuggestionDropdown.react"),{onAddEntryAttempt:this.$7,suggestedTags:this.props.suggestedTags,historyTags:this.props.historyTags,browseTags:this.props.browseTags,tagSuggestionSource:this.props.tagSuggestionSource,onTabChange:this.props.onTabChange}):null};d.$15=function(){return this.props.taggingGrowthExperimentEnabled&&this.props.showTaggingNux?j.jsx(b("VideoComposerTagFieldNUX.react"),{}):null};d.$16=function(){var a=i._("Tags make your video easier to find."),c=i._("Tags");return this.props.taggingGrowthExperimentEnabled&&this.props.showTaggingNux?j.jsxs("div",{className:"_6ek1",children:[j.jsx(b("Image.react"),{src:g("648193")}),j.jsx(b("FDSText.react"),{color:"highlight",margin:"_3-99",size:"header4",weight:"bold",children:c})]}):j.jsxs("div",babelHelpers["extends"]({},b("Tooltip").propsFor(a),{className:"_6ek1",children:[j.jsx(b("Image.react"),{src:g("423746")}),j.jsx(b("FDSText.react"),{margin:"_3-99",size:"header4",weight:"bold",children:c})]}))};d.render=function(){var a=this,c=this.$1,d={};!this.state.showFreeFormOption&&this.state.queryString!==""&&(d[this.state.queryString]=new(b("SearchableEntry"))({uniqueID:this.state.queryString,title:this.state.queryString}));var e=null;this.props.entries.length>=k&&(e=j.jsx("div",{className:"_6ej_",children:i._("You have added the maximum number of tags.")}));return j.jsxs("div",{className:"_6maz",id:"entire-tag-area",children:[j.jsxs("div",{className:this.props.className,onClick:this.$9,tabIndex:0,role:"textbox",children:[this.$15(),j.jsxs(b("FlexLayout.react"),{align:"stretch",className:"_6-29",children:[!this.props.hideLabel&&this.$16(),j.jsx(b("XUITokenizer.react"),{className:"_70ob",entries:this.props.entries,excludedEntries:d,limit:k,placeholder:i._("Add keywords to help people find your video"),ref:function(b){return a.$2=b},searchSource:c,onInputFocus:this.$10,onEntriesFound:this.$13,onQueryStringChange:this.$12,onRemoveEntryAttempt:this.$8,onAddEntryAttempt:this.$7})]}),e]}),this.$14()]})};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerBasicSection.react",["cx","fbt","React","VideoComposerBasicActions","VideoComposerBasicComposerContainer.react","VideoComposerBasicGameSelectorWithExplicitGameTagging.react","VideoComposerBasicPromotedContentContainer.react","VideoComposerContentTagsField.react","VideoComposerDialogConstants","VideoComposerReplacePremiereContainer.react","VideoComposerSoundEditorContainer.react","VideoComposerThumbnailEditorContainer.react","VideoComposerTitleSectionContainer.react","VideoComposerTrimmingEditorContainer.react","VideoComposerVideoPlayerContainer.react","XUIGrayText.react","XUINotice.react","XUISpinner.react","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=function(a){var c=null;if(a.isGamingPage){c=i.jsx(b("VideoComposerBasicGameSelectorWithExplicitGameTagging.react"),{isExplicitlyTaggedAsGamingVideo:a.isExplicitlyTaggedAsGamingVideo,selectedGame:a.selectedGame,gameTaggingToggle:a.gameTaggingToggle,gameTaggingNewTypeahead:a.gameTaggingNewTypeahead,onExplicitlyTaggedAsGamingVideo:function(c){return b("VideoComposerBasicActions").changeExplicitlyTaggedAsGamingVideo(a.videoComposerID,c)},onGameChange:function(c){return b("VideoComposerBasicActions").changeGame(a.videoComposerID,c)}});if(!a.gameTaggingAlwaysShowGenericTagging)return c}return i.jsxs(i.Fragment,{children:[c,i.jsx(b("VideoComposerContentTagsField.react"),{className:"_3-8y",browseTags:a.browseTags,entries:a.contentTags,historyTags:a.historyTags,showTaggingNux:a.showTaggingNux,suggestedTags:a.suggestedTags,taggingGrowthExperimentEnabled:a.taggingGrowthExperimentEnabled,tagSuggestionSource:a.tagSuggestionSource,onEntriesChange:function(c){return b("VideoComposerBasicActions").updateContentTags(a.videoComposerID,c)},onTabChange:function(c){return b("VideoComposerBasicActions").updateTagSuggestionSource(a.videoComposerID,c)}})]})};a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){return this.props.showVideoType==="trailer"?i.jsx(b("XUINotice.react"),{use:"notify",className:"_3-8- _3-98",children:i.jsx(b("XUIGrayText.react"),{display:"block",children:h._("A trailer is a 16:9 video used to promote your show. It should be no longer than 2 minutes and 30 seconds. Trailers cannot be added as vertical videos and must have an aspect ratio greater than 1:1. Your trailer should be about your entire show, not just one particular episode.")})}):null};d.render=function(){return i.jsxs("div",{className:"_6enh",children:[this.$1(),this.getInputFields(),i.jsx("div",{className:"_3-8-",children:i.jsx(b("VideoComposerVideoPlayerContainer.react"),{videoComposerID:this.props.videoComposerID,enableSoundEditor:!0,enableTrimmingEditor:this.props.allowTrimming,height:b("VideoComposerDialogConstants").PLAYER_HEIGHT,width:b("VideoComposerDialogConstants").PLAYER_WIDTH,showThumbnailButton:!0})}),this.getReplacePremiereSection(),i.jsx(b("VideoComposerSoundEditorContainer.react"),{videoComposerID:this.props.videoComposerID}),i.jsx(b("VideoComposerTrimmingEditorContainer.react"),{videoComposerID:this.props.videoComposerID}),i.jsx(b("VideoComposerThumbnailEditorContainer.react"),{videoComposerID:this.props.videoComposerID})]})};d.getInputFields=function(){if(!this.props.bootloaded)return i.jsx("div",{className:"_3-8- _6eni",children:i.jsx(b("XUISpinner.react"),{size:"large"})});var a=this.props.showNewPlaylistSelector;return i.jsxs("div",{children:[i.jsx("div",{className:"_3-8z",children:i.jsx(b("VideoComposerTitleSectionContainer.react"),{videoComposerID:this.props.videoComposerID,isInsideBasicTab:!0})}),i.jsx("div",{className:"_3-8y",children:i.jsx(b("VideoComposerBasicComposerContainer.react"),{videoComposerID:this.props.videoComposerID})}),i.jsx(j,{videoComposerID:this.props.videoComposerID,accessToken:this.props.accessToken,browseTags:this.props.browseTags,contentTags:this.props.contentTags,historyTags:this.props.historyTags,isGamingPage:this.props.isGamingPage,gameTaggingAlwaysShowGenericTagging:this.props.gameTaggingAlwaysShowGenericTagging,gameTaggingToggle:this.props.gameTaggingToggle,gameTaggingNewTypeahead:this.props.gameTaggingNewTypeahead,isExplicitlyTaggedAsGamingVideo:this.props.isExplicitlyTaggedAsGamingVideo,selectedGame:this.props.selectedGame,showTaggingNux:this.props.showTaggingNux,suggestedTags:this.props.suggestedTags,taggingGrowthExperimentEnabled:this.props.taggingGrowthExperimentEnabled,tagSuggestionSource:this.props.tagSuggestionSource}),a?i.jsx(b("VideoComposerBasicPromotedContentContainer.react"),{videoComposerID:this.props.videoComposerID}):null]})};d.getReplacePremiereSection=function(){return!this.props.showReplacePremiereSection?null:i.jsx(b("VideoComposerReplacePremiereContainer.react"),{videoComposerID:this.props.videoComposerID})};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerReplacePremiereSection.react",["ix","fbt","BUIProgressBar.react","FDSButton.react","FileInput.react","Image.react","React","VideoComposerActions","XUINotice.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){a=Array.from(a.target.files);a=a[0];a&&b("VideoComposerActions").premiereReplaceFile(d.props.videoComposerID,a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this,c=i.jsx(b("BUIProgressBar.react"),{isBuffering:this.props.uploadProgress==100&&!this.props.uploadFinished,message:this.props.fileName,percentage:this.props.uploadFinished?100:this.props.uploadProgress,isComplete:this.props.uploadFinished,flexibleWidth:!0}),d=i.jsx(b("FileInput.react"),{ref:function(b){a.fileInput=b},onChange:this.$1,children:i.jsx(b("FDSButton.react"),{href:"#",label:h._("Replace Video"),icon:i.jsx(b("Image.react"),{src:g("490356")})})});return i.jsxs("div",{className:"_3-8-",children:[this.props.fileName!=""?c:d,i.jsx(b("XUINotice.react"),{className:"_3-8-",children:h._({"*":"You can upload a new video to replace this one up until {number} minutes before the start of your premiere.","_1":"You can upload a new video to replace this one up until 1 minute before the start of your premiere."},[h._plural(this.props.windowLengthMinutes,"number")])})]})};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerReplacePremiereContainer.react",["FluxContainer","React","VideoComposerReplacePremiereSection.react","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getUploadStore(a.videoComposerID),b("VideoComposerStores").getPremiereStore(a.videoComposerID),b("VideoComposerStores").getPublishingStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getUploadStore(c.videoComposerID).getState();var d=a.uploadFinished,e=a.uploadProgress;a=a.videoFile;var f=b("VideoComposerStores").getPublishingStore(c.videoComposerID).getState();f=f.uploadErrorData;c=b("VideoComposerStores").getPremiereStore(c.videoComposerID).getState();c=c.premiereSourceEditWindowConfig;return{fileName:a?a.name:"",uploadErrorData:f,uploadFinished:d,uploadProgress:e,windowLengthMinutes:((a=c)!=null?a.windowLengthMinutes:a)||15}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerReplacePremiereSection.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID},this.state))};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("mediaManagerComposerCreatePlaylistAction",["AsyncDialog","AsyncRequest","XShowPagesCreatePlaylistDialogController"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){a=b("XShowPagesCreatePlaylistDialogController").getURIBuilder().setFBID("page_id",a);c!=null&&(a=a.setEnum("entry_point",c));d!=null&&(a=a.setString("video_composer_id",d));c=new(b("AsyncRequest"))().setURI(a.getURI());b("AsyncDialog").send(c)}e.exports=a}),null);
__d("VideoComposerPlaylistSelector.react",["ix","cssVar","cx","fbt","FlexLayout.react","React","SUIAtlasTheme","SUIBusinessTheme","SUIGlyphIcon.react","SUISelector.react","SUISelectorButton.react","SUISelectorOption.react","SUIText.react","SUITooltip.react","VideoComposerBasicActions","asset","joinClasses","mediaManagerComposerCreatePlaylistAction"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=b("React"),l=35,m="new",n=l-10;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(a){a.length>0&&a[a.length-1]===m?b("mediaManagerComposerCreatePlaylistAction")(d.props.pageID,"video_list_selector_v2",d.props.videoComposerID):b("VideoComposerBasicActions").updatePlaylistIDs(d.props.videoComposerID,a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){return this.props.playlistIDs.length===0||Object.keys(this.props.playlistOptions).length===0};d.$2=function(){if(this.$1())return this.props.shownInDistributionTab!==!0?j._("Add to playlist"):k.jsx(b("SUIText.react"),{customColorUseSparingly:"#90949c",size:"body2",theme:b("SUIBusinessTheme"),weight:"bold",children:k.jsx("span",{style:{WebkitFontSmoothing:"subpixel-antialiased"},children:j._("Choose playlists(s)")})});var a=this.props.playlistIDs,c=this.props.playlistOptions[a[0]],d=1;while(c.length<l&&d<a.length)c+=", "+this.props.playlistOptions[a[d]],d+=1;return c.length>=l?k.jsxs("span",{children:[c.slice(0,n),j._({"*":"...{number} playlists in total","_1":"...1 playlist in total"},[j._plural(a.length,"number")])]}):k.jsx("span",{children:c})};d.render=function(){var a=this,c=this.props.shownInDistributionTab===!0?b("SUIBusinessTheme"):b("SUIAtlasTheme"),d=k.jsx(b("SUISelectorButton.react"),{height:"tall",icon:k.jsx(b("SUIGlyphIcon.react"),{srcDefault:g("441126")}),label:k.jsx(b("SUITooltip.react"),{position:"right",offset:12,theme:c,tooltip:j._("You can add videos and episodes to playlists"),children:this.$2()})});if(this.props.shownInDistributionTab===!0){var e={use:{"default":{chevron:k.jsx(b("SUIGlyphIcon.react"),{srcDefault:g("482773")})}}},f={use:{"default":{normal:{background:this.$1()?"#F5F7F8":"#FFFFFF"}}}};d=k.jsx(b("SUISelectorButton.react"),{uniformOverride:e,uniformOverrideButton:f,style:{height:45},label:this.$2()})}return k.jsx(b("FlexLayout.react"),{className:b("joinClasses")(this.props.className,"_6ekq"),children:k.jsxs(b("SUISelector.react"),{canSelectMultiple:!0,theme:c,width:"100%",button:d,onChange:this.$3,value:this.props.playlistIDs,children:[Object.keys(this.props.playlistOptions).map(function(c){return k.jsx(b("SUISelectorOption.react"),{value:c,children:a.props.playlistOptions[c]},c)}),k.jsx(b("SUISelectorOption.react"),{value:m,children:j._("+ Create new playlist")},0)]})})};return c}(k.Component);e.exports=a}),null);
__d("VideoComposerSeasonSelector.react",["ix","cx","fbt","AsyncDialog","AsyncRequest","FDSText.react","FlexLayout.react","React","SUIAtlasTheme","SUIGlyphIcon.react","SUISelector.react","SUISelectorButton.react","SUISelectorOption.react","SUITooltip.react","VideoComposerBasicActions","XShowPagesCreateSeasonDialogController","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k="new";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(a){if(a===k){var c=b("XShowPagesCreateSeasonDialogController").getURIBuilder().setFBID("page_id",d.props.pageID).setEnum("entry_point","video_list_selector_v2").setString("video_composer_id",d.props.videoComposerID).getURI();c=new(b("AsyncRequest"))().setURI(c);b("AsyncDialog").send(c)}else b("VideoComposerBasicActions").updateSeasonIDOld(d.props.videoComposerID,a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=this.props.seasonOptionsOld;if(this.props.seasonIDOld)return this.$2(a[this.props.seasonIDOld]);else return j.jsx(b("FDSText.react"),{size:"header4",weight:"bold",children:i._("Add to season")})};d.$2=function(a){return i._("Season {seasonNumber}",[i._param("seasonNumber",a)])};d.render=function(){var a=this;return j.jsx(b("FlexLayout.react"),{className:"_6ekq",children:j.jsxs(b("SUISelector.react"),{theme:b("SUIAtlasTheme"),width:"100%",button:j.jsx(b("SUISelectorButton.react"),{height:"tall",icon:j.jsx(b("SUIGlyphIcon.react"),{srcDefault:g("418481")}),label:j.jsx(b("SUITooltip.react"),{position:"right",offset:12,theme:b("SUIAtlasTheme"),tooltip:i._("Only episodes can be added to series"),children:this.$1()})}),onChange:this.$3,value:this.props.seasonIDOld,children:[j.jsx(b("SUISelectorOption.react"),{value:null,children:j.jsx(b("FDSText.react"),{size:"header4",weight:"bold",children:i._("Not in any season")})},0),Object.keys(this.props.seasonOptionsOld).map(function(c){return j.jsx(b("SUISelectorOption.react"),{value:c,children:j.jsx(b("FDSText.react"),{size:"header4",weight:"bold",children:a.$2(a.props.seasonOptionsOld[c])})},c)}),j.jsx(b("SUISelectorOption.react"),{value:k,children:j.jsx(b("FDSText.react"),{size:"header4",weight:"bold",children:i._("+ Create new season")})},k)]})})};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerShowVideoTypeDropdown.react",["ix","cx","fbt","FDSText.react","FlexLayout.react","React","SUIAtlasTheme","SUIGlyphIcon.react","SUISelector.react","SUISelectorButton.react","SUISelectorOption.react","SUIText.react","SUITooltip.react","VideoComposerActions","XUIContextualDialog.react","XUIContextualDialogBody.react","XUIContextualDialogFooter.react","XUIContextualDialogTitle.react","XUIDialogCloseButton.react","asset","cxMargin","setTimeout"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=null,d.$3=function(a){b("VideoComposerActions").updateShowVideoType(d.props.videoComposerID,a)},d.$4=function(){b("VideoComposerActions").hideMissingVideoTypeTooltip(d.props.videoComposerID)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$2=function(a){switch(a){case"episode":return this.props.isRecapSupported?j.jsx(b("FDSText.react"),{size:"header4",weight:"bold",children:i._("Season video")}):j.jsx(b("FDSText.react"),{size:"header4",weight:"bold",children:i._("Episode")});case"basic_video":return j.jsx(b("FDSText.react"),{size:"header4",weight:"bold",children:i._("Video")});case"recap":return j.jsx(b("FDSText.react"),{size:"header4",weight:"bold",children:i._("Episode")})}return j.jsxs("div",{children:[j.jsx(b("FDSText.react"),{size:"header4",weight:"bold",children:i._("Select video type")}),j.jsx(b("SUIText.react"),{color:"disabled",margin:"_3-99",weight:"normal",children:i._("(required)")})]})};d.componentDidMount=function(){var a=this;b("setTimeout")(function(){return a.forceUpdate()},500)};d.render=function(){var a=this;return j.jsxs(b("FlexLayout.react"),{className:"_6ekq",children:[j.jsxs(b("SUISelector.react"),{ref:function(b){return a.$1=b},canSelectMultiple:!1,theme:b("SUIAtlasTheme"),width:"100%",button:j.jsx(b("SUISelectorButton.react"),{style:{width:"100%"},height:"tall",icon:j.jsx(b("SUIGlyphIcon.react"),{srcDefault:g("417684")}),label:j.jsx(b("SUITooltip.react"),{position:"above",offset:12,theme:b("SUIAtlasTheme"),tooltip:i._("Your followers will be notified whenever you publish a new episode. Both episodes and videos will appear in News Feed and on your show Page."),children:this.$2(this.props.showVideoType)})}),onChange:this.$3,value:this.props.showVideoType,children:[j.jsx(b("SUISelectorOption.react"),{value:"episode",children:this.$2("episode")},0),j.jsx(b("SUISelectorOption.react"),{value:"basic_video",children:this.$2("basic_video")},1),this.props.isRecapSupported&&j.jsx(b("SUISelectorOption.react"),{value:"recap",children:this.$2("recap")},2)]}),j.jsxs(b("XUIContextualDialog.react"),{label:"missing video type warning",autoFocus:!1,shown:this.props.showMissingVideoTypeTooltip,contextRef:function(){return a.$1},position:"below",alignment:"left",width:b("XUIContextualDialog.react").WIDTH.NORMAL,children:[j.jsx(b("XUIContextualDialogTitle.react"),{children:i._("Missing video type")}),j.jsx(b("XUIContextualDialogBody.react"),{children:this.props.tooltipText}),j.jsx(b("XUIContextualDialogFooter.react"),{children:j.jsx(b("XUIDialogCloseButton.react"),{onClick:this.$4})})]})]})};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerBasicPromotedContentSection.react",["cx","FlexLayout.react","React","VideoComposerFundedContentFlagSelector.react","VideoComposerPlaylistSelector.react","VideoComposerSeasonSelector.react","VideoComposerShowVideoTypeDropdown.react","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.showVideoTypeSelector?h.jsx(b("VideoComposerShowVideoTypeDropdown.react"),{videoComposerID:this.props.videoComposerID,isRecapSupported:this.props.isRecapSupported,showMissingVideoTypeTooltip:this.props.showMissingVideoTypeTooltip,showVideoType:this.props.showVideoType,tooltipText:this.props.missingVideoTypeTooltipText}):null,c=this.props.showSeasonSelector?h.jsx(b("VideoComposerSeasonSelector.react"),{videoComposerID:this.props.videoComposerID,pageID:this.props.actorID,seasonIDOld:this.props.seasonIDOld,seasonOptionsOld:this.props.seasonOptionsOld}):null,d=this.props.showPlaylistSelector?h.jsx(b("VideoComposerPlaylistSelector.react"),{videoComposerID:this.props.videoComposerID,className:this.props.showSeasonSelector?"_3-8x":"",pageID:this.props.actorID,playlistIDs:this.props.playlistIDs,playlistOptions:this.props.playlistOptions}):null,e=this.props.showFundedContentFlag?h.jsx(b("VideoComposerFundedContentFlagSelector.react"),{videoComposerID:this.props.videoComposerID,className:this.props.showSeasonSelector||this.props.showPlaylistSelector?"_3-8y":"",fundedContentProgram:this.props.fundedContentProgram,isDisabled:!this.props.allowSettingFundedContentProgram,missingFundedContentProgramText:this.props.missingFundedContentProgramText,showMissingFundedContentProgramTooltip:this.props.showMissingFundedContentProgramTooltip,useDeals:this.props.showDealSection,deals:this.props.deals,selectedDeal:this.props.deal}):null;return!a&&!c&&!d&&!e?null:h.jsxs(b("FlexLayout.react"),{align:"center",className:"_3-8y",justify:"all",wrap:"wrap",children:[a,c,d,e]})};return c}(h.Component);e.exports=a}),null);
__d("VideoFundedContentFlagProgram",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({UNSET:0,IS_FUNDED_CONTENT:1,NOT_FUNDED_CONTENT:2})}),null);
__d("VideoComposerFundedContentFlagSelector.react",["ix","cx","fbt","FlexLayout.react","React","SUIAtlasTheme","SUIGlyphIcon.react","SUISelector.react","SUISelectorButton.react","SUISelectorOption.react","SUIText.react","SUITooltip.react","VideoComposerBasicActions","VideoComposerDealUtils","VideoFundedContentFlagProgram","XUIContextualDialog.react","XUIContextualDialogBody.react","XUIContextualDialogFooter.react","XUIContextualDialogTitle.react","XUIDialogCloseButton.react","asset","cxMargin","joinClasses","setTimeout"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=b("VideoComposerDealUtils").getActiveDeals,l=b("VideoComposerDealUtils").getDeal;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=null,d.$7=function(){b("VideoComposerBasicActions").hideMissingFundedContentProgramTooltip(d.props.videoComposerID)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this;b("setTimeout")(function(){return a.forceUpdate()},500)};d.$2=function(a){switch(a){case 1:return i._("Yes, this is a funded post");case 2:return i._("No, this post is not funded")}return j.jsxs("div",{children:[i._("Will Facebook be funding this?"),j.jsx(b("SUIText.react"),{color:"disabled",margin:"_3-99",weight:"normal",children:i._("(required)")})]})};d.$3=function(a){return j.jsx(b("SUISelectorButton.react"),{style:{width:"100%"},height:"tall",icon:j.jsx(b("SUIGlyphIcon.react"),{srcDefault:g("382094")}),label:j.jsx(b("SUITooltip.react"),{position:"above",offset:12,theme:b("SUIAtlasTheme"),tooltip:i._("Select whether this video post is meant to be funded by a deal with Facebook or not."),children:a===null?this.$2(this.props.fundedContentProgram):j.jsx("span",{children:a})})})};d.$4=function(a,c,d){var e=c!=null&&Object.values(b("VideoFundedContentFlagProgram")).indexOf(c)===-1;b("VideoComposerBasicActions").updateFundedContentProgram(a,e?1:2);c=e?l(c,d):null;b("VideoComposerBasicActions").updateDeal(a,e?c:null)};d.$5=function(a){return i._("Yes, this post is funded by {deal_name}",[i._param("deal_name",j.jsxs("b",{children:[a," "]}))])};d.$6=function(a,c){var d=this,e=this.props.selectedDeal,f=[].concat(c).sort(function(a,b){return String(a.deal_name).toLocaleLowerCase().localeCompare(String(b.deal_name).toLocaleLowerCase())}),g={};c.forEach(function(a){g[a.deal_id]=a.deal_name});f=f.map(function(a){return a.deal_id});return j.jsxs(b("SUISelector.react"),{ref:function(a){return d.$1=a},canSelectMultiple:!1,disabled:this.props.isDisabled,theme:b("SUIAtlasTheme"),width:"100%",button:this.$3(e==null?null:this.$5(e.deal_name)),onChange:function(b){return d.$4(a,b,c)},value:e==null?void 0:e.deal_id,children:[j.jsx(b("SUISelectorOption.react"),{value:2,children:this.$2(2)},2),f.map(function(a){return j.jsx(b("SUISelectorOption.react"),{value:a,children:d.$5(g[a])},a)})]})};d.render=function(){var a=this,c=this.props,d=c.videoComposerID;c=c.deals;c=k(c);return c.length===0?null:j.jsxs(b("FlexLayout.react"),{className:b("joinClasses")(this.props.className,"_6ekq"),children:[this.$6(d,c),j.jsxs(b("XUIContextualDialog.react"),{label:"missing funded content flag warning",autoFocus:!1,shown:this.props.showMissingFundedContentProgramTooltip,contextRef:function(){return a.$1},position:"below",alignment:"left",width:b("XUIContextualDialog.react").WIDTH.NORMAL,children:[j.jsx(b("XUIContextualDialogTitle.react"),{}),j.jsx(b("XUIContextualDialogBody.react"),{children:this.props.missingFundedContentProgramText}),j.jsx(b("XUIContextualDialogFooter.react"),{children:j.jsx(b("XUIDialogCloseButton.react"),{onClick:this.$7})})]})]})};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerSoundEditor.react",["cx","React","VideoComposerSoundEditorLeftSection.react","VideoComposerSoundEditorRightSection.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsxs("div",{className:"_3fr5",children:[h.jsx(b("VideoComposerSoundEditorLeftSection.react"),{videoComposerID:a.videoComposerID}),h.jsx(b("VideoComposerSoundEditorRightSection.react"),{videoComposerID:a.videoComposerID})]})}e.exports=a}),null);
__d("VideoComposerSoundEditorFooterSection.react",["cx","fbt","FDSButton.react","React","VideoComposerSoundEditorActions","VideoComposerSoundEditorUtils","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){return i.jsxs("div",{className:"_2y9g",children:[i.jsx(b("FDSButton.react"),{label:h._("Cancel"),onClick:function(){return b("VideoComposerSoundEditorUtils").closeSoundEditor(a.videoComposerID)},size:"large"}),i.jsx("div",{className:"_3-9a",children:i.jsx(b("FDSButton.react"),{label:h._("Save Edited Video"),margin:"_3-9a",onClick:function(){return b("VideoComposerSoundEditorActions").saveSoundEditorDraft(a.videoComposerID)},size:"large",use:"primary"})})]})}e.exports=a}),null);
__d("VideoComposerSoundEditorConstants",["VideoComposerDialogConstants"],(function(a,b,c,d,e,f){"use strict";a=16;c=300;d=b("VideoComposerDialogConstants").DIALOG_WIDTH-c;f=d-2*a;c=f/b("VideoComposerDialogConstants").SIXTEEN_NINE;d={PLAYER_HEIGHT:c,PLAYER_WIDTH:f,SECTION_PADDING:a};e.exports=d}),null);
__d("VideoComposerSoundEditorLeftSection.react",["ix","cx","fbt","FDSText.react","FlexLayout.react","Image.react","Link.react","React","VideoComposerSoundEditorActions","VideoComposerSoundEditorConstants","VideoComposerSoundEditorFooterSection.react","VideoComposerSoundEditorScrubberContainer.react","VideoComposerSoundEditorVideoPlayerContainer.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");function a(a){return j.jsxs("div",{className:"_6b3l",children:[j.jsxs("div",{className:"_6b3m",style:{padding:"0 "+b("VideoComposerSoundEditorConstants").SECTION_PADDING+"px"},children:[j.jsx(k,{videoComposerID:a.videoComposerID}),j.jsxs("div",{className:"_6f_t",children:[j.jsx(b("VideoComposerSoundEditorVideoPlayerContainer.react"),{videoComposerID:a.videoComposerID}),j.jsx(b("VideoComposerSoundEditorScrubberContainer.react"),{videoComposerID:a.videoComposerID})]})]}),j.jsx(b("VideoComposerSoundEditorFooterSection.react"),{videoComposerID:a.videoComposerID})]})}function k(a){return j.jsx("div",{className:"_6b6l",children:j.jsxs(b("FlexLayout.react"),{children:[j.jsx(b("Link.react"),{href:"#",onClick:function(){return l(a.videoComposerID)},children:j.jsx(b("Image.react"),{src:g("495370"),className:"_3-93"})}),j.jsx(b("FDSText.react"),{color:"primary",size:"header3",weight:"bold",children:i._("Sound Collection")})]})})}var l=function(a){b("VideoComposerSoundEditorActions").setSoundCollectionPlayTrack(a,null),b("VideoComposerSoundEditorActions").openTrackSelector(a)};e.exports=a}),null);
__d("VideoComposerSoundEditorRightSection.react",["ix","cx","fbt","FDSText.react","Image.react","React","VideoComposerSoundEditorAudioPlayerContainer.react","VideoComposerSoundEditorSelectedTrackListContainer.react","VideoComposerSoundEditorVideoVolumeEditorContainer.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");function a(a){return j.jsxs("div",{className:"_44e9",children:[j.jsx(k,{}),j.jsx(l,{}),j.jsx(b("VideoComposerSoundEditorVideoVolumeEditorContainer.react"),{videoComposerID:this.props.videoComposerID}),j.jsx(b("VideoComposerSoundEditorSelectedTrackListContainer.react"),{videoComposerID:this.props.videoComposerID}),j.jsx(b("VideoComposerSoundEditorAudioPlayerContainer.react"),{videoComposerID:this.props.videoComposerID})]})}function k(a){return j.jsxs("div",{className:"_2yj5",children:[j.jsx(b("Image.react"),{src:g("481015"),className:"_3-90"}),j.jsx(b("FDSText.react"),{color:"primary",size:"header3",weight:"bold",children:i._("Selected Tracks")})]})}function l(a){return j.jsx("div",{className:"_2pia",children:j.jsx("div",{className:"_3-8-",children:j.jsx(b("FDSText.react"),{color:"secondary",size:"body1",weight:"normal",children:i._("Choose music that fits the mood of your video. You can select tracks, trim, edit in-and-out points and fade volume in and out.")})})})}e.exports=a}),null);
__d("VideoComposerSoundEditorTrackListItem.react",["ix","cx","Image.react","Link.react","React","SoundCollectionHoverIcon.react","VideoComposerDragAndDropScrubberTypes","VideoComposerSoundEditorActions","asset","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("VideoComposerDragAndDropScrubberTypes").VideoComposerDragAndDropScrubberActionTypes;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(){d.props.playTrackID===d.props.soundTrack.id?b("VideoComposerSoundEditorActions").setSoundCollectionIsPlaying(d.props.videoComposerID,!0):b("VideoComposerSoundEditorActions").setSoundCollectionPlayTrack(d.props.videoComposerID,d.props.soundTrack)},d.$2=function(){b("VideoComposerSoundEditorActions").setSoundCollectionIsPlaying(d.props.videoComposerID,!1)},d.$4=function(){b("VideoComposerSoundEditorActions").soundCollectionUnselectTrack(d.props.videoComposerID,d.props.soundTrack.id)},d.$1=function(a){if(a.target instanceof HTMLElement){var b=a.target.getBoundingClientRect();b=b.left;var c=a.clientX;a.dataTransfer.setData("application/json",JSON.stringify({id:d.props.soundTrack.id,action:j.ADD,lengthInSec:d.props.soundTrack.lengthInSec,offsetX:c-b}));a.dataTransfer.effectAllowed="move"}},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.playTrackID===this.props.soundTrack.id,c=this.props.isPlaying&&a,d=i.jsx(b("SoundCollectionHoverIcon.react"),{icon:g("417655"),iconHover:g("419562")}),e=i.jsx(b("SoundCollectionHoverIcon.react"),{icon:g("483323"),iconHover:g("551457")}),f=i.jsx(b("SoundCollectionHoverIcon.react"),{icon:g("551454"),iconHover:g("551457")}),h=i.jsx(b("SoundCollectionHoverIcon.react"),{icon:g("515618"),iconHover:g("538590")}),j=i.jsx(b("SoundCollectionHoverIcon.react"),{icon:g("538586"),iconHover:g("538590")});f=a?f:e;e=this.props.removable?a?j:h:null;a=this.props.isDraggable?i.jsx("div",{className:"_6cwi",children:i.jsx(b("Image.react"),{src:g("555290")})}):null;j=this.props.isDraggable&&this.props.orderNumber!==0?i.jsx("div",{className:"_6cwj"+(this.props.soundTrack.type==="sound_effects"?" _6ih1":""),children:this.props.orderNumber}):null;return i.jsxs("div",{className:"_6cwh"+(this.props.isDraggable?" _6hol":""),draggable:this.props.isDraggable,onDragStart:this.$1,children:[a,j,i.jsxs("div",{className:"_6cwo",children:[i.jsx("div",{className:"_6cx2",children:this.props.soundTrack.title}),i.jsx("div",{className:"_6cx3",children:this.props.soundTrack.artistName})]}),i.jsx("div",{className:"_3-9a _3-91",children:i.jsx(b("Link.react"),{href:"#",onClick:c?this.$2:this.$3,children:c?d:f})}),i.jsx("div",{className:"_3-90",children:i.jsx(b("Link.react"),{href:"#",onClick:this.$4,children:e})})]})};return c}(i.Component);a.defaultProps={isDraggable:!1};e.exports=a}),null);
__d("VideoComposerSoundEditorTrackList.react",["cx","React","ScrollableArea.react","VideoComposerSoundEditorTrackListItem.react","VideoComposerSoundEditorTrackListNestingItem.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){var a=this,c=this.props.playTrack?this.props.playTrack.id:null;return this.props.selectedTracks.map(function(d){var e=a.props.isDraggable?d.orderNumber:null;return h.jsxs("div",{children:[h.jsx(b("VideoComposerSoundEditorTrackListItem.react"),{videoComposerID:a.props.videoComposerID,isDraggable:a.props.isDraggable,isPlaying:a.props.isPlaying,orderNumber:e,playTrackID:c,soundTrack:d.trackResult,removable:d.nestingItems.size===0}),h.jsx(i,{parentOrderNumber:e,selectedTrackData:d,videoComposerID:a.props.videoComposerID})]},d.trackResult.id)})};d.render=function(){return h.jsx("div",{className:"_6cwg",children:h.jsx(b("ScrollableArea.react"),{children:this.$1()})})};return c}(h.Component);a.defaultProps={isDraggable:!1};function i(a){var c=a.selectedTrackData.nestingItems.toArray().map(function(c,d){return h.jsx(b("VideoComposerSoundEditorTrackListNestingItem.react"),{videoComposerID:a.videoComposerID,parentOrderNumber:a.parentOrderNumber,nestingOrderNumber:d+1,trackResult:a.selectedTrackData.trackResult,trackItemData:c},d)});return h.jsx("div",{children:c})}e.exports=a}),null);
__d("VideoComposerSoundEditorTrackListNestingItem.react",["ix","cx","Image.react","Link.react","React","ShimButton.react","SoundCollectionHoverIcon.react","TimeFormatUtil","VideoComposerSoundEditorActions","VideoComposerSoundEditorTrackListItemEditorContainer.react","VideoComposerSoundEditorUtils","asset","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("VideoComposerSoundEditorActions").editAddedTrack(d.props.videoComposerID,d.props.trackItemData),b("VideoComposerSoundEditorActions").scrollScrubberToPosition(d.props.videoComposerID,d.props.trackItemData.startTimeInMs)},d.$2=function(a){a.preventDefault(),a.stopPropagation(),b("VideoComposerSoundEditorActions").deleteAddedTrack(d.props.videoComposerID,null,d.props.trackResult.id,d.props.trackItemData.id)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.parentOrderNumber!=null||this.props.parentOrderNumber===0?i.jsx("div",{className:"_6cwj"+(this.props.trackResult.type==="sound_effects"?" _6ih1":""),children:b("VideoComposerSoundEditorUtils").getTrackOrderLabel(this.props.parentOrderNumber,this.props.nestingOrderNumber)}):null;return i.jsxs("div",{children:[i.jsx(b("ShimButton.react"),{onClick:this.$1,children:i.jsxs("div",{className:"_6k55",children:[i.jsx("div",{className:"_6k56",children:i.jsx(b("Image.react"),{src:g("566839")})}),a,i.jsx("div",{className:"_6k57",children:b("TimeFormatUtil").formatTime(this.props.trackItemData.startTimeInMs)}),i.jsx("div",{className:"_3-90",children:i.jsx(b("Link.react"),{href:"#",onClick:this.$2,children:i.jsx(b("SoundCollectionHoverIcon.react"),{icon:g("515618"),iconHover:g("538590")})})})]})}),i.jsx(b("VideoComposerSoundEditorTrackListItemEditorContainer.react"),{videoComposerID:this.props.videoComposerID,trackResultId:this.props.trackItemData.sourceId,trackDataId:this.props.trackItemData.id})]})};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerSoundEditorTrackSelector.react",["cx","React","VideoComposerSoundEditorTrackSelectorLeftSection.react","VideoComposerSoundEditorTrackSelectorRightSection.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsxs("div",{className:"_3fr5",children:[h.jsx(b("VideoComposerSoundEditorTrackSelectorLeftSection.react"),{videoComposerID:this.props.videoComposerID}),h.jsx(b("VideoComposerSoundEditorTrackSelectorRightSection.react"),{videoComposerID:this.props.videoComposerID})]})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerSoundEditorTrackSelectorFooterSection.react",["cx","fbt","FDSButton.react","React","VideoComposerSoundEditorActions","VideoComposerSoundEditorUtils","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("VideoComposerSoundEditorUtils").closeSoundEditor(d.props.videoComposerID)},d.$2=function(){b("VideoComposerSoundEditorActions").setSoundCollectionPlayTrack(d.props.videoComposerID,null),b("VideoComposerSoundEditorActions").finishTrackSelection(d.props.videoComposerID)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return i.jsxs("div",{className:"_2y9g",children:[i.jsx(b("FDSButton.react"),{label:h._("Cancel"),onClick:this.$1,size:"large"}),i.jsx("div",{className:"_3-9a",children:i.jsx(b("FDSButton.react"),{label:h._("Add Selected Sounds"),margin:"_3-9a",onClick:this.$2,size:"large",use:"primary"})})]})};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerSoundEditorTrackSelectorLeftSection.react",["cx","fbt","FDSText.react","React","VideoComposerSoundEditorSoundCollectionContainer.react","VideoComposerSoundEditorTrackSelectorFooterSection.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return i.jsxs("div",{className:"_6b3l",children:[i.jsxs("div",{className:"_6b3m",children:[i.jsx(j,{}),i.jsx(b("VideoComposerSoundEditorSoundCollectionContainer.react"),{videoComposerID:this.props.videoComposerID})]}),i.jsx(b("VideoComposerSoundEditorTrackSelectorFooterSection.react"),{videoComposerID:this.props.videoComposerID})]})};return c}(i.Component);function j(a){return i.jsx("div",{className:"_6b6l",children:i.jsx(b("FDSText.react"),{color:"primary",size:"header2",weight:"bold",children:h._("Choose Tracks or Sound Effects")})})}e.exports=a}),null);
__d("VideoComposerSoundEditorTrackSelectorRightSection.react",["ix","cx","fbt","FDSText.react","Image.react","React","VideoComposerSoundEditorTrackSelectorAudioPlayerContainer.react","VideoComposerSoundEditorTrackSelectorTrackListContainer.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return j.jsxs("div",{className:"_44e9",children:[j.jsx(k,{}),j.jsx(l,{}),j.jsx(b("VideoComposerSoundEditorTrackSelectorTrackListContainer.react"),{videoComposerID:this.props.videoComposerID}),j.jsx(b("VideoComposerSoundEditorTrackSelectorAudioPlayerContainer.react"),{videoComposerID:this.props.videoComposerID})]})};return c}(j.Component);function k(a){return j.jsxs("div",{className:"_2yj5",children:[j.jsx(b("Image.react"),{src:g("481015"),className:"_3-90"}),j.jsx(b("FDSText.react"),{color:"primary",size:"header3",weight:"bold",children:i._("Selected Tracks")})]})}function l(a){return j.jsx("div",{className:"_6f-_",children:j.jsx("div",{className:"_3-8-",children:j.jsx(b("FDSText.react"),{color:"secondary",size:"body1",weight:"normal",children:i._("Choose music that fits the mood of your video. You can select tracks, trim, edit in-and-out points and fade volume in and out.")})})})}e.exports=a}),null);
__d("VideoComposerTrimmingRightSection.react",["ix","cx","fbt","FDSText.react","Image.react","React","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return j.jsxs("div",{className:"_1pjk",children:[j.jsx(k,{}),j.jsx(l,{})]})};return b}(j.Component);function k(a){return j.jsxs("div",{className:"_1pjl",children:[j.jsx(b("Image.react"),{src:g("556604"),className:"_3-90"}),j.jsx(b("FDSText.react"),{color:"primary",size:"header3",weight:"bold",children:i._("Video trimming")})]})}function l(a){return j.jsxs("div",{className:"_2pia",children:[j.jsx("div",{className:"_3-8-",children:j.jsx(b("FDSText.react"),{color:"secondary",size:"body1",weight:"normal",children:i._("Trimming lets you edit the beginning and end of your video so your audience only sees what you want them to.")})}),j.jsx("div",{className:"_3-8-",children:j.jsx(b("FDSText.react"),{color:"secondary",size:"body1",weight:"normal",children:i._("Remember to play your video back after trimming to make sure that it looks right. You can always make changes before publishing.")})})]})}e.exports=a}),null);
__d("VideoComposerTrimmingEditor.react",["cx","React","VideoComposerTrimmingCancelConfirmDialogContainer.react","VideoComposerTrimmingLeftSection.react","VideoComposerTrimmingRightSection.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsxs("div",{className:"_1pjd",children:[h.jsx(b("VideoComposerTrimmingLeftSection.react"),{videoComposerID:this.props.videoComposerID}),h.jsx(b("VideoComposerTrimmingRightSection.react"),{}),h.jsx(b("VideoComposerTrimmingCancelConfirmDialogContainer.react"),{videoComposerID:this.props.videoComposerID})]})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerTrimmingActions",["VideoComposerActionTypes","VideoComposerDispatchers"],(function(a,b,c,d,e,f){"use strict";a=function(a){var c={type:b("VideoComposerActionTypes").ATTEMPT_CLOSE_TRIMMING_EDITOR};b("VideoComposerDispatchers").get(a).dispatch(c)};c=function(a){var c={type:b("VideoComposerActionTypes").CANCEL_CLOSE_TRIMMING_EDITOR};b("VideoComposerDispatchers").get(a).dispatch(c)};d=function(a){var c={type:b("VideoComposerActionTypes").CONFIRM_CLOSE_TRIMMING_EDITOR};b("VideoComposerDispatchers").get(a).dispatch(c)};f=function(a){var c={type:b("VideoComposerActionTypes").OPEN_TRIMMING_EDITOR};b("VideoComposerDispatchers").get(a).dispatch(c)};var g=function(a,c,d){c={endTime:c,startTime:d,type:b("VideoComposerActionTypes").TRIMMING_PREVIEW_BY_START_END};b("VideoComposerDispatchers").get(a).dispatch(c)},h=function(a){var c={type:b("VideoComposerActionTypes").TRIMMING_SAVE_DRAFT};b("VideoComposerDispatchers").get(a).dispatch(c)},i=function(a,c){c={type:b("VideoComposerActionTypes").TRIMMING_SET_PLAYER_STATE,isPlaying:c};b("VideoComposerDispatchers").get(a).dispatch(c)},j=function(a,c){c={type:b("VideoComposerActionTypes").TRIMMING_SET_END_TIME,endTime:c};b("VideoComposerDispatchers").get(a).dispatch(c)},k=function(a,c){c={type:b("VideoComposerActionTypes").TRIMMING_SET_START_TIME,startTime:c};b("VideoComposerDispatchers").get(a).dispatch(c)},l=function(a,c){c={type:b("VideoComposerActionTypes").TRIMMING_SET_VPC,vpc:c};b("VideoComposerDispatchers").get(a).dispatch(c)},m=function(a,c){c={type:b("VideoComposerActionTypes").TRIMMING_SET_IS_WAS_LIVE_TRIMMED,isWasLiveTrimmed:c};b("VideoComposerDispatchers").get(a).dispatch(c)};e.exports={attemptCloseTrimmingEditor:a,cancelCloseTrimmingEditor:c,confirmCloseTrimmingEditor:d,openTrimmingEditor:f,previewByStartEndTime:g,saveTrimmingDraft:h,setPlayerState:i,setTrimmingEndTime:j,setTrimmingStartTime:k,setVPC:l,setIsWasLiveTrimmed:m}}),null);
__d("VideoComposerTrimmingEditorFooterSection.react",["cx","fbt","FDSButton.react","React","VideoComposerActions","VideoComposerStores","VideoComposerTrimmingActions","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("VideoComposerTrimmingActions").attemptCloseTrimmingEditor(d.props.videoComposerID)},d.$2=function(){b("VideoComposerTrimmingActions").saveTrimmingDraft(d.props.videoComposerID);var a=b("VideoComposerStores").getTrimmingEditorStore(d.props.videoComposerID).getState(),c=a.endTime;a=a.startTime;b("VideoComposerActions").setVideoStartEndTime(d.props.videoComposerID,c,a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return i.jsxs("div",{className:"_2am-",children:[i.jsx(b("FDSButton.react"),{label:h._("Cancel"),onClick:this.$1,size:"large"}),i.jsx("div",{className:"_3-9a",children:i.jsx(b("FDSButton.react"),{isDisabled:this.props.disableTrimmingButton,label:h._("Trim"),margin:"_3-9a",onClick:this.$2,size:"large",use:"primary"})})]})};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerTrimmingConstants",["VideoComposerDialogConstants"],(function(a,b,c,d,e,f){"use strict";a=16;c=300;d=b("VideoComposerDialogConstants").DIALOG_WIDTH-c;f=d-2*a;c=f/b("VideoComposerDialogConstants").SIXTEEN_NINE;d=16;b=f-2*d;c={PLAYER_HEIGHT:c,PLAYER_WIDTH:f,SECTION_PADDING:a,SCRUBBER_SLIDER_WIDTH:d,SCRUBBER_WIDTH:b,MIN_TRIM_DURATION:1};e.exports=c}),null);
__d("VideoComposerTrimmingLeftSection.react",["cx","fbt","FDSText.react","React","VideoComposerTrimmingConstants","VideoComposerTrimmingEditorFooterSectionContainer.react","VideoComposerTrimmingManualInputSection.react","VideoComposerTrimmingVideoPlayerContainer.react","VideoComposerTrimmingVisualizerContainer.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return i.jsxs("div",{className:"_2gt5",children:[i.jsxs("div",{className:"_4t6_",style:{padding:"0 "+b("VideoComposerTrimmingConstants").SECTION_PADDING+"px"},children:[i.jsx(j,{}),i.jsxs("div",{className:"_6fzm",children:[i.jsx(b("VideoComposerTrimmingVideoPlayerContainer.react"),{videoComposerID:this.props.videoComposerID}),i.jsx(b("VideoComposerTrimmingVisualizerContainer.react"),{videoComposerID:this.props.videoComposerID}),i.jsx(b("VideoComposerTrimmingManualInputSection.react"),{videoComposerID:this.props.videoComposerID})]})]}),i.jsx(b("VideoComposerTrimmingEditorFooterSectionContainer.react"),{videoComposerID:this.props.videoComposerID})]})};return c}(i.Component);function j(a){return i.jsx("div",{className:"_2gt6",children:i.jsx(b("FDSText.react"),{color:"primary",size:"header1",weight:"bold",children:h._("Trim your video")})})}e.exports=a}),null);
__d("VideoComposerTrimmingManualInputRightSection.react",["cx","React","VideoComposerTrimmingTimestampContainer.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("div",{className:"_2a1p",children:h.jsx(b("VideoComposerTrimmingTimestampContainer.react"),{videoComposerID:a.videoComposerID,isManualInput:a.isManualInput})})}e.exports=a}),null);
__d("VideoComposerTrimmingManualInputSection.react",["cx","fbt","React","VideoComposerField.react","VideoComposerTrimmingManualInputRightSection.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return i.jsx("div",{className:"_3eh4",children:i.jsx(b("VideoComposerField.react"),{input:i.jsx(b("VideoComposerTrimmingManualInputRightSection.react"),{videoComposerID:this.props.videoComposerID}),showTopBorder:!1,subtitle:h._("Use the scrubber or edit the timestamps to begin trimming your video."),title:h._("Video trimming")})})};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerCaptionEditorDialog.react",["cx","React","VideoComposerCaptionEditorPlayerSection.react","VideoComposerCaptionEditorRightSectionContainer.react","VideoComposerDialogCaptionEditorConstants","XUIDialog.react","XUIDialogBody.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=h.jsxs(b("XUIDialogBody.react"),{className:"_6env",children:[h.jsx(b("VideoComposerCaptionEditorPlayerSection.react"),{videoComposerID:this.props.videoComposerID,video_id:this.props.video_id}),h.jsx(b("VideoComposerCaptionEditorRightSectionContainer.react"),{videoComposerID:this.props.videoComposerID,caption:this.props.caption})]});return h.jsx(b("XUIDialog.react"),{className:"_6enw",label:"captionEditor",isStrictlyControlled:!0,labelIsHidden:!0,layerHideOnBlur:!1,shown:this.props.show_caption_editor,width:b("VideoComposerDialogCaptionEditorConstants").DIALOG_WIDTH,children:a})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerCaptionEditorLoadingShimmer.react",["cssVar","cx","FBLoadShimmer.react","React","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return i.jsxs("span",{className:"_6eke",children:[i.jsx(a=b("FBLoadShimmer.react"),{style:{backgroundColor:"#e9ebee"},className:"_3-96",height:14,width:45}),i.jsx(a,{style:{backgroundColor:"#e9ebee"},className:"_3-94",height:14,width:260}),i.jsx(a,{style:{backgroundColor:"#e9ebee"},className:"_3-96",height:14,width:106}),i.jsx(a,{style:{backgroundColor:"#e9ebee"},height:14,width:45})]})};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerCaptionEditorListLoading.react",["cx","React","VideoComposerCaptionEditorLoadingShimmer.react","XUINotice.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a){var c=[];for(var d=0;d<a;d++)c.push(h.jsx(b("VideoComposerCaptionEditorLoadingShimmer.react"),{},d));return c};d.render=function(){var a=this.props.showShimmer?this.$1(4):null;return h.jsxs("span",{children:[h.jsx("span",{className:"_6eke",children:h.jsxs(b("XUINotice.react"),{use:"notify",children:[h.jsx("span",{className:"_6ekf",children:this.props.header}),h.jsx("span",{className:"_6ekg",children:this.props.description})]})}),a]})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerCaptionEditorEditCaptions.react",["fbt","React","RelayFBEnvironment","RelayModern","VideoComposerCaptionEditorCaptionsListGenerator.react","VideoComposerCaptionEditorListLoading.react","VideoComposerCaptionEditorEditCaptionsContainerRelayQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j=b("RelayModern").QueryRenderer;b("RelayModern").graphql;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return i.jsx(j,{cacheConfig:{force:!0},environment:b("RelayFBEnvironment"),query:h!==void 0?h:h=b("VideoComposerCaptionEditorEditCaptionsContainerRelayQuery.graphql"),variables:{caption_id:this.props.caption.id},render:function(c){var d=c.error;c=c.props;if(d)return i.jsx("div",{children:g._("Loading failed")});else if(c)return i.jsx(b("VideoComposerCaptionEditorCaptionsListGenerator.react"),{videoComposerID:a.props.videoComposerID,node:c.node,id:a.props.caption.id,shouldTrimCaptions:a.props.shouldTrimCaptions,videoEndTimeInMs:a.props.videoEndTimeInMs,videoStartTimeInMs:a.props.videoStartTimeInMs});return i.jsx("div",{children:i.jsx(b("VideoComposerCaptionEditorListLoading.react"),{header:a.props.loadingStateHeader,description:a.props.loadingStateDescription,showShimmer:!0})})}})};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerCaptionEditorPlayerSection.react",["cx","React","VideoComposerCaptionEditorFooterContainer.react","VideoComposerCaptionEditorPlayerSectionBodyContainer.react","VideoComposerCaptionEditorPlayerSectionHeaderContainer.react","VideoComposerCaptionEditorSubtitlesDragAreaContainer.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsxs("span",{className:"_6eoj",children:[h.jsxs("div",{className:"_6eok",children:[h.jsx(b("VideoComposerCaptionEditorPlayerSectionHeaderContainer.react"),{videoComposerID:this.props.videoComposerID}),h.jsx(b("VideoComposerCaptionEditorPlayerSectionBodyContainer.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID},this.props)),h.jsx(b("VideoComposerCaptionEditorSubtitlesDragAreaContainer.react"),{videoComposerID:this.props.videoComposerID})]}),h.jsx("span",{children:h.jsx(b("VideoComposerCaptionEditorFooterContainer.react"),{videoComposerID:this.props.videoComposerID})})]})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerCaptionEditorRightSection.react",["cx","fbt","React","VideoComposerCaptionEditorEditCaptions.react","VideoComposerCaptionEditorLanguageSearchContainer.react","VideoComposerCaptionEditorListLoading.react","VideoComposerDialogCaptionEditorUtils"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a){if(a)return{header:h._("Creating Time Segments"),description:h._("You can write and edit your captions after we've finished creating the time segments."),showShimmer:a};else return{header:h._("Select a Language"),description:h._("Select a language for your captions to proceed."),showShimmer:a}};d.render=function(){var a=!b("VideoComposerDialogCaptionEditorUtils").isLanguageDefaultOrEmpty(this.props.language),c=this.$1(a);a=this.props.caption&&this.props.caption.id&&a?i.jsx(b("VideoComposerCaptionEditorEditCaptions.react"),{videoComposerID:this.props.videoComposerID,caption:this.props.caption,loadingStateHeader:c.header,loadingStateDescription:c.description,shouldTrimCaptions:this.props.shouldTrimCaptions,videoEndTimeInMs:this.props.videoEndTimeInMs,videoStartTimeInMs:this.props.videoStartTimeInMs}):i.jsx(b("VideoComposerCaptionEditorListLoading.react"),babelHelpers["extends"]({},c));return i.jsxs("div",{className:"_6elp",children:[i.jsx(b("VideoComposerCaptionEditorLanguageSearchContainer.react"),{videoComposerID:this.props.videoComposerID}),a]})};return c}(i.Component);e.exports=a}),null);
__d("VideoCaptionRenderUtil",["fbt","LayerFadeOnHide","LayerFadeOnShow","React","SimpleXUIDialog","VideoCaptionConstants","XUIDialog.react","XUIDialogBody.react","XUIDialogTitle.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(){function a(){}var c=a.prototype;c.renderDialog=function(a,c,d,e){return h.jsxs(b("XUIDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide"),LayerFadeOnShow:b("LayerFadeOnShow")},shown:!0,width:a,onToggle:e,children:[h.jsx(b("XUIDialogTitle.react"),{showCloseButton:!1,children:c}),h.jsx(b("XUIDialogBody.react"),{style:{height:b("VideoCaptionConstants").DIALOG_HEIGHT},children:d})]})};c.renderAbortGenAutoCaption=function(a){var c=g._("Captions have not finished being generated or loaded"),d=g._("Any captions that have already been generated will not be saved. To add captions to your video, you'll need to generate them again or upload an SRT file.");b("SimpleXUIDialog").showConfirm(d,c,function(b){b&&a()})};return a}();e.exports=new a()}),null);
__d("VideoUploadAutoCaptionsSection.react",["ix","fbt","AdsVideoCaptionLoadingView.react","Image.react","InsightsLocaleNamesStatic","JSResource","React","RelayDeferredContainer","RelayVideoCaptionRoute","Tooltip","VideoCaptionConstants","VideoCaptionEditorLogger","VideoCaptionEditorStateEnums","VideoCaptionFile","VideoCaptionRenderUtil","VideoCaptionUtil","XUIButton.react","fbglyph","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("VideoCaptionEditorStateEnums").EditorStateEnum,k=b("InsightsLocaleNamesStatic");a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$3=function(a){a=d.state.autoCaptions[0];d.setState({showCaptionEditor:!0});d.$1.log("click_edit_auto_caption",a&&a.id,d.props.videoID,null,d.props.hasAutoCaption.toString(),2)};d.$6=function(){b("VideoCaptionRenderUtil").renderAbortGenAutoCaption(d.$7)};d.$7=function(){var a=d.state.autoCaptions[0];d.$1.log("abort_wait_gen",a&&a.id,d.props.videoID,null,null,2);d.$8()};d.$5=function(a,c){d.$8();if(a===j.SAVING){var e=d.state.autoCaptions[0].locale||"en_US";a=d.props.addedCaptions.filter(function(a){return a.getLocale()!==e});if(c){c=new(b("VideoCaptionFile"))(c,e,k[e]);c.setIsAutoGenerated(!0);c.setIsDefault(!0);d.props.onSaveCaptions(a.concat([c]))}else d.props.onSaveCaptions(a)}else{c=d.state.autoCaptions[0];d.$1.log("cancel_edit",c&&c.id,d.props.videoID,null,null,2)}};d.$1=new(b("VideoCaptionEditorLogger"))();d.state={autoCaptions:c.autoCaptions||[],showCaptionEditor:!1};return d}var d=c.prototype;d.componentDidMount=function(){this.props.videoID&&this.$2()};d.componentDidUpdate=function(a){this.props.videoID&&!a.videoID&&this.$2()};d.UNSAFE_componentWillReceiveProps=function(a){a.autoCaptions&&this.setState({autoCaptions:a.autoCaptions})};d.$2=function(){var a=this;b("promiseDone")(b("VideoCaptionUtil").fetchAutoCaption(this.props.videoID,this.props.accessToken).then(function(b){b=b.data;a.props.composerDialogVersion==="V2"&&a.props.onAutoCaptionFetched&&b&&b[0]&&b[0].id?a.props.onAutoCaptionFetched(b[0]):b&&a.setState({autoCaptions:b});b&&b[0]&&b[0].id&&a.$1.log("fetched_success",b.id,a.props.videoID,null,(!0).toString(),2)}));this.$1.log("render_caption_entry",null,this.props.videoID,null,null,2)};d.render=function(){var a;if(this.props.hasAutoCaption)a=this.state.autoCaptions[0]?i.jsx(b("XUIButton.react"),{label:h._("Edit captions"),use:"default",size:this.props.composerDialogVersion==="V2"?"xlarge":"medium",onClick:this.$3}):null;else{var c=this.props.disabled?h._("We only support edit auto-caption now and will extend support to edit all captions in the near future."):h._("Automatically generate captions");a=this.state.autoCaptions[0]?i.jsx(b("XUIButton.react"),babelHelpers["extends"]({disabled:this.props.disabled,image:i.jsx(b("Image.react"),{src:g("142451")}),label:h._("Generate"),href:"#",use:"default",size:this.props.composerDialogVersion==="V2"?"xlarge":"medium",onClick:this.$3},b("Tooltip").propsFor(c))):null}return i.jsxs("div",{className:this.props.className,children:[a,this.$4()]})};d.$4=function(){var a=this,c=this.state.autoCaptions[0];if(!this.state.showCaptionEditor||!c||!c.id)return null;c=new(b("RelayVideoCaptionRoute"))({caption_id:c.id,hide_apply_button:!0,hide_save_button:!1,placement:2,onExit:this.$5});var d=h._("Review captions");c=i.jsx(b("RelayDeferredContainer"),{loader:b("JSResource")("VideoCaptionEditorContainer.react").__setRef("VideoUploadAutoCaptionsSection.react"),render:function(a,b){return i.jsx(a,babelHelpers["extends"]({},b))},renderLoading:function(){return i.jsx(b("AdsVideoCaptionLoadingView.react"),{onCancel:a.$6})},route:c});return b("VideoCaptionRenderUtil").renderDialog(b("VideoCaptionConstants").EDITOR_DIALOG_WIDTH,d,c,this.$5)};d.$8=function(){this.setState({showCaptionEditor:!1})};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerCaptionLandingAddSubtitleButtons.react",["ix","cx","fbt","FileInput.react","Image.react","React","SUIGlyphIcon.react","VideoComposerCaptionsTabActions","VideoComposerDialogCaptionEditorConstants","VideoComposerDialogCaptionEditorUtils","VideoUploadAutoCaptionsSection.react","XUIButton.react","asset","cxMargin","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(a){b("VideoComposerCaptionsTabActions").fetchedAutoGenV1Subtitle(d.props.videoComposerID,a)},d.$4=function(a){a=a||[],b("VideoComposerCaptionsTabActions").updateAllLocalCaptions(d.props.videoComposerID,a)},d.$2=function(a){a=a.target;a.value&&(d.props.onUpload(a),d.refs.captionFileInput.getFileInput().clear())},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.$1(),c=this.props.videoID,d=!1,e=this.props.localCaptionFiles.toArray(),f=e.some(function(a){return a.is_auto_generated});f||(d=e.some(function(a){return a.getLocale()==="en_US"}));return j.jsxs("div",{style:{display:"flex",flexWrap:"wrap"},children:[a,j.jsxs("span",{className:"_6elc",style:{display:"flex"},children:[j.jsx(b("FileInput.react"),{accept:".srt",ref:"captionFileInput",multiple:!0,disabled:this.props.disableButtons,onChange:this.$2,onClick:this.props.onUploadClick,children:j.jsx(b("XUIButton.react"),{size:"xlarge",href:"#",disabled:this.props.disableButtons,image:j.jsx(b("Image.react"),{src:g("490358")}),label:i._("Upload")})}),this.props.shouldShowCaptionEditorV1&&c?j.jsx(b("VideoUploadAutoCaptionsSection.react"),{accessToken:this.props.accessToken,addedCaptions:this.props.localCaptionFiles.toArray(),autoCaptions:this.props.autoGenV1Subtitle?[this.props.autoGenV1Subtitle]:[],className:"_3-9b",composerDialogVersion:"V2",disabled:d,hasAutoCaption:f,uploadErrorMessage:null,videoID:c,onAutoCaptionFetched:this.$3,onSaveCaptions:this.$4}):null]})]})};d.$5=function(){return b("VideoComposerDialogCaptionEditorUtils").isAutoGenerateable(this.props.videoComposerID,this.props.spokenLocale,this.props.videoDurationInSec,this.props.isVideoTrimmed)};d.$1=function(){var a=this.props.enableFeatures&&!this.props.hasAutoGenerated?j.jsxs("span",{className:"_3-95 _3-90",children:[j.jsx(b("XUIButton.react"),{size:"xlarge",href:"#",disabled:this.props.disableButtons||!this.$5()||this.props.isAutoGenerating,image:j.jsx(b("Image.react"),{src:g("490341")}),label:i._("Auto-generate"),onClick:this.props.onGenerate}),this.$6()]}):null;a=this.props.enableFeatures?j.jsxs("span",{className:"_6eld",children:[a,j.jsx("span",{className:"_6elc",children:j.jsx(b("XUIButton.react"),{size:"xlarge",href:"#",disabled:this.props.disableButtons,image:j.jsx(b("Image.react"),{src:g("490351")}),label:i._("Write"),onClick:this.props.onCreate})})]}):null;return a};d.$6=function(){if(this.props.spokenLanguage==b("VideoComposerDialogCaptionEditorConstants").NO_LANGUAGE_SELECTED)return null;if(this.$5())return null;var a=null;b("VideoComposerDialogCaptionEditorUtils").isVideoTooLong(this.props.videoDurationInSec)?a=i._("Auto-generation unavailable for videos longer than 2.5 hours"):this.props.isVideoTrimmed?a=i._("Auto-generation is not supported for trimmed videos."):a=i._("Auto-generate unavailable for this language");return j.jsxs("div",{children:[j.jsx("div",{className:"_6ele",children:j.jsx(b("SUIGlyphIcon.react"),{srcDefault:g("132174")})}),j.jsx("div",{className:"_6elf",children:a})]})};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerCaptionLandingAddSubtitleSection.react",["fbt","React","VideoComposerCaptionLandingAddSubtitleButtonsContainer.react","VideoComposerField.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=g._("Add new captions"),c=g._("Adding captions increases video engagement. We can try to automatically generate them for you, or you can write them yourself or upload a SubRip (SRT) file.");this.props.enableFeatures||(c=g._("Adding captions increases video engagement. You can include captions with your video in multiple languages by uploading a SubRip (.srt) file."));this.props.doSubtitlesExist&&(a=g._("Add more captions"),c=g._("You can add additional captions to your video in another language."));var d=h.jsx(b("VideoComposerCaptionLandingAddSubtitleButtonsContainer.react"),{videoComposerID:this.props.videoComposerID});return h.jsx(b("VideoComposerField.react"),{input:d,subtitle:c,title:a,showTopBorder:this.props.enableFeatures,disableLeftSection:this.props.disableSection})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerCaptionLandingSection.react",["cx","fbt","FbtResultBase","FDSSpinner.react","FlexLayout.react","React","ServerHTML.react","SimpleNUXMessage","SimpleNUXMessageTypes","VideoComposerCaptionLandingAddedCaptionSectionContainer.react","VideoComposerCaptionLandingAddSubtitleSectionContainer.react","VideoComposerCaptionLandingAutogenerateSectionContainer.react","VideoComposerCaptionLandingUploadSectionContainer.react","VideoComposerCaptionLandingWriteSectionContainer.react","VideoComposerCaptionsTabActions","VideoComposerLandingScreenDefaultLanguageContainer.react","VideoComposerLandingScreenDraftSection.react","VideoComposerLandingScreenSpokenLanguageContainer.react","VideoComposerStores","XUIDialog.react","XUIDialogBody.react","XUIDialogTitle.react","XUIGrayText.react","XUINotice.react","XUIText.react","cxMargin","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showRecommendedNux:!b("SimpleNUXMessage").hasUserSeenMessage(b("SimpleNUXMessageTypes").VIDEO_COMPOSER_RECOMMEND_AUTOGENERATE_CAPTIONS_NUX)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("VideoComposerStores").getCaptionsStore(this.props.videoComposerID).getIsNewCaptionsTabTextAndLayoutEnabled()?this.$1():this.$2()};d.$1=function(){var a=i.jsx(b("VideoComposerCaptionLandingAutogenerateSectionContainer.react"),{videoComposerID:this.props.videoComposerID}),c=i.jsx(b("VideoComposerCaptionLandingUploadSectionContainer.react"),{videoComposerID:this.props.videoComposerID}),d=i.jsx(b("VideoComposerCaptionLandingWriteSectionContainer.react"),{videoComposerID:this.props.videoComposerID}),e=i.jsx(b("VideoComposerCaptionLandingAddedCaptionSectionContainer.react"),{videoComposerID:this.props.videoComposerID}),f=this.$3(this.props.subtitleForDeletion!==null,h._("Deleting {language} captions",[h._param("language",this.props.subtitleForDeletion?this.props.subtitleForDeletion.language:"")])),g=this.$3(this.props.isAutoGenerateCanceling,h._("Cancelling auto-generation")),j=this.props.enableAddCaptionWhileUploading?null:this.$4();return i.jsxs("div",{children:[j,this.$5(),this.$6(),a,c,d,e,f,g]})};d.$2=function(){var a=i.jsx(b("VideoComposerLandingScreenSpokenLanguageContainer.react"),{videoComposerID:this.props.videoComposerID}),c=i.jsx(b("VideoComposerCaptionLandingAddSubtitleSectionContainer.react"),{videoComposerID:this.props.videoComposerID}),d=this.props.shouldShowDraftSection?i.jsx("div",{className:this.$7()?"_6emj":"",children:i.jsx(b("VideoComposerLandingScreenDraftSection.react"),{videoComposerID:this.props.videoComposerID})}):null,e=b("VideoComposerStores").getCaptionsStore(this.props.videoComposerID).getIsDefaultLangugeSectionEnabled()?i.jsx(b("VideoComposerLandingScreenDefaultLanguageContainer.react"),{videoComposerID:this.props.videoComposerID}):null,f=this.$3(this.props.subtitleForDeletion!==null,h._("Deleting {language} captions",[h._param("language",this.props.subtitleForDeletion?this.props.subtitleForDeletion.language:"")])),g=this.$3(this.props.isAutoGenerateCanceling,h._("Cancelling auto-generation"));return i.jsxs("div",{children:[this.$4(),this.$6(),a,c,d,e,f,g]})};d.$4=function(){return this.$7()?i.jsxs(b("XUINotice.react"),{className:"_3-98",use:"notify",children:[i.jsx(b("XUIText.react"),{className:"_3-95",display:"block",weight:"bold",children:h._("Your video is still being uploaded")}),i.jsx(b("XUIGrayText.react"),{display:"block",size:"meta1",children:h._("You can add captions after the video upload is complete.")})]}):null};d.$5=function(){var a=this,c=h._("Captions can now be automatically created."),d=h._("If you make this your default setting, captions will be automatically generated for every uploaded video.");return this.state.showRecommendedNux?i.jsxs(b("XUINotice.react"),{className:"_3qh4 _3-98",use:"notify",type:"warn",onDismiss:function(){b("SimpleNUXMessage").markMessageSeenByUser(b("SimpleNUXMessageTypes").VIDEO_COMPOSER_RECOMMEND_AUTOGENERATE_CAPTIONS_NUX),a.setState({showRecommendedNux:!1}),b("VideoComposerCaptionsTabActions").dismissCaptionsNux(a.props.videoComposerID)},children:[i.jsx(b("XUIText.react"),{className:"_3-95",display:"block",weight:"bold",children:c}),i.jsx(b("XUIGrayText.react"),{display:"block",size:"meta1",children:d})]}):null};d.$3=function(a,c){return i.jsxs(b("XUIDialog.react"),{isStrictlyControlled:!0,shown:a,width:300,children:[i.jsx(b("XUIDialogTitle.react"),{showCloseButton:!1,children:c}),i.jsx(b("XUIDialogBody.react"),{children:i.jsx(b("FlexLayout.react"),{justify:"center",children:i.jsx(b("FDSSpinner.react"),{size:"large"})})})]})};d.$6=function(){return this.props.errors.size>0?i.jsx(b("XUINotice.react"),{className:"_3-95",use:"warn",children:this.$8()}):null};d.$8=function(){var a=[];for(var b=0;b<this.props.errors.size;b++)a.push(this.$9(b,this.props.errors.get(b)));return a};d.$9=function(a,c){if(c instanceof b("FbtResultBase"))return c;else return i.jsx(b("ServerHTML.react"),{blob:c},a)};d.$7=function(){return this.props.isVideoUploaded===!1&&this.props.enableFeatures};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerLandingScreenDraftSection.react",["fbt","React","VideoComposerField.react","VideoComposerLandingScreenDraftListContainer.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=g._("Captions added"),c=g._("Captions that are set to be published will appear on your video once the post has been saved.");return h.jsx(b("VideoComposerField.react"),{input:h.jsx(b("VideoComposerLandingScreenDraftListContainer.react"),{videoComposerID:this.props.videoComposerID}),subtitle:c,title:a})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerCaptionEditorScrubBarTimeRuler.react",["cx","React","VideoComposerDialogCaptionEditorUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.shouldComponentUpdate=function(a){return this.props.scale!==a.scale||this.props.duration!==a.duration};d.render=function(){var a=b("VideoComposerDialogCaptionEditorUtils").getWidth(this.props.duration,this.props.scale),c=[],d=0,e=5,f;for(var g=0;g<=this.props.duration;g+=200)d=b("VideoComposerDialogCaptionEditorUtils").getWidth(g,this.props.scale),g%1e3===0?(g===0?f="0%":f="50%",e=10,f=h.jsx("div",{className:"_647t",children:h.jsx("div",{style:{right:f,position:"relative"},children:b("VideoComposerDialogCaptionEditorUtils").getTimeStamp(g)})})):(e=5,f=null),c.push(h.jsx("div",{className:"_647u",style:{left:d,height:e},children:f},g));return h.jsx("div",{className:"_647v",style:{width:a},children:c})};return c}(h.Component);e.exports=a}),null);
__d("Resizer.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.componentDidMount=function(){window.addEventListener("mousemove",this.onMouseMove.bind(this),!1),window.addEventListener("mouseup",this.onMouseUp.bind(this),!1)};c.componentWillUnmount=function(){window.removeEventListener("mousemove",this.onMouseMove.bind(this),!1),window.removeEventListener("mouseup",this.onMouseUp.bind(this),!1)};c.onMouseDown=function(a){this.props.updateStateResizing(this.props.id,!0,a.clientX)};c.onMouseMove=function(a){this.props.isResizing&&this.props.funcResizing(this.props.id,a.clientX,a.clientY)};c.onMouseUp=function(a){this.props.isResizing&&this.props.updateStateResizing(this.props.id,!1,a.clientX)};c.shouldComponentUpdate=function(a){return this.props!=a};c.render=function(){var a={width:this.props.resizerWidth,height:this.props.resizerHeight};return h.jsx("span",{ref:this.props.className,className:(this.props.className==="videoCaptionsScrubBar/left"&&this.props.isSelected?"_2tfo":"")+(this.props.className==="videoCaptionsScrubBar/left"&&!this.props.isSelected?" _34tz":"")+(this.props.className==="videoCaptionsScrubBar/right"&&this.props.isSelected?" _2tfp":"")+(this.props.className==="videoCaptionsScrubBar/right"&&!this.props.isSelected?" _34t_":""),isSelected:this.props.isSelected,style:a,onMouseDown:this.onMouseDown.bind(this),onMouseUp:this.onMouseUp.bind(this)})};return b}(h.Component);e.exports=a}),null);
__d("DraggableResizableText.react",["cx","React","Resizer.react","TimeFormatUtil"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.onMouseDown=function(a){a=document.elementFromPoint(a.clientX,a.clientY);a.className!=="_2tfo"&&a.className!==" _2tfp"&&!this.props.isRisizingLeft&&!this.props.isResizingRight&&this.props.updateStateDragging(this.props.id,!0)};d.onMouseUp=function(a){this.props.updateStateDragging(this.props.id,!1)};d.onDragStart=function(a){this.props.isDragging&&!this.props.isResizingLeft&&!this.props.isResizingRight&&(a.dataTransfer.setData("application/json",JSON.stringify({id:this.props.id,x:a.clientX,y:a.clientY})),a.dataTransfer.effectAllowed="move")};d.onDragEnd=function(a){this.props.updateStateDragging(this.props.id,!1)};d.shouldComponentUpdate=function(a){return JSON.stringify(this.props)!=JSON.stringify(a)};d.render=function(){var a={left:this.props.left,width:this.props.width};return h.jsxs("div",{ref:"node",draggable:this.props.isDragging,id:"item_"+this.props.id,className:(this.props.isSelected?"_2tfq":"")+(this.props.isDragging?" _2tfu":"")+(this.props.isSelected?"":" _2tfv"),style:a,onMouseDown:this.onMouseDown.bind(this),onMouseUp:this.onMouseUp.bind(this),onDragStart:this.onDragStart.bind(this),onDragEnd:this.onDragEnd.bind(this),children:[this.props.isResizingLeft?h.jsx("span",{className:"_6aw5",children:b("TimeFormatUtil").formatTime(this.props.startTimeInMs)}):null,h.jsx(b("Resizer.react"),{ref:"resizerLeft",id:this.props.id,isResizing:this.props.isResizingLeft,isSelected:this.props.isSelected,resizerWidth:0,resizerHeight:"inherit",updateStateResizing:this.props.updateStateResizingLeft,className:"videoCaptionsScrubBar/left",funcResizing:this.props.funcResizingLeft}),h.jsx("span",{className:(this.props.isSelected?"_2tfx":"")+(this.props.isSelected?"":" _2tfy")}),h.jsx("span",{className:(this.props.isSelected?"_2tfz":"")+(this.props.isSelected?"":" _2tf-"),children:this.props.text}),h.jsx(b("Resizer.react"),{ref:"resizerRight",id:this.props.id,isResizing:this.props.isResizingRight,isSelected:this.props.isSelected,resizerWidth:0,resizerHeight:"inherit",updateStateResizing:this.props.updateStateResizingRight,className:"videoCaptionsScrubBar/right",funcResizing:this.props.funcResizingRight}),this.props.isResizingRight?h.jsx("span",{className:"_2sef",children:b("TimeFormatUtil").formatTime(this.props.startTimeInMs+this.props.durationInMs)}):null]})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerCaptionEditorActions",["VideoComposerActionTypes","VideoComposerDispatchers"],(function(a,b,c,d,e,f){"use strict";a=function(a,c,d){d={type:b("VideoComposerActionTypes").ADD_CAPTION_ENTRY,caption:d,idx:c};b("VideoComposerDispatchers").get(a).dispatch(d)};c=function(a,c){c={type:b("VideoComposerActionTypes").REMOVE_CAPTION_ENTRY,idx:c};b("VideoComposerDispatchers").get(a).dispatch(c)};d=function(a,c,d){d={type:b("VideoComposerActionTypes").EDIT_CAPTION_ENTRY,caption:d,idx:c};b("VideoComposerDispatchers").get(a).dispatch(d)};f=function(a,c){c={type:b("VideoComposerActionTypes").SET_PREVIEW_ENTRY,idx:c};b("VideoComposerDispatchers").get(a).dispatch(c)};var g=function(a,c){c={type:b("VideoComposerActionTypes").PLAY_PREVIEW_ENTRY,idx:c};b("VideoComposerDispatchers").get(a).dispatch(c)},h=function(a,c){c={type:b("VideoComposerActionTypes").SET_NEXT_ENTRY,idx:c};b("VideoComposerDispatchers").get(a).dispatch(c)},i=function(a){var c={type:b("VideoComposerActionTypes").CONFIRM_CLOSE_DIALOG};b("VideoComposerDispatchers").get(a).dispatch(c)},j=function(a){var c={type:b("VideoComposerActionTypes").CANCEL_CLOSE_DIALOG};b("VideoComposerDispatchers").get(a).dispatch(c)},k=function(a,c,d,e,f,g,h,i){c={type:b("VideoComposerActionTypes").SET_CAPTIONS,captions:c,captionsChangeSet:d,captionID:e,captionLocale:f,videoID:g,appID:h,placement:i};b("VideoComposerDispatchers").get(a).dispatch(c)},l=function(a,c){c={type:b("VideoComposerActionTypes").SET_EDITOR_LANGUAGE,language:c};b("VideoComposerDispatchers").get(a).dispatch(c)},m=function(a,c){c={type:b("VideoComposerActionTypes").SET_EDITOR_LOCALE,locale:c};b("VideoComposerDispatchers").get(a).dispatch(c)},n=function(a){var c={type:b("VideoComposerActionTypes").INITIALIZE_EDITOR_LANGUAGE};b("VideoComposerDispatchers").get(a).dispatch(c)},o=function(a,c){c={type:b("VideoComposerActionTypes").INITIALIZE_IS_AUTO_CAPTION,isAutoCaption:c};b("VideoComposerDispatchers").get(a).dispatch(c)},p=function(a){var c={type:b("VideoComposerActionTypes").SHOW_EXIT_DIALOG};b("VideoComposerDispatchers").get(a).dispatch(c)},q=function(a){var c={type:b("VideoComposerActionTypes").START_SAVE_CAPTION_CHANGESET};b("VideoComposerDispatchers").get(a).dispatch(c)},r=function(a,c){c={type:b("VideoComposerActionTypes").FINISH_SAVE_CAPTION_CHANGESET,error:c};b("VideoComposerDispatchers").get(a).dispatch(c)},s=function(a){var c={type:b("VideoComposerActionTypes").RESET_CAPTION_EDITOR};b("VideoComposerDispatchers").get(a).dispatch(c)},t=function(a,c){c={type:b("VideoComposerActionTypes").FETCH_CAPTION_EDITOR_CROSSPOST_PARAMS,captions:c.captionFiles,captionsFeaturesMode:c.captionsFeaturesMode,spokenLanguage:c.spokenLanguageName,spokenLocale:c.spokenLanguageCode};b("VideoComposerDispatchers").get(a).dispatch(c)},u=function(a,c){c={type:b("VideoComposerActionTypes").CAPTIONS_EDIT_PARAMS_FETCHED,data:c};b("VideoComposerDispatchers").get(a).dispatch(c)};e.exports={addCaptionEntry:a,removeCaptionEntry:c,editingCaptionEntry:d,setPreviewEntry:f,selectLanguage:l,selectLocale:m,setIsAutoCaption:o,setCaptions:k,setNextEntry:h,playPreviewEntry:g,confirmCloseDialog:i,cancelCloseDialog:j,showExitDialog:p,startSaveCaptionChangeset:q,finishSaveCaptionChangeset:r,setLanguage:n,resetCaptionEditor:s,fetchCrosspostParams:t,editParamsFetched:u}}),null);
__d("VideoComposerCaptionEditorSubtitlesDragArea.react",["cx","DraggableResizableText.react","React","VideoComposerCaptionEditorActions","VideoComposerCaptionEditorPlayheadContainer.react","VideoComposerCaptionEditorScrubBarTimeRuler.react","VideoComposerDialogCaptionEditorConstants","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={list:d.props.list.map(function(a,c){return{isDragging:!1,isResizingLeft:!1,isResizingRight:!1,initialLeft:0,top:b("VideoComposerDialogCaptionEditorConstants").TOP,left:d.props.list.get(c).node.left,width:d.props.list.get(c).node.width}})},d.onDrop=function(a){var c=JSON.parse(a.dataTransfer.getData("application/json")),e=d.state.list;e=e.get(c.id);var f=a.clientX-c.x;e.isDragging=!1;if(d.checkForOverlap(c.id,e.left+f,e.width))return;e.left+=f;f=JSON.parse(JSON.stringify(d.props.list.get(c.id)));f.node.left=e.left;f.node.start_time_in_ms=e.left/b("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT;b("VideoComposerCaptionEditorActions").editingCaptionEntry(d.props.videoComposerID,c.id,f);a.preventDefault()},d.updateStateDragging=function(a,c){var e=d.state.list,f=e.get(a);f.isDragging=c;f={list:e};d.setState(f);c===!1&&b("VideoComposerCaptionEditorActions").playPreviewEntry(d.props.videoComposerID,a)},d.updateStateResizingLeft=function(a,c,e){var f=d.state.list,g=f.get(a);g.isResizingLeft=c;g.initialLeft=e;e={list:f};d.setState(e);if(c===!1){f=JSON.parse(JSON.stringify(d.props.list.get(a)));f.node.left=g.left;f.node.width=g.width;f.node.start_time_in_ms=g.left/b("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT;f.node.duration_in_ms=g.width/b("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT;b("VideoComposerCaptionEditorActions").editingCaptionEntry(d.props.videoComposerID,a,f);b("VideoComposerCaptionEditorActions").playPreviewEntry(d.props.videoComposerID,a)}},d.updateStateResizingRight=function(a,c,e){var f=d.state.list,g=f.get(a);g.isResizingRight=c;g.initialLeft=e-g.width;e={list:f};d.setState(e);if(c===!1){f=JSON.parse(JSON.stringify(d.props.list.get(a)));f.node.left=g.left;f.node.width=g.width;f.node.start_time_in_ms=g.left/b("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT;f.node.duration_in_ms=g.width/b("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT;b("VideoComposerCaptionEditorActions").editingCaptionEntry(d.props.videoComposerID,a,f);b("VideoComposerCaptionEditorActions").playPreviewEntry(d.props.videoComposerID,a)}},d.funcResizingLeft=function(a,b,c){c=d.state.list;var e=c.get(a),f=e.initialLeft-b,g=e.left-f;if(d.checkForOverlap(a,g,e.width))return;e.width+=f;e.initialLeft=b;e.left=g;a={list:c};d.setState(a)},d.funcResizingRight=function(a,b,c){c=d.state.list;var e=c.get(a);b=b-(e.initialLeft+e.width);if(d.checkForOverlap(a,e.left,e.width+b))return;e.width+=b;a={list:c};d.setState(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){if(this.props!=a){var c=JSON.stringify(this.props.list),d=JSON.stringify(a.list);({list:b("immutable").List()});if(c!==d){if(this.state.list.size!==0&&a.list.size===this.state.list.size){c=this.state.list;c=c.set(a.captionSelected,{isDragging:!1,isResizingLeft:!1,isResizingRight:!1,initialLeft:0,top:b("VideoComposerDialogCaptionEditorConstants").TOP,left:a.list.get(a.captionSelected).node.left,width:a.list.get(a.captionSelected).node.width,height:25});d={list:c}}else d={list:a.list.map(function(a,c){return{isDragging:!1,isResizingLeft:!1,isResizingRight:!1,initialLeft:0,top:b("VideoComposerDialogCaptionEditorConstants").TOP,left:a.node.left,width:a.node.width,height:25}})};this.setState(d)}}};d.shouldComponentUpdate=function(a,b){return this.props!=a||this.state!=b};d.checkForOverlap=function(a,b,c){var d=this.state.list,e=!1,f=!1;a>0&&(e=d.get(a-1).left+d.get(a-1).width>b);a+1<d.size&&(f=d.get(a+1).left<c+b);return e||f};d.onDragOver=function(a){a.dataTransfer.dropEffect="move";a.preventDefault();return!1};d.render=function(){var a=this,c=[],d=b("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT*this.props.videoDurationInMs;c=this.props.list.map(function(c,d){return h.jsx(b("DraggableResizableText.react"),{isSelected:d===a.props.captionSelected,ref:"node_"+d,text:c.node.text,id:d,top:a.state.list.get(d).top,left:a.state.list.get(d).left,width:a.state.list.get(d).width,isDragging:a.state.list.get(d).isDragging,isResizingLeft:a.state.list.get(d).isResizingLeft,isResizingRight:a.state.list.get(d).isResizingRight,startTimeInMs:a.state.list.get(d).left/b("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT,durationInMs:a.state.list.get(d).width/b("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT,updateStateDragging:a.updateStateDragging,updateStateResizingLeft:a.updateStateResizingLeft,updateStateResizingRight:a.updateStateResizingRight,funcResizingLeft:a.funcResizingLeft,funcResizingRight:a.funcResizingRight},d)});return h.jsxs("div",{className:"_1coi",onDragOver:this.onDragOver,onDrop:this.onDrop,children:[h.jsx(b("VideoComposerCaptionEditorScrubBarTimeRuler.react"),{duration:this.props.videoDurationInMs,scale:1}),h.jsxs("div",{className:"_1coj",style:{width:d},children:[h.jsx(b("VideoComposerCaptionEditorPlayheadContainer.react"),{videoComposerID:this.props.videoComposerID}),c]})]})};return c}(h.Component);e.exports=a}),null);
__d("MediaManagerShowsFbtStrings",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a=g._("The scheduled publishing time must be at least 10 minutes in the future.");b=g._("Select an image that viewers will see as part of your series.");c=g._("This will be the cover image for your series Page.");d=g._("Only videos uploaded by this Page can be added as series episodes, and videos can only be in one series at a time. Secret videos, crossposted videos and trailers cannot be added to series as episodes. Videos can be reordered after adding.");f=g._("Cannot publish an empty season");var h=g._("Cannot publish an empty series"),i=g._("Episodes published at the time of publishing a series or season will be part of the News Feed story for the series or season \u2013 we will not create a feed story for them individually"),j=g._("See series insights"),k=g._("Get performance insights by clicking on the name of your series."),l=g._("Get season insights");g=g._("See how your seasons are doing and get insights into overall performance and individual episodes.");a={SERIES_SCHEDULE_TIME_TOO_SOON:a,SERIES_POSTER_ART_DESCRIPTION:b,SERIES_COVER_IMAGE_DESCRIPTION:c,SERIES_ADD_VIDEOS_INFO_MESSAGE:d,EMPTY_SEASON_PUBLISH_ERROR:f,EMPTY_SERIES_PUBLISH_ERROR:h,DISABLE_NEWS_FEED_DISTRIBUTION_FOR_EPISODE_TOOLTIP:i,INSIGHTS_NUX_ON_SERIES_TABLE_TITLE:j,INSIGHTS_NUX_ON_SERIES_TABLE:k,INSIGHTS_NUX_ON_SERIES_TRAY_TITLE:l,INSIGHTS_NUX_ON_SERIES_TRAY:g};e.exports=a}),null);
__d("VideoComposerPostType",["DateConsts"],(function(a,b,c,d,e,f){"use strict";a={PREMIERE:"PREMIERE",VIDEO_UPLOAD:"VIDEO_UPLOAD",VIDEO_UPLOAD_WATCH_PARTY:"VIDEO_UPLOAD_WATCH_PARTY"};c=30;d=4*b("DateConsts").SEC_PER_HOUR;e.exports={VideoComposerPostTypes:a,PREMIERE_VIDEO_MIN_DURATION:c,PREMIERE_VIDEO_MAX_DURATION:d}}),null);
__d("VideoComposerScheduleType",[],(function(a,b,c,d,e,f){"use strict";a={BACKDATE:"BACKDATE",PUBLISH_NOW:"PUBLISH_NOW",SCHEDULE:"SCHEDULE"};b={BACKDATE:!1,PUBLISH_NOW:!1,SCHEDULE:!1};e.exports={VideoComposerScheduleTypes:a,DEFAULT_DISABLED_SCHEDULE_TYPES:b}}),null);
__d("VideoComposerPublishingTypes",["fbt","VideoComposerPostType","VideoComposerScheduleType","keyMirror"],(function(a,b,c,d,e,f,g){"use strict";a=b("VideoComposerPostType").VideoComposerPostTypes;c=b("VideoComposerScheduleType").VideoComposerScheduleTypes;d=g._("Dogfood with Series");f=g._("Dogfood with Season");var h=g._("This video will be dogfooded with the series that it belongs to."),i=g._("This video will be dogfooded with the season that it belongs to."),j=g._("Publish with series"),k=g._("Publish with season"),l=g._("This video will be published once you publish the series that it belongs to.");g=g._("This video will be published once you publish the season that it belongs to.");b=b("keyMirror")({AD_BREAK_SUBMIT_FOR_REVIEW:"",BACKDATE:"",CANCEL:"",DOGFOOD_WITH_SERIES_OR_SEASON:"",OPEN_DRAWER:"",PREMIERE:"",PUBLISH_FOR_DOGFOODING:"",PUBLISH_NOW:"",PUBLISH_WITH_SHOW_OR_SEASON:"",SAVE_TO_COMPOSER:"",SAVE_DRAFT:"",SCHEDULE:"",PREVIEW:""});var m={AD_BREAK_SUBMIT_FOR_REVIEW:"AD_BREAK_SUBMIT_FOR_REVIEW",DOGFOOD_WITH_SERIES_OR_SEASON:"DOGFOOD_WITH_SERIES_OR_SEASON",PUBLISH_FOR_DOGFOODING:"PUBLISH_FOR_DOGFOODING",PUBLISH_WITH_SHOW_OR_SEASON:"PUBLISH_WITH_SHOW_OR_SEASON",SAVE_AS_DRAFT:"SAVE_AS_DRAFT"};a=babelHelpers["extends"]({},a,c,m);e.exports={PublishActions:b,PublishingType:a,PUBLISH_WITH_SERIES_LABEL:j,PUBLISH_WITH_SEASON_LABEL:k,PUBLISH_WITH_SERIES_TOOLTIP:l,PUBLISH_WITH_SEASON_TOOLTIP:g,DOGFOOD_WITH_SERIES_LABEL:d,DOGFOOD_WITH_SEASON_LABEL:f,DOGFOOD_WITH_SERIES_TOOLTIP:h,DOGFOOD_WITH_SEASON_TOOLTIP:i}}),null);
__d("AutoScheduleUtils",["DateConsts","DateTime","Instant","Timezone","TimezoneNamesData","formatDate","isNullOrZero"],(function(a,b,c,d,e,f){"use strict";var g="D, M j, Y",h="g:i A";e.exports={tzNamesModule:null,capitalize:function(a){return a.split(/ /g).map(function(a){return""+a.substring(0,1).toUpperCase()+a.substring(1)}).join(" ")},isFunction:function(a){return typeof a==="function"},getTimeStrWithFormat:function(a,c){c===void 0&&(c=h);return b("formatDate")(a,c)},getDateStrWithFormat:function(a,c){c===void 0&&(c=g);return b("formatDate")(a,c)},getTimeSlotDateStr:function(a){return this.getDateStrWithFormat(a.start_time)},getTimeSlotTimeStr:function(a){var b=this.getTimeStrWithFormat(a.start_time);a=this.getTimeStrWithFormat(a.end_time);return b+" - "+a},getTimeSlotStr:function(a,b){a={start_time:a,end_time:b};b=this.getTimeSlotDateStr(a);a=this.getTimeSlotTimeStr(a);return b+" "+a},getTimestampStr:function(a,c){c=b("isNullOrZero")(c)?b("DateConsts").SEC_PER_HOUR/2:c;return this.getTimeSlotStr(a,a+c)},isWeekend:function(a){return a.getDay()===b("DateConsts").DAYS.SATURDAY||a.getDay()===b("DateConsts").DAYS.SUNDAY},deltaWeekDaysFromDeltaBusinessDays:function(a,b){if(b<=0)return 0;var c=0;for(var d=1;d<b;d+=1){var e=this.dateWithDeltaDays(a,c+1);d-=this.isWeekend(e)?1:0;c+=1}return c},dateWithDelta:function(a,b){return new Date(a.getTime()+b)},dateWithDeltaDays:function(a,c){return this.dateWithDelta(a,c*b("DateConsts").MS_PER_DAY)},startOfMonday:function(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate()-a.getDay()+1)},startOfDay:function(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate())},endOfDay:function(a){return this.dateWithDeltaDays(this.startOfDay(a),1)},endOfFriday:function(a){return this.dateWithDeltaDays(this.startOfMonday(a),5)},getDateFromLocalDate:function(a){this.setupTimezoneNamesModule();return a.toDateTime(b("Timezone").getEnvironmentTimezoneID()).toDate()},getTimezoneOffset:function(a){this.setupTimezoneNamesModule();return b("Instant").getOffset(b("Instant").now(),b("isNullOrZero")(a)?b("Timezone").getEnvironmentTimezoneID():a)},getTimezoneID:function(a){this.setupTimezoneNamesModule();return b("Timezone").getByNameOrNull(a)},getFirstAndLastSlotStartTimes:function(a){a=a.sort(function(a,b){return a.start_time-b.start_time});var b=a.length>0;return{firstSlotStart:b?a[0].start_time:-1,lastSlotStart:b?a[a.length-1].start_time:-1,numSlots:a.length}},setupTimezoneNamesModule:function(){this.tzNamesModule||(this.tzNamesModule=b("Timezone").registerNamesModule(b("TimezoneNamesData")))},getTimezoneString:function(){this.setupTimezoneNamesModule();return b("Timezone").getExactName(b("Timezone").getEnvironmentTimezoneID())},convertDateToTimezone:function(a,c){var d=b("Timezone").getEnvironmentTimezoneID();c=this.getTimezoneID(c);if(c!==null){d=b("DateTime").create(a,d).getParallel(c).getUnixTimestamp();return Math.floor(d/b("DateConsts").MS_PER_SEC)}else return a}}}),null);
__d("VideoComposerDateInput.react",["cx","AutoScheduleUtils","BUIDateTimePicker.react","DateTime","LocalDate","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){var c;if(!a.selectedTime)return null;var d=b("DateTime").localFromDate(a.selectedTime);return h.jsxs("div",{children:[h.jsx("div",{className:"_6pe4",children:a.children}),h.jsx(b("BUIDateTimePicker.react"),{allowEmpty:!1,value:d,dateRestraints:[function(a){return!a.isBefore(b("LocalDate").fromDateTime(b("DateTime").localNow()))}].concat((c=a.dateRestraints)!=null?c:[]),onChange:a.onChange,timezoneID:d.timezoneID,timezoneLabel:b("AutoScheduleUtils").getTimezoneString(),xuiError:a.error})]})};e.exports=a}),null);
__d("VideoComposerPublishingUtils",["fbt","VideoComposerPublishingTypes","VideoComposerScheduleType"],(function(a,b,c,d,e,f,g){"use strict";var h=b("VideoComposerPublishingTypes").PublishActions,i=b("VideoComposerPublishingTypes").PublishingType,j=b("VideoComposerScheduleType").VideoComposerScheduleTypes,k=1e3*60,l=k*60;c=l*24;d=c*7;var m=182*c+12*l,n=function(){return new Date(Date.now()+8*l)};f=function(a,b){a=a&&a.getTime()?a.getTime():n().getTime();return new Date(a+b)};b=function(a){a=a&&a.getTime()?a.getTime():n().getTime();return new Date(a+l)};var o=b,p=function(a,b){b===void 0&&(b=new Date());b=b&&b.getTime()?b:new Date();a=a.getTime();return a>=b.getTime()+k*10&&a<=b.getTime()+m},q=function(a,b){switch(a){case i.SAVE_AS_DRAFT:return g._("Save as Draft");case i.PUBLISH_FOR_DOGFOODING:return g._("Publish for Dogfooding");case i.DOGFOOD_WITH_SERIES_OR_SEASON:return g._("Dogfooding with Series\/Season");case i.SCHEDULE:return g._("Schedule");case i.BACKDATE:return g._("Backdate");case i.PUBLISH_WITH_SHOW_OR_SEASON:return b?g._("Publish With Season"):g._("Publish With Series");default:return g._("Publish")}};function a(a){switch(a){case j.SCHEDULE:return g._("Schedule");case j.PUBLISH_NOW:return g._("Publish");case j.BACKDATE:return g._("Backdate");default:return g._("Publish")}}var r=p,s=p,t=g._("Posts need to be expired between ten minutes from when they are published and six months from now."),u=g._("Scheduled posts need to be shared between ten minutes and six months from when you create them."),v=g._("News Feed distribution can only end between ten minutes from when they are published and six months from now."),w=g._("You can only save a draft or schedule a post until your video has been approved for funding."),x=g._("Premiere is a video experience that lets you schedule and debut videos as live events. When your video is published, people will be able to watch and chat about the video together in real time. Afterwards, the video will be saved on your Page as a video post. All of the engagement gained during the broadcast will be saved to the post."),y=g._("You can only use this option if your selected series or season is in draft mode."),z=function(a){switch(a){case h.AD_BREAK_SUBMIT_FOR_REVIEW:return i.AD_BREAK_SUBMIT_FOR_REVIEW;case h.BACKDATE:return i.BACKDATE;case h.PREMIERE:return i.PREMIERE;case h.PUBLISH_NOW:return i.PUBLISH_NOW;case h.SAVE_DRAFT:return i.SAVE_AS_DRAFT;case h.SCHEDULE:return i.SCHEDULE;default:return null}};e.exports={ONE_DAY_IN_MS:c,ONE_WEEK_IN_MS:d,ONE_HOUR_IN_MS:l,fundedContentAllowedActionTypeTooltipText:w,invalidMessageExpireDate:t,invalidMessageScheduleDate:u,invalidMessagePostEndDate:v,isExpireDateValid:p,isPostEndDateValid:s,isScheduleDateValid:r,getDefaultExpireDate:b,getDefaultPostEndDate:o,getDefaultScheduleDate:n,getExpectedScheduleDate:f,getFooterButtonText:q,getFooterButtonTextRedesign:a,getPublishingTypeForAction:z,videoComposerPremiereOptionTooltipText:x,publishWithSeriesSeasonDisabledTooltipText:y}}),null);
__d("VideoComposerStopNewsFeedDistribution.react",["cx","fbt","FDSCheckboxInput.maintenance.react","FDSText.react","React","VideoComposerActions","VideoComposerDateInput.react","VideoComposerPublishingUtils"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("VideoComposerPublishingUtils").getDefaultPostEndDate,k=b("VideoComposerPublishingUtils").invalidMessagePostEndDate,l=b("VideoComposerPublishingUtils").isPostEndDateValid;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(){b("VideoComposerActions").editPostEndDate(d.props.videoComposerID,d.props.postEndDate?null:j(d.props.scheduleDate))},d.$3=function(a){a!=null&&b("VideoComposerActions").editPostEndDate(d.props.videoComposerID,a.toDate())},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(a){return l(a,this.props.scheduleDate)?void 0:k};d.render=function(){return i.jsxs("div",{children:[i.jsx(b("FDSCheckboxInput.maintenance.react"),{value:!!this.props.postEndDate,label:i.jsx(b("FDSText.react"),{color:"placeholder",size:"body3",weight:"bold",children:h._("Stop News Feed distribution")}),onChange:this.$2}),i.jsx("div",{className:"_6qzw",children:this.props.postEndDate&&i.jsxs("div",{children:[i.jsx(b("FDSText.react"),{color:"placeholder",size:"body3",children:h._("Select a date and time in the future for when you want your post to stop being shown in News Feed. The post will still be visible, but News Feed distribution will end.")}),i.jsx(b("VideoComposerDateInput.react"),{error:this.$1(this.props.postEndDate),onChange:this.$3,selectedTime:this.props.postEndDate})]})})]})};return c}(i.Component);e.exports=a}),null);
__d("VideosPublishingCheckboxItem.react",["ix","cssVar","cx","ClickableArea.react","FBCheckbox.react","FlexLayout.react","Image.react","React","SUIBusinessTheme","SUIText.react","Tooltip","XUICardSection.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=g("403740");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isHovered:!1},c.$1=function(){c.props.disabled||c.props.onToggle()},c.$3=function(){c.setState({isHovered:!0})},c.$4=function(){c.setState({isHovered:!1})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$2=function(a){a.stopPropagation()};d.render=function(){var a=this.props.disabled&&this.props.disabledTooltip||null;return j.jsxs(b("XUICardSection.react"),babelHelpers["extends"]({},b("Tooltip").propsFor(a,"below"),{onClick:this.$1,onMouseEnter:this.$3,onMouseLeave:this.$4,className:(this.props.overrideStyle?"":"_7_nd")+(this.props.checked&&!this.props.overrideStyle?" _7_ne":"")+(!this.props.disabled&&!this.props.overrideStyle?" _7_n2":""),children:[j.jsxs(b("FlexLayout.react"),{align:"center",className:"_7_n3",direction:"horizontal",justify:"all",children:[j.jsx(b("FBCheckbox.react"),{className:"_7_nf",checked:this.props.checked,disabled:!!this.props.disabled,hovered:this.state.isHovered}),j.jsx("div",{className:"_7_ng",children:j.jsx(b("SUIText.react"),{customColorUseSparingly:this.props.checked?"#4b4f56":"#90949c",display:this.props.truncateText?"truncate":"block",size:"body2",theme:b("SUIBusinessTheme"),weight:"bold",children:this.props.label})}),j.jsxs(b("FlexLayout.react"),{direction:"horizontal",align:"center",className:"_7_n3",children:[this.props.tooltip?j.jsx(b("Image.react"),babelHelpers["extends"]({},b("Tooltip").propsFor(this.props.tooltip,"above"),{className:"_7_nh",src:this.props.tooltipAsset?this.props.tooltipAsset:k})):null,this.props.profilePicUri?j.jsx(b("Image.react"),{height:28,width:28,src:this.props.profilePicUri,className:"_7_ni _3-9b"}):null]})]}),this.props.children&&j.jsx(b("ClickableArea.react"),{onClick:this.$2,children:j.jsx("div",{className:"_7_nj",children:this.props.children})})]}))};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerDistributionSection.react",["cx","fbt","MediaManagerShowsFbtStrings","React","VideoComposerField.react","VideoComposerNewsFeedTargetingCheckboxItemContainer.react","VideoComposerPublishingTypes","VideoComposerStopNewsFeedDistribution.react","VideosPublishingCheckboxItem.react","XUICard.react","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("MediaManagerShowsFbtStrings").DISABLE_NEWS_FEED_DISTRIBUTION_FOR_EPISODE_TOOLTIP,j=b("React"),k=b("VideoComposerPublishingTypes").PublishingType;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=void 0,d=void 0;this.props.publishingType===k.PREMIERE?(c=h._("Premieres must appear in News Feed."),d=h._("Premieres cannot be secret videos.")):this.props.publishingType===k.PUBLISH_WITH_SHOW_OR_SEASON?c=i:this.props.addAsSecretVideo&&(c=h._("Secret video cannot appear in News Feed."));c=[{key:"newsfeed",label:h._("News Feed"),checked:this.props.showInNewsFeed,children:[j.jsx(b("VideoComposerStopNewsFeedDistribution.react"),{videoComposerID:this.props.videoComposerID,postEndDate:this.props.postEndDate,scheduleDate:this.props.scheduleDate},"newsfeed_distribution"),b("gkx")("1068250")?j.jsx(b("VideoComposerNewsFeedTargetingCheckboxItemContainer.react"),{videoComposerID:this.props.videoComposerID},"newsfeed_targeting"):null],hidden:!this.props.showNewsFeedOption,onToggle:function(){return a.props.onToggleNewFeed()},tooltip:h._("Unselect if you don't want your video to appear in News Feed"),disabled:this.props.disableShowInNewsFeed,disabledTooltip:c},{key:"pagestory",label:h._("Your Page's story"),checked:this.props.addToPagesStory&&!this.props.disableStoriesOption,hidden:!this.props.showStoriesIntegration,onToggle:function(){return a.props.onToggleAddToPagesStory()},tooltip:h._("Visible to public for 24 hours"),disabled:this.props.disableStoriesOption,disabledTooltip:h._("This type of post can't be shared to Stories")},{key:"watch",label:h._("Display in Watch"),checked:this.props.displayInWatch,hidden:!this.props.showDisplayInWatchOption,onToggle:function(){return a.props.onToggleDisplayInWatchOption()},tooltip:this.props.showDisplayInWatchOptionIsToggleEnabled?h._("Unselect if you don't want this video to appear in Watch."):h._("You'll soon be able to exclude your video from appearing in Watch."),disabled:!this.props.showDisplayInWatchOptionIsToggleEnabled||this.props.disableShowInWatchForSecretVideo,disabledTooltip:this.props.disableShowInWatchForSecretVideo?h._("Secret video cannot appear in Watch."):""},{key:"embed",label:h._("Allow embedding"),checked:this.props.allowEmbedding,hidden:!1,onToggle:function(){return a.props.onToggleEmbedding()},tooltip:h._("Select this option to allow third parties to embed your video."),disabled:this.props.disableEmbeddingOption,disabledTooltip:h._("Embedding is disabled for your Page")},{key:"secret",label:h._("Add as secret video"),checked:this.props.addAsSecretVideo,disabled:this.props.disableAddAsSecretVideo,disabledTooltip:d,hidden:!this.props.showSecretVideoOption,onToggle:function(){return a.props.onToggleSecretVideo()},tooltip:h._("Secret videos are only available for embedding and for people who have the link")}];d=j.jsx(b("XUICard.react"),{className:"_6ep_",children:c.map(function(a){return a.hidden?null:j.jsx(b("VideosPublishingCheckboxItem.react"),babelHelpers["extends"]({},a,{children:a.checked&&!a.disabled&&a.children?a.children:void 0}),a.key)})});return j.jsx("div",{children:j.jsx(b("VideoComposerField.react"),{input:d,title:h._("Choose where your post will appear"),showTopBorder:!!this.props.showTopBorder})})};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerNewsFeedTargetingCheckboxItem.react",["fbt","FDSCheckboxInput.maintenance.react","FDSText.react","PagesComposerAudiences.react","PagesComposerAudiencesConstants","React","ReactComposerContextProviderMixin","ReactComposerTaggerStore","createReactClass_DEPRECATED","dotAccess"],(function(a,b,c,d,e,f,g){"use strict";var h=b("PagesComposerAudiencesConstants").SELECTOR_OPTIONS,i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showTargeting:!1,targetingSentences:null,targeting:null},d.$1=function(a){var c=b("ReactComposerTaggerStore").getTaggerData(d.props.composerConfig.contextConfig.composerID,"TARGETING"),e=c.targeting;c=c.targetingSentences;d.setState({targeting:e,targetingSentences:c,showTargeting:a})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$1(!1)};d.$2=function(a){var c=this,d;return i.jsx(j,{contextConfig:this.props.composerConfig.contextConfig,children:i.jsx(b("PagesComposerAudiences.react"),{hideGating:!0,feedTargetingShowReachGK:(d=b("dotAccess"))(a,"feedTargetingShowReachGK"),initialActiveKey:h.TARGETING,shown:this.state.showTargeting,onToggle:this.$1,onSave:function(){c.$1(!1)},useTargetingAsFilter:!d(a,"feedTargetingGK"),enableLanguageGating:d(a,"enableLanguageGating"),enableLocationExclusionGating:d(a,"enableLocationExclusionGating"),showWoodhengeGating:d(a,"showWoodhengeGating"),woodhengeTiers:d(a,"woodhengeTiers")})})};d.render=function(){var a=this,c=this.props.composerConfig.taggersConfig;c=c.get("TARGETING");return i.jsxs("div",{children:[i.jsx(b("FDSCheckboxInput.maintenance.react"),{value:!!this.state.targeting,label:i.jsx(b("FDSText.react"),{color:"placeholder",size:"body3",weight:"bold",children:g._("Target Specific Audiences")}),onChange:function(){a.$1(!0)}}),this.$2(c),this.state.targeting!=null?i.jsx("div",{children:this.state.targetingSentences}):i.jsx("div",{})]})};return c}(i.Component);var j=b("createReactClass_DEPRECATED")({displayName:"VideoComposerTargetingDialogWrapper",mixins:[b("ReactComposerContextProviderMixin")],render:function(){return this.props.children}});e.exports=a}),null);
__d("VideoComposerNewsFeedTargetingCheckboxItemContainer.react",["FluxContainer","React","VideoComposerNewsFeedTargetingCheckboxItem.react","VideoComposerStores","dotAccess"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getBasicStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getBasicStore(c.videoComposerID).getState();c=a.composerConfig;return{composerConfig:c}};var d=c.prototype;d.render=function(){var a;a=(a=this.state.composerConfig)==null?void 0:a.taggersConfig;a=a==null?void 0:a.get("TARGETING");return this.state.composerConfig&&a!=null&&b("dotAccess")(a,"enabled")&&!b("dotAccess")(a,"targetingKillswitch")?g.jsx(b("VideoComposerNewsFeedTargetingCheckboxItem.react"),{composerConfig:this.state.composerConfig}):null};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerAdBreakPrereviewButtonNux.react",["fbt","FDSText.react","React","SimpleNUXMessage","SimpleNUXMessageTypes","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={nuxShown:!1},d.$1=function(){b("SimpleNUXMessage").markMessageSeenByUser(b("SimpleNUXMessageTypes").AD_BREAK_PREREVIEW_BUTTON),d.setState({nuxShown:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.props.isVisible&&this.setState({nuxShown:!b("SimpleNUXMessage").hasUserSeenMessage(b("SimpleNUXMessageTypes").AD_BREAK_PREREVIEW_BUTTON)})};d.render=function(){return h.jsxs(b("XUIAmbientNUX.react"),{contextRef:this.props.contextRef,position:"above",shown:this.state.nuxShown,onCloseButtonClick:this.$1,children:[h.jsx(b("FDSText.react"),{color:"white",weight:"bold",children:g._("New! Check in-stream ads eligibility")}),h.jsx("br",{}),h.jsx(b("FDSText.react"),{color:"white",children:g._("Submit your video for review to see if it's eligible for in-stream ads before you publish it.")})]},"ambientNUX")};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerAdBreakPrereviewContent",["fbt"],(function(a,b,c,d,e,f,g){a=g._("This video must include in-stream ads to be submitted for initial review.");b=g._("Videos that are scheduled to be published as a premiere can't be submitted for initial review.");c=g._("You can only submit for initial review once per day, but can publish without it at any time.");e.exports={adsNotInsertedErrorTooltip:a,videoIsPremiereErrorTooltip:b,pageHasHitRateLimitErrorTooltip:c}}),null);
__d("VideoComposerAdBreakPrereviewButton.react",["cx","fbt","React","Tooltip","VideoComposerAdBreakPrereviewButtonNux.react","VideoComposerAdBreakPrereviewContent","XUIButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("VideoComposerAdBreakPrereviewContent").adsNotInsertedErrorTooltip,k=b("VideoComposerAdBreakPrereviewContent").pageHasHitRateLimitErrorTooltip,l=b("VideoComposerAdBreakPrereviewContent").videoIsPremiereErrorTooltip;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={buttonRef:null},c.$3=function(a){c.setState({buttonRef:a})},c.$4=function(){return c.state.buttonRef},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$1=function(){return this.props.isBootloaded===!1||this.props.disableActions||!this.props.hasInsertedAdBreak||this.props.shouldPremiere||this.props.prereviewDisabledReason==="max_volume_reached"};d.$2=function(){return this.props.prereviewDisabledReason==="max_volume_reached"||this.props.prereviewDisabledReason==="none"};d.render=function(){if(!this.$2())return null;var a;this.props.prereviewDisabledReason==="max_volume_reached"?a=k:!this.props.hasInsertedAdBreak?a=j:this.props.shouldPremiere&&(a=l);var c=this.$4()?i.jsx(b("VideoComposerAdBreakPrereviewButtonNux.react"),{contextRef:this.$4,isVisible:!0}):null;return i.jsx("div",{children:i.jsxs("div",{children:[c,i.jsx(b("XUIButton.react"),babelHelpers["extends"]({ref:this.$3},b("Tooltip").propsFor(a,"above"),{className:"_6els _3-9a",disabled:this.$1(),href:"#",label:h._("Submit for Review"),size:"xlarge",onClick:this.props.onClick}))]})})};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerFirstStepFooterRightSection.react",["fbt","CurrentUser","FDSButton.react","FlexLayout.react","React","VideoComposerActions","VideoComposerAdBreakPrereviewButton.react","VideoComposerFirstStepNextButtonContainer.react","WebFunnelLogger","cxMargin","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(){b("VideoComposerActions").firstStepFooterAdBreakSubmitForReviewButtonClicked(d.props.videoComposerID),b("gkx")("1157336")&&new(b("WebFunnelLogger"))("AdBreaksCreatorFunnelDefinition").setAction("CLICK_SUBMIT_FOR_REVIEW_BUTTON").setSessionKey(b("CurrentUser").getAccountID()).markEnd().log()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){return this.props.disablePublish||this.props.isPublishing||this.props.showCategoryRequiredError};d.render=function(){return h.jsxs(b("FlexLayout.react"),{direction:"horizontal",children:[h.jsx(b("VideoComposerAdBreakPrereviewButton.react"),{disableActions:this.$1(),hasInsertedAdBreak:this.props.hasInsertedAdBreak,prereviewDisabledReason:this.props.prereviewDisabledReason,shouldPremiere:this.props.shouldPremiere,onClick:this.$2}),h.jsx(b("VideoComposerFirstStepNextButtonContainer.react"),{videoComposerID:this.props.videoComposerID,dataTestID:"VIDEO_COMPOSER_NEXT_BUTTON",children:h.jsx(b("FDSButton.react"),{label:g._("Next"),margin:"_3-99",ref:"nextButton",use:"primary",isDisabled:this.$1(),size:"large"})})]})};return c}(h.Component);e.exports=a}),null);
__d("CreatorMonetizationModalComponent.react",["cx","fbt","FlexLayout.react","Image.react","React","SUIButton.react","SUIModal.react","SUIModalFooter.react","SUIText.react","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=500;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.imageSource,d=a.secondaryButtonLabel,e=a.showSecondaryButton;a=a.width;return i.jsx(b("SUIModal.react"),{footer:i.jsx(b("SUIModalFooter.react"),{primaryButton:i.jsx(b("SUIButton.react"),{label:this.props.buttonText,use:"confirm",onClick:this.props.onAction}),secondaryButton:e?i.jsx(b("SUIButton.react"),{label:d!=null?d:h._("Cancel"),layerAction:"cancel"}):null}),isShown:this.props.isShown,label:"Creator Monetization Modal",width:a!=null?a:j,onHide:this.props.onHide,children:i.jsx("div",{className:"_723l",children:i.jsxs(b("FlexLayout.react"),{align:"center",direction:"vertical",children:[c?i.jsx(b("Image.react"),{src:c,style:{padding:"12px"}}):null,i.jsx(b("SUIText.react"),{color:"primary",display:"block",margin:c?"_3-8z":null,size:"header3",textAlign:"center",children:this.props.title}),i.jsx(b("SUIText.react"),{color:"primary",display:"block",margin:"_3-8z",size:"body1",textAlign:"center",children:this.props.bodyText})]})})})};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerAdBreakImageAdsModal.react",["fbt","ix","CreatorMonetizationModalComponent.react","React","SUIMediaManagerTheme","SUIThemeContainer.react","VideoComposerActions","VideoComposerAdBreakActions"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=!1,d.$2=function(){var a;(a=b("VideoComposerAdBreakActions")).setShouldShowImageAdsModal(d.props.videoComposerID,!1);b("VideoComposerActions").selectTab(d.props.videoComposerID,"ad_breaks");a.updateAdBreakStatus(d.props.videoComposerID,!1);a.setIsAdBreakAutoInsertionEnabled(d.props.videoComposerID,!0);a.setIsImageAdsDropdownExpanded(d.props.videoComposerID,!0);a.setShouldShowImageAdsUpsell(d.props.videoComposerID,!0);a.setShouldUseImageAds(d.props.videoComposerID,!0);a.logMidRollOptOutEvent(d.props.videoComposerID,"mro_publish_modal_click")},d.$3=function(){b("VideoComposerAdBreakActions").setHasUserSeenAdBreakTab(d.props.videoComposerID,!0),b("VideoComposerAdBreakActions").setShouldShowImageAdsModal(d.props.videoComposerID,!1),d.props.onHide(),b("VideoComposerAdBreakActions").logMidRollOptOutEvent(d.props.videoComposerID,"mro_publish_modal_dismissal")},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidUpdate=function(){this.props.shown&&!this.$1&&(this.$1=!0,b("VideoComposerAdBreakActions").logMidRollOptOutEvent(this.props.videoComposerID,"mro_publish_modal_impression"))};d.render=function(){return i.jsx(b("SUIThemeContainer.react"),{theme:b("SUIMediaManagerTheme"),children:i.jsx(b("CreatorMonetizationModalComponent.react"),{bodyText:g._("You can earn money from videos that don't have a good place for mid-roll ads, such as music videos. Pre-roll and image ads earn less money but let you monetise more of your content."),buttonText:g._("Try It"),imageSource:h("863759"),isShown:this.props.shown,secondaryButtonLabel:g._("Not Now"),showSecondaryButton:!0,title:g._("You can now monetise videos without including mid-roll ads"),width:600,onAction:this.$2,onHide:this.$3})})};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerAdBreakPrereviewDialogConfig",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";a=b("React");c={title:g._("Submit for review?"),text:a.jsxs("div",{children:[g._("If this video passes review, in-stream ads will be enabled as soon as you publish it."),a.jsx("br",{}),a.jsx("br",{}),g._("Reviews usually take 24-48 hours. You'll be notified when the review is complete so you can publish your video.")]}),checkBox:g._("Don't show this again"),skipPrereviewLabel:g._("Cancel"),confirmPrereviewLabel:g._("Confirm")};e.exports={submitForReviewDialogConfig:c}}),null);
__d("VideoComposerAdBreakPrereviewConfirmation.react",["cx","ix","Image.react","InputLabel.react","React","SimpleNUXMessage","SimpleNUXMessageTypes","VideoComposerActions","VideoComposerAdBreakActions","VideoComposerAdBreakPrereviewDialogConfig","VideoComposerPublishingTypes","XUICheckboxInput.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("VideoComposerAdBreakPrereviewDialogConfig").submitForReviewDialogConfig,k=b("VideoComposerPublishingTypes").PublishingType,l=400;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isChecked:!1},d.$1=function(){b("VideoComposerAdBreakActions").setPrereviewDialog(d.props.videoComposerID,!1)},d.$2=function(){d.$3(),b("VideoComposerActions").setPublishingType(d.props.videoComposerID,k.AD_BREAK_SUBMIT_FOR_REVIEW),b("VideoComposerActions").submitForPrereview(d.props.videoComposerID)},d.$4=function(){d.$3(),d.$1()},d.$5=function(){var a=d.state.isChecked;d.setState({isChecked:!a})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$3=function(){this.state.isChecked&&b("SimpleNUXMessage").markMessageSeenByUser(b("SimpleNUXMessageTypes").AD_BREAK_PREREVIEW_DIALOG)};d.render=function(){return i.jsxs(b("XUIDialog.react"),{isStrictlyControlled:!0,label:"ad_break_prereview",shown:this.props.isDialogOpen,width:l,onHide:this.$1,children:[i.jsx(b("XUIDialogTitle.react"),{children:j.title}),i.jsxs(b("XUIDialogBody.react"),{children:[i.jsx("div",{className:"_6end",children:i.jsx(b("Image.react"),{src:h("492642")})}),j.text,i.jsx("div",{className:"_6ene",children:i.jsx(b("InputLabel.react"),{label:j.checkBox,children:i.jsx(b("XUICheckboxInput.react"),{checked:this.state.isChecked,onChange:this.$5})})})]}),i.jsxs(b("XUIDialogFooter.react"),{children:[i.jsx(b("XUIDialogButton.react"),{action:"cancel",label:j.skipPrereviewLabel,use:"default",onClick:this.$4}),i.jsx(b("XUIDialogButton.react"),{action:"confirm",label:j.confirmPrereviewLabel,use:"confirm",onClick:this.$2})]})]})};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerRightsUtil",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a=g._("Media category is required for copyrighted content");e.exports={errorMessageMissingMediaCategory:a}}),null);
__d("VideoComposerFirstStepNextButton.react",["cx","CreateReviewableBCWhitelistInterceptDialog.react","React","ShimButton.react","Tooltip.react","VideoComposerActions","VideoComposerAdBreakImageAdsModal.react","VideoComposerAdBreakPrereviewConfirmation.react","VideoComposerPublishDrawerContainer.react","VideoComposerRightsUtil"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("VideoComposerRightsUtil").errorMessageMissingMediaCategory;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(){d.$1()||b("VideoComposerActions").firstStepFooterNextButtonClicked(d.props.videoComposerID)},d.$3=function(){return b("VideoComposerActions").firstStepFooterNextButtonClicked(d.props.videoComposerID)},d.$4=function(){return b("VideoComposerActions").hideReviewableBrandedContentConfirmation(d.props.videoComposerID)},d.$5=function(){return b("VideoComposerActions").confirmReviewableBrandedContent(d.props.videoComposerID)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){return this.props.disablePublish||this.props.isPublishing||this.props.showCategoryRequiredError};d.render=function(){return h.jsxs("div",{children:[h.jsx(b("ShimButton.react"),{className:"_8dzr","data-testid":void 0,onClick:this.$2,children:h.jsx(b("Tooltip.react"),{tooltip:this.props.showCategoryRequiredError?i:null,children:this.props.children})}),h.jsx(b("VideoComposerAdBreakPrereviewConfirmation.react"),{videoComposerID:this.props.videoComposerID,isDialogOpen:this.props.isAdBreakPrereviewDialogOpen}),h.jsx(b("VideoComposerAdBreakImageAdsModal.react"),{videoComposerID:this.props.videoComposerID,shown:this.props.shouldShowImageAdsModal,onHide:this.$3}),h.jsx(b("VideoComposerPublishDrawerContainer.react"),{videoComposerID:this.props.videoComposerID}),this.props.showReviewableBrandedContentConfirmationDialog&&h.jsx(b("CreateReviewableBCWhitelistInterceptDialog.react"),{onHide:this.$4,onSubmit:this.$5})]})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerDialogUtils",["XVanityURLController","formatDate"],(function(a,b,c,d,e,f){"use strict";a=function(a){var b=a.length;for(var c=a.length-1;c>=0;c--){var d=a.charCodeAt(c);d>127&&d<=2047?b++:d>2047&&d<=65535&&(b+=2);d>=56320&&d<=57343&&c--}return b};c=function(a){if(a==="page_content_tab_season_details"||a==="shows_home_episodes_card"||a==="page_composer_episode_card")return"episode";return a==="page_trailer"?"trailer":null};d=function(a){var c=b("formatDate")(a,"m/d/Y",{skipPatternLocalization:!0});a=60*(a.getHours()*60+a.getMinutes());return{dateStr:c,timeSec:a}};f=function(a){return b("XVanityURLController").getURIBuilder().setString("vanity",a).getURI()};var g=function(a){return a&&a.format?a.format.isSpherical:!1};e.exports={byteLength:a,formatDateAndTime:d,getShowVideoTypeFromEntryPoint:c,getVideoPermalinkURL:f,isVideoSpherical:g}}),null);
__d("XEmbeddedVideoEmbedDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/embed/async/dialog/",{url:{type:"String",required:!0},source:{type:"Int"},click_point:{type:"Enum",enumType:1},__asyncDialog:{type:"Int"}})}),null);
__d("VideoComposerFooterEditActions.react",["ix","cx","fbt","AutoScheduleUtils","ContextualLayerAutoFlip","FDSButton.react","FlexLayout.react","Image.react","LayerFadeOnHide","PopoverMenu.react","React","ReactDOM","ReactXUIMenu","ScheduleLiveVideoDialog.react","VideoComposerActions","VideoComposerDialogEditUtils","VideoComposerDialogUtils","VideoComposerFirstStepNextButtonContainer.react","VideoComposerFooterEditSaveButtonContainer.react","VideoComposerPremiereUtils","VideoEditPublishingAction","VideoEditPublishingStatus","VideoPublishingStateIndicator.react","VideoPublishingStateIndicatorUtils","XEmbeddedVideoEmbedDialogController","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUISingleSelector.react","XUISpinner.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=b("XUISingleSelector.react").Option,l=b("ReactXUIMenu").Item,m=1e3;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={featuredVideoSuccessDialogURI:null,featuredVideoSuccessDialogVisible:!1},d.$1=function(){var a=j.jsx(b("ScheduleLiveVideoDialog.react"),{actorID:d.props.pageID,broadcastID:d.props.premiereBroadcastID,canAddLiveAnnouncementThumbnail:d.props.isEpisode,description:d.props.description,initialPublishDate:d.props.premiereDate,isPageTarget:!0,isPremiere:!0,submitButtonLabel:i._("Confirm"),targetID:d.props.pageID,timezoneStr:b("AutoScheduleUtils").getTimezoneString(),previewTitle:d.props.previewTitle,onSubmit:function(a,c,e,f,g,h){b("VideoComposerActions").updatePremiereData(d.props.videoComposerID,new Date(a*1e3),c,e,f,g,h)}});a=b("ReactDOM").render(a,b("ReactDOM").findDOMNode(d.refs.premiereDialogPlaceholder));a.show instanceof Function&&a.show()},d.$2=function(a){b("VideoComposerActions").updateIsFeaturedVideo(d.props.videoComposerID),d.setState({featuredVideoSuccessDialogURI:a.page_uri,featuredVideoSuccessDialogVisible:!0})},d.$3=function(){d.setState({featuredVideoSuccessDialogURI:null,featuredVideoSuccessDialogVisible:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$4=function(a){var c=this.props.publishingConfig,d=this.props.creationTime,e=c.expirationTime;c=c.scheduledPublishTime;return b("VideoPublishingStateIndicatorUtils").getStateToolTip(a,{creationTime:d,expirationTime:e&&e/m,isVideoAsset:!1,postsCount:1,publishTime:c&&c/m||d})};d.$5=function(){var a=this;return this.props.publishingConfig.options.map(function(c){var d=c.type;c=c.value;var e,f;if(d=="status")d=b("VideoEditPublishingStatus")[c],e=d.value,f=a.$4(e);else{d=b("VideoEditPublishingAction")[c];switch(c.toLowerCase()){case b("VideoEditPublishingAction").MAKE_DRAFT.value:e="draft";break;case b("VideoEditPublishingAction").SCHEDULE_PUBLISH.value:e="scheduled";break;case b("VideoEditPublishingAction").PUBLISH.value:e="published";break;case b("VideoEditPublishingAction").SCHEDULE_EXPIRATION.value:e="expiring";break;case b("VideoEditPublishingAction").EXPIRE.value:e="expired";break;case b("VideoEditPublishingAction").PUBLISH_WITH_SERIES.value:e="publish_with_series";break;case b("VideoEditPublishingAction").PUBLISH_WITH_SEASON.value:e="publish_with_season";break;default:e="unknown";break}}return j.jsxs(k,{value:d.value,children:[j.jsx(b("VideoPublishingStateIndicator.react"),{className:"_669w",state:e,toolTip:f,toolTipAlignH:"center",toolTipPosition:"above"}),d.label]},d.value)})};d.$6=function(){var a=this,c=b("XEmbeddedVideoEmbedDialogController").getURIBuilder().setString("url",this.props.embedURL).getURI();return j.jsxs(b("ReactXUIMenu"),{children:[this.props.downloadHDUrl?j.jsx(l,babelHelpers["extends"]({},b("VideoComposerDialogEditUtils").getDownloadMenuItemProps(this.props.downloadHDUrl),{children:i._("Download in HD")})):null,this.props.downloadSDUrl?j.jsx(l,babelHelpers["extends"]({},b("VideoComposerDialogEditUtils").getDownloadMenuItemProps(this.props.downloadSDUrl),{children:i._("Download in SD")})):null,this.props.downloadGeneratedThumbnailsUrl?j.jsx(l,babelHelpers["extends"]({},b("VideoComposerDialogEditUtils").getDownloadMenuItemProps(this.props.downloadGeneratedThumbnailsUrl),{children:i._("Download generated thumbnails")})):null,this.props.allowEmbedding?j.jsx(l,{href:c,rel:"dialog",children:i._("Get embed link")}):null,this.props.canMakeFeatured&&!this.props.isFeaturedVideo?j.jsx(l,{onClick:function(){b("VideoComposerDialogEditUtils").onMakeFeaturedVideo(a.props.videoID,a.props.pageID,a.$2)},children:i._("Make featured video")}):null]})};d.$7=function(){if(this.props.videoStatus!==1)return j.jsx("div",{className:"_3-90",children:j.jsx(b("FDSButton.react"),{label:i._("View post"),href:b("VideoComposerDialogUtils").getVideoPermalinkURL(this.props.videoID),target:"_blank",size:"large"})})};d.$8=function(a){var c=this;return this.props.isPremiere&&this.props.isPremierePreLive?!b("VideoComposerPremiereUtils").isPremiereEditable(this.props.premiereDate)?null:j.jsx("div",{className:"_3-90",children:j.jsx(b("FDSButton.react"),{href:"#",onClick:this.$1,size:"large",use:"default",label:i._("Edit Premiere"),isDisabled:a,icon:this.props.isSaving?j.jsx(b("XUISpinner.react"),{background:"dark"}):null})}):j.jsx(b("XUISingleSelector.react"),{className:"_3-90",onChange:function(a){b("VideoComposerDialogEditUtils").onPublishingChange(c.props.videoComposerID,a,c.props.publishingConfig)},size:"xlarge",value:this.props.selectedPublishingAction,children:this.$5()})};d.$9=function(){var a=this.state.featuredVideoSuccessDialogURI?j.jsx(b("XUIDialogButton.react"),{action:"button",label:i._("Go to your videos tab"),use:"default",href:this.state.featuredVideoSuccessDialogURI,target:"_blank"}):null;return j.jsxs(b("XUIDialog.react"),{shown:this.state.featuredVideoSuccessDialogVisible,behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},width:445,children:[j.jsx(b("XUIDialogTitle.react"),{children:j.jsx("span",{children:i._("You've selected your featured video")})}),j.jsx(b("XUIDialogBody.react"),{children:i._("Your featured video is now displayed at the top of your Page's Videos tab. You can always choose a different featured video or decide not to show one.")}),j.jsxs(b("XUIDialogFooter.react"),{children:[a,j.jsx(b("XUIDialogButton.react"),{action:"confirm",label:i._("Got it"),use:"confirm",onClick:this.$3})]})]},"featureSuccessDialog")};d.render=function(){var a=this.props.isMissingTitle&&!this.props.isTitleEmptyInitially;a=a||this.props.isSaving||!this.props.tabsLoaded;return j.jsxs(b("FlexLayout.react"),{direction:"horizontal",children:[j.jsx("div",{ref:"premiereDialogPlaceholder"}),j.jsx(b("PopoverMenu.react"),{className:"_3-90",alignv:"baseline",menu:this.$6(),alignh:"right",layerBehaviors:[b("ContextualLayerAutoFlip")],children:j.jsx(b("FDSButton.react"),{icon:j.jsx(b("Image.react"),{src:g("466417")}),label:"...",labelIsHidden:!0,size:"large"})}),this.$7(),this.props.isEditModeUpgrade?j.jsx(b("VideoComposerFirstStepNextButtonContainer.react"),{dataTestID:"VIDEO_COMPOSER_NEXT_BUTTON",videoComposerID:this.props.videoComposerID,children:j.jsx(b("FDSButton.react"),{label:i._("Next"),ref:"nextButton",use:"primary",size:"large",isDisabled:this.props.showCategoryRequiredError})}):j.jsxs(j.Fragment,{children:[this.$8(a),j.jsx(b("VideoComposerFooterEditSaveButtonContainer.react"),{videoComposerID:this.props.videoComposerID,buttonLabel:i._("Save")})]}),this.$9()]})};return c}(j.Component);e.exports=a}),null);
__d("MediaManagerABTestingVideoUploadActions",["MediaManagerActionTypes","MediaManagerDispatcher"],(function(a,b,c,d,e,f){"use strict";var g=b("MediaManagerActionTypes").MediaManagerActionTypes;a=function(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_AB_TESTING_LAUNCH_INDIVIDUAL_COMPOSER,videoComposerID:a})};c=function(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_AB_TESTING_SET_PANEL_ROOT_REF,panelRootRef:a})};d=function(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_AB_TESTING_CLOSE_INDIVIDUAL_COMPOSER,videoComposerID:a})};f=function(a,c,d){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_AB_TESTING_START_UPLOAD_VIDEO,page:a,rawVideoFile:c,videoComposerID:d})};var h=function(a,c,d){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_AB_TESTING_EDIT_POSTS_INIT,page:a,controlVideoID:c,videoIDs:d})},i=function(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_AB_TESTING_EDIT_VIDEO_COMPOSER_INITIALIZED,videoComposerID:a})},j=function(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_AB_TESTING_DELETE_VIDEO_ROWS_ATTEMPT,videoComposerID:a})},k=function(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_AB_TESTING_DELETE_VIDEO_ROWS_ATTEMPT_CANCEL})},l=function(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_AB_TESTING_DELETE_VIDEO_ROWS_ATTEMPT_CONFIRM})},m=function(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_AB_TESTING_DELETE_VIDEO_EMPTY_ROW,videoComposerID:a})},n=function(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_AB_TESTING_DUPLICATE_VIDEO,videoComposerID:a})},o=function(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_AB_TESTING_SET_VIDEO_CONTROL_GROUP,videoComposerID:a})},p=function(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_AB_TESTING_TOGGLE_VIDEO_ROW,videoComposerID:a})},q=function(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_AB_TESTING_TOGGLE_ALL_VIDEO_ROWS_SELECTION})},r=function(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_AB_TESTING_VIDEO_COMPOSER_ALL_TABS_BOOTLOADED,videoComposerID:a})},s=function(a,c){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_AB_TESTING_CREATE_DRAFT_VIDEO_SUCCESS,videoComposerID:a,videoID:c})},t=function(a,c,d){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_AB_TESTING_CREATE_DRAFT_VIDEO_FAILURE,videoComposerID:a,error:c,videoID:d})},u=function(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_AB_TESTING_RETRY_FAILED_VIDEOS})},v=function(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_AB_TESTING_UPLOAD_VIDEO_FAILURE,videoComposerID:a})},w=function(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_AB_TESTING_VIDEO_COMPOSER_INITIALIZED,videoComposerID:a})},x=function(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_AB_TESTING_VIDEO_COMPOSER_INIT_FAILED,videoComposerID:a})},y=function(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_AB_TESTING_SHOW_INTERCEPTS_CONFIRM_PANEL,composerIDToInterceptsMap:a})},z=function(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_AB_TESTING_HIDE_INTERCEPTS_CONFIRM_PANEL})},A=function(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_AB_TESTING_CONFIRM_INTERCEPTS})},B=function(a,c){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_AB_TESTING_ON_CLICK_CREATE_AB_TEST,experimentMetadata:a,creationMode:c})},C=function(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_AB_TESTING_HIDE_SCHEDULE_TEST_DIALOG})},D=function(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_AB_TESTING_ON_CONFIRM_SCHEDULE_DATE,schedulePublishDateTime:a})},E=function(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_AB_TESTING_EXIT_CREATION_FLOW})},F=function(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_AB_TESTING_ON_CREATE_EXPERIMENT_SUCCESS})},G=function(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_AB_TESTING_RESET})},H=function(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_AB_TESTING_UPDATE_IS_TITLE_VARIANT})},I=function(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_AB_TESTING_UPDATE_IS_DESCRIPTION_VARIANT})},J=function(a,c,d){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_AB_TESTING_UPDATE_IS_INSTREAM_ADS_VARIANT,canUseVODAdBreaks:a,isAdBreaksActive:c,videoComposerID:d})},K=function(a,c){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_AB_TESTING_THUMBNAILS_GENERATION_DONE,thumbnails:a,videoComposerID:c})},L=function(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_AB_TESTING_UPDATE_THUMBNAIL_PER_VIDEO,videoComposerID:a})},M=function(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_AB_TESTING_UPDATE_THUMBNAIL_VARIANT,composerIDToInputVideoUploadMap:a})},N=function(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_AB_TESTING_INSERT_NEW_ROW})},O=function(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_AB_TESTING_RETRY_INIT_FOR_FAILED_VIDEO,videoComposerID:a})},P=function(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_AB_TESTING_ON_CLICK_REMOVE_FAILED_VIDEOS_FROM_TEST})},Q=function(){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_AB_TESTING_ON_CLICK_DELETE_TEST})},R=function(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_AB_TESTING_SHOW_EDIT_PENCIL_TOOLTIP_FOR_VIDEO,videoComposerID:a})},S=function(a){b("MediaManagerDispatcher").dispatch({type:g.COMPOSER_AB_TESTING_CLOSE_EDIT_PENCIL_TOOLTIP_FOR_VIDEO,videoComposerID:a})};e.exports={closeEditPencilTooltipForVideo:S,closeIndividualComposer:d,confirmIntercepts:A,createDraftVideoSuccess:s,createDraftVideoFailure:t,exitCreationFlow:E,deleteVideoEmptyRow:m,deleteVideoRowsAttempt:j,deleteVideoRowsAttemptCancel:k,deleteVideoRowsAttemptConfirm:l,duplicateVideo:n,editPostsInit:h,hideInterceptsConfirmPanel:z,hideScheduleTestDialog:C,insertNewRow:N,onClickCreateABTest:B,onClickDeleteTest:Q,onClickRemoveFailedPostsFromTest:P,onClickRetryFailedVideos:u,onCreateExperimentSuccess:F,reset:G,retryInitForFailedVideo:O,launchIndividualComposer:a,setPanelRootRef:c,setVideoControlGroup:o,showEditPencilTooltipForVideo:R,onConfirmScheduleDate:D,startUploadVideo:f,showInterceptsConfirmPanel:y,thumbnailsGenerationDone:K,toggleVideoRow:p,toggleAllVideoRowsSelection:q,updateIsDescriptionVariant:I,updateIsInstreamAdsVariant:J,updateIsTitleVariant:H,updateThumbnailVariant:M,updateThumbnailPerVideo:L,uploadVideoFailure:v,videoEditComposerInitialized:i,videoComposerAllTabsBootloaded:r,videoComposerInitFailed:x,videoComposerInitialized:w}}),null);
__d("ReactComposerBrandedContentDealUtil",["Arbiter","ReactComposerAttachmentActions","ReactComposerEvents","ReactComposerTaggerActions","SearchableEntry"],(function(a,b,c,d,e,f){"use strict";a=function a(c,d,e){var f=new(b("SearchableEntry"))({uniqueID:e,title:""});b("ReactComposerTaggerActions").setTaggerDataWithoutLogging(c,"SPONSOR",{sponsors:[f],directShareStatus:1,sponsorRelationship:1,bcmpDealID:d});b("ReactComposerAttachmentActions").selectAttachment(c,"STATUS",!0);b("Arbiter").subscribeOnce(b("ReactComposerEvents").COMPOSER_RESET+c,function(b,c){a(c.newComposerID,d,e)})};c=function(a){return a==="branded_content_creator_deal_view"};e.exports={bootloadBCMPDealComposer:a,isBrandedContentDealComposer:c}}),null);
__d("VideoComposerPreviewModeUploaderPill.react",["ix","cx","fbt","Image.react","React","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return j.jsxs("div",{className:"_6qzd",children:[j.jsx(b("Image.react"),{src:g("360748")}),j.jsx("div",{className:"_3-99",children:i._("Upload")})]})};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerFooterSection.react",["cx","CreatorStudioMultipostActions","FlexLayout.react","MediaManagerABTestingVideoUploadActions","MediaManagerBulkUploadActions","React","ReactComposerBrandedContentDealUtil","VideoComposerBrandedContentUploadFooterContainer.react","VideoComposerEditFooterContainer.react","VideoComposerFirstStepFooterRightSectionContainer.react","VideoComposerFooterActorInfoContainer.react","VideoComposerPanelIndividualComposerPublishDrawerFooter.react","VideoComposerPanelIndividualComposerTwoStepPublishFooter.react","VideoComposerPreviewModeUploaderPill.react","VideoComposerShowTrailerFooterContainer.react","VideoComposerUploaderPillContainer.react","VideoComposerUtils","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("MediaManagerBulkUploadActions").closeIndividualComposer(d.props.videoComposerID)},d.$2=function(){b("MediaManagerABTestingVideoUploadActions").closeIndividualComposer(d.props.videoComposerID)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=null;switch(this.props.dialogMode){case"video_upload":case"video_crosspost":if(b("ReactComposerBrandedContentDealUtil").isBrandedContentDealComposer(this.props.composerEntryPointRef))a=h.jsx(b("VideoComposerBrandedContentUploadFooterContainer.react"),{videoComposerID:this.props.videoComposerID});else if(this.props.isShowTrailer)a=h.jsx(b("VideoComposerShowTrailerFooterContainer.react"),{videoComposerID:this.props.videoComposerID});else{var c=b("VideoComposerUtils").isFromCreatorStudioMultipostPanel(this.props.composerEntryPointRef),d=b("VideoComposerUtils").isFromCreatorStudioBulkUploadPanel(this.props.composerEntryPointRef),e=b("VideoComposerUtils").isFromCreatorStudioABTestingPanel(this.props.composerEntryPointRef),f=null;c?f=b("CreatorStudioMultipostActions").closeIndividualComposer:d?f=this.$1:e&&(f=this.$2);a=f!=null?h.jsx(b("VideoComposerPanelIndividualComposerTwoStepPublishFooter.react"),{videoComposerID:this.props.videoComposerID,onSaveClick:f}):h.jsx(b("VideoComposerFirstStepFooterRightSectionContainer.react"),{videoComposerID:this.props.videoComposerID})}break;case"video_edit":if(this.props.composerEntryPointRef==="cs_content_library_bulk_edit"){if(!this.props.isEditModeUpgrade)return h.jsx(b("VideoComposerPanelIndividualComposerPublishDrawerFooter.react"),{videoComposerID:this.props.videoComposerID,onCloseComposer:this.$1});a=h.jsx(b("VideoComposerPanelIndividualComposerTwoStepPublishFooter.react"),{videoComposerID:this.props.videoComposerID,onSaveClick:this.$1})}else a=h.jsx(b("VideoComposerEditFooterContainer.react"),{videoComposerID:this.props.videoComposerID});break}c=b("VideoComposerUtils").isTrayBasedComposer(this.props.composerEntryPointRef);d=this.props.dialogMode==="video_upload";if(this.props.isPreviewMode)e=h.jsx(b("VideoComposerPreviewModeUploaderPill.react"),{});else{f=!d||!c;e=h.jsxs(b("FlexLayout.react"),{align:"center",direction:"horizontal",children:[d&&h.jsx("div",{className:"_3-90",children:h.jsx(b("VideoComposerUploaderPillContainer.react"),{videoComposerID:this.props.videoComposerID})}),f&&h.jsx(b("VideoComposerFooterActorInfoContainer.react"),{videoComposerID:this.props.videoComposerID})]})}return h.jsxs("div",{className:"_6elw",children:[e,a]})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerPanelIndividualComposerTwoStepPublishFooter.react",["fbt","FDSButton.react","FlexLayout.react","React","VideoComposerActions","VideoComposerPublishDrawerContainer.react","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("VideoComposerActions").openPublishDrawer(d.props.videoComposerID)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return h.jsxs(b("FlexLayout.react"),{children:[h.jsx(b("FDSButton.react"),{href:"#",label:g._("Save"),size:"large",use:"default",onClick:this.props.onSaveClick}),h.jsx(b("FDSButton.react"),{href:"#",label:g._("Next"),margin:"_3-9a",onClick:this.$1,use:"primary",size:"large"}),h.jsx(b("VideoComposerPublishDrawerContainer.react"),{videoComposerID:this.props.videoComposerID})]})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerDraftButton.react",["fbt","FDSButton.react","FDSButtonSpinner.react","React","VideoComposerActions","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=g._("Only video uploads published now can be drafted");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("VideoComposerActions").saveAsDraft(d.props.videoComposerID)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return h.jsx(b("FDSButton.react"),{busyIndicator:this.props.isPublishing&&this.props.isDraft?h.jsx(b("FDSButtonSpinner.react"),{}):void 0,"data-testid":"VIDEO_COMPOSER_SAVE_AS_DRAFT_FOOTER_BUTTON",href:"#",isDisabled:this.props.isDisabled,label:this.props.isPublishing&&this.props.isDraft?"":g._("Save as Draft"),margin:"_3-9a",tooltip:this.props.canDraft?null:i,size:"large",use:"default",onClick:this.$1})};return c}(h.PureComponent);e.exports=a}),null);
__d("XBrandedContentComposerInterceptController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/branded_content/composer/intercept/",{composer_post_text:{type:"String"},target_id:{type:"String"},sponsor_id:{type:"String"}})}),null);
__d("VideoComposerInterceptCheckers",["Promise","ActorURI","AsyncRequest","VideoComposerPublishingTypes","XBrandedContentComposerInterceptController","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("VideoComposerPublishingTypes").PublishingType;function a(a,b){return a&&h().indexOf(b)!==-1}function c(a,c){var d=c.composertags_sponsor[0];if(!d||c.draft||c.is_reviewable_branded_content)return b("Promise").resolve(!1);c=a.getUploadParameters().target_id;a=b("ActorURI").create(b("XBrandedContentComposerInterceptController").getURIBuilder().setString("target_id",c).setString("sponsor_id",d).getURI(),c);return new(b("AsyncRequest"))(a).exec().then(function(a){return a.getPayload()&&a.getPayload().shouldInterceptWhitelist},function(){return!1})}function h(){return b("immutable").List([g.AD_BREAK_SUBMIT_FOR_REVIEW,g.BACKDATE,g.PREMIERE,g.PUBLISH_NOW,g.SCHEDULE])}e.exports={brandedContentInterceptChecker:c,rightsConfirmInterceptChecker:a}}),null);
__d("VideoComposerPublishDrawerFooter.react",["cx","fbt","FDSButton.react","FDSButtonSpinner.react","FlexLayout.react","React","ReactComposerVideoCopyrightDialog.react","VideoComposerActions","VideoComposerDraftButton.react","VideoComposerFooterActorInfoContainer.react","VideoComposerFooterEditSaveButtonContainer.react","VideoComposerFooterPrivacyDropdownSelectorContainer.react","VideoComposerInterceptCheckers","VideoComposerPublishingUtils","VideoComposerUploaderPillContainer.react","cxMargin","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("VideoComposerInterceptCheckers").rightsConfirmInterceptChecker;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("VideoComposerActions").hideRightsConfirmDialog(d.props.videoComposerID)},d.$2=function(){b("VideoComposerActions").hideRightsConfirmDialog(d.props.videoComposerID),b("VideoComposerActions").publishPost(d.props.videoComposerID)},d.$5=function(){j(d.props.shouldShowRightsConfirmDialogBeforePublish,d.props.publishingType)?b("VideoComposerActions").showRightsConfirmDialog(d.props.videoComposerID):b("VideoComposerActions").publishPost(d.props.videoComposerID)},d.$6=function(){b("VideoComposerActions").closePublishDrawer(d.props.videoComposerID)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$3=function(){return!this.props.canPublish||this.props.isPublishing};d.$4=function(){return!this.props.canDraft||this.props.isPublishing};d.render=function(){var a=this.props.isComposerPostScheduleRedesign?b("VideoComposerPublishingUtils").getFooterButtonTextRedesign(this.props.scheduleType):b("VideoComposerPublishingUtils").getFooterButtonText(this.props.publishingType,!this.props.isShowDraft&&this.props.isSeasonDraft),c=this.props.isPublishing&&(!this.props.isComposerPostScheduleRedesign||!this.props.isDraft),d=this.props.dialogMode==="video_upload",e=this.props.dialogMode==="video_edit";return i.jsxs("div",{className:"_6elw",children:[i.jsxs(b("FlexLayout.react"),{align:"center",direction:"horizontal",children:[d&&i.jsx("div",{className:"_3-90",children:i.jsx(b("VideoComposerUploaderPillContainer.react"),{videoComposerID:this.props.videoComposerID})}),i.jsx(b("VideoComposerFooterActorInfoContainer.react"),{videoComposerID:this.props.videoComposerID})]}),i.jsxs(b("FlexLayout.react"),{children:[i.jsx(b("FDSButton.react"),{href:"#",isDisabled:this.props.isPublishing,label:h._("Back"),margin:"_3-99",size:"large",use:"default",onClick:this.$6}),this.props.isComposerPostScheduleRedesign&&i.jsx(b("VideoComposerDraftButton.react"),{videoComposerID:this.props.videoComposerID,canDraft:this.props.canDraft,isDraft:this.props.isDraft,isDisabled:this.$4(),isPublishing:this.props.isPublishing}),b("gkx")("1068250")&&!e?i.jsx(b("VideoComposerFooterPrivacyDropdownSelectorContainer.react"),{videoComposerID:this.props.videoComposerID,isDisabled:this.props.isPublishing}):null,e?i.jsx("div",{className:"_3-9a",children:i.jsx(b("VideoComposerFooterEditSaveButtonContainer.react"),{videoComposerID:this.props.videoComposerID,buttonLabel:a})}):i.jsx(b("FDSButton.react"),{busyIndicator:c?i.jsx(b("FDSButtonSpinner.react"),{}):void 0,"data-testid":"VIDEO_COMPOSER_PUBLISH_BUTTON",href:"#",isDisabled:this.$3(),label:c?"":a,margin:"_3-9a",tooltip:this.props.cannotPublishReason,size:"large",use:"primary",onClick:this.$5})]}),i.jsx(b("ReactComposerVideoCopyrightDialog.react"),{shown:this.props.rightsConfirmDialogShown,onCancel:this.$1,onConfirm:this.$2})]})};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerPollsConstants",["VideoComposerDialogConstants"],(function(a,b,c,d,e,f){"use strict";a=16;c=360;d=b("VideoComposerDialogConstants").DIALOG_WIDTH-c;f=d-2*a;c=f/b("VideoComposerDialogConstants").SIXTEEN_NINE;d={SECTION_PADDING:a,PLAYER_HEIGHT:c,PLAYER_WIDTH:f,INITIAL_POLL_DEFAULT_DURATION:30,MIN_POLL_DURATION:10,MIN_OPTIONS_COUNT:2,MAX_OPTIONS_COUNT:6,MAX_LIVE_OPTIONS_COUNT:4,MAX_QUESTION_LENGTH:80,MAX_OPTION_LENGTH:26,MAX_GK_OPTION_LENGTH:500,IMAGE_ATTACHMENT_HEIGHT:64,IMAGE_ATTACHMENT_WIDTH:64,AFTER_VOTE_TIMESTAMP:-1,NEVER_SHOW_TIMESTAMP:-2};e.exports=d}),null);
__d("XVideoComposerBootloadEditPollsTabController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/edit/polls/",{video_id:{type:"FBID",required:!0}})}),null);
__d("VideoComposerPollsUtils",["fbt","ActorURI","AsyncRequest","React","VideoComposerPollsActions","VideoComposerPollsConstants","VideoComposerPollsTypes","XVideoComposerBootloadEditPollsTabController","immutable"],(function(a,b,c,d,e,f,g){"use strict";b("React");var h=b("VideoComposerPollsTypes").PollDataRecordFactory,i=b("VideoComposerPollsTypes").PollOptionDataRecordFactory,j=3600,k=g._("Start time must be in mm:ss format"),l=g._("Start time must be in hh:mm:ss format"),m=g._("End time must be in mm:ss format"),n=g._("End time must be in hh:mm:ss format"),o=g._("Start time must be before your video finishes"),p=g._("The end time can't be after your video finishes"),q=g._("Your poll must appear for at least {number of seconds} seconds",[g._param("number of seconds",b("VideoComposerPollsConstants").MIN_POLL_DURATION)]),r=g._("Poll times can't overlap. Only one poll can appear at a time.");a=g._("Polls");c=g._("Sliders");var s=function(a){if(a===null||a===void 0)return"";a=Math.floor(a);var b="";for(var c=0;c<3;c++){var d=a%60;a=Math.floor(a/60);if(c===2&&d===0)break;d=(d<10?"0":"")+d;b=d+(c>0?":":"")+b}return b},t=function(a){a=a.trim();var b=0;a.split(":").forEach(function(a){b=b*60+ +a});return b},u=function(a){return!a.match(/^\d{1,2}(:\d{1,2}){0,2}$/)?!1:a.split(":").slice(-2).every(function(a){return+a<60})};d=function(a){return s(t(a))};f=function(a,c,d,e){e&&(e=Math.ceil(e));var f=a.startTime,g=a.endTime,h=null,i=null,s=null,v=0,w=0,x=u(f),y=u(g);x||(h=e&&e<j?k:l);y||(i=e&&e<j?m:n);h||(v=t(f),e&&v>=e&&(h=o));i||(w=t(g),e&&w>e&&(i=p));!h&&!i&&(w-v<b("VideoComposerPollsConstants").MIN_POLL_DURATION&&(s=q));if(!h&&!i){x=!1;y=c.concat(d);y.forEach(function(b){if(b.id===a.id)return;if(t(b.startTime)>=w||t(b.endTime)<=v)return;x=!0});x&&(s=r)}return{commonError:s,startTimeError:h,endTimeError:i}};g=function(a,c){var d=b("XVideoComposerBootloadEditPollsTabController").getURIBuilder().setFBID("video_id",c.videoID).getURI();d=b("ActorURI").create(d,c.common.actorID);return new(b("AsyncRequest"))().setURI(d).exec().then(function(c){return b("VideoComposerPollsActions").bootloadTabForEdit(a,c.payload)})};var v=function(a){var c=a.options.filter(function(a){return!!a.text.trim()}).size<b("VideoComposerPollsConstants").MIN_OPTIONS_COUNT,d=a.options.filter(function(a){return!!a.stickerID.trim()}).size<b("VideoComposerPollsConstants").MIN_OPTIONS_COUNT;return!a.questionText.trim()||c&&d},w=function(a){return h({id:a.id,isPersisted:!0,questionText:a.questionText,options:b("immutable").List(a.options.map(function(a){return i({id:a.id,text:a.text,imageURL:a.imageURL})})),startTime:s(a.startTime),endTime:s(a.endTime),showResults:a.showResults,displayResultsTimestamp:a.displayResultsTimestamp,votingClosedTimestamp:a.votingClosedTimestamp,isAdBreakPoll:a.isAdBreakPoll,pollType:a.pollType})},x=function(a,b,c,d){a=a.toArray().map(function(a){return{timestamp:t(a.startTime),node:c(a)}});b=b.toArray().map(function(a){return{timestamp:t(a.startTime),node:d(a)}});a=a.concat(b);return a.sort(function(a,b){return a.timestamp>b.timestamp?1:-1}).map(function(a){return a.node})};e.exports={isValidTimeString:u,fetchEditPostData:g,format:d,mapPersistedPollToLocalPoll:w,secondsToTimeString:s,timeStringToSeconds:t,validateDraftInteractionTimeWindow:f,arePollQuestionAndOptionsInvalid:v,renderInteractiveComponentListItems:x,POLLS_SECTION_TITLE:a,SLIDERS_SECTION_TITLE:c,RANGE_OVERLAP_ERROR:r}}),null);
__d("VideoComposerPollVisualOverlay.react",["ix","cx","fbt","Image.react","React","ShimButton.react","Tooltip","VideoComposerPollsActions","VideoComposerPollsConstants","VideoComposerPollsUtils","VideoComposerStores","VideoPollsTypedLogger","asset","nullthrows","once"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=16,l=20;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={slidingLeft:!1,slidingRight:!1,slidingMiddle:!1,maxAllowedLeft:0,maxAllowedRight:0,minAllowedLeft:0,minAllowedRight:0,slidingMiddleLeftX:null,slidingMiddleMouseX:null,slidingMiddleRightX:null,maxEndTime:Math.ceil(d.props.videoDuration||0),minStartTime:0,videoPreviewController:null},d.$1=b("once")(function(){if(d.props.isAddingNewPoll){var a=b("VideoComposerStores").getMetadataStore(d.props.videoComposerID).getState(),c=a.actorID;a=a.videoID;new(b("VideoPollsTypedLogger"))().setEvent("time_stamp_scrubber_toggled").setOwnerID((c=c)!=null?c:null).setVideoID((c=a)!=null?c:null).setNumberOfExistingPolls(d.props.numOfExistingPolls).log()}}),d.$2=b("once")(function(){if(d.props.isAddingNewPoll){var a=b("VideoComposerStores").getMetadataStore(d.props.videoComposerID).getState(),c=a.actorID;a=a.videoID;new(b("VideoPollsTypedLogger"))().setEvent("time_stamp_scrubber_moved_from_middle").setOwnerID((c=c)!=null?c:null).setVideoID((c=a)!=null?c:null).setNumberOfExistingPolls(d.props.numOfExistingPolls).log()}}),d.$6=function(a){var c=b("VideoComposerPollsUtils").timeStringToSeconds(d.props.poll.endTime),e=0;b("nullthrows")(d.props.inactivePolls).forEach(function(a){a=b("VideoComposerPollsUtils").timeStringToSeconds(a.endTime);a<c&&(e=Math.max(e,a))});a=b("VideoComposerStores").getBasicStore(d.props.videoComposerID).getState();a=a.videoPreviewController;d.setState({slidingLeft:!0,minAllowedLeft:e,maxAllowedLeft:c-b("VideoComposerPollsConstants").MIN_POLL_DURATION,videoPreviewController:a});window.addEventListener("mousemove",d.$9);window.addEventListener("mouseup",d.$10)},d.$7=function(a){var c=b("VideoComposerPollsUtils").timeStringToSeconds(d.props.poll.startTime),e=Math.ceil(d.props.videoDuration||0);b("nullthrows")(d.props.inactivePolls).forEach(function(a){a=b("VideoComposerPollsUtils").timeStringToSeconds(a.startTime);a>c&&(e=Math.min(e,a))});a=b("VideoComposerStores").getBasicStore(d.props.videoComposerID).getState();a=a.videoPreviewController;d.setState({slidingRight:!0,minAllowedRight:c+b("VideoComposerPollsConstants").MIN_POLL_DURATION,maxAllowedRight:e,videoPreviewController:a});window.addEventListener("mousemove",d.$9);window.addEventListener("mouseup",d.$10)},d.$8=function(a){var c=d.props.rootElem;if(!c)return;var e=b("VideoComposerStores").getBasicStore(d.props.videoComposerID).getState();e=e.videoPreviewController;d.setState({slidingMiddle:!0,slidingMiddleMouseX:(a.pageX-c.getBoundingClientRect().left)/b("VideoComposerPollsConstants").PLAYER_WIDTH*Math.ceil(d.props.videoDuration||0),slidingMiddleLeftX:b("VideoComposerPollsUtils").timeStringToSeconds(d.props.poll.startTime),slidingMiddleRightX:b("VideoComposerPollsUtils").timeStringToSeconds(d.props.poll.endTime),videoPreviewController:e});window.addEventListener("mousemove",d.$9);window.addEventListener("mouseup",d.$10)},d.$10=function(){d.setState({slidingRight:!1,slidingLeft:!1,slidingMiddle:!1,slidingMiddleMouseX:null,slidingMiddleLeftX:null,slidingMiddleRightX:null}),window.removeEventListener("mousemove",d.$9),window.removeEventListener("mouseup",d.$10)},d.$9=function(a){var c=d.props.rootElem;if(!c)return;if(d.state.slidingRight){d.$1();var e=(a.pageX-c.getBoundingClientRect().left)/b("VideoComposerPollsConstants").PLAYER_WIDTH*Math.ceil(d.props.videoDuration||0);e=Math.max(e,d.state.minAllowedRight);e=Math.min(e,d.state.maxAllowedRight);d.$11(e);b("VideoComposerPollsActions").draftUpdateEndTime(d.props.videoComposerID,b("VideoComposerPollsUtils").secondsToTimeString(Math.round(e)))}if(d.state.slidingMiddle){d.$2();e=d.state.slidingMiddleMouseX;var f=(a.pageX-c.getBoundingClientRect().left)/b("VideoComposerPollsConstants").PLAYER_WIDTH*Math.ceil(d.props.videoDuration||0);if(e==null){d.setState({slidingMiddleMouseX:f});return}f=f-e;if(Math.round(d.state.slidingMiddleLeftX+f)<d.state.minStartTime){f=Math.round(d.state.minStartTime-((e=d.state.slidingMiddleLeftX)!=null?e:0))}if(Math.round(d.state.slidingMiddleRightX+f)>d.state.maxEndTime){f=Math.round(d.state.maxEndTime-((e=d.state.slidingMiddleRightX)!=null?e:0))}e=b("VideoComposerPollsUtils").secondsToTimeString(Math.round(d.state.slidingMiddleLeftX+f));var g=b("VideoComposerPollsUtils").secondsToTimeString(Math.round(d.state.slidingMiddleRightX+f));d.$11(Math.round(d.state.slidingMiddleLeftX+f));b("VideoComposerPollsActions").draftUpdateStartTime(d.props.videoComposerID,e);b("VideoComposerPollsActions").draftUpdateEndTime(d.props.videoComposerID,g)}if(d.state.slidingLeft){d.$1();f=(a.pageX-c.getBoundingClientRect().left)/b("VideoComposerPollsConstants").PLAYER_WIDTH*Math.ceil(d.props.videoDuration||0);f=Math.max(f,d.state.minAllowedLeft);f=Math.min(f,d.state.maxAllowedLeft);d.$11(f);b("VideoComposerPollsActions").draftUpdateStartTime(d.props.videoComposerID,b("VideoComposerPollsUtils").secondsToTimeString(Math.round(f)))}},d.$4=function(){b("VideoComposerPollsActions").editPollAttempt(d.props.videoComposerID,d.props.poll.id)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=Math.ceil(this.props.videoDuration||0);if(a===0)return null;var c=this.props.poll,d=b("VideoComposerPollsUtils").timeStringToSeconds(c.startTime),e=b("VideoComposerPollsUtils").timeStringToSeconds(c.endTime);if(!this.$3(d,e,a))return null;a=b("VideoComposerPollsConstants").PLAYER_WIDTH/a;e=a*(e-d);a=a*d;d=this.state.slidingLeft||this.state.slidingRight?null:i._("{start time} to {end time}",[i._param("start time",c.startTime),i._param("end time",c.endTime)]);c=j.jsx("div",babelHelpers["extends"]({className:"_4io7"+(this.props.isActive?" _11xt":"")},b("Tooltip").propsFor(c.questionText,"above"),{style:{left:a+e/2-l/2},children:j.jsx(b("Image.react"),{src:g("524179")})}));var f=j.jsx("div",babelHelpers["extends"]({className:"_4io9",style:{width:e,left:a}},b("Tooltip").propsFor(d,"below")));this.props.isActive||(f=j.jsx(b("ShimButton.react"),{onClick:this.$4,children:f}));a=this.props.isActive?this.$5(a,e,d):null;return j.jsxs("div",{children:[c,f,a]})};d.$5=function(a,c,d){var e={},f=null;this.state.slidingLeft?(e.left=a,f=this.props.poll.startTime):this.state.slidingRight&&(e.right=b("VideoComposerPollsConstants").PLAYER_WIDTH-a-c,f=this.props.poll.endTime);e=j.jsx("div",{className:"_190l",style:e,children:f});f=j.jsx("div",babelHelpers["extends"]({className:"_11xv",style:{width:c,left:a}},b("Tooltip").propsFor(d,"below")));d=j.jsx("div",{className:"_11_0 _7llm _2e_v",style:{left:a-k,width:k},onMouseDown:this.$6,children:j.jsx("div",{className:"_7llk"})});var g=j.jsx("div",{className:"_11_0 _7llm _2e_w",style:{left:a+c-1,width:k},onMouseDown:this.$7,children:j.jsx("div",{className:"_7llk"})});a=j.jsx("div",{className:"_11_0 _7llm _7kpe",style:{left:a+k,width:c},onMouseDown:this.$8});return j.jsxs("div",{children:[f,d,a,g,e]})};d.$3=function(a,c,d){return!isNaN(a)&&!isNaN(c)&&c>=0&&c<=d&&a>=0&&a<=c-b("VideoComposerPollsConstants").MIN_POLL_DURATION};d.$11=function(a){var b=this.state.videoPreviewController;b!==null&&b!==void 0&&b.seek(a)};return c}(j.Component);e.exports=a}),null);
__d("LiveVideoBroadcastStickerPollOptionContainer.react",["cx","fbt","FDSText.react","Image.react","React","RelayFBEnvironment","RelayModern","LiveVideoBroadcastStickerPollOptionContainerQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React"),k=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var l=i!==void 0?i:i=b("LiveVideoBroadcastStickerPollOptionContainerQuery.graphql");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a){var c=a.error;a=a.props;if(c)return j.jsx("div",{children:j.jsx(b("FDSText.react"),{weight:"bold",children:h._("We weren't able to load this sticker option at this time. Please try again.")})});if(!a||!a.node)return null;c=a.node;a=c.animated_image?c.animated_image.uri:c.url;return j.jsx("div",{className:"_85g-",children:j.jsx(b("Image.react"),{className:"_8571",src:a})})};d.render=function(){var a={sticker_id:this.props.stickerID};return j.jsx(k,{environment:b("RelayFBEnvironment"),query:l,render:this.$1,variables:a})};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerInteractivitySectionHeader.react",["cx","Image.react","React","SUIText.react","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsxs("div",{className:"_2htl",children:[h.jsx(b("Image.react"),{src:this.props.iconAsset,className:"_3-90"}),h.jsx(b("SUIText.react"),{color:"primary",size:"header3",weight:"bold",children:this.props.sectionTitle})]})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerPollsOptionImageAttachment.react",["ix","cx","BackgroundImage.react","Image.react","React","VideoComposerPollsConstants","asset","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return i.jsxs("div",{className:b("joinClasses")("_71c7",this.props.className),children:[i.jsx(b("BackgroundImage.react"),{className:"_71c8"+(this.props.disabled?" _75-4":""),width:this.props.width,height:this.props.height,backgroundSize:(a=this.props.backgroundSize)!=null?a:"cover",src:this.props.imageURL}),!this.props.disabled&&i.jsx("div",{className:"_71c9",children:i.jsx(b("Image.react"),{className:"_71ca",src:g("481006"),onClick:this.props.onRemove})})]})};return c}(i.Component);a.defaultProps={width:b("VideoComposerPollsConstants").IMAGE_ATTACHMENT_WIDTH,height:b("VideoComposerPollsConstants").IMAGE_ATTACHMENT_HEIGHT,disabled:!1};e.exports=a}),null);
__d("VideoComposerPollsSettingRow.react",["cx","FlexLayout.react","React","SUIHelpMessage.react","SUIText.react","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsx("div",{className:this.props.className,children:h.jsxs(b("FlexLayout.react"),{justify:"all",align:"stretch",direction:"vertical",children:[h.jsxs(b("FlexLayout.react"),{justify:"all",align:this.props.align,children:[h.jsxs("div",{className:"_2hyi",children:[h.jsxs(b("FlexLayout.react"),{align:"center",children:[h.jsx(b("SUIText.react"),{color:"primary",size:"body3",weight:"bold",children:this.props.label}),h.jsx("div",{className:"_3-99",children:this.props.tooltip!==""&&this.props.tooltip!==null&&this.props.tooltip!==void 0?h.jsx(b("SUIHelpMessage.react"),{position:"above",value:this.props.tooltip}):null})]}),h.jsx("div",{className:"_2hyj",children:this.props.desc})]}),h.jsx("div",{className:"_2hyr",children:this.props.settingNode})]}),h.jsx("div",{className:"_73js",children:this.props.settingNodeDatePicker})]})})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerPollsTimestampSetting.react",["cx","fbt","React","SUITextInput.react","VideoComposerPollsSettingRow.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=60,k=j*60,l=h._("mm:ss"),m=h._("hh:mm:ss");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={displayValue:c.props.timeString,update:!1},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$1=function(){var a=this.props.videoDuration;return a!=null&&Math.ceil(a)<k};d.$2=function(a){a=a.replace(/\D/g,"");var b=this.$1()?4:6;if(a){a=a.substr(0,b);var c;b="";while(a.length>0)c=a.substr(a.length-2,2),a=a.substr(0,a.length-2),b=a.length===0?c+b:":"+c+b;return this.$3(b)}return a};d.$3=function(a){a=a;var b=this.props.videoDuration==null?0:this.props.videoDuration;this.$4(a)>b&&(a=a.substr(0,a.length-1),a=this.$2(a));return a};d.$4=function(a){a=a.split(":");var b=0;a.length>=3&&(b+=parseInt(a[a.length-3],10)*k);a.length>=2&&(b+=parseInt(a[a.length-2],10)*j);a.length>=1&&(b+=parseInt(a[a.length-1],10));return b};d.componentDidUpdate=function(a,b){a.timeString!==this.props.timeString?this.setState({displayValue:this.props.timeString,update:!1}):b.displayValue!==this.state.displayValue&&this.state.update&&this.props.onChange(this.state.displayValue)};d.onValueChange=function(a){a=a;a=this.$2(a);this.setState({displayValue:a,update:!0})};d.render=function(){var a=this,c=this.$1()?l:m;c=i.jsx("div",{className:"_2hto",children:i.jsx(b("SUITextInput.react"),{placeholder:c,value:this.state.displayValue,onChange:function(b){return a.onValueChange(b)},onBlur:this.props.onBlur,textAlign:"right",errorMessage:this.props.errorMessage})});return i.jsx(b("VideoComposerPollsSettingRow.react"),{className:this.props.className,label:this.props.label,desc:this.props.description,settingNode:c,align:this.props.align||"start"})};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerPollsDetailsForm.react",["ix","cx","fbt","AbstractTextArea.react","BUIDateTimePicker.react","DateTime","EmojiFormat.bs","EmojiPickerContainer.react","FDSButton.react","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","FDSText.react","FileInput.react","FlexLayout.react","Image.react","Link.react","LiveVideoBroadcastStickerPollOptionContainer.react","LocalDate","QE2Logger","React","ShimButton.react","SimpleNUXMessage","SimpleNUXMessageTypes","SUILink.react","SUIText.react","SUITextInput.react","Timezone","Tooltip.react","UFIStickerButton.react","VideoComposerInteractivityOpenFormSectionConfirmationDialogContainer.react","VideoComposerInteractivitySectionHeader.react","VideoComposerPollsActions","VideoComposerPollsAttachAdBreakSetting.react","VideoComposerPollsConstants","VideoComposerPollsOptionImageAttachment.react","VideoComposerPollsSettingRow.react","VideoComposerPollsTimestampSetting.react","VideoComposerPollsTypes","VideoComposerPollsUtils","VideoComposerStores","VideoPollsTypedLogger","XUIAmbientNUX.react","XUICloseButton.react","asset","cxMargin","gkx","immutable","once","TimezoneNamesData"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=b("VideoComposerPollsTypes").EditorState,l=3600,m=b("VideoComposerPollsConstants").AFTER_VOTE_TIMESTAMP,n=b("VideoComposerPollsConstants").NEVER_SHOW_TIMESTAMP,o=7,p=14,q=15e3,r=i._("mm:ss"),s=i._("hh:mm:ss"),t=i._("Ask a question..."),u=i._("Start"),v=i._("Choose when the poll will appear by adding start and end times or selecting a segment of your video."),w=i._("Choose when the slider will appear by adding start and end times or selecting a segment of your video."),x=i._("End");b("Timezone").registerNamesModule(b("TimezoneNamesData"));a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={duplicateOptionsMap:b("immutable").Map(),showResultsMenuState:"show_results_after_vote",stickerSelectorNuxShown:!b("SimpleNUXMessage").hasUserSeenMessage(b("SimpleNUXMessageTypes").STICKER_POLL_OPTIONS),nuxTimeoutID:null},d.$2=function(){return d.$1},d.$3=function(a){d.$1=a},d.$4=function(){b("SimpleNUXMessage").markMessageSeenByUser(b("SimpleNUXMessageTypes").STICKER_POLL_OPTIONS),window.clearTimeout(d.state.nuxTimeoutID),d.setState({stickerSelectorNuxShown:!1,nuxTimeoutID:null})},d.$5=b("once")(function(){if(d.props.editorState===k.ADDING_NEW_POLL){var a=b("VideoComposerStores").getMetadataStore(d.props.videoComposerID).getState(),c=a.actorID;a=a.videoID;new(b("VideoPollsTypedLogger"))().setEvent("first_question_entered_vod").setOwnerID((c=c)!=null?c:null).setVideoID((c=a)!=null?c:null).setNumberOfExistingPolls(d.props.allPolls.size).log()}}),d.$6=b("once")(function(){if(d.props.editorState===k.ADDING_NEW_POLL){var a=b("VideoComposerStores").getMetadataStore(d.props.videoComposerID).getState(),c=a.actorID;a=a.videoID;new(b("VideoPollsTypedLogger"))().setEvent("first_option_entered_vod").setOwnerID((c=c)!=null?c:null).setVideoID((c=a)!=null?c:null).setNumberOfExistingPolls(d.props.allPolls.size).log()}}),d.$7=b("once")(function(){if(d.props.editorState===k.ADDING_NEW_POLL){var a=b("VideoComposerStores").getMetadataStore(d.props.videoComposerID).getState(),c=a.actorID;a=a.videoID;new(b("VideoPollsTypedLogger"))().setEvent("second_option_entered_vod").setOwnerID((c=c)!=null?c:null).setVideoID((c=a)!=null?c:null).setNumberOfExistingPolls(d.props.allPolls.size).log()}}),d.$8=b("once")(function(){if(d.props.editorState===k.ADDING_NEW_POLL){var a=b("VideoComposerStores").getMetadataStore(d.props.videoComposerID).getState(),c=a.actorID;a=a.videoID;new(b("VideoPollsTypedLogger"))().setEvent("first_start_time_entered_vod").setOwnerID((c=c)!=null?c:null).setVideoID((c=a)!=null?c:null).setNumberOfExistingPolls(d.props.allPolls.size).log()}}),d.$9=b("once")(function(){if(d.props.editorState===k.ADDING_NEW_POLL){var a=b("VideoComposerStores").getMetadataStore(d.props.videoComposerID).getState(),c=a.actorID;a=a.videoID;new(b("VideoPollsTypedLogger"))().setEvent("first_end_time_entered_vod").setOwnerID((c=c)!=null?c:null).setVideoID((c=a)!=null?c:null).setNumberOfExistingPolls(d.props.allPolls.size).log()}}),d.$10=i._("Your poll must include a question and at least {number} answers.",[i._param("number",b("VideoComposerPollsConstants").MIN_OPTIONS_COUNT)]),d.$38=function(a){b("VideoComposerPollsActions").draftUpdateSliderEmoji(d.props.videoComposerID,b("EmojiFormat.bs").codeArrayToUnicode(a))},d.$40=function(){b("VideoComposerPollsActions").cancelChangesAttempt(d.props.videoComposerID)},d.$33=function(){b("VideoComposerPollsActions").openSlidersFormSectionAttempt(d.props.videoComposerID)},d.$21=function(){b("VideoComposerPollsActions").openPollsFormSectionAttempt(d.props.videoComposerID)},d.$23=function(a,c){d.state.stickerSelectorNuxShown&&d.state.nuxTimeoutID===null&&d.setState({nuxTimeoutID:window.setTimeout(function(){d.$4()},q)});var e=null;d.state.duplicateOptionsMap.get(c)&&(e=i._("Your answers must be unique"));var f=d.props.draftPoll.isPersisted,h=!f&&d.props.draftPoll.options.size>b("VideoComposerPollsConstants").MIN_OPTIONS_COUNT?j.jsx(b("XUICloseButton.react"),{onClick:function(){return d.$42(c)}}):null,k=null;d.props.isImageAttachmentEnabled&&(h=f?null:j.jsx("div",{className:"_71c6 _d6-",children:j.jsx(b("FileInput.react"),{type:"file",accept:"image/*",onChange:function(a){return d.$43(a,c)},children:j.jsx(b("SUILink.react"),{children:j.jsx(b("Image.react"),{href:"#",src:g("596870")})})})}),k=!f&&d.props.draftPoll.options.size>b("VideoComposerPollsConstants").MIN_OPTIONS_COUNT?function(){return d.$42(c)}:null);e=j.jsx(b("SUITextInput.react"),{maxLength:b("gkx")("1027619")?b("VideoComposerPollsConstants").MAX_GK_OPTION_LENGTH:b("VideoComposerPollsConstants").MAX_QUESTION_LENGTH,isMaxLengthHidden:!0,errorMessage:e,disabled:f,width:"100%",placeholder:i._({"*":"Option {option number}"},[i._param("option number",c+1,[0])]),onChange:function(a){return d.$44(a,c)},value:a.text,rightIcon:h,onRemove:k});h=a.stickerID===""?j.jsx("div",{className:"_87v5",children:j.jsx("div",{className:"_87ub",children:j.jsx(b("UFIStickerButton.react"),{showTooltip:!1,onStickerSelected:function(a){b("VideoComposerPollsActions").draftStickerSelect(d.props.videoComposerID,a,c),c===0&&d.$6(),c===1&&d.$7()}})})}):j.jsxs("div",{children:[j.jsx(b("LiveVideoBroadcastStickerPollOptionContainer.react"),{stickerID:a.stickerID}),j.jsx(b("Link.react"),{className:"_87uc",href:"#",onClick:function(){return b("VideoComposerPollsActions").draftStickerSelect(d.props.videoComposerID,"",c)},children:j.jsx(b("Image.react"),{alt:i._("Close"),src:g("404736")})})]});k=b("gkx")("1015838")&&j.jsxs("div",{children:[j.jsx("div",{className:"_873a",children:j.jsx(b("UFIStickerButton.react"),{ref:d.$3,onStickerSelected:function(a){d.$4(),b("VideoComposerPollsActions").draftStickerSelect(d.props.videoComposerID,a,c),c===0&&d.$6(),c===1&&d.$7()}})}),c===0&&j.jsx(b("XUIAmbientNUX.react"),{alignment:"right",contextRef:d.$2,position:"below",shown:d.state.stickerSelectorNuxShown,onCloseButtonClick:d.$4,children:j.jsxs("div",{children:[j.jsx(b("SUIText.react"),{color:"white",size:"body1",weight:"bold",children:i._("Select sticker options")}),j.jsx(b("SUIText.react"),{color:"white",display:"block",margin:"_3-8w",size:"body1",children:i._("Use stickers options to make your poll more interactive!")})]})})]});a=a.imageURL?j.jsx(b("VideoComposerPollsOptionImageAttachment.react"),{className:"_3-8-",imageURL:a.imageURL,onRemove:function(){d.$45(c)},disabled:f}):null;return j.jsx("div",{className:"_3yht",children:f?j.jsxs(b("Tooltip.react"),{tooltip:i._("Published polls can't be edited"),children:[d.props.draftPoll.optionType==="TEXT"?e:h,k,a]}):j.jsxs("div",{children:[d.props.draftPoll.optionType==="TEXT"?e:h,k,a]})},c)},d.$22=function(a){b("VideoComposerPollsActions").draftUpdatePollQuestion(d.props.videoComposerID,a.target.value.replace(/\n/g,"")),d.$5()},d.$37=function(a){b("VideoComposerPollsActions").draftUpdateSliderQuestion(d.props.videoComposerID,a.target.value.replace(/\n/g,""))},d.$24=function(){d.$4(),b("VideoComposerPollsActions").draftAddOption(d.props.videoComposerID)},d.$41=function(){switch(d.props.editorState){case k.ADDING_NEW_POLL:case k.EDITING_POLL:d.$46();break;case k.ADDING_NEW_SLIDER:case k.EDITING_SLIDER:d.$47();break}},d.$25=function(a){d.setState({startTimeError:null,commonError:null}),b("VideoComposerPollsActions").draftUpdateStartTime(d.props.videoComposerID,a),(d.props.editorState===k.ADDING_NEW_POLL||d.props.editorState===k.EDITING_POLL)&&d.$8()},d.$27=function(a){d.setState({endTimeError:null,commonError:null}),b("VideoComposerPollsActions").draftUpdateEndTime(d.props.videoComposerID,a),d.$9()},d.$26=function(){var a=d.$50().startTime;b("VideoComposerPollsUtils").isValidTimeString(a)&&b("VideoComposerPollsActions").draftUpdateStartTime(d.props.videoComposerID,b("VideoComposerPollsUtils").format(a))},d.$28=function(){var a=d.$50().endTime;b("VideoComposerPollsUtils").isValidTimeString(a)&&b("VideoComposerPollsActions").draftUpdateEndTime(d.props.videoComposerID,b("VideoComposerPollsUtils").format(a))},d.$29=function(){var a=d.props.draftPoll.showResults;!a?b("VideoComposerPollsActions").draftSetDisplayResultTimestamp(d.props.videoComposerID,m):b("VideoComposerPollsActions").draftSetDisplayResultTimestamp(d.props.videoComposerID,n);b("VideoComposerPollsActions").draftSetResultsVisible(d.props.videoComposerID,!a)},d.$30=function(a){d.setState({showResultsMenuState:a});var c=b("VideoComposerStores").getMetadataStore(d.props.videoComposerID).getState(),e=c.actorID;c=c.videoID;new(b("VideoPollsTypedLogger"))().setEvent("show_poll_results_toggle").setOwnerID(e).setVideoID(c).setShowPollResultsState(a).log();if(a==="show_results_after_vote")b("VideoComposerPollsActions").draftSetResultsVisible(d.props.videoComposerID,!0),b("VideoComposerPollsActions").draftSetDisplayResultTimestamp(d.props.videoComposerID,m);else if(a==="show_results_schedule"){e=d.props.draftPoll.displayResultsTimestamp;(e==void 0||e==m||e==n)&&(e=b("DateTime").localNow().addDays(o).getUnixTimestampSeconds());b("VideoComposerPollsActions").draftSetResultsVisible(d.props.videoComposerID,!1);b("VideoComposerPollsActions").draftSetDisplayResultTimestamp(d.props.videoComposerID,e);b("VideoComposerPollsActions").draftSetVotingClosedTimestamp(d.props.videoComposerID,e)}else b("VideoComposerPollsActions").draftSetResultsVisible(d.props.videoComposerID,!1),b("VideoComposerPollsActions").draftSetDisplayResultTimestamp(d.props.videoComposerID,n)},d.$31=function(a){b("VideoComposerPollsActions").draftSetDisplayResultTimestamp(d.props.videoComposerID,a.instant);b("VideoComposerPollsActions").draftSetVotingClosedTimestamp(d.props.videoComposerID,a.instant);a=b("VideoComposerStores").getMetadataStore(d.props.videoComposerID).getState();var c=a.actorID;a=a.videoID;new(b("VideoPollsTypedLogger"))().setEvent("show_poll_results_time_change").setOwnerID(c).setVideoID(a).log()},d.$32=function(){b("VideoComposerPollsActions").draftToggleAdBreakPoll(d.props.videoComposerID)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=b("VideoComposerStores").getMetadataStore(this.props.videoComposerID).getState(),c=a.actorID;a=a.videoID;c!=null&&(b("QE2Logger").logExposureForPage("polls_image_attachment",c.toString()),this.props.isImageAttachmentEnabled&&new(b("VideoPollsTypedLogger"))().setEvent("image_option_rendered").setOwnerID(c).setVideoID(a).log(),new(b("VideoPollsTypedLogger"))().setEvent("show_poll_results_render").setOwnerID(c).setVideoID(a).log());this.props.draftPoll.displayResultsTimestamp==null||this.props.draftPoll.displayResultsTimestamp===m?c="show_results_after_vote":this.props.draftPoll.displayResultsTimestamp===n?c="show_results_never":c="show_results_schedule";this.setState({showResultsMenuState:c})};d.componentDidUpdate=function(a,b){if(a.editorState!==this.props.editorState){this.setState({commonError:null,startTimeError:null,endTimeError:null});return}b=this.$11(a);a=this.$11(this.props);b.startTime!==a.startTime&&this.setState({commonError:null,startTimeError:null});b.endTime!==a.endTime&&this.setState({commonError:null,endTimeError:null})};d.render=function(){return j.jsxs("div",{className:"_856a",children:[j.jsx(b("VideoComposerInteractivityOpenFormSectionConfirmationDialogContainer.react"),{videoComposerID:this.props.videoComposerID}),j.jsxs("div",{className:"_856b",children:[this.$12()?this.$13():null,this.$14()?this.$15():null,this.$16()?this.$17():null,this.$18()?this.$19():null]}),this.$20()]})};d.$12=function(){return this.props.editorState!==k.EDITING_SLIDER};d.$13=function(){var a=j.jsx(b("VideoComposerInteractivitySectionHeader.react"),{iconAsset:g("524179"),sectionTitle:b("VideoComposerPollsUtils").POLLS_SECTION_TITLE});return!this.$16()?a:j.jsx(b("Link.react"),{href:"#",onClick:this.$21,children:a})};d.$14=function(){return this.$12()&&(this.props.editorState===k.ADDING_NEW_POLL||this.props.editorState===k.EDITING_POLL)};d.$15=function(){var a=j.jsx("div",{className:"_7moh",children:j.jsx(b("SUIText.react"),{color:"placeholder",size:"body3",children:i._("Ask a question about your video to engage viewers and find out what they think.")})}),c=this.props.draftPoll,d=!c.isPersisted&&c.options.size<b("VideoComposerPollsConstants").MAX_OPTIONS_COUNT,e=j.jsx(b("AbstractTextArea.react"),{autoGrow:!0,rows:1,maxLength:b("VideoComposerPollsConstants").MAX_QUESTION_LENGTH,disabled:c.isPersisted,className:"_-fv",placeholder:t,onChange:this.$22,value:c.questionText});e=c.isPersisted?j.jsx(b("Tooltip.react"),{tooltip:i._("Published polls can't be edited"),children:e}):e;var f=j.jsx(b("FlexLayout.react"),{direction:"vertical",className:"_-fw",children:c.options.toArray().map(this.$23)});d=d?j.jsx(b("ShimButton.react"),{onClick:this.$24,children:j.jsxs("div",{className:"_-fx",children:["+"," ",i._("Add another option")]})}):null;var g={className:"_3-8-",label:u,description:v,timeString:c.startTime,errorMessage:this.state.startTimeError||this.state.commonError,videoDuration:this.props.videoDuration,onChange:this.$25,onBlur:this.$26},h={align:"end",label:x,timeString:c.endTime,errorMessage:this.state.endTimeError||this.state.commonError,videoDuration:this.props.videoDuration,onChange:this.$27,onBlur:this.$28},k;b("gkx")("1286543")?k=j.jsxs(j.Fragment,{children:[j.jsx(b("VideoComposerPollsTimestampSetting.react"),babelHelpers["extends"]({},g)),j.jsx(b("VideoComposerPollsTimestampSetting.react"),babelHelpers["extends"]({},h))]}):k=j.jsxs(j.Fragment,{children:[j.jsx(y,babelHelpers["extends"]({},g)),j.jsx(y,babelHelpers["extends"]({},h))]});g=this.props.isLiveVideo?null:j.jsxs("div",{className:"_2htn",children:[j.jsx(b("SUIText.react"),{color:"primary",size:"header4",weight:"bold",children:i._("Poll settings")}),!c.isAdBreakPoll&&k,j.jsx(z,{onToggle:this.$29,showResultsMenuState:this.state.showResultsMenuState,displayResultsTimestamp:c.displayResultsTimestamp,onShowResultsTypeChange:this.$30,onResultsTimeChange:this.$31}),this.props.isAdBreaksPollCreationEnabled&&j.jsx(b("VideoComposerPollsAttachAdBreakSetting.react"),{videoComposerID:this.props.videoComposerID,allPolls:this.props.allPolls,draftPoll:c,onAttachAdBreak:this.$32})]});return j.jsxs("div",{className:"_856c",children:[a,e,f,d,g]})};d.$16=function(){return this.props.canSeeSlidersSection&&this.props.editorState!==k.EDITING_POLL};d.$17=function(){return j.jsx(b("Link.react"),{href:"#",onClick:this.$33,children:j.jsx(b("VideoComposerInteractivitySectionHeader.react"),{iconAsset:g("524179"),sectionTitle:b("VideoComposerPollsUtils").SLIDERS_SECTION_TITLE})})};d.$18=function(){return this.$16()&&(this.props.editorState===k.ADDING_NEW_SLIDER||this.props.editorState===k.EDITING_SLIDER)};d.$19=function(){return j.jsxs("div",{className:"_856c",children:[this.$34(),this.$35(),this.$36()]})};d.$34=function(){var a=j.jsx(b("AbstractTextArea.react"),{autoGrow:!0,rows:1,maxLength:b("VideoComposerPollsConstants").MAX_QUESTION_LENGTH,disabled:this.props.draftSlider.isPersisted,className:"_-fv",placeholder:t,onChange:this.$37,value:this.props.draftSlider.questionText});return this.props.draftSlider.isPersisted?j.jsx(b("Tooltip.react"),{tooltip:i._("Published sliders can't be edited"),children:a}):a};d.$35=function(){var a=this.props.draftSlider.emoji!=="";a=j.jsxs(b("FlexLayout.react"),{justify:"all",align:"center",className:"_2pig",children:[j.jsx(b("FDSText.react"),{children:i._("Select emoji")}),j.jsx(b("FlexLayout.react"),{className:"_866g"+(a?" _866m":"")+(a?"":" _866q"),align:"center",justify:"center",children:a?this.props.draftSlider.emoji:j.jsx(b("Image.react"),{src:g("983915")})})]});var c=j.jsx("div",{className:"_2pie",children:j.jsx(b("EmojiPickerContainer.react"),{onSelect:this.$38})});return j.jsxs(j.Fragment,{children:[a,c]})};d.$36=function(){var a={className:"_3-8-",label:u,description:w,timeString:this.props.draftSlider.startTime,errorMessage:this.state.startTimeError||this.state.commonError,videoDuration:this.props.videoDuration,onChange:this.$25,onBlur:this.$26},c={align:"end",label:x,timeString:this.props.draftSlider.endTime,errorMessage:this.state.endTimeError||this.state.commonError,videoDuration:this.props.videoDuration,onChange:this.$27,onBlur:this.$28},d;b("gkx")("1286543")?d=j.jsxs(j.Fragment,{children:[j.jsx(b("VideoComposerPollsTimestampSetting.react"),babelHelpers["extends"]({},a)),j.jsx(b("VideoComposerPollsTimestampSetting.react"),babelHelpers["extends"]({},c))]}):d=j.jsxs(j.Fragment,{children:[j.jsx(y,babelHelpers["extends"]({},a)),j.jsx(y,babelHelpers["extends"]({},c))]});return d};d.$20=function(){var a=this.$39();return this.props.isLiveVideo?j.jsx("div",{className:"_-fy",children:j.jsx(b("FDSButton.react"),{label:i._("Done"),onClick:this.$40})}):j.jsxs("div",{className:"_-fy",children:[j.jsx(b("FDSButton.react"),{label:i._("Cancel"),onClick:this.$40}),j.jsx("div",{className:"_3-9a",children:j.jsx(b("FDSButton.react"),{label:i._("Save"),href:"#",use:"primary",isDisabled:a,onClick:this.$41,tooltip:a?this.$10:null})})]})};d.$44=function(a,c){this.setState({duplicateOptionsMap:b("immutable").Map()}),b("VideoComposerPollsActions").draftUpdateOption(this.props.videoComposerID,a,c),c===0&&this.$6(),c===1&&this.$7()};d.$42=function(a){b("VideoComposerPollsActions").draftDeleteOption(this.props.videoComposerID,a)};d.$43=function(a,c){a=a.currentTarget.files;if(!a||a.length!==1)return;else{var d=URL.createObjectURL(a[0]);a=a[0];b("VideoComposerPollsActions").draftUpdateImage(this.props.videoComposerID,d,a,c)}d=b("VideoComposerStores").getMetadataStore(this.props.videoComposerID).getState();a=d.actorID;c=d.videoID;new(b("VideoPollsTypedLogger"))().setEvent("image_option_selected").setOwnerID(a).setVideoID(c).log()};d.$45=function(a){var c=b("VideoComposerStores").getMetadataStore(this.props.videoComposerID).getState(),d=c.actorID;c=c.videoID;new(b("VideoPollsTypedLogger"))().setEvent("image_option_removed").setOwnerID(d).setVideoID(c).log();b("VideoComposerPollsActions").draftUpdateImage(this.props.videoComposerID,null,null,a)};d.$46=function(){var a=this.$48();if(a.size>0)return;a=this.$49();if(a&&!this.props.draftPoll.isAdBreakPoll)return;a=b("VideoComposerStores").getMetadataStore(this.props.videoComposerID).getState();var c=a.actorID;a=a.videoID;new(b("VideoPollsTypedLogger"))().setEvent("vod_composer_save_poll_button_click").setOwnerID((c=c)!=null?c:null).setVideoID((c=a)!=null?c:null).setNumberOfExistingPolls(this.props.allPolls.size).log();b("VideoComposerPollsActions").savePoll(this.props.videoComposerID)};d.$47=function(){var a=this.$49();if(a)return;b("VideoComposerPollsActions").saveSlider(this.props.videoComposerID)};d.$50=function(){return this.$11(this.props)};d.$11=function(a){return a.editorState===k.ADDING_NEW_SLIDER||a.editorState===k.EDITING_SLIDER?a.draftSlider:a.draftPoll};d.$48=function(){var a={};this.props.draftPoll.options.forEach(function(b){a[b.text.trim()]=(a[b.text.trim()]||0)+1});var c=b("immutable").Map();this.props.draftPoll.options.forEach(function(b,d){b=b.text.trim();b.length>0&&a[b]>1&&(c=c.set(d,!0))});this.setState({duplicateOptionsMap:c});return c};d.$49=function(){var a=b("VideoComposerPollsUtils").validateDraftInteractionTimeWindow(this.$50(),b("VideoComposerStores").getPollsStore(this.props.videoComposerID).getNonAdBreakPolls(this.props.allPolls),this.props.allSliders,this.props.videoDuration),c=a.commonError,d=a.startTimeError;a=a.endTimeError;this.setState({startTimeError:d,endTimeError:a,commonError:c});return!!d||!!a||!!c};d.$39=function(){if(this.props.editorState===k.ADDING_NEW_POLL||this.props.editorState===k.EDITING_POLL)return this.$51();return this.props.editorState===k.ADDING_NEW_SLIDER||this.props.editorState===k.EDITING_SLIDER?this.$52():!0};d.$51=function(){return b("VideoComposerPollsUtils").arePollQuestionAndOptionsInvalid(this.props.draftPoll)};d.$52=function(){return!this.props.draftSlider.questionText.trim()};return c}(j.Component);function y(a){var c=a.videoDuration;c=c&&Math.ceil(c)<l?r:s;c=j.jsx("div",{className:"_2hto",children:j.jsx(b("SUITextInput.react"),{placeholder:c,value:a.timeString,onChange:a.onChange,onBlur:a.onBlur,textAlign:"right",errorMessage:a.errorMessage})});return j.jsx(b("VideoComposerPollsSettingRow.react"),{className:a.className,label:a.label,desc:a.description,settingNode:c,align:a.align||"start"})}function z(a){var c=i._("Publish results"),d=i._("Votes can't be changed after the results have been published."),e=j.jsxs(b("FDSDropdownSelector.react"),{buttonUse:"default",onChange:a.onShowResultsTypeChange,placeholder:"After Vote",value:a.showResultsMenuState,children:[j.jsx(b("FDSDropdownSelectorOption.react"),{value:"show_results_after_vote",children:i._("After vote")}),j.jsx(b("FDSDropdownSelectorOption.react"),{value:"show_results_schedule",children:i._("Schedule")}),j.jsx(b("FDSDropdownSelectorOption.react"),{value:"show_results_never",children:i._("Never")})]}),f=b("DateTime").localNow(),g=b("LocalDate").today(f.timezoneID),h=g.addDays(p);a.displayResultsTimestamp!=void 0&&a.displayResultsTimestamp!=m&&a.displayResultsTimestamp!=n?f=b("DateTime").localCreate(a.displayResultsTimestamp):f=g.addDays(o).toDateTime(f.timezoneID);var k=i._("{timezone_name}",[i._param("timezone_name",f.getTimezoneName().replace(/_/," "))]);k=a.showResultsMenuState==="show_results_schedule"?j.jsx(b("BUIDateTimePicker.react"),{timezoneID:f.timezoneID,timezoneLabel:k,value:f,onChange:a.onResultsTimeChange,dateRestraints:[function(a){return a.isAfterOrEqual(g)&&a.isBeforeOrEqual(h)}]}):null;return j.jsx(b("VideoComposerPollsSettingRow.react"),{className:"_3-8-",label:c,desc:d,settingNode:e,settingNodeDatePicker:k,align:"start"})}e.exports=a}),null);
__d("VideoComposerPollsEditor.react",["cx","React","VideoComposerPollsCancelConfirmDialogContainer.react","VideoComposerPollsEditAttemptDialogContainer.react","VideoComposerPollsLeftSectionContainer.react","VideoComposerPollsRightSectionContainer.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsxs("div",{className:"_1yck",children:[h.jsx(b("VideoComposerPollsLeftSectionContainer.react"),{videoComposerID:this.props.videoComposerID}),h.jsx(b("VideoComposerPollsRightSectionContainer.react"),{videoComposerID:this.props.videoComposerID}),h.jsx(b("VideoComposerPollsCancelConfirmDialogContainer.react"),{videoComposerID:this.props.videoComposerID}),h.jsx(b("VideoComposerPollsEditAttemptDialogContainer.react"),{videoComposerID:this.props.videoComposerID})]})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerPollsLeftSection.react",["cx","fbt","React","SUIBusinessThemeContainer.react","SUIText.react","VideoComposerPollsConstants","VideoComposerPollsLeftSectionFooter.react","VideoComposerVideoPlayerContainer.react","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return i.jsx("div",{className:"_-4g",style:{padding:"0 "+b("VideoComposerPollsConstants").SECTION_PADDING+"px"},children:i.jsxs(b("SUIBusinessThemeContainer.react"),{children:[i.jsx(j,{}),i.jsx(b("VideoComposerVideoPlayerContainer.react"),{videoComposerID:this.props.videoComposerID,height:b("VideoComposerPollsConstants").PLAYER_HEIGHT,width:b("VideoComposerPollsConstants").PLAYER_WIDTH,enableThumbnailPreview:!1}),i.jsx(b("VideoComposerPollsLeftSectionFooter.react"),{videoComposerID:this.props.videoComposerID,isAdBreakPoll:this.props.draftPoll.isAdBreakPoll})]})})};return c}(i.Component);function j(a){return i.jsx("div",{className:"__f7",children:i.jsx(b("SUIText.react"),{color:"primary",size:"header3",weight:"bold",children:h._("Create and edit polls")})})}e.exports=a}),null);
__d("VideoComposerPollsListView.react",["ix","cx","fbt","FDSButton.react","Image.react","React","ShimButton.react","SUIText.react","VideoComposerInteractivitySectionHeader.react","VideoComposerPollsActions","VideoComposerPollsUtils","VideoPollsTypedLogger","XUIAbstractGlyphButton.react","asset","cxMargin","immutable"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$4=function(){b("VideoComposerPollsActions").closeEditorAttempt(d.props.videoComposerID)},d.$3=function(){b("VideoComposerPollsActions").addNew(d.props.videoComposerID),new(b("VideoPollsTypedLogger"))().setEvent("vod_composer_add_another_poll_clicked").setOwnerID(d.props.actorID).setVideoID(d.props.videoID).setNumberOfExistingPolls(d.props.polls.size).log()},d.$1=function(a){return j.jsxs("div",{className:"_393h",children:[j.jsx("div",{className:"_393q",children:a.questionText}),j.jsx("div",{className:"_3-9a",children:j.jsx(b("XUIAbstractGlyphButton.react"),{image:j.jsx(b("Image.react"),{src:g("363763")}),label:i._("Edit"),labelIsHidden:!0,onClick:function(){return b("VideoComposerPollsActions").editPollAttempt(d.props.videoComposerID,a.id)}})}),j.jsx("div",{className:"_3-9c",children:j.jsx(b("XUIAbstractGlyphButton.react"),{image:j.jsx(b("Image.react"),{src:g("394831")}),label:i._("Delete"),labelIsHidden:!0,onClick:function(){return b("VideoComposerPollsActions").deletePollAttempt(d.props.videoComposerID,a.id)}})})]},b("VideoComposerPollsUtils").timeStringToSeconds(a.startTime))},d.$2=function(a){return j.jsxs("div",{className:"_393h",children:[j.jsx("div",{className:"_393q",children:a.questionText}),j.jsx("div",{className:"_3-9a",children:j.jsx(b("XUIAbstractGlyphButton.react"),{image:j.jsx(b("Image.react"),{src:g("363763")}),label:i._("Edit"),labelIsHidden:!0,onClick:function(){return b("VideoComposerPollsActions").editSliderAttempt(d.props.videoComposerID,a.id)}})}),j.jsx("div",{className:"_3-9c",children:j.jsx(b("XUIAbstractGlyphButton.react"),{image:j.jsx(b("Image.react"),{src:g("394831")}),label:i._("Delete"),labelIsHidden:!0,onClick:function(){return b("VideoComposerPollsActions").deleteSliderAttempt(d.props.videoComposerID,a.id)}})})]},b("VideoComposerPollsUtils").timeStringToSeconds(a.startTime))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return j.jsxs("div",{className:"_8575",children:[j.jsxs("div",{className:"_8576",children:[j.jsx(b("VideoComposerInteractivitySectionHeader.react"),{iconAsset:g("524179"),sectionTitle:b("VideoComposerPollsUtils").POLLS_SECTION_TITLE}),b("VideoComposerPollsUtils").renderInteractiveComponentListItems(this.props.polls,this.props.sliders,this.$1,this.$2),!this.props.shouldHideAddPollButton&&j.jsx("div",{className:"_393f",children:j.jsx(b("ShimButton.react"),{form:"link",onClick:this.$3,children:j.jsx(b("SUIText.react"),{color:"interactive",size:"body2",weight:"bold",children:i._("+ Add another poll")})})})]}),j.jsx("div",{className:"_393g",children:j.jsx(b("FDSButton.react"),{label:i._("Done"),use:"primary",onClick:this.$4})})]})};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerPollsRightSection.react",["ix","cx","fbt","Image.react","Link.react","React","SUIBusinessThemeContainer.react","VideoComposerPollsActions","VideoComposerPollsDetailsForm.react","VideoComposerPollsListView.react","VideoComposerPollsTypes","asset","immutable"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=b("VideoComposerPollsTypes").EditorState;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("VideoComposerPollsActions").closeEditorAttempt(d.props.videoComposerID)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.editorState,c=a===k.ADDING_NEW_POLL||a===k.EDITING_POLL||a===k.ADDING_NEW_SLIDER||a===k.EDITING_SLIDER;return j.jsx("div",{className:"_-4e",children:j.jsxs(b("SUIBusinessThemeContainer.react"),{children:[c?j.jsx(b("VideoComposerPollsDetailsForm.react"),{videoComposerID:this.props.videoComposerID,draftPoll:this.props.draftPoll,allPolls:this.props.polls,videoDuration:this.props.videoDuration,isLiveVideo:this.props.isLiveVideo,isAdBreaksPollCreationEnabled:this.props.isAdBreaksPollCreationEnabled,isImageAttachmentEnabled:this.props.isImageAttachmentEnabled,editorState:a,canSeeSlidersSection:this.props.canSeeSlidersSection,allSliders:this.props.sliders,draftSlider:this.props.draftSlider}):j.jsx(b("VideoComposerPollsListView.react"),{videoComposerID:this.props.videoComposerID,polls:this.props.polls,sliders:this.props.sliders,shouldHideAddPollButton:this.props.shouldHideAddPollButton,actorID:this.props.actorID,videoID:this.props.videoID}),j.jsx(b("Link.react"),{href:"#",className:"_-4h",onClick:this.$1,children:j.jsx(b("Image.react"),{alt:i._("Close"),src:g("478812")})})]})})};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerPollsEnableWasLiveToggle.react",["cx","fbt","FBToggleSwitch.react","InputLabel.react","React","VideoComposerPollsActions"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isSaving:!1},d.$1=function(a){b("VideoComposerPollsActions").toggleWasLiveVoting(d.props.videoComposerID,a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return i.jsx("div",{className:"_1q75",children:i.jsx(b("InputLabel.react"),{display:"inline",helpText:h._("Turn on to allow voting in your polls to continue after your live video has ended."),label:h._("Allow voting after your live video"),children:i.jsx(b("FBToggleSwitch.react"),{animate:!0,checked:this.props.enableWasLivePollVoting,disabled:this.state.isSaving,onToggle:this.$1})})})};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerPollsSection.react",["cx","fbt","ix","FDSButton.react","Image.react","Link.react","React","ShimButton.react","SUIBusinessTheme","SUIText.react","VideoComposerActions","VideoComposerField.react","VideoComposerInteractivityDeletePollAttemptDialogContainer.react","VideoComposerInteractivityDeleteSliderAttemptDialogContainer.react","VideoComposerPollsActions","VideoComposerPollsEnableWasLiveToggle.react","VideoComposerPollsUtils","VideoPollsTypedLogger","XUIAbstractGlyphButton.react","XUICard.react","XUICardSection.react","XUIText.react","asset","cxMargin","immutable"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=256,l=136;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$5=function(){b("VideoComposerActions").selectTab(d.props.videoComposerID,"ad_breaks")},d.$2=function(a){return j.jsxs(b("XUICardSection.react"),{className:"_689w",children:[j.jsx("div",{className:"_23dj",children:a.isAdBreakPoll?j.jsx(b("Image.react"),{src:i("487808")}):j.jsx(b("Image.react"),{src:i("524182")})}),j.jsx("div",{className:"_689x",children:a.questionText}),a.isAdBreakPoll&&j.jsx("div",{className:"_3-99",children:j.jsx(b("Link.react"),{onClick:d.$5,children:j.jsx(b("XUIText.react"),{display:"block",size:"meta1",children:h._("In-stream ads settings")})})}),j.jsx("div",{className:"_3-9a",children:j.jsx(b("XUIAbstractGlyphButton.react"),{image:j.jsx(b("Image.react"),{src:i("363763")}),label:h._("Edit"),labelIsHidden:!0,onClick:function(){return b("VideoComposerPollsActions").editPollAttempt(d.props.videoComposerID,a.id)}})}),j.jsx("div",{className:"_3-9b",children:j.jsx(b("XUIAbstractGlyphButton.react"),{image:j.jsx(b("Image.react"),{src:i("394831")}),label:h._("Delete"),labelIsHidden:!0,onClick:function(){return b("VideoComposerPollsActions").deletePollAttempt(d.props.videoComposerID,a.id)}})})]},b("VideoComposerPollsUtils").timeStringToSeconds(a.startTime))},d.$3=function(a){return j.jsxs(b("XUICardSection.react"),{className:"_689w",children:[j.jsx("div",{className:"_23dj",children:j.jsx(b("Image.react"),{src:i("524182")})}),j.jsx("div",{className:"_689x",children:a.questionText}),j.jsx("div",{className:"_3-9a",children:j.jsx(b("XUIAbstractGlyphButton.react"),{image:j.jsx(b("Image.react"),{src:i("363763")}),label:h._("Edit"),labelIsHidden:!0,onClick:function(){return b("VideoComposerPollsActions").editSliderAttempt(d.props.videoComposerID,a.id)}})}),j.jsx("div",{className:"_3-9b",children:j.jsx(b("XUIAbstractGlyphButton.react"),{image:j.jsx(b("Image.react"),{src:i("394831")}),label:h._("Delete"),labelIsHidden:!0,onClick:function(){return b("VideoComposerPollsActions").deleteSliderAttempt(d.props.videoComposerID,a.id)}})})]},b("VideoComposerPollsUtils").timeStringToSeconds(a.startTime))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this;if(this.props.polls.size===0&&this.props.sliders.size===0)return this.$1();var c=j.jsx("div",{style:{width:"100%"},children:j.jsxs(b("XUICard.react"),{className:"_689y",children:[b("VideoComposerPollsUtils").renderInteractiveComponentListItems(this.props.polls,this.props.sliders,this.$2,this.$3),!this.props.shouldHideAddPollButton&&j.jsx(b("XUICardSection.react"),{className:"_689w",children:j.jsx(b("ShimButton.react"),{form:"link",onClick:function(){return a.$4("vod_composer_add_another_poll_clicked")},children:j.jsx(b("SUIText.react"),{color:"interactive",size:"body2",weight:"bold",theme:b("SUIBusinessTheme"),children:h._("+ Add another poll")})})},-1)]})});return j.jsxs("div",{children:[j.jsx(b("VideoComposerField.react"),{input:c,subtitle:h._("Ask questions during your video to engage viewers and find out what they think."),title:h._("Manage polls"),showTopBorder:!1}),this.props.isLiveVideo&&this.props.showWasLiveVotingToggle&&j.jsx(b("VideoComposerField.react"),{input:j.jsx(b("VideoComposerPollsEnableWasLiveToggle.react"),{videoComposerID:this.props.videoComposerID,enableWasLivePollVoting:this.props.enableWasLiveVoting}),subtitle:h._("Allow voting in your polls to continue after your live video has ended."),title:h._("Voting"),showTopBorder:!1}),j.jsx(b("VideoComposerInteractivityDeletePollAttemptDialogContainer.react"),{videoComposerID:this.props.videoComposerID}),j.jsx(b("VideoComposerInteractivityDeleteSliderAttemptDialogContainer.react"),{videoComposerID:this.props.videoComposerID})]})};d.$1=function(){var a=this,c=h._("Ask a question about your video to engage viewers and find out what they think. You can choose when your poll appears.");return j.jsxs("div",{className:"_687d",children:[j.jsx(b("Image.react"),{height:k,width:l,src:i("849516")}),j.jsx("div",{className:"_3-8-",children:j.jsx(b("SUIText.react"),{color:"primary",size:"header3",weight:"bold",theme:b("SUIBusinessTheme"),children:h._("Create a poll for your video")})}),j.jsx("div",{className:"_687e",children:j.jsx(b("SUIText.react"),{color:"secondary",size:"body1",theme:b("SUIBusinessTheme"),children:c})}),j.jsx(b("FDSButton.react"),{isDisabled:this.props.isLiveVideo,label:h._("Create Poll"),onClick:function(){return a.$4("vod_composer_create_poll_clicked")},size:"large",use:"primary"})]})};d.$4=function(a){b("VideoComposerPollsActions").addNew(this.props.videoComposerID),new(b("VideoPollsTypedLogger"))().setEvent(a).setOwnerID(this.props.actorID).setVideoID(this.props.videoID).setNumberOfExistingPolls(this.props.polls.size).log()};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerPollsVisualizer.react",["cx","BackgroundImage.react","React","VideoComposerPollsActions","VideoComposerPollsConstants","VideoComposerPollsTypes","VideoComposerPollsUtils","VideoComposerPollVisualOverlay.react","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("VideoComposerPollsTypes").EditorState,j=48,k=j*16/9;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={rootRef:null},d.$1=function(a,c){return h.jsx(b("VideoComposerPollVisualOverlay.react"),{videoComposerID:d.props.videoComposerID,poll:a,videoDuration:d.props.endTime-d.props.startTime,rootElem:d.state.rootRef,isActive:!1,isAddingNewPoll:d.props.editorState===i.ADDING_NEW_POLL,numOfExistingPolls:d.props.polls.size},c)},d.$3=function(a){if(b("VideoComposerPollsUtils").isValidTimeString(d.props.draftPoll.startTime)&&b("VideoComposerPollsUtils").isValidTimeString(d.props.draftPoll.endTime))return null;if(!d.state.rootRef)return null;a=(a.pageX-d.state.rootRef.getBoundingClientRect().left)/b("VideoComposerPollsConstants").PLAYER_WIDTH*Math.ceil(d.props.videoDuration||0);var c=a+b("VideoComposerPollsConstants").MIN_POLL_DURATION;c>d.props.videoDuration&&(c=d.props.videoDuration,a=c-b("VideoComposerPollsConstants").MIN_POLL_DURATION);b("VideoComposerPollsActions").draftUpdateStartTime(d.props.videoComposerID,b("VideoComposerPollsUtils").secondsToTimeString(Math.round(a)));b("VideoComposerPollsActions").draftUpdateEndTime(d.props.videoComposerID,b("VideoComposerPollsUtils").secondsToTimeString(Math.round(c)))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this,c=null,d=this.props.thumbnailURLs;if(this.props.videoDuration>0){var e=this.props.polls.toArray().filter(function(b,c){return a.props.editorState!==i.EDITING_POLL||a.props.draftPoll.id!==b.id}),f=this.props.editorState===i.ADDING_NEW_POLL||this.props.editorState===i.EDITING_POLL;c=h.jsxs("div",{children:[e.map(this.$1),f?h.jsx(b("VideoComposerPollVisualOverlay.react"),{videoComposerID:this.props.videoComposerID,poll:this.props.draftPoll,videoDuration:this.props.endTime-this.props.startTime,rootElem:this.state.rootRef,isActive:!0,inactivePolls:e,isAddingNewPoll:this.props.editorState===i.ADDING_NEW_POLL,numOfExistingPolls:this.props.polls.size}):null]});var g=Math.ceil(this.props.startTime/this.props.videoDuration*d.length);g=Math.min(d.length-1,g);var k=Math.max(g,Math.floor(this.props.endTime/this.props.videoDuration*d.length));k=Math.min(d.length-1,k);d=d.reduce(function(a,b,c){c>=g&&c<=k&&a.push(b);return a},[]);d=this.$2(d)}return h.jsxs("div",{className:"_4ioa",ref:function(b){return!a.state.rootRef&&a.setState({rootRef:b})},style:{height:j},onMouseDown:this.$3,children:[h.jsx(l,{thumbnailURLs:d}),c]})};d.$2=function(a){var c=k*a.length;if(c>b("VideoComposerPollsConstants").PLAYER_WIDTH)return a;var d=b("VideoComposerPollsConstants").PLAYER_WIDTH-c,e=Math.ceil(d/c)+1;a=a.reduce(function(a,b){var c=e;while(c-->0)a.push(b);return a},[]);return a};return c}(h.Component);function l(a){var c=b("VideoComposerPollsConstants").PLAYER_WIDTH-k,d=a.thumbnailURLs.length,e=d>1?c/(a.thumbnailURLs.length-1):0;return h.jsx("div",{children:a.thumbnailURLs.map(function(a,c){return h.jsx("div",{style:{left:c*e},className:"_39jg",children:h.jsx(b("BackgroundImage.react"),{width:k,height:j,src:a,backgroundSize:"cover"})},c)})})}e.exports=a}),null);
__d("VideoComposerPollsAttachAdBreakSetting.react",["cx","fbt","FBToggleSwitch.react","React","SUIText.react","VideoComposerPollsSettingRow.react","VideoComposerStores","cxMargin","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.draftPoll.isAdBreakPoll,c=this.props.draftPoll.id!==null&&this.props.draftPoll.id!==void 0&&this.props.draftPoll.id!=="";if(c&&!this.props.draftPoll.isAdBreakPoll||b("VideoComposerStores").getPollsStore(this.props.videoComposerID).numAdBreakPolls(this.props.allPolls)>0)return null;var d=h._("Poll viewers while showing ads");c=i.jsxs("div",{className:"_2htp",children:[i.jsx(b("FBToggleSwitch.react"),{animate:!0,disabled:!this.props.draftPoll.canChangePollType||c&&this.props.draftPoll.isAdBreakPoll,checked:a,onToggle:this.props.onAttachAdBreak}),i.jsx("div",{className:"_2hxv",children:i.jsx(b("SUIText.react"),{color:"secondary",size:"body1",weight:"bold",children:a?h._("YES"):h._("NO")})})]});return i.jsx(b("VideoComposerPollsSettingRow.react"),{className:"_3-8-",label:d,settingNode:c,align:"end"})};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerPollAdBreakDescription.react",["cx","fbt","React","SUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return i.jsxs("div",{className:"_73vw",children:[i.jsx("div",{className:"_73vx",children:i.jsx(b("SUIText.react"),{color:"primary",size:"header3",weight:"normal",children:h._("Automatic placement")})}),i.jsx("div",{className:"_73vy",children:i.jsx(b("SUIText.react"),{color:"disabled",size:"body1",weight:"normal",children:h._("Ads will be placed automatically at natural breaks in your video, or you can select Cancel to go back and choose your own placements.")})})]})};return c}(i.PureComponent);e.exports=a}),null);
__d("VideoComposerPollsLeftSectionFooter.react",["fbt","React","SimpleNUXMessage","SimpleNUXMessageTypes","VideoComposerPollAdBreakDescription.react","VideoComposerPollsPlacementVisualizerContainer.react","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=15e3;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={nuxShown:!b("SimpleNUXMessage").hasUserSeenMessage(b("SimpleNUXMessageTypes").VIDEO_COMPOSER_POLLS_SCRUBBER_NUX),timeoutID:null},d.$1=function(){b("SimpleNUXMessage").markMessageSeenByUser(b("SimpleNUXMessageTypes").VIDEO_COMPOSER_POLLS_SCRUBBER_NUX),window.clearTimeout(d.state.timeoutID),d.setState({nuxShown:!1,timeoutID:null})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this;if(this.props.isAdBreakPoll)return h.jsx(b("VideoComposerPollAdBreakDescription.react"),{});this.state.nuxShown&&this.state.timeoutID===null&&this.setState({timeoutID:window.setTimeout(function(){a.$1()},i)});return[h.jsx(b("VideoComposerPollsPlacementVisualizerContainer.react"),{videoComposerID:this.props.videoComposerID,ref:"nuxAnchor"}),h.jsx(b("XUIAmbientNUX.react"),{shown:this.state.nuxShown,contextRef:function(){return a.refs.nuxAnchor},position:"below",onCloseButtonClick:this.$1,children:g._("Use this scrubber to give your poll a start and end time.")})]};return c}(h.PureComponent);e.exports=a}),null);
__d("VideoComposerQuestionsActions",["VideoComposerActionTypes","VideoComposerDispatchers"],(function(a,b,c,d,e,f){"use strict";a=function(a){var c={type:b("VideoComposerActionTypes").QUESTIONS_ADD_NEW};b("VideoComposerDispatchers").get(a).dispatch(c)};c=function(a){var c={type:b("VideoComposerActionTypes").QUESTIONS_CANCEL_CHANGES_ATTEMPT};b("VideoComposerDispatchers").get(a).dispatch(c)};d=function(a){var c={type:b("VideoComposerActionTypes").QUESTIONS_CLOSE_EDITOR_ATTEMPT};b("VideoComposerDispatchers").get(a).dispatch(c)};f=function(a,c){c={type:b("VideoComposerActionTypes").QUESTIONS_DRAFT_UPDATE_END_TIME,time:c};b("VideoComposerDispatchers").get(a).dispatch(c)};var g=function(a,c){c={type:b("VideoComposerActionTypes").QUESTIONS_DRAFT_UPDATE_QUESTION,text:c};b("VideoComposerDispatchers").get(a).dispatch(c)},h=function(a,c){c={type:b("VideoComposerActionTypes").QUESTIONS_DRAFT_UPDATE_START_TIME,time:c};b("VideoComposerDispatchers").get(a).dispatch(c)},i=function(a,c){c={type:b("VideoComposerActionTypes").QUESTIONS_EDIT_ATTEMPT,questionID:c};b("VideoComposerDispatchers").get(a).dispatch(c)},j=function(a){var c={type:b("VideoComposerActionTypes").QUESTIONS_SAVE};b("VideoComposerDispatchers").get(a).dispatch(c)},k=function(a,c){c={type:b("VideoComposerActionTypes").QUESTIONS_DELETE_ATTEMPT,questionID:c};b("VideoComposerDispatchers").get(a).dispatch(c)},l=function(a){var c={type:b("VideoComposerActionTypes").QUESTIONS_CANCEL_CHANGES_ABANDON};b("VideoComposerDispatchers").get(a).dispatch(c)},m=function(a){var c={type:b("VideoComposerActionTypes").QUESTIONS_CLOSE_EDITOR_ABANDON};b("VideoComposerDispatchers").get(a).dispatch(c)},n=function(a){var c={type:b("VideoComposerActionTypes").QUESTIONS_CANCEL_CHANGES_CONFIRM};b("VideoComposerDispatchers").get(a).dispatch(c)},o=function(a){var c={type:b("VideoComposerActionTypes").QUESTIONS_CLOSE_EDITOR_CONFIRM};b("VideoComposerDispatchers").get(a).dispatch(c)};e.exports={addNew:a,closeEditorAttempt:d,cancelChangesAttempt:c,draftUpdateEndTime:f,draftUpdateQuestion:g,draftUpdateStartTime:h,editQuestionAttempt:i,save:j,deleteQuestionAttempt:k,cancelChangesAbandon:l,closeEditorAbandon:m,cancelChangesConfirm:n,closeEditorConfirm:o}}),null);
__d("VideoComposerQuestionsConstants",["VideoComposerDialogConstants"],(function(a,b,c,d,e,f){"use strict";a=16;c=360;d=b("VideoComposerDialogConstants").DIALOG_WIDTH-c;f=d-2*a;c=f/b("VideoComposerDialogConstants").SIXTEEN_NINE;d={SECTION_PADDING:a,PLAYER_HEIGHT:c,PLAYER_WIDTH:f,INITIAL_QUESTION_DEFAULT_DURATION:30,MIN_QUESTION_DURATION:10};e.exports=d}),null);
__d("VideoComposerQuestionVisualOverlay.react",["ix","cx","fbt","Image.react","React","ShimButton.react","Tooltip","VideoComposerPollsUtils","VideoComposerQuestionsActions","VideoComposerQuestionsConstants","VideoComposerStores","asset","nullthrows"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=16,l=20;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={slidingLeft:!1,slidingRight:!1,slidingMiddle:!1,maxAllowedLeft:0,maxAllowedRight:0,minAllowedLeft:0,minAllowedRight:0,slidingMiddleLeftX:null,slidingMiddleMouseX:null,slidingMiddleRightX:null,maxEndTime:Math.ceil(d.props.videoDuration||0),minStartTime:0,videoPreviewController:null},d.$4=function(a){var c=b("VideoComposerPollsUtils").timeStringToSeconds(d.props.question.endTime),e=0;b("nullthrows")(d.props.inactiveQuestions).forEach(function(a){a=b("VideoComposerPollsUtils").timeStringToSeconds(a.endTime);a<c&&(e=Math.max(e,a))});a=b("VideoComposerStores").getBasicStore(d.props.videoComposerID).getState();a=a.videoPreviewController;d.setState({slidingLeft:!0,minAllowedLeft:e,maxAllowedLeft:c-b("VideoComposerQuestionsConstants").MIN_QUESTION_DURATION,videoPreviewController:a});window.addEventListener("mousemove",d.$7);window.addEventListener("mouseup",d.$8)},d.$5=function(a){var c=b("VideoComposerPollsUtils").timeStringToSeconds(d.props.question.startTime),e=Math.ceil(d.props.videoDuration||0);b("nullthrows")(d.props.inactiveQuestions).forEach(function(a){a=b("VideoComposerPollsUtils").timeStringToSeconds(a.startTime);a>c&&(e=Math.min(e,a))});a=b("VideoComposerStores").getBasicStore(d.props.videoComposerID).getState();a=a.videoPreviewController;d.setState({slidingRight:!0,minAllowedRight:c+b("VideoComposerQuestionsConstants").MIN_QUESTION_DURATION,maxAllowedRight:e,videoPreviewController:a});window.addEventListener("mousemove",d.$7);window.addEventListener("mouseup",d.$8)},d.$6=function(a){var c=d.props.rootElem;if(!c)return;var e=b("VideoComposerStores").getBasicStore(d.props.videoComposerID).getState();e=e.videoPreviewController;d.setState({slidingMiddle:!0,slidingMiddleMouseX:(a.pageX-c.getBoundingClientRect().left)/b("VideoComposerQuestionsConstants").PLAYER_WIDTH*Math.ceil(d.props.videoDuration||0),slidingMiddleLeftX:b("VideoComposerPollsUtils").timeStringToSeconds(d.props.question.startTime),slidingMiddleRightX:b("VideoComposerPollsUtils").timeStringToSeconds(d.props.question.endTime),videoPreviewController:e});window.addEventListener("mousemove",d.$7);window.addEventListener("mouseup",d.$8)},d.$8=function(){d.setState({slidingRight:!1,slidingLeft:!1,slidingMiddle:!1,slidingMiddleMouseX:null,slidingMiddleLeftX:null,slidingMiddleRightX:null}),window.removeEventListener("mousemove",d.$7),window.removeEventListener("mouseup",d.$8)},d.$7=function(a){var c=d.props.rootElem;if(!c)return;if(d.state.slidingRight){var e=(a.pageX-c.getBoundingClientRect().left)/b("VideoComposerQuestionsConstants").PLAYER_WIDTH*Math.ceil(d.props.videoDuration||0);e=Math.max(e,d.state.minAllowedRight);e=Math.min(e,d.state.maxAllowedRight);d.$9(e);b("VideoComposerQuestionsActions").draftUpdateEndTime(d.props.videoComposerID,b("VideoComposerPollsUtils").secondsToTimeString(Math.round(e)))}if(d.state.slidingMiddle){e=d.state.slidingMiddleMouseX;var f=(a.pageX-c.getBoundingClientRect().left)/b("VideoComposerQuestionsConstants").PLAYER_WIDTH*Math.ceil(d.props.videoDuration||0);if(e==null){d.setState({slidingMiddleMouseX:f});return}f=f-e;if(Math.round(d.state.slidingMiddleLeftX+f)<d.state.minStartTime){f=Math.round(d.state.minStartTime-((e=d.state.slidingMiddleLeftX)!=null?e:0))}if(Math.round(d.state.slidingMiddleRightX+f)>d.state.maxEndTime){f=Math.round(d.state.maxEndTime-((e=d.state.slidingMiddleRightX)!=null?e:0))}e=b("VideoComposerPollsUtils").secondsToTimeString(Math.round(d.state.slidingMiddleLeftX+f));var g=b("VideoComposerPollsUtils").secondsToTimeString(Math.round(d.state.slidingMiddleRightX+f));d.$9(Math.round(d.state.slidingMiddleLeftX+f));b("VideoComposerQuestionsActions").draftUpdateStartTime(d.props.videoComposerID,e);b("VideoComposerQuestionsActions").draftUpdateEndTime(d.props.videoComposerID,g)}if(d.state.slidingLeft){f=(a.pageX-c.getBoundingClientRect().left)/b("VideoComposerQuestionsConstants").PLAYER_WIDTH*Math.ceil(d.props.videoDuration||0);f=Math.max(f,d.state.minAllowedLeft);f=Math.min(f,d.state.maxAllowedLeft);d.$9(f);b("VideoComposerQuestionsActions").draftUpdateStartTime(d.props.videoComposerID,b("VideoComposerPollsUtils").secondsToTimeString(Math.round(f)))}},d.$2=function(){b("VideoComposerQuestionsActions").editQuestionAttempt(d.props.videoComposerID,d.props.question.id)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=Math.ceil(this.props.videoDuration||0);if(a===0)return null;var c=this.props.question,d=b("VideoComposerPollsUtils").timeStringToSeconds(c.startTime),e=b("VideoComposerPollsUtils").timeStringToSeconds(c.endTime);if(!this.$1(d,e,a))return null;a=b("VideoComposerQuestionsConstants").PLAYER_WIDTH/a;e=a*(e-d);a=a*d;d=this.state.slidingLeft||this.state.slidingRight?null:i._("{start time} to {end time}",[i._param("start time",c.startTime),i._param("end time",c.endTime)]);c=j.jsx("div",babelHelpers["extends"]({className:"_4io7"+(this.props.isActive?" _11xt":"")},b("Tooltip").propsFor(c.questionText,"above"),{style:{left:a+e/2-l/2},children:j.jsx(b("Image.react"),{src:g("941716")})}));var f=j.jsx("div",babelHelpers["extends"]({className:"_4io9",style:{width:e,left:a}},b("Tooltip").propsFor(d,"below")));this.props.isActive||(f=j.jsx(b("ShimButton.react"),{onClick:this.$2,children:f}));a=this.props.isActive?this.$3(a,e,d):null;return j.jsxs("div",{children:[c,f,a]})};d.$3=function(a,c,d){var e={},f=null;this.state.slidingLeft?(e.left=a,f=this.props.question.startTime):this.state.slidingRight&&(e.right=b("VideoComposerQuestionsConstants").PLAYER_WIDTH-a-c,f=this.props.question.endTime);var g=k,h=j.jsx("div",{className:"_7llk"});e=j.jsx("div",{className:"_190l",style:e,children:f});f=j.jsx("div",babelHelpers["extends"]({className:"_11xv",style:{width:c,left:a}},b("Tooltip").propsFor(d,"below")));d=j.jsx("div",{className:"_11_0 _7llm _2e_v",style:{left:a-g,width:g},onMouseDown:this.$4,children:h});h=j.jsx("div",{className:"_11_0 _7llm _2e_w",style:{left:a+c-1,width:g},onMouseDown:this.$5,children:h});a=j.jsx("div",{className:"_11_0 _7llm _7kpe",style:{left:a+g,width:c},onMouseDown:this.$6});return j.jsxs("div",{children:[f,d,a,h,e]})};d.$1=function(a,c,d){return!isNaN(a)&&!isNaN(c)&&c>=0&&c<=d&&a>=0&&a<=c-b("VideoComposerQuestionsConstants").MIN_QUESTION_DURATION};d.$9=function(a){var b=this.state.videoPreviewController;b!==null&&b!==void 0&&b.seek(a)};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerQuestionsEditor.react",["cx","React","VideoComposerQuestionsCancelConfirmDialogContainer.react","VideoComposerQuestionsLeftSectionContainer.react","VideoComposerQuestionsRightSectionContainer.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsxs("div",{className:"_1yck",children:[h.jsx(b("VideoComposerQuestionsLeftSectionContainer.react"),{videoComposerID:this.props.videoComposerID}),h.jsx(b("VideoComposerQuestionsRightSectionContainer.react"),{videoComposerID:this.props.videoComposerID}),h.jsx(b("VideoComposerQuestionsCancelConfirmDialogContainer.react"),{videoComposerID:this.props.videoComposerID})]})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerQuestionsLeftSection.react",["cx","fbt","React","SUIBusinessThemeContainer.react","SUIText.react","VideoComposerQuestionsConstants","VideoComposerQuestionsLeftSectionFooter.react","VideoComposerVideoPlayerContainer.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return i.jsx("div",{className:"_-4g",style:{padding:"0 "+b("VideoComposerQuestionsConstants").SECTION_PADDING+"px"},children:i.jsxs(b("SUIBusinessThemeContainer.react"),{children:[i.jsx(j,{}),i.jsx(b("VideoComposerVideoPlayerContainer.react"),{videoComposerID:this.props.videoComposerID,height:b("VideoComposerQuestionsConstants").PLAYER_HEIGHT,width:b("VideoComposerQuestionsConstants").PLAYER_WIDTH,enableThumbnailPreview:!1}),i.jsx(b("VideoComposerQuestionsLeftSectionFooter.react"),{videoComposerID:this.props.videoComposerID})]})})};return c}(i.Component);function j(a){return i.jsx("div",{className:"__f7",children:i.jsx(b("SUIText.react"),{color:"primary",size:"header3",weight:"bold",children:h._("Create and Edit Questions")})})}e.exports=a}),null);
__d("VideoComposerQuestionsLeftSectionFooter.react",["fbt","React","SimpleNUXMessage","SimpleNUXMessageTypes","VideoComposerQuestionsPlacementVisualizerContainer.react","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=15e3;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={nuxShown:!b("SimpleNUXMessage").hasUserSeenMessage(b("SimpleNUXMessageTypes").VIDEO_COMPOSER_QUESTIONS_SCRUBBER_NUX),timeoutID:null},d.$1=function(){b("SimpleNUXMessage").markMessageSeenByUser(b("SimpleNUXMessageTypes").VIDEO_COMPOSER_QUESTIONS_SCRUBBER_NUX),window.clearTimeout(d.state.timeoutID),d.setState({nuxShown:!1,timeoutID:null})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this;this.state.nuxShown&&this.state.timeoutID===null&&this.setState({timeoutID:window.setTimeout(function(){a.$1()},i)});return[h.jsx(b("VideoComposerQuestionsPlacementVisualizerContainer.react"),{videoComposerID:this.props.videoComposerID,ref:"nuxAnchor"}),h.jsx(b("XUIAmbientNUX.react"),{shown:this.state.nuxShown,contextRef:function(){return a.refs.nuxAnchor},position:"below",onCloseButtonClick:this.$1,children:g._("Use this scrubber to give your question a start and end time.")})]};return c}(h.PureComponent);e.exports=a}),null);
__d("VideoComposerQuestionsVisualizer.react",["cx","BackgroundImage.react","React","VideoComposerPollsUtils","VideoComposerQuestionsActions","VideoComposerQuestionsConstants","VideoComposerQuestionVisualOverlay.react","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=48,j=i*16/9;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={rootRef:null},d.$1=function(a,c){return h.jsx(b("VideoComposerQuestionVisualOverlay.react"),{videoComposerID:d.props.videoComposerID,question:a,videoDuration:d.props.endTime-d.props.startTime,rootElem:d.state.rootRef,isActive:!1,isAddingNewQuestion:d.props.isAddingNewQuestion,numOfExistingQuestions:d.props.questions.size},c)},d.$3=function(a){if(b("VideoComposerPollsUtils").isValidTimeString(d.props.draftQuestion.startTime)&&b("VideoComposerPollsUtils").isValidTimeString(d.props.draftQuestion.endTime))return null;if(!d.state.rootRef)return null;a=(a.pageX-d.state.rootRef.getBoundingClientRect().left)/b("VideoComposerQuestionsConstants").PLAYER_WIDTH*Math.ceil(d.props.videoDuration||0);var c=a+b("VideoComposerQuestionsConstants").MIN_QUESTION_DURATION;c>d.props.videoDuration&&(c=d.props.videoDuration,a=c-b("VideoComposerQuestionsConstants").MIN_QUESTION_DURATION);b("VideoComposerQuestionsActions").draftUpdateStartTime(d.props.videoComposerID,b("VideoComposerPollsUtils").secondsToTimeString(Math.round(a)));b("VideoComposerQuestionsActions").draftUpdateEndTime(d.props.videoComposerID,b("VideoComposerPollsUtils").secondsToTimeString(Math.round(c)))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this,c=null,d=this.props.thumbnailURLs;if(this.props.videoDuration>0){var e=this.props.questions.toArray().filter(function(b,c){return!a.props.isEditingQuestion||a.props.draftQuestion.id!==b.id}),f=this.props.isAddingNewQuestion||this.props.isEditingQuestion;c=h.jsxs("div",{children:[e.map(this.$1),f?h.jsx(b("VideoComposerQuestionVisualOverlay.react"),{videoComposerID:this.props.videoComposerID,question:this.props.draftQuestion,videoDuration:this.props.endTime-this.props.startTime,rootElem:this.state.rootRef,isActive:!0,isAddingNewQuestion:this.props.isAddingNewQuestion,inactiveQuestions:e,numOfExistingQuestions:this.props.questions.size}):null]});var g=Math.ceil(this.props.startTime/this.props.videoDuration*d.length);g=Math.min(d.length-1,g);var j=Math.max(g,Math.floor(this.props.endTime/this.props.videoDuration*d.length));j=Math.min(d.length-1,j);d=d.reduce(function(a,b,c){c>=g&&c<=j&&a.push(b);return a},[]);d=this.$2(d)}return h.jsxs("div",{className:"_4ioa",ref:function(b){return!a.state.rootRef&&a.setState({rootRef:b})},style:{height:i},onMouseDown:this.$3,children:[h.jsx(k,{thumbnailURLs:d}),c]})};d.$2=function(a){var c=j*a.length;if(c>b("VideoComposerQuestionsConstants").PLAYER_WIDTH)return a;var d=b("VideoComposerQuestionsConstants").PLAYER_WIDTH-c,e=Math.ceil(d/c)+1;a=a.reduce(function(a,b){var c=e;while(c-->0)a.push(b);return a},[]);return a};return c}(h.Component);function k(a){var c=b("VideoComposerQuestionsConstants").PLAYER_WIDTH-j,d=a.thumbnailURLs.length,e=d>1?c/(a.thumbnailURLs.length-1):0;return h.jsx("div",{children:a.thumbnailURLs.map(function(a,c){return h.jsx("div",{style:{left:c*e},className:"_39jg",children:h.jsx(b("BackgroundImage.react"),{width:j,height:i,src:a,backgroundSize:"cover"})},c)})})}e.exports=a}),null);
__d("SphericalDirectorComponentSources",["keyMirror"],(function(a,b,c,d,e,f){a=b("keyMirror")({CROSSPOST_DIALOG_V1:"",CROSSPOST_DIALOG_V2:"",EDIT_DIALOG_V1:"",EDIT_DIALOG_V2:"",PAGE_COMPOSER_V1:"",PAGE_COMPOSER_V2:"",STANDALONE:"",UNKNOWN:""});e.exports=a}),null);
__d("SphericalDirectorGuideButton.react",["cx","Image.react","React","ShimButton.react","joinClasses"],(function(a,b,c,d,e,f,g){var h=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsx(b("ShimButton.react"),{className:b("joinClasses")(this.props.className,"_350u"),onClick:this.props.onClick,children:h.jsx(b("Image.react"),{className:"_3513",src:this.props.thumbnail})})};return c}(h.PureComponent);e.exports=a}),null);
__d("SphericalDirectorGuidePointCarouselItem.react",["cx","Image.react","React","ShimButton.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=1e3,j=60,k=60,l=k*j*i,m=j*i,n=function(a){a=Math.ceil(a/i)*i;var b=Math.floor(a/l),c=Math.floor(a/m)%k;a=Math.floor(a/i)%j;var d=b>0?""+b:"";b=b>0?":"+(c<10?"0":"")+c:""+c;c=":"+(a<10?"0":"")+a;return d+b+c};a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=this.props,d=c.isSelected,e=c.thumbnailURI,f=c.timestamp,g=c.isEditingKeyframe;c=c.isSelectedForDeletion;var i;f===0?i=null:c?i=h.jsx("div",{className:"_8xgb"}):i=h.jsx("div",{className:"_8xgc"});c=this.props.isLargeHeight?100:76;g=e?h.jsx(b("Image.react"),{className:d&&g?"_2kd7":"",width:c,height:c,src:e}):h.jsx("div",{className:"_2a8v"});return h.jsxs(b("ShimButton.react"),{className:"_2a8w"+(d?" _2a8x":"")+(this.props.timestamp===0?" _2a8y":""),onClick:function(b){return a.$1(b)},children:[g,h.jsx("div",{className:"_2a8z",children:n(f)}),i]})};d.$1=function(a){a.preventDefault(),this.props.timestamp!==0&&this.props.onSelectForDeletion()};return c}(h.PureComponent);e.exports=a}),null);
__d("SphericalDirectorGuidePointCarousel.react",["ix","cx","Image.react","Locale","React","ShimButton.react","SphericalDirectorGuidePointCarouselItem.react","fbglyph"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=8,k=80,l=6,m=100,n=15,o=32,p=16;a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this,b)||this;c.state={itemOffsetIndex:0,justifyRight:!1};c.$1=j;c.$2=k;b.isLargeHeight&&(c.$1=l,c.$2=m);return c}var d=c.prototype;d.$3=function(a){var b=this;return function(){b.setState({itemOffsetIndex:b.state.itemOffsetIndex+a,justifyRight:a>0})}};d.$4=function(a,b,c){a===c-this.$1?this.setState({itemOffsetIndex:Math.max(a,0),justifyRight:!0}):a<b?this.setState({itemOffsetIndex:Math.max(a,0),justifyRight:!1}):a>b+this.$1-1&&this.setState({itemOffsetIndex:Math.min(a-this.$1+1,c-1),justifyRight:!0})};d.UNSAFE_componentWillReceiveProps=function(a){var b=this.state.itemOffsetIndex,c=a.items,d=this.props.items,e=c.size;if(e>=d.size){d=d.findIndex(function(a){return a.isSelected});c=c.findIndex(function(a){return a.isSelected});c>=0&&c!==d&&this.$4(c,b,e)}else e<this.props.items.size&&(b>a.items.size-this.$1?this.$4(e-this.$1,b,e):e<this.$1&&this.$4(0,b,e));a.isLargeHeight!==this.props.isLargeHeight&&(this.$1=a.isLargeHeight?l:j,this.$2=a.isLargeHeight?m:k,this.$4(0,b,e))};d.render=function(){var a=this,c=this.props.items,d=this.state,e=d.itemOffsetIndex;d=d.justifyRight;c=c.map(function(c,d){var e=c.thumbnailURI,f=c.timestamp,g=c.isSelected;c=c.isSelectedForDeletion;return i.jsx(b("SphericalDirectorGuidePointCarouselItem.react"),{isSelected:g,isSelectedForDeletion:c,thumbnailURI:e,timestamp:f,isLargeHeight:a.props.isLargeHeight,onSelectForDeletion:function(){return a.props.onItemSelectedForDeletion(f)},isEditingKeyframe:a.props.isEditingKeyframe},d)});var f=c.size,h=f>this.$1,j,k,l,m;l=g("124201");m=g("124211");if(b("Locale").isRTL()){var q=[m,l];l=q[0];m=q[1]}q=0;h&&(e>0&&(q++,j=i.jsx(b("ShimButton.react"),{className:"_378v",onClick:this.$3(-1),children:i.jsx("div",{className:"_378w",children:i.jsx(b("Image.react"),{src:l})})})),e<f-this.$1&&(q++,k=i.jsx(b("ShimButton.react"),{className:"_378v",onClick:this.$3(1),children:i.jsx("div",{className:"_378w",children:i.jsx(b("Image.react"),{src:m})})})));h=e*this.$2;q>0&&(h+=h>0?d?o:n:0);q>1&&(h+=d?p:0);h*=b("Locale").isRTL()?1:-1;return i.jsxs("div",{className:"_37bw"+(this.props.isLargeHeight?" _37bx":""),children:[j,i.jsx("div",{className:"_37by"+(q===1?" _37bz":"")+(q===2?" _37b-":""),children:i.jsx("div",{className:"_37b_",style:{transform:"translateX("+h+"px)"},children:c.toJS()})}),k]})};return c}(i.PureComponent);e.exports=a}),null);
__d("SphericalDirectorGuideSection.react",["ix","cx","React","SphericalDirectorGuideButton.react","SphericalDirectorGuidePointCarousel.react","XUICardSection.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$2=function(a){if(c.$1()<1)return;a.preventDefault();c.props.onGuidePointsRemoved()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props.keyframes,c=this.$1();return i.jsx("div",{className:"_6abb",children:i.jsx(b("XUICardSection.react"),{className:"_6abc",children:i.jsxs("div",{className:"_6abd",children:[i.jsx(b("SphericalDirectorGuidePointCarousel.react"),{isEditingKeyframe:this.props.isEditingKeyframe,items:a,isLargeHeight:this.props.isLargeHeight,onItemSelectedForDeletion:this.props.onToggleGuideKeyframeForDeletion}),i.jsx(b("SphericalDirectorGuideButton.react"),{className:"_6abe"+(c<1?" _6abf":""),thumbnail:c<1?g("396629"):g("402967"),onClick:this.$2})]})})})};d.$1=function(){return this.props.keyframes.reduce(function(a,b){return a+(b.isSelectedForDeletion?1:0)},0)};return c}(i.PureComponent);e.exports=a}),null);
__d("SphericalDirectorActionType",["keyMirror"],(function(a,b,c,d,e,f){a=b("keyMirror")({CLEAR_SPHERICAL_DIRECTOR:"",RESET_VIDEO_PLAYER_CONTROLLER:"",SET_VIDEO_PLAYER_CONTROLLER:"",SET_VIDEO_UNAVAILABLE:"",UPDATE_ACTIVE_GUIDE_KEYFRAME:"",UPDATE_ADD_GUIDE_KEYFRAME:"",UPDATE_SAVE_GUIDE_KEYFRAME:"",UPDATE_REMOVE_GUIDE_KEYFRAME:"",UPDATE_DELETE_SELECTED_GUIDE_KEYFRAMES:"",UPDATE_CLEAR_GUIDE_KEYFRAMES:"",UPDATE_CURRENT_VIEWPORT:"",UPDATE_ENABLE_OMNISTAB:"",UPDATE_ERROR_MESSAGE_INFO:"",UPDATE_FOV:"",UPDATE_GUIDE_ENABLED:"",UPDATE_GUIDE_VISIBILITY:"",UPDATE_GUIDE_KEYFRAMES:"",UPDATE_SUGGESTED_GUIDE_KEYFRAMES:"",UPDATE_TOGGLE_GUIDE_KEYFRAME_FOR_DELETION:"",UPDATE_IS_EDITING_GUIDE_POINT:"",UPDATE_TAB_VISIBILITY:"",UPDATE_ORIGINAL_SPHERICAL_METADATA:"",UPDATE_PROJECTION:"",UPDATE_STEREO_MODE:"",UPDATE_HAS_SPATIAL_AUDIO:"",UPDATE_FB_SPATIAL_AUDIO_METADATA:"",UPDATE_YT_SPATIAL_AUDIO_METADATA:"",UPDATE_IS_MOBILE_PREVIEW:""});e.exports=a}),null);
__d("SphericalDirectorDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ExplicitRegistrationReactDispatcher"))({strict:!0})}),null);
__d("SphericalDirectorErrorUtils",["fbt","React","SimpleXUIDialog","SphericalVideoGuideAnimationConfig"],(function(a,b,c,d,e,f,g){var h=b("React");a=b("SphericalVideoGuideAnimationConfig").MIN_INTERVAL_MS;c=b("SphericalVideoGuideAnimationConfig").MS_PER_SECOND;var i=g._("Guide points need to be at least {seconds} seconds apart.",[g._param("seconds",a/c+1)]),j=g._("Not enough time between guide points");d={getAddPointMessage:function(){return i},getAddPointTitle:function(){return j},showAddPointDialog:function(a){b("SimpleXUIDialog").show(this.getAddPointMessage(),this.getAddPointTitle(),a);return},showFileExtensionDialog:function(a,c,d){a=g._("Unsupported file extension: {file extension}.",[g._param("file extension",a)]);c=g._("Supported file extensions are {list of supported file extensions}.",[g._param("list of supported file extensions",c)]);b("SimpleXUIDialog").show(h.jsxs("div",{children:[h.jsx("div",{children:a}),h.jsx("div",{children:c})]}),g._("File extension not supported"),d);return},showGuideOutsideLimitsDialog:function(a){b("SimpleXUIDialog").show(g._("Guide points cannot be added outside of the visible viewport."),g._("Guide Point Not In Viewport"),a);return},showFileSizeTooLargeStandaloneDialog:function(a,c){b("SimpleXUIDialog").show(g._("Video file size needs to be smaller than {max size in gb} GB. You can upload larger file sizes on your Page.",[g._param("max size in gb",a)]),g._("Exceeded file size limit"),c);return},showFileSizeTooLargeComposerDialog:function(a,c){b("SimpleXUIDialog").show(g._("360 video file size needs to be smaller than {GB} GB. Please try again with a smaller video.",[g._param("GB",a)]),g._("Video file too large"),c);return},showBitrateTooHighDialog:function(a,c){b("SimpleXUIDialog").show(g._("360 video bit rate needs to be less than {MB} MB per second. Please try again with a lower-bit-rate video.",[g._param("MB",a)]),g._("Video bit rate too high"),c);return}};e.exports=d}),null);
__d("SphericalDirectorGuideKeyframeData",["SphericalVideoGuideAnimationConfig","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("SphericalVideoGuideAnimationConfig").MIN_INTERVAL_MS;a={fieldOfViewDegrees:60,isSelected:!1,isSelectedForDeletion:!1,pitch:0,thumbnailURI:"",timestamp:0,yaw:0};c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.getFromLegacyParams=function(a){return new b({timestamp:a[0],pitch:a[1],yaw:a[2]})};var c=b.prototype;c.compare=function(a){return this.get("timestamp")-a.get("timestamp")};c.getLegacyParams=function(){return[this.timestamp,this.pitch,this.yaw]};c.isTooCloseTo=function(a){a=Math.abs(this.get("timestamp")-a.get("timestamp"));return a<g};return b}(b("immutable").Record(a));e.exports=c}),null);
__d("SphericalDirectorStore",["FluxReduceStore","ImmutableRecordWithV4Types","SphericalDirectorActionType","SphericalDirectorDispatcher","SphericalDirectorErrorUtils","SphericalDirectorGuideKeyframeData","immutable"],(function(a,b,c,d,e,f){a=b("ImmutableRecordWithV4Types").Record;var g=b("immutable").List;c={guideEnabled:!1,guideVisible:!0,guideKeyframes:g([b("SphericalDirectorGuideKeyframeData").getFromLegacyParams([0,0,0])]),suggestedGuideKeyframes:g([b("SphericalDirectorGuideKeyframeData").getFromLegacyParams([0,0,0])]),fov:60,projection:"equirectangular",stereoMode:"mono",hasSpatialAudio:!1,fbSpatialAudioMetadata:null,ytSpatialAudioMetadata:null,currentViewport:{yaw:0,pitch:0},enableOmnistab:!1,visible:!1,controller:null,unavailable:!1,isEditingGuidePoint:!1,originalSphericalMetadata:{},errorInfo:null,isMobilePreview:!0};var h=a(c);d=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return h()};d.reduce=function(a,c){switch(c.type){case b("SphericalDirectorActionType").UPDATE_CURRENT_VIEWPORT:return this.$SphericalDirectorStore1(c,a);case b("SphericalDirectorActionType").UPDATE_FOV:return this.$SphericalDirectorStore2(c,a);case b("SphericalDirectorActionType").UPDATE_GUIDE_ENABLED:return this.$SphericalDirectorStore3(c,a);case b("SphericalDirectorActionType").UPDATE_GUIDE_VISIBILITY:return this.$SphericalDirectorStore4(c,a);case b("SphericalDirectorActionType").UPDATE_GUIDE_KEYFRAMES:return this.$SphericalDirectorStore5(c,a);case b("SphericalDirectorActionType").UPDATE_SUGGESTED_GUIDE_KEYFRAMES:return this.$SphericalDirectorStore6(c,a);case b("SphericalDirectorActionType").UPDATE_ADD_GUIDE_KEYFRAME:return this.$SphericalDirectorStore7(c,a);case b("SphericalDirectorActionType").UPDATE_SAVE_GUIDE_KEYFRAME:return this.$SphericalDirectorStore8(c,a);case b("SphericalDirectorActionType").UPDATE_REMOVE_GUIDE_KEYFRAME:return this.$SphericalDirectorStore9(c,a);case b("SphericalDirectorActionType").UPDATE_DELETE_SELECTED_GUIDE_KEYFRAMES:return this.$SphericalDirectorStore10(c,a);case b("SphericalDirectorActionType").UPDATE_CLEAR_GUIDE_KEYFRAMES:return this.$SphericalDirectorStore11(c,a);case b("SphericalDirectorActionType").UPDATE_ENABLE_OMNISTAB:return this.$SphericalDirectorStore12(c,a);case b("SphericalDirectorActionType").UPDATE_TAB_VISIBILITY:return this.$SphericalDirectorStore13(c,a);case b("SphericalDirectorActionType").SET_VIDEO_PLAYER_CONTROLLER:return this.$SphericalDirectorStore14(c,a);case b("SphericalDirectorActionType").SET_VIDEO_UNAVAILABLE:return this.$SphericalDirectorStore15(c,a);case b("SphericalDirectorActionType").RESET_VIDEO_PLAYER_CONTROLLER:return this.$SphericalDirectorStore16(c,a);case b("SphericalDirectorActionType").UPDATE_ACTIVE_GUIDE_KEYFRAME:return this.$SphericalDirectorStore17(c,a);case b("SphericalDirectorActionType").UPDATE_TOGGLE_GUIDE_KEYFRAME_FOR_DELETION:return this.$SphericalDirectorStore18(c,a);case b("SphericalDirectorActionType").UPDATE_IS_EDITING_GUIDE_POINT:return this.$SphericalDirectorStore19(c,a);case b("SphericalDirectorActionType").UPDATE_ERROR_MESSAGE_INFO:return this.$SphericalDirectorStore20(c,a);case b("SphericalDirectorActionType").UPDATE_ORIGINAL_SPHERICAL_METADATA:return this.$SphericalDirectorStore21(c,a);case b("SphericalDirectorActionType").UPDATE_PROJECTION:return this.$SphericalDirectorStore22(c,a);case b("SphericalDirectorActionType").UPDATE_STEREO_MODE:return this.$SphericalDirectorStore23(c,a);case b("SphericalDirectorActionType").UPDATE_HAS_SPATIAL_AUDIO:return this.$SphericalDirectorStore24(c,a);case b("SphericalDirectorActionType").UPDATE_FB_SPATIAL_AUDIO_METADATA:return this.$SphericalDirectorStore25(c,a);case b("SphericalDirectorActionType").UPDATE_YT_SPATIAL_AUDIO_METADATA:return this.$SphericalDirectorStore26(c,a);case b("SphericalDirectorActionType").UPDATE_IS_MOBILE_PREVIEW:return this.$SphericalDirectorStore27(c,a);case b("SphericalDirectorActionType").CLEAR_SPHERICAL_DIRECTOR:a=this.getInitialState();return a;default:return a}};d.$SphericalDirectorStore1=function(a,b){b=b.set("currentViewport",{pitch:a.pitch,yaw:a.yaw});return b};d.$SphericalDirectorStore2=function(a,b){b=b.set("fov",a.fov);return b};d.$SphericalDirectorStore3=function(a,b){b=b.set("guideEnabled",a.guideEnabled);return b};d.$SphericalDirectorStore4=function(a,b){b=b.set("guideVisible",a.guideVisible);return b};d.$SphericalDirectorStore12=function(a,b){b=b.set("enableOmnistab",a.enableOmnistab);return b};d.$SphericalDirectorStore5=function(a,b){b=b.set("guideKeyframes",a.guideKeyframes);return b};d.$SphericalDirectorStore6=function(a,b){b=b.set("suggestedGuideKeyframes",a.suggestedGuideKeyframes);return b};d.$SphericalDirectorStore11=function(a,b){b=b.set("guideKeyframes",g([]));return b};d.$SphericalDirectorStore9=function(a,b){var c=this.getState();c=c.guideKeyframes;c=c;var d=c.findIndex(function(b){return b.timestamp===a.timestamp});c.get(d).isSelected&&(b=b.set("isEditingGuidePoint",!1));c=c.splice(d,1);b=b.set("guideKeyframes",c);return b};d.$SphericalDirectorStore7=function(a,c){var d=this.getState();d=d.guideKeyframes;d=d;var e=a.guideKeyframe;d=d.map(function(a){return a.set("isSelected",!1)});a=d.findIndex(function(a,b){return a.compare(e)>0});a<0&&(a=d.size);if(this.$SphericalDirectorStore28(d,e,a)){d=d.splice(a,0,e);c=c.set("guideKeyframes",d);c=c.set("isEditingGuidePoint",!0);return c}else{c=c.set("errorInfo",{text:b("SphericalDirectorErrorUtils").getAddPointMessage(),title:b("SphericalDirectorErrorUtils").getAddPointTitle(),callback:function(){},confirmOnly:!0});return c}};d.$SphericalDirectorStore8=function(a,b){var c=this.getState();c=c.guideKeyframes;c=c;var d=a.guideKeyframe;c=c.map(function(a){return a.compare(d)===0?d:a});b=b.set("guideKeyframes",c);b=b.set("isEditingGuidePoint",!1);return b};d.$SphericalDirectorStore13=function(a,b){b=b.set("visible",a.visible);return b};d.$SphericalDirectorStore14=function(a,b){b=b.set("controller",a.controller);return b};d.$SphericalDirectorStore15=function(a,b){b=b.set("unavailable",a.unavailable);return b};d.$SphericalDirectorStore16=function(a,b){a=this.getState();a=a.controller;a&&(a.destroy(),b=b.set("controller",null));b=b.set("unavailable",!1);return b};d.$SphericalDirectorStore17=function(a,b){var c=this.getState();c=c.guideKeyframes;c=c;c=c.map(function(b){return b.set("isSelected",b.timestamp===a.timestamp)});b=b.set("guideKeyframes",c);return b};d.$SphericalDirectorStore18=function(a,b){var c=this.getState();c=c.guideKeyframes;c=c;c=c.map(function(b){if(b.timestamp===a.timestamp)return b.set("isSelectedForDeletion",!b.isSelectedForDeletion);else return b});b=b.set("guideKeyframes",c);return b};d.$SphericalDirectorStore19=function(a,b){b=b.set("isEditingGuidePoint",a.isEditingGuidePoint);return b};d.$SphericalDirectorStore20=function(a,b){b=b.set("errorInfo",a.error);return b};d.$SphericalDirectorStore10=function(a,b){a=this.getState();a=a.guideKeyframes;a=a;a=a.filter(function(a){a.isSelected&&a.isSelectedForDeletion&&(b=b.set("isEditingGuidePoint",!1));return!a.isSelectedForDeletion});b=b.set("guideKeyframes",a);return b};d.$SphericalDirectorStore21=function(a,b){b=b.set("originalSphericalMetadata",a.originalSphericalMetadata);return b};d.$SphericalDirectorStore22=function(a,b){b=b.set("projection",a.projection);a.projection!=="equirectangular"&&a.projection!=="half_equirectangular"&&(b=b.set("stereoMode","mono"));return b};d.$SphericalDirectorStore23=function(a,b){b=b.set("stereoMode",a.stereoMode);a.stereoMode!=="mono"&&(b=b.set("enableOmnistab",!1));return b};d.$SphericalDirectorStore24=function(a,b){b=b.set("hasSpatialAudio",a.hasSpatialAudio);return b};d.$SphericalDirectorStore25=function(a,b){b=b.set("fbSpatialAudioMetadata",a.fbSpatialAudioMetadata);return b};d.$SphericalDirectorStore26=function(a,b){b=b.set("ytSpatialAudioMetadata",a.ytSpatialAudioMetadata);return b};d.$SphericalDirectorStore27=function(a,b){b=b.set("isMobilePreview",a.isMobilePreview);return b};d.$SphericalDirectorStore28=function(a,b,c){var d=c<a.size?!a.get(c).isTooCloseTo(b):!0;a=c>0?!a.get(c-1).isTooCloseTo(b):!0;return d&&a};d.getGuideKeyframesLegacy=function(){var a=this.getState();a=a.guideKeyframes;return a.map(function(a){return a.getLegacyParams()}).toJS()};d.getPostData=function(){var a=this.getState(),b=a.fov,c=a.enableOmnistab,d=a.projection,e=a.stereoMode;a=a.hasSpatialAudio;var f=this.getGuideKeyframesLegacy(),g=f[0][1],h=f[0][2];f.shift();h={initialHeading:Math.round(h),initialPitch:Math.round(g),fov:Math.round(b),guide_enabled:f.length>0,guide_keyframes:f,enable_omnistab:c,projection:d,stereoMode:e,hasSpatialAudio:a};return h};return c}(b("FluxReduceStore"));d.__moduleID=e.id;e.exports=new d(b("SphericalDirectorDispatcher"))}),null);
__d("SphericalDirectorAction",["SphericalDirectorActionType","SphericalDirectorDispatcher","SphericalDirectorStore"],(function(a,b,c,d,e,f){b("SphericalDirectorStore");a=function(){"use strict";function a(){}var c=a.prototype;c.clearSphericalDirector=function(){var a={type:b("SphericalDirectorActionType").CLEAR_SPHERICAL_DIRECTOR};b("SphericalDirectorDispatcher").dispatch(a)};c.updateCurrentViewport=function(a,c){a={type:b("SphericalDirectorActionType").UPDATE_CURRENT_VIEWPORT,pitch:a,yaw:c};b("SphericalDirectorDispatcher").dispatch(a)};c.updateFOV=function(a){a={type:b("SphericalDirectorActionType").UPDATE_FOV,fov:a};b("SphericalDirectorDispatcher").dispatch(a)};c.updateGuideEnabled=function(a){a={type:b("SphericalDirectorActionType").UPDATE_GUIDE_ENABLED,guideEnabled:a};b("SphericalDirectorDispatcher").dispatch(a)};c.updateGuideVisibility=function(a){a={type:b("SphericalDirectorActionType").UPDATE_GUIDE_VISIBILITY,guideVisible:a};b("SphericalDirectorDispatcher").dispatch(a)};c.updateEnableOmnistab=function(a){a={type:b("SphericalDirectorActionType").UPDATE_ENABLE_OMNISTAB,enableOmnistab:a};b("SphericalDirectorDispatcher").dispatch(a)};c.updateGuideKeyframes=function(a){a={type:b("SphericalDirectorActionType").UPDATE_GUIDE_KEYFRAMES,guideKeyframes:a};b("SphericalDirectorDispatcher").dispatch(a)};c.updateSuggestedGuideKeyframes=function(a){a={type:b("SphericalDirectorActionType").UPDATE_SUGGESTED_GUIDE_KEYFRAMES,suggestedGuideKeyframes:a};b("SphericalDirectorDispatcher").dispatch(a)};c.updateAddGuideKeyframe=function(a){a={type:b("SphericalDirectorActionType").UPDATE_ADD_GUIDE_KEYFRAME,guideKeyframe:a};b("SphericalDirectorDispatcher").dispatch(a)};c.updateSaveGuideKeyframe=function(a){a={type:b("SphericalDirectorActionType").UPDATE_SAVE_GUIDE_KEYFRAME,guideKeyframe:a};b("SphericalDirectorDispatcher").dispatch(a)};c.updateRemoveGuideKeyframe=function(a){a={type:b("SphericalDirectorActionType").UPDATE_REMOVE_GUIDE_KEYFRAME,timestamp:a};b("SphericalDirectorDispatcher").dispatch(a)};c.updateClearGuideKeyframes=function(){var a={type:b("SphericalDirectorActionType").UPDATE_CLEAR_GUIDE_KEYFRAMES};b("SphericalDirectorDispatcher").dispatch(a)};c.updateTabVisibility=function(a){a={type:b("SphericalDirectorActionType").UPDATE_TAB_VISIBILITY,visible:a};b("SphericalDirectorDispatcher").dispatch(a)};c.setVideoPlayerController=function(a){a={type:b("SphericalDirectorActionType").SET_VIDEO_PLAYER_CONTROLLER,controller:a};b("SphericalDirectorDispatcher").dispatch(a)};c.setVideoUnavailable=function(a){a={type:b("SphericalDirectorActionType").SET_VIDEO_UNAVAILABLE,unavailable:a};b("SphericalDirectorDispatcher").dispatch(a)};c.resetVideoPlayerController=function(){var a={type:b("SphericalDirectorActionType").RESET_VIDEO_PLAYER_CONTROLLER};b("SphericalDirectorDispatcher").dispatch(a)};c.updateActiveGuideKeyframe=function(a){a={type:b("SphericalDirectorActionType").UPDATE_ACTIVE_GUIDE_KEYFRAME,timestamp:a};b("SphericalDirectorDispatcher").dispatch(a)};c.updateIsEditingGuidePoint=function(a){a={type:b("SphericalDirectorActionType").UPDATE_IS_EDITING_GUIDE_POINT,isEditingGuidePoint:a};b("SphericalDirectorDispatcher").dispatch(a)};c.updateErrorMessage=function(a){a={type:b("SphericalDirectorActionType").UPDATE_ERROR_MESSAGE_INFO,error:a};b("SphericalDirectorDispatcher").dispatch(a)};c.updateToggleGuideKeyframeForDeletion=function(a){a={type:b("SphericalDirectorActionType").UPDATE_TOGGLE_GUIDE_KEYFRAME_FOR_DELETION,timestamp:a};b("SphericalDirectorDispatcher").dispatch(a)};c.updateDeleteSelectedGuideKeyframes=function(){var a={type:b("SphericalDirectorActionType").UPDATE_DELETE_SELECTED_GUIDE_KEYFRAMES};b("SphericalDirectorDispatcher").dispatch(a)};c.updateOriginalSphericalMetadata=function(a){a={type:b("SphericalDirectorActionType").UPDATE_ORIGINAL_SPHERICAL_METADATA,originalSphericalMetadata:a};b("SphericalDirectorDispatcher").dispatch(a)};c.updateProjection=function(a){a={type:b("SphericalDirectorActionType").UPDATE_PROJECTION,projection:a};b("SphericalDirectorDispatcher").dispatch(a)};c.updateStereoMode=function(a){a={type:b("SphericalDirectorActionType").UPDATE_STEREO_MODE,stereoMode:a};b("SphericalDirectorDispatcher").dispatch(a)};c.updateHasSpatialAudio=function(a){a={type:b("SphericalDirectorActionType").UPDATE_HAS_SPATIAL_AUDIO,hasSpatialAudio:a};b("SphericalDirectorDispatcher").dispatch(a)};c.updateFbSpatialAudioMetadata=function(a){a={type:b("SphericalDirectorActionType").UPDATE_FB_SPATIAL_AUDIO_METADATA,fbSpatialAudioMetadata:a};b("SphericalDirectorDispatcher").dispatch(a)};c.updateYtSpatialAudioMetadata=function(a){a={type:b("SphericalDirectorActionType").UPDATE_FB_SPATIAL_AUDIO_METADATA,ytSpatialAudioMetadata:a};b("SphericalDirectorDispatcher").dispatch(a)};c.updateIsMobilePreview=function(a){a={type:b("SphericalDirectorActionType").UPDATE_IS_MOBILE_PREVIEW,isMobilePreview:a};b("SphericalDirectorDispatcher").dispatch(a)};return a}();e.exports=new a()}),null);
__d("SphericalDirectorMetadataUtils",["SphericalDirectorAction","SphericalDirectorComponentSources","SphericalDirectorGuideKeyframeData","immutable"],(function(a,b,c,d,e,f){var g=b("immutable").List,h=40,i=90;a={initWithParams:function(a,c,d,e,f,h,i,j,k){var l;(l=b("SphericalDirectorAction")).clearSphericalDirector();l.updateEnableOmnistab(k);l.updateFOV(d);l.updateCurrentViewport(c,a);l.updateGuideEnabled(e);l.updateProjection(h);l.updateStereoMode(i);l.updateHasSpatialAudio(j);k=[[0,c,a]].concat(f).map(function(a){return b("SphericalDirectorGuideKeyframeData").getFromLegacyParams(a)});l.updateGuideKeyframes(g(k))},initWithOriginalSphericalMetadata:function(a){a.stereoMode&&b("SphericalDirectorAction").updateStereoMode(a.stereoMode);a.projectionType&&b("SphericalDirectorAction").updateProjection(a.projectionType);(a.fbSpatialAudioMetadata||a.ytSpatialAudioMetadata)&&(b("SphericalDirectorAction").updateHasSpatialAudio(!0),a.fbSpatialAudioMetadata&&b("SphericalDirectorAction").updateFbSpatialAudioMetadata(a.fbSpatialAudioMetadata),a.ytSpatialAudioMetadata&&b("SphericalDirectorAction").updateYtSpatialAudioMetadata(a.ytSpatialAudioMetadata));a.initialFOV!=null&&a.initialFOV!==0&&a.initialFOV>=h&&a.initialFOV<=i&&b("SphericalDirectorAction").updateFOV(a.initialFOV);var c=a.initialPitch!=null&&a.initialPitch!==0&&Number.isFinite(a.initialPitch)?a.initialPitch:0,d=a.initialYaw!=null&&a.initialYaw!==0&&Number.isFinite(a.initialYaw)?a.initialYaw:0;b("SphericalDirectorAction").updateCurrentViewport(c,d);d=new(b("SphericalDirectorGuideKeyframeData"))({timestamp:0,yaw:Math.round(d),pitch:Math.round(c),thumbnailURI:null,isSelected:!0});b("SphericalDirectorAction").updateSaveGuideKeyframe(d);if(a.guideData){c=a.guideData.keyframes.map(function(a){return new(b("SphericalDirectorGuideKeyframeData"))({timestamp:a.timestamp,yaw:a.yaw,pitch:a.pitch,thumbnailURI:null,isSelected:!1})});c=g([d].concat(c));b("SphericalDirectorAction").updateGuideKeyframes(c)}else c=g([d]);b("SphericalDirectorAction").updateOriginalSphericalMetadata(a)},isV1:function(a){return a===b("SphericalDirectorComponentSources").PAGE_COMPOSER_V1||a===b("SphericalDirectorComponentSources").EDIT_DIALOG_V1||a===b("SphericalDirectorComponentSources").CROSSPOST_DIALOG_V1}};e.exports=a}),null);
__d("SphericalDirectorEvents",[],(function(a,b,c,d,e,f){"use strict";e.exports={GUIDE:{KEYFRAMES_UPDATE:"SphericalDirectorVideoPreviewGuide/keyframesUpdate",CURRENT_GUIDE_POINT_UPDATE:"SphericalDirectorVideoPreviewGuide/currentGuidePointUpdate"},PREVIEW:{INITAL_VIEWPORT_UPDATE:"SphericalDirectorVideoPreview/initialViewportUpdate",GUIDE_KEYFRAMES_UPDATE:"SphericalDirectorVideoPreview/guideKeyframesUpdate",GUIDE_STATE_UPDATE:"SphericalDirectorVideoPreview/guideStateUpdate",GUIDE_VISIBILITY_UPDATE:"SphericalDirectorVideoPreview/guideVisibilityUpdate",KEYFRAME_EDITING_STATE_UPDATE:"SphericalDirectorVideoPreview/keyframeEditingStateUpdate",FIELD_OF_VIEW_UPDATE:"SphericalDirectorVideoPreview/fieldOfViewUpdate",MOBILE_PREVIEW_UPDATE:"SphericalDirectorVideoPreview/mobilePreviewUpdate",PROJECTION_UPDATE:"SphericalDirectorVideoPreview/projectionUpdate"},OVERLAY_BUTTONS:{ADD_GUIDE_POINT:"SphericalDirectorVideoPreviewOverlayButtons/addGuidePoint",SAVE_GUIDE_POINT:"SphericalDirectorVideoPreviewOverlayButtons/saveGuidePoint",EDIT_GUIDE_POINT:"SphericalDirectorVideoPreviewOverlayButtons/editGuidePoint",CREATE_THUMBNAIL:"SphericalDirectorVideoPreviewOverlayButtons/createThumbnail"},VIEWPORT_CONTROL:{VIEWPORT_UPDATE:"SphericalDirectorVideoPreviewViewportControl/viewportUpdate",FIELD_OF_VIEW_UPDATE:"SphericalDirectorVideoPreviewViewportControl/fieldOfViewUpdate"}}}),null);
__d("SphericalDirectorVideoBottomControlBarSettingsInfoMenuItem.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("div",{className:"_2a8t",children:h.jsx("div",{className:"_2a8u",children:a.label})})}e.exports=a}),null);
__d("SphericalDirectorVideoBottomControlBarSettingsMenu.react",["cx","Image.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={hovered:!1},c.$1=function(){c.setState({hovered:!0})},c.$2=function(){c.setState({hovered:!1})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return h.jsxs("div",{className:"_4qgm",onMouseEnter:this.$1,onMouseLeave:this.$2,children:[h.jsx(b("Image.react"),{src:this.state.hovered?this.props.buttonIconOnHover:this.props.buttonIconDefault}),h.jsx("div",{className:"_4qgn",children:h.jsx("div",{className:"_4qgo",children:this.props.children})})]})};return c}(h.Component);e.exports=a}),null);
__d("SphericalDirectorVideoBottomControlBarSettingsSelectableMenuItem.react",["ix","cx","Image.react","React","asset","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){return i.jsxs("a",{href:"#",className:"_6abg"+(a.disabled?" _6abh":""),onClick:a.disabled?b("emptyFunction"):a.onSelect,children:[i.jsx(b("Image.react"),{src:a.isSelected?a.disabled?g("446207"):g("384999"):g("385001")}),i.jsx("div",{className:"_2kd9"+(a.disabled?" _6abh":""),children:a.label}),i.jsx(b("Image.react"),{className:"_2kdb",src:a.disabled&&a.disabledIcon?a.disabledIcon:a.icon})]})}e.exports=a}),null);
__d("SphericalDirectorVideoPreviewEmbeddedControls",["SphericalDirectorEvents","SubscriptionsHandler","VideoControls","VideoUploadSphericalLogger"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a,c,d){var e=this;d===void 0&&(d=!1);this.$4=function(a){e.$1.updateDisplayElapsedTime(a),e.$5()};this.$5=function(){e.$1.updatePointsOfInterestConfig(e.$2.getOption("SphericalDirectorVideoPreviewGuide","getGuidePointsConfig"))};this.$2=c;this.$1=new(b("VideoControls"))(c,a,{hideSettings:!0,hideOnEvents:{autoplay:!1,finish:!1,pause:!1},showButtons:{},pointsOfInterestConfig:c.getOption("SphericalDirectorVideoPreviewGuide","getGuidePointsConfig"),displayElapsedTime:c.getOption("VideoWithSphericalGuide","enabled"),forceVisible:!0,hideGradient:!0,useDarkTheme:d});this.$3=new(b("SubscriptionsHandler"))();this.$3.addSubscriptions(this.$2.addListener("VideoWithSphericalGuide/stateToggle",this.$4),this.$2.addListener(b("SphericalDirectorEvents").GUIDE.KEYFRAMES_UPDATE,this.$5),this.$2.addListener(b("SphericalDirectorEvents").GUIDE.CURRENT_GUIDE_POINT_UPDATE,this.$5),this.$2.addListener("updateStatus",function(a){b("VideoUploadSphericalLogger").setVideoPreviewPosition(Math.round(a.position))}))}var c=a.prototype;c.destroy=function(){this.$3.release()};return a}();e.exports=a}),null);
__d("SphericalDirectorVideoBottomControlBar.react",["cx","fbt","ix","React","SphericalDirectorVideoBottomControlBarSettingsInfoMenuItem.react","SphericalDirectorVideoBottomControlBarSettingsMenu.react","SphericalDirectorVideoBottomControlBarSettingsSelectableMenuItem.react","SphericalDirectorVideoPreviewEmbeddedControls","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){this.$1=new(b("SphericalDirectorVideoPreviewEmbeddedControls"))(this.refs.controls,this.props.controller,!0)};d.componentWillUnmount=function(){this.$1.destroy()};d.render=function(){var a=this,c=this.props.hasSpatialAudio?"on":"off";return j.jsxs("div",{className:"_6aax",children:[j.jsx("div",{className:"_6aay",ref:"controls"}),j.jsxs("div",{className:"_6aaz",children:[j.jsx(b("SphericalDirectorVideoBottomControlBarSettingsMenu.react"),{buttonIconDefault:i("438982"),buttonIconOnHover:i("438981"),children:j.jsx(b("SphericalDirectorVideoBottomControlBarSettingsInfoMenuItem.react"),{label:h._("360 audio is {=}",[h._param("=",j.jsx("span",{className:"_4qgp",children:h._({"off":"off","on":"on"},[h._enum(c,{off:"off",on:"on"})])}))])})}),j.jsxs(b("SphericalDirectorVideoBottomControlBarSettingsMenu.react"),{buttonIconDefault:i("428197"),buttonIconOnHover:i("428193"),children:[j.jsxs("div",{children:[j.jsx(b("SphericalDirectorVideoBottomControlBarSettingsSelectableMenuItem.react"),{disabled:this.props.stereoMode!=="mono"&&this.props.stereoMode!=="top-bottom",disabledIcon:i("556257"),icon:i("378733"),isSelected:this.props.projection==="equirectangular",label:h._("Equirectangular"),onSelect:function(){return a.props.onProjectionSelected("equirectangular")}}),j.jsx(b("SphericalDirectorVideoBottomControlBarSettingsSelectableMenuItem.react"),{disabled:this.props.stereoMode!=="mono",disabledIcon:i("556256"),icon:i("378732"),isSelected:this.props.projection==="cubemap",label:h._("Cubemap"),onSelect:function(){return a.props.onProjectionSelected("cubemap")}}),j.jsx(b("SphericalDirectorVideoBottomControlBarSettingsSelectableMenuItem.react"),{disabled:!1,disabledIcon:i("556258"),icon:i("544471"),isSelected:this.props.projection==="half_equirectangular",label:h._("Half equirectangular"),onSelect:function(){return a.props.onProjectionSelected("half_equirectangular")}})]}),j.jsx("div",{className:"_4qm4"}),j.jsxs("div",{children:[j.jsx(b("SphericalDirectorVideoBottomControlBarSettingsSelectableMenuItem.react"),{disabled:!1,icon:i("378736"),isSelected:this.props.stereoMode==="mono",label:h._("Mono"),onSelect:function(){return a.props.onStereoModeSelected("mono")}}),j.jsx(b("SphericalDirectorVideoBottomControlBarSettingsSelectableMenuItem.react"),{disabled:this.props.projection!=="half_equirectangular",disabledIcon:i("556259"),icon:i("378738"),isSelected:this.props.stereoMode==="left-right",label:h._("Side-by-side"),onSelect:function(){return a.props.onStereoModeSelected("left-right")}}),j.jsx(b("SphericalDirectorVideoBottomControlBarSettingsSelectableMenuItem.react"),{disabled:!1,disabledIcon:i("556260"),icon:i("378739"),isSelected:this.props.stereoMode==="top-bottom",label:h._("Top\/bottom"),onSelect:function(){return a.props.onStereoModeSelected("top-bottom")}})]})]})]})]})};return c}(j.PureComponent);e.exports=a}),null);
__d("SphericalDirectorVideoConstants",[],(function(a,b,c,d,e,f){"use strict";a={VIDEO_HEIGHT_DEFAULT_PX:266,VIDEO_HEIGHT_LARGE_PX:322,VIDEO_WIDTH_PX:669};e.exports=a}),null);
__d("SphericalDirectorVideoIntroTextSection.react",["cx","fbt","React","SphericalDirectorMetadataUtils"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){var c=h._("Set guide points."),d=" ",e=h._("Your final video will automatically pan to these parts.");a=b("SphericalDirectorMetadataUtils").isV1(a.componentSource);return i.jsxs("div",{className:"_2ygq",children:[!a&&i.jsx("div",{className:"_6el3 _2ygr"}),i.jsx("div",{className:"_2ygt",children:h._("Direct your audience to the parts you want them to see")}),i.jsxs("div",{className:"_2ygu",children:[c,d,e]}),i.jsx("div",{className:"_6el3 _2ygr"})]})}e.exports=a}),null);
__d("CDSFallback.fs",[],(function(a,b,c,d,e,f){e.exports="\n  varying highp vec2 vTextureCoord;\n  varying highp vec3 vPos;\n  varying lowp float vRecompute;\n\n  uniform highp vec2 uOffset;\n  uniform sampler2D uSampler;\n\n  highp vec2 EquirectPart( highp vec3 p )\n  {\n    highp float xz = sqrt( p.x * p.x + p.z * p.z );\n    highp float lat = -atan( p.y, xz );\n    highp float t = lat / 1.57079633 / 1.01 + 0.5;\n    highp float s = atan( p.x, -p.z ) / 1.01 / (2.5 * 3.1415927) + 0.4;\n    highp vec2 st = vec2(s, t);\n    return st;\n  }\n\n  highp vec2 FacePart( highp vec3 p )\n  {\n      highp vec2 t = p.xz / p.y;\n      highp float s = sign(p.y);\n      return vec2(0.9 + t.x * s * 0.099009901,\n          0.5 - s * 0.25 - t.y * 0.247524752);\n  }\n\n  void main()\n  {\n    if (vRecompute > 0.0) {\n      highp vec3 v = normalize( vPos );\n      highp float d = length( v.xz );\n      highp vec2 t = normalize(v.xz / d + uOffset) * d;\n      v = vec3(t.x, v.y, t.y);\n      highp vec2 o;\n      if ( abs(v.y) < 0.707106781 ) {\n        o = EquirectPart( v );\n      } else {\n        o = FacePart( v );\n      }\n      gl_FragColor = texture2D( uSampler, o );\n    } else {\n      gl_FragColor = texture2D( uSampler, vTextureCoord );\n    }\n  }\n"}),null);
__d("CDSFallback.vs",[],(function(a,b,c,d,e,f){e.exports="\n  attribute vec3 aVertexPosition;\n\n  // It's actually inverse MV matrix\n  uniform mat4 uMVMatrix;\n  uniform mat4 uPMatrix;\n  uniform highp vec2 uOffset;\n\n  varying highp vec2 vTextureCoord;\n  varying highp vec3 vPos;\n  varying lowp float vRecompute;\n\n  highp vec2 EquirectPart( highp vec3 p )\n  {\n    highp float xz = sqrt( p.x * p.x + p.z * p.z );\n    highp float lat = -atan( p.y, xz );\n    highp float t = lat / 1.57079633 / 1.01 + 0.5;\n    highp float s = atan( p.x, -p.z ) / 1.01 / (2.5 * 3.1415927) + 0.4;\n    highp vec2 st = vec2(s, t);\n    return st;\n  }\n  highp vec2 FacePart( highp vec3 p )\n  {\n      highp vec2 t = p.xz / p.y;\n      highp float s = sign(p.y);\n      return vec2(0.9 + t.x * s * 0.099009901,\n          0.5 - s * 0.25 - t.y * 0.247524752);\n  }\n\n  const float eps = 0.03;\n\n  void main(void) {\n    gl_Position = uPMatrix * vec4(aVertexPosition, 1.0);\n    vPos = (uMVMatrix * vec4(aVertexPosition, 1.0)).xyz;\n    highp vec3 v = normalize( vPos );\n    highp float d = length( v.xz );\n    highp vec2 t = normalize(v.xz / d + uOffset) * d;\n    v = vec3(t.x, v.y, t.y);\n    vRecompute = 0.0;\n    if ( abs(v.y) < 0.707106781 ) {\n      vTextureCoord = EquirectPart( v );\n      vRecompute += float( vTextureCoord.x < eps * 0.5 ||\n          vTextureCoord.x > 0.8 - eps * 0.5 );\n    } else {\n      vTextureCoord = FacePart( v );\n      vRecompute += float( abs(v.y) > 1.0 - eps );\n    }\n    vRecompute += float( abs(v.y) < 0.707106781 + eps &&\n        abs(v.y) > 0.707106781 - eps );\n  }\n"}),null);
__d("CDSRenderer.fs",[],(function(a,b,c,d,e,f){e.exports="\n  varying highp vec2 vTextureCoord;\n  varying highp vec3 vPos;\n  varying lowp float vRecompute;\n  varying highp vec2 vOffset;\n\n  uniform sampler2D uSampler;\n\n  highp vec2 EquirectPart( highp vec3 p )\n  {\n    highp float xz = sqrt( p.x * p.x + p.z * p.z );\n    highp float lat = -atan( p.y, xz );\n    highp float t = lat / 1.57079633 / 1.01 + 0.5;\n    highp float s = atan( p.x, -p.z ) / 1.01 / (2.5 * 3.1415927) + 0.4;\n    highp vec2 st = vec2(s, t);\n    return st;\n  }\n\n  highp vec2 FacePart( highp vec3 p )\n  {\n      highp vec2 t = p.xz / p.y;\n      highp float s = sign(p.y);\n      return vec2(0.9 + t.x * s * 0.099009901,\n          0.5 - s * 0.25 - t.y * 0.247524752);\n  }\n\n  void main()\n  {\n    if (vRecompute > 0.0) {\n      highp vec3 v = normalize( vPos );\n      highp float d = length( v.xz );\n      highp vec2 t = normalize(v.xz / d + vOffset) * d;\n      v = vec3(t.x, v.y, t.y);\n      highp vec2 o;\n      if ( abs(v.y) < 0.707106781 ) {\n        o = EquirectPart( v );\n      } else {\n        o = FacePart( v );\n      }\n      gl_FragColor = texture2D( uSampler, o );\n    } else {\n      gl_FragColor = texture2D( uSampler, vTextureCoord );\n    }\n  }\n"}),null);
__d("CDSRenderer.vs",[],(function(a,b,c,d,e,f){e.exports="\n  attribute vec3 aVertexPosition;\n\n  uniform sampler2D uSampler;\n  // It's actually inverse MV matrix\n  uniform mat4 uMVMatrix;\n  uniform mat4 uPMatrix;\n\n  varying highp vec2 vTextureCoord;\n  varying highp vec3 vPos;\n  varying lowp float vRecompute;\n  varying highp vec2 vOffset;\n\n  highp vec2 EquirectPart( highp vec3 p )\n  {\n    highp float xz = sqrt( p.x * p.x + p.z * p.z );\n    highp float lat = -atan( p.y, xz );\n    highp float t = lat / 1.57079633 / 1.01 + 0.5;\n    highp float s = atan( p.x, -p.z ) / 1.01 / (2.5 * 3.1415927) + 0.4;\n    highp vec2 st = vec2(s, t);\n    return st;\n  }\n\n  highp vec2 FacePart( highp vec3 p )\n  {\n      highp vec2 t = p.xz / p.y;\n      highp float s = sign(p.y);\n      return vec2(0.9 + t.x * s * 0.099009901,\n          0.5 - s * 0.25 - t.y * 0.247524752);\n  }\n\n  highp vec4 extractFromSample(highp vec4 c)\n  {\n    highp float minC = min(0.5, min(c.r, min(c.g, c.b)));\n    highp float diffC = max(0.5, max(c.r, max(c.g, c.b))) - minC + 0.001;\n    return step(0.5, (c - minC) / diffC);\n  }\n\n  highp vec2 parseOffset()\n  {\n    highp float calculated_offsetX, calculated_offsetZ;\n    highp float offset_v, offset_e, offset_sig; // temp variables\n    highp vec4 texCoordsX[7], texCoordsZ[7]; // constants\n\n    texCoordsX[0] = extractFromSample(texture2D(uSampler, vec2(0.396, 1.0)));\n    texCoordsX[1] = extractFromSample(texture2D(uSampler, vec2(0.404, 1.0)));\n    texCoordsX[2] = extractFromSample(texture2D(uSampler, vec2(0.412, 1.0)));\n    texCoordsX[3] = extractFromSample(texture2D(uSampler, vec2(0.420, 1.0)));\n    texCoordsX[4] = extractFromSample(texture2D(uSampler, vec2(0.428, 1.0)));\n    texCoordsX[5] = extractFromSample(texture2D(uSampler, vec2(0.436, 1.0)));\n    texCoordsX[6] = extractFromSample(texture2D(uSampler, vec2(0.444, 1.0)));\n\n    offset_v = texCoordsX[0].r * 0.0009765625\n      + dot(texCoordsX[1].bgr, vec3(0.001953125, 0.00390625, 0.0078125))\n      + dot(texCoordsX[2].bgr, vec3(0.015625, 0.03125, 0.0625))\n      + dot(texCoordsX[3].bgr, vec3(0.125, 0.25, 0.5))\n      + 1.0;\n\n    offset_e = dot(texCoordsX[4].bgr, vec3(1.0, 2.0, 4.0))\n      + dot(texCoordsX[5].bgr, vec3(8.0, 16.0, 32.0))\n      + dot(texCoordsX[6].bg, vec2(64.0, 128.0))\n      - 127.0;\n\n    offset_sig = -2.0 * texCoordsX[6].r + 1.0;\n    calculated_offsetX = offset_sig * offset_v * pow(2.0, offset_e);\n\n\n    texCoordsZ[0] = extractFromSample(texture2D(uSampler, vec2(0.572, 1.0)));\n    texCoordsZ[1] = extractFromSample(texture2D(uSampler, vec2(0.580, 1.0)));\n    texCoordsZ[2] = extractFromSample(texture2D(uSampler, vec2(0.588, 1.0)));\n    texCoordsZ[3] = extractFromSample(texture2D(uSampler, vec2(0.596, 1.0)));\n    texCoordsZ[4] = extractFromSample(texture2D(uSampler, vec2(0.604, 1.0)));\n    texCoordsZ[5] = extractFromSample(texture2D(uSampler, vec2(0.612, 1.0)));\n    texCoordsZ[6] = extractFromSample(texture2D(uSampler, vec2(0.620, 1.0)));\n\n    offset_v = dot(texCoordsZ[0].bgr, vec3(0.0009765625, 0.001953125, 0.00390625))\n      + dot(texCoordsZ[1].bgr, vec3(0.0078125, 0.015625, 0.03125))\n      + dot(texCoordsZ[2].bgr, vec3(0.0625, 0.125, 0.25))\n      + texCoordsZ[3].b * 0.5\n      + 1.0;\n\n    offset_e = dot(texCoordsZ[3].gr, vec2(1.0, 2.0))\n      + dot(texCoordsZ[4].bgr, vec3(4.0, 8.0, 16.0))\n      + dot(texCoordsZ[5].bgr, vec3(32.0, 64.0, 128.0))\n      - 127.0;\n\n    offset_sig = 2.0 * texCoordsZ[6].b - 1.0;\n    calculated_offsetZ = offset_sig * offset_v * pow(2.0, offset_e);\n\n    return vec2(calculated_offsetX, calculated_offsetZ);\n  }\n\n  const float eps = 0.03;\n\n  void main(void) {\n    gl_Position = uPMatrix * vec4(aVertexPosition, 1.0);\n    vPos = (uMVMatrix * vec4(aVertexPosition, 1.0)).xyz;\n    highp vec3 v = normalize( vPos );\n    vOffset = parseOffset();\n    highp float d = length( v.xz );\n    highp vec2 t = normalize(v.xz / d + vOffset) * d;\n    v.xz = t.xy;\n    vRecompute = 0.0;\n    highp float abs_vy = abs(v.y);\n    if ( abs_vy < 0.707106781 ) {\n      vTextureCoord = EquirectPart( v );\n      vRecompute += float( vTextureCoord.x < eps * 0.5 ||\n          vTextureCoord.x > 0.8 - eps * 0.5 );\n    } else {\n      vTextureCoord = FacePart( v );\n      vRecompute += float( abs_vy > 1.0 - eps );\n    }\n    vRecompute += float( abs_vy < 0.707106781 + eps &&\n        abs_vy > 0.707106781 - eps );\n  }\n"}),null);
__d("DefaultRenderer.fs",[],(function(a,b,c,d,e,f){e.exports="\n  varying highp vec2 vTextureCoord;\n\n  uniform sampler2D uSampler;\n\n  void main(void) {\n    gl_FragColor = texture2D(\n      uSampler,\n      vec2(vTextureCoord.s, vTextureCoord.t)\n    );\n  }\n"}),null);
__d("DefaultRenderer.vs",[],(function(a,b,c,d,e,f){e.exports="\n  attribute vec3 aVertexPosition;\n  attribute vec2 aTextureCoord;\n\n  uniform mat4 uMVMatrix;\n  uniform mat4 uPMatrix;\n\n  varying highp vec2 vTextureCoord;\n\n  void main(void) {\n    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);\n    vTextureCoord = aTextureCoord;\n  }\n"}),null);
__d("HalfEquirect.fs",[],(function(a,b,c,d,e,f){e.exports="\n  // If changed, copy this constant to the vertex shader\n  #define FEATHER_RATIO 0.0278  // 10 / 360 degrees\n\n  uniform highp mat4 uSTMatrix;\n  uniform mediump vec2 uBoundaries;\n  uniform sampler2D uSampler;\n\n  varying highp vec2 vTextureCoord;\n  varying mediump vec4 vLeftBoundaryColor;\n  varying mediump vec4 vRightBoundaryColor;\n\n  mediump float leftBoundary;\n  mediump float rightBoundary;\n  mediump float processedX;\n\n  mediump vec4 getTextureColor() {\n    return texture2D(uSampler, (uSTMatrix * vec4(vTextureCoord, 0, 1)).xy);\n  }\n\n  mediump float getWrappedValue(mediump float value) {\n    return value + (value < leftBoundary ? 1.0 : 0.0);\n  }\n\n  mediump vec4 interpolate() {\n    mediump float interp = (processedX - rightBoundary) / (1.0 + leftBoundary - rightBoundary);\n    return mix(vRightBoundaryColor, vLeftBoundaryColor, interp);\n  }\n\n  mediump vec4 getFeatheredPixel() {\n    bool useLeftBoundary = processedX <= leftBoundary + FEATHER_RATIO;\n    mediump vec4 currColor = getTextureColor();\n    mediump vec4 boundaryColor = useLeftBoundary ? vLeftBoundaryColor : vRightBoundaryColor;\n    mediump float interp =\n      (useLeftBoundary ? (processedX - leftBoundary) : (rightBoundary - processedX))\n      / FEATHER_RATIO;\n    return mix(boundaryColor, currColor, interp);\n  }\n\n  void main(void) {\n    leftBoundary = uBoundaries.x;\n    rightBoundary = getWrappedValue(uBoundaries.y);\n\n    processedX = getWrappedValue(vTextureCoord.x);\n    bool mainImageBetweenFeatheredBounds =\n      (processedX > leftBoundary + FEATHER_RATIO)\n      && (processedX < rightBoundary - FEATHER_RATIO);\n\n    if (mainImageBetweenFeatheredBounds) {\n      gl_FragColor = getTextureColor();\n    } else if (processedX < leftBoundary || processedX > rightBoundary) {\n      gl_FragColor = interpolate();\n    } else {\n      gl_FragColor = getFeatheredPixel();\n    }\n  }\n"}),null);
__d("HalfEquirect.vs",[],(function(a,b,c,d,e,f){e.exports="\n  #define HALF_WINDOW_SIZE 20\n  #define WINDOW_SIZE 2*HALF_WINDOW_SIZE\n  #define TRIANGLE_WIDTH 0.04  // 1 / 30 triangles\n  #define INV_HEIGHT 0.005\n  #define BLUR_LENGTH float(HALF_WINDOW_SIZE)*INV_HEIGHT\n\n  // If changed, copy this definition to the fragment shader\n  #define FEATHER_RATIO 0.0278  // 10 / 360 degrees\n\n  uniform mat4 uMVMatrix;\n  uniform mat4 uPMatrix;\n  uniform mat4 uSTMatrix;\n  uniform mediump vec2 uBoundaries;\n  uniform sampler2D uSampler;\n\n  attribute vec3 aVertexPosition;\n  attribute vec2 aTextureCoord;\n\n  varying highp vec2 vTextureCoord;\n  varying mediump vec4 vLeftBoundaryColor;\n  varying mediump vec4 vRightBoundaryColor;\n\n  mediump float leftBoundary;\n  mediump float rightBoundary;\n\n  mediump float getUnWrappedValue(mediump float value) {\n    return value - (value > 1.0 ? 1.0 : 0.0);\n  }\n\n  mediump vec4 getVerticalBlurredBoundaryPixel(mediump float y, bool isLeft) {\n    mediump vec4 result = vec4(0.0);\n    mediump float boundaryFactor = FEATHER_RATIO * 0.5;\n    mediump float coordJEnd = clamp(y + BLUR_LENGTH, 0.0, 1.0);\n    mediump float coordJ = clamp(y - BLUR_LENGTH, 0.0, 1.0);\n    int numSamples = 0;\n\n    for (int j = 0; j <= WINDOW_SIZE; j++) {\n      if (coordJ > coordJEnd) {\n        break;\n      }\n      mediump float coordI = isLeft ? leftBoundary : rightBoundary;\n\n      // get boundary pixel color\n      result += texture2D(uSampler, (uSTMatrix * vec4(getUnWrappedValue(coordI), coordJ, 0, 1)).xy);\n\n      // get one more horizontal sample to average out any noise\n      coordI += boundaryFactor * (isLeft ? 1.0 : -1.0);\n      result += texture2D(uSampler, (uSTMatrix * vec4(getUnWrappedValue(coordI), coordJ, 0, 1)).xy);\n\n      numSamples += 2;\n      coordJ += INV_HEIGHT;\n    }\n\n    result.rgb /= float(numSamples);\n    result.a = 1.0;\n    return result;\n  }\n\n  mediump float getWrappedValue(mediump float value) {\n    return value + (value < leftBoundary ? 1.0 : 0.0);\n  }\n\n  void maybeSetBoundaryColors() {\n    mediump float processedX = getWrappedValue(vTextureCoord.x);\n    bool mainImageBetweenFeatheredBounds =\n      processedX > (leftBoundary + FEATHER_RATIO + TRIANGLE_WIDTH)\n      && processedX < (rightBoundary - FEATHER_RATIO - TRIANGLE_WIDTH);\n    if (mainImageBetweenFeatheredBounds) {\n      return;\n    }\n    vLeftBoundaryColor = getVerticalBlurredBoundaryPixel(vTextureCoord.y, true);\n    vRightBoundaryColor = getVerticalBlurredBoundaryPixel(vTextureCoord.y, false);\n  }\n\n  void main(void) {\n    leftBoundary = uBoundaries.x;\n    rightBoundary = getWrappedValue(uBoundaries.y);\n    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);\n    vTextureCoord = aTextureCoord;\n    maybeSetBoundaryColors();\n  }\n"}),null);
__d("TextureCubeMap.fs",[],(function(a,b,c,d,e,f){e.exports="\n  varying highp vec3 vVertexDirectionVector;\n  uniform samplerCube uSampler;\n\n  void main(void) {\n    gl_FragColor = textureCube(uSampler, vVertexDirectionVector);\n  }\n"}),null);
__d("TextureCubeMap.vs",[],(function(a,b,c,d,e,f){e.exports="\n  attribute vec3 aVertexPosition;\n\n  uniform mat4 uMVMatrix;\n  uniform mat4 uPMatrix;\n\n  varying highp vec3 vVertexDirectionVector;\n\n  void main(void) {\n    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);\n    vVertexDirectionVector = aVertexPosition;\n  }\n"}),null);
__d("SphericalShaderUtils",["CDSFallback.fs","CDSFallback.vs","CDSRenderer.fs","CDSRenderer.vs","DefaultRenderer.fs","DefaultRenderer.vs","HalfEquirect.fs","HalfEquirect.vs","TextureCubeMap.fs","TextureCubeMap.vs"],(function(a,b,c,d,e,f){a={getVertexShader:function(a){switch(a){case"cube_map":return b("TextureCubeMap.vs");case"cds":return b("CDSRenderer.vs");case"cds_fallback":return b("CDSFallback.vs");case"half_equirectangular":return b("HalfEquirect.vs");default:return b("DefaultRenderer.vs")}},getFragmentShader:function(a){switch(a){case"cube_map":return b("TextureCubeMap.fs");case"cds":return b("CDSRenderer.fs");case"cds_fallback":return b("CDSFallback.fs");case"half_equirectangular":return b("HalfEquirect.fs");default:return b("DefaultRenderer.fs")}}};e.exports=a}),null);
__d("SphericalRenderer",["DOM","EventEmitter","EventListener","SphericalShaderUtils","gl-matrix"],(function(a,b,c,d,e,f){var g=b("gl-matrix").glMatrix,h=b("gl-matrix").mat4,i=Math.max(window.devicePixelRatio||1,1),j=.25,k=.75,l=function(){"use strict"};c=function(c){"use strict";babelHelpers.inheritsLoose(d,c);function d(a,b,d){var e;e=c.call(this)||this;e.$SphericalRenderer2=d;e.$SphericalRenderer23=d.fieldOfView;e.$SphericalRenderer18=!0;e.$SphericalRenderer17=a;e.$SphericalRenderer1=b;e.$SphericalRenderer11=h.create();e.$SphericalRenderer12=h.create();e.$SphericalRenderer13=h.create();e.$SphericalRenderer14=h.create();e.$SphericalRenderer3=!1;e.$SphericalRenderer20=[];e.$SphericalRenderer22=null;e.$SphericalRenderer21=null;e.$SphericalRenderer19=d.projectionType==="unpadded_cubestrip";e.$SphericalRenderer9=d.projectionType==="rotated_cubemap";e.$SphericalRenderer7=d.projectionType==="cds_barrel";e.$SphericalRenderer8=!1;e.$SphericalRenderer10=d.projectionType==="half_equirectangular";e.$SphericalRenderer25=new l();e.$SphericalRenderer25.ready=!1;e.$SphericalRenderer26=!1;e.$SphericalRenderer4=e.$SphericalRenderer27.bind(babelHelpers.assertThisInitialized(e));e.$SphericalRenderer5=e.$SphericalRenderer28.bind(babelHelpers.assertThisInitialized(e));e.$SphericalRenderer1.addEventListener("webglcontextlost",e.$SphericalRenderer4);e.$SphericalRenderer1.addEventListener("webglcontextrestored",e.$SphericalRenderer5);e.$SphericalRenderer29();return e}var e=d.prototype;e.destroy=function(){this.removeAllListeners(),this.$SphericalRenderer1.removeEventListener("webglcontextlost",this.$SphericalRenderer4),this.$SphericalRenderer1.removeEventListener("webglcontextrestored",this.$SphericalRenderer5)};e.reconfigure=function(a,b,c){c===void 0&&(c=!1),c&&(this.$SphericalRenderer20=[],this.$SphericalRenderer22=null,this.$SphericalRenderer21=null),this.$SphericalRenderer23=b.fieldOfView,this.$SphericalRenderer17=a,this.$SphericalRenderer2=b,this.$SphericalRenderer19=b.projectionType==="unpadded_cubestrip",this.$SphericalRenderer9=b.projectionType==="rotated_cubemap",this.$SphericalRenderer7=b.projectionType==="cds_barrel",this.$SphericalRenderer10=b.projectionType==="half_equirectangular",this.$SphericalRenderer25.framebuffer=null,this.$SphericalRenderer26=!1,this.$SphericalRenderer29()};e.hasRenderingContext=function(){return!this.$SphericalRenderer3};e.$SphericalRenderer27=function(a){a.preventDefault(),this.emit("renderingContextLost"),this.$SphericalRenderer3=!0};e.$SphericalRenderer28=function(a){this.$SphericalRenderer3=!1,this.$SphericalRenderer29(),this.emit("renderingContextRestore")};e.setAutoUpdateTexture=function(a){this.$SphericalRenderer18=a};e.updateFieldOfView=function(a){this.$SphericalRenderer23!==a&&(this.$SphericalRenderer23=a,this.$SphericalRenderer30())};e.updateViewportDimensions=function(a,b){this.$SphericalRenderer1.width=a*i,this.$SphericalRenderer1.height=b*i,this.$SphericalRenderer30()};e.$SphericalRenderer30=function(){h.perspective(this.$SphericalRenderer11,g.toRadian(this.$SphericalRenderer23),this.$SphericalRenderer1.width/this.$SphericalRenderer1.height,.1,100),this.$SphericalRenderer6.viewport(0,0,this.$SphericalRenderer6.drawingBufferWidth,this.$SphericalRenderer6.drawingBufferHeight)};e.$SphericalRenderer31=function(){this.$SphericalRenderer14=h.create(),this.$SphericalRenderer10&&(this.$SphericalRenderer14[0]=1/this.$SphericalRenderer24.x/(k-j),this.$SphericalRenderer14[5]=1/this.$SphericalRenderer24.y,this.$SphericalRenderer14[12]=-(this.$SphericalRenderer14[0]*j),this.$SphericalRenderer24={x:1,y:1})};e.$SphericalRenderer29=function(){this.$SphericalRenderer32();if(this.$SphericalRenderer7){var a=this.$SphericalRenderer6.getParameter(this.$SphericalRenderer6.MAX_VERTEX_TEXTURE_IMAGE_UNITS);this.$SphericalRenderer8=a==0}this.updateViewportDimensions(this.$SphericalRenderer1.clientWidth,this.$SphericalRenderer1.clientHeight);this.$SphericalRenderer24={x:this.$SphericalRenderer2.stereoFormat==="left-right"?2:1,y:this.$SphericalRenderer2.stereoFormat==="top-bottom"?2:1};this.$SphericalRenderer31();this.$SphericalRenderer33();this.$SphericalRenderer34();this.$SphericalRenderer6.clearColor(0,0,0,1);this.$SphericalRenderer17.setAttribute("crossorigin","anonymous")};e.getScreenshotDataURL=function(a,b,c,d){if(!this.$SphericalRenderer6||this.$SphericalRenderer3)return"";this.render(a,b);return this.$SphericalRenderer1.toDataURL(c,d)};e.$SphericalRenderer32=function(){if(this.$SphericalRenderer6&&!this.$SphericalRenderer3)return;if(!(a.WebGLRenderingContext||a.WebGL2RenderingContext))throw new Error("WebGLRenderingContext not available.");var c=["webgl2","webgl","experimental-webgl"],d=null,e=null,f=b("EventListener").listen(this.$SphericalRenderer1,"webglcontextcreationerror",function(a){return e=a.statusMessage});for(var g=0;g<c.length;g++){try{d=this.$SphericalRenderer1.getContext(c[g])}catch(a){}if(d)break}f.remove();if(!d){e||(e="Unknown error.");throw new Error("Failed to acquire 3D rendering context: "+e)}this.$SphericalRenderer6=d;this.$SphericalRenderer3=!1};e.$SphericalRenderer33=function(){var a=this.$SphericalRenderer7?this.$SphericalRenderer8?"cds_fallback":"cds":this.$SphericalRenderer19?"cube_map":this.$SphericalRenderer10?"half_equirectangular":"default",b=this.$SphericalRenderer35(a);a=this.$SphericalRenderer36(a);this.$SphericalRenderer16=this.$SphericalRenderer6.createProgram();this.$SphericalRenderer6.attachShader(this.$SphericalRenderer16,b);this.$SphericalRenderer6.attachShader(this.$SphericalRenderer16,a);this.$SphericalRenderer6.linkProgram(this.$SphericalRenderer16)};e.$SphericalRenderer37=function(){if(!this.$SphericalRenderer6.getProgramParameter(this.$SphericalRenderer16,this.$SphericalRenderer6.LINK_STATUS)){var a="",b=this.$SphericalRenderer6.getAttachedShaders(this.$SphericalRenderer16);for(var c=0;c<b.length;c++)if(!this.$SphericalRenderer6.getShaderParameter(b[c],this.$SphericalRenderer6.COMPILE_STATUS)){a="Shader error: "+this.$SphericalRenderer6.getShaderInfoLog(b[c]);break}a===""&&(a="Program link error: "+this.$SphericalRenderer6.getProgramInfoLog(this.$SphericalRenderer16));throw new Error(a)}this.$SphericalRenderer6.useProgram(this.$SphericalRenderer16);this.$SphericalRenderer16.vertexPositionAttribute=this.$SphericalRenderer6.getAttribLocation(this.$SphericalRenderer16,"aVertexPosition");this.$SphericalRenderer6.enableVertexAttribArray(this.$SphericalRenderer16.vertexPositionAttribute);this.$SphericalRenderer16.pMatrixUniform=this.$SphericalRenderer6.getUniformLocation(this.$SphericalRenderer16,"uPMatrix");this.$SphericalRenderer16.mvMatrixUniform=this.$SphericalRenderer6.getUniformLocation(this.$SphericalRenderer16,"uMVMatrix");this.$SphericalRenderer16.stMatrixUniform=this.$SphericalRenderer6.getUniformLocation(this.$SphericalRenderer16,"uSTMatrix");this.$SphericalRenderer16.samplerUniform=this.$SphericalRenderer6.getUniformLocation(this.$SphericalRenderer16,"uSampler");!this.$SphericalRenderer19&&!this.$SphericalRenderer7&&(this.$SphericalRenderer16.textureCoordAttribute=this.$SphericalRenderer6.getAttribLocation(this.$SphericalRenderer16,"aTextureCoord"),this.$SphericalRenderer6.enableVertexAttribArray(this.$SphericalRenderer16.textureCoordAttribute));this.$SphericalRenderer8&&(this.$SphericalRenderer16.offsetUniform=this.$SphericalRenderer6.getUniformLocation(this.$SphericalRenderer16,"uOffset"));this.$SphericalRenderer10&&(this.$SphericalRenderer16.boundariesUniform=this.$SphericalRenderer6.getUniformLocation(this.$SphericalRenderer16,"uBoundaries"));this.$SphericalRenderer26=!0};e.$SphericalRenderer34=function(){this.$SphericalRenderer15=this.$SphericalRenderer6.createTexture();this.$SphericalRenderer15.image=this.$SphericalRenderer17;var a=this.$SphericalRenderer19?this.$SphericalRenderer6.TEXTURE_CUBE_MAP:this.$SphericalRenderer6.TEXTURE_2D;this.$SphericalRenderer6.bindTexture(a,this.$SphericalRenderer15);this.$SphericalRenderer6.texParameteri(a,this.$SphericalRenderer6.TEXTURE_MAG_FILTER,this.$SphericalRenderer6.LINEAR);this.$SphericalRenderer6.texParameteri(a,this.$SphericalRenderer6.TEXTURE_MIN_FILTER,this.$SphericalRenderer6.LINEAR);this.$SphericalRenderer6.texParameteri(a,this.$SphericalRenderer6.TEXTURE_WRAP_S,this.$SphericalRenderer6.CLAMP_TO_EDGE);this.$SphericalRenderer6.texParameteri(a,this.$SphericalRenderer6.TEXTURE_WRAP_T,this.$SphericalRenderer6.CLAMP_TO_EDGE)};e.$SphericalRenderer38=function(a,b,c,d,e,f){b===void 0&&(b=30);c===void 0&&(c=30);d===void 0&&(d=Math.PI);e===void 0&&(e=Math.PI*2);f===void 0&&(f=0);var g=2,h=[],i=[],j,k;for(j=0;j<=b;j++){var l=(j/b-.5)*d,m=Math.sin(l);l=Math.cos(l);for(k=0;k<=c;k++){var n=(k/c-.5)*e+f,o=Math.sin(n);n=Math.cos(n);n=n*l;var p=m;o=o*l;var q=k/c/this.$SphericalRenderer24.x,r=j/b/this.$SphericalRenderer24.y;i.push(q);i.push(r);h.push(g*n);h.push(g*p);h.push(g*o)}}q=[];for(j=0;j<b;j++)for(k=0;k<c;k++){r=j*(c+1)+k;n=r+c+1;q.push(r);q.push(n);q.push(r+1);q.push(n);q.push(n+1);q.push(r+1)}this.$SphericalRenderer20[a]=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ARRAY_BUFFER,this.$SphericalRenderer20[a]);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ARRAY_BUFFER,new Float32Array(i),this.$SphericalRenderer6.STATIC_DRAW);this.$SphericalRenderer20[a].itemSize=2;this.$SphericalRenderer20[a].numItems=i.length/2;this.$SphericalRenderer22=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ARRAY_BUFFER,this.$SphericalRenderer22);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ARRAY_BUFFER,new Float32Array(h),this.$SphericalRenderer6.STATIC_DRAW);this.$SphericalRenderer22&&(this.$SphericalRenderer22.itemSize=3,this.$SphericalRenderer22.numItems=h.length/3);this.$SphericalRenderer21=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ELEMENT_ARRAY_BUFFER,this.$SphericalRenderer21);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ELEMENT_ARRAY_BUFFER,new Uint16Array(q),this.$SphericalRenderer6.STATIC_DRAW);this.$SphericalRenderer21&&(this.$SphericalRenderer21.itemSize=1,this.$SphericalRenderer21.numItems=q.length)};e.$SphericalRenderer39=function(a,b){var c=40,d=60,e=2,f=[],g=[],h=[],i=[],j,k;for(j=0;j<=c;j++){var l=j/c-.5,m=l*.5*Math.PI,n=Math.sin(m);m=Math.cos(m);var o=(l/a+.5)/this.$SphericalRenderer24.y;for(k=0;k<=d;k++){var p=k/d-.5,q=p*2*Math.PI,r=Math.sin(q);q=Math.cos(q);var s=q*m*e,t=n*e,u=r*m*e;p=(p/a*.8+.4)/this.$SphericalRenderer24.x;g.push(p);g.push(o);f.push(s);f.push(t);f.push(u);if(j==0||j==c){p=Math.sign(1-j);r=(r*.1/a+.9)/this.$SphericalRenderer24.x;q=(q*.25*p/a+.5+l*.5)/this.$SphericalRenderer24.y;i.push(r);i.push(q);h.push(s);h.push(t);h.push(u)}}}p=f.length/3;g.push.apply(g,i);f.push.apply(f,h);r=f.length/3;q=Math.sin(Math.PI*.25)*e;g.push(.9/this.$SphericalRenderer24.x);g.push(.25/this.$SphericalRenderer24.y);f.push(0);f.push(-q);f.push(0);g.push(.9/this.$SphericalRenderer24.x);g.push(.75/this.$SphericalRenderer24.y);f.push(0);f.push(q);f.push(0);s=[];for(j=0;j<c;j++)for(k=0;k<d;k++){t=j*(d+1)+k;u=t+d+1;s.push(t);s.push(u);s.push(t+1);s.push(u);s.push(u+1);s.push(t+1)}for(var m=0;m<2;m++)for(k=0;k<d;k++)s.push(k+p+m*(d+1)),s.push(k+p+m*(d+1)+1),s.push(r+m);this.$SphericalRenderer20[b]=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ARRAY_BUFFER,this.$SphericalRenderer20[b]);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ARRAY_BUFFER,new Float32Array(g),this.$SphericalRenderer6.STATIC_DRAW);this.$SphericalRenderer20[b].itemSize=2;this.$SphericalRenderer20[b].numItems=g.length/2;this.$SphericalRenderer22=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ARRAY_BUFFER,this.$SphericalRenderer22);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ARRAY_BUFFER,new Float32Array(f),this.$SphericalRenderer6.STATIC_DRAW);this.$SphericalRenderer22&&(this.$SphericalRenderer22.itemSize=3,this.$SphericalRenderer22.numItems=f.length/3);this.$SphericalRenderer21=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ELEMENT_ARRAY_BUFFER,this.$SphericalRenderer21);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ELEMENT_ARRAY_BUFFER,new Uint16Array(s),this.$SphericalRenderer6.STATIC_DRAW);this.$SphericalRenderer21&&(this.$SphericalRenderer21.itemSize=1,this.$SphericalRenderer21.numItems=s.length)};e.$SphericalRenderer40=function(a,b,c){this.$SphericalRenderer9?a=[1,3,7,5,6,7,3,2,0,2,3,1,4,5,7,6,4,6,2,0,0,1,5,4]:a=[5,1,3,7,0,4,6,2,6,7,3,2,0,1,5,4,4,5,7,6,1,0,2,3];var d=[];for(var e=0;e<a.length;e++){var f=a[e]>>2&1,g=a[e]>>1&1,h=a[e]>>0&1;d.push(f*2-1);d.push(g*2-1);d.push(h*2-1)}this.$SphericalRenderer22=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ARRAY_BUFFER,this.$SphericalRenderer22);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ARRAY_BUFFER,new Float32Array(d),this.$SphericalRenderer6.STATIC_DRAW);this.$SphericalRenderer22&&(this.$SphericalRenderer22.itemSize=3,this.$SphericalRenderer22.numItems=d.length/3);if(!this.$SphericalRenderer19){var i;f=[];if(this.$SphericalRenderer9){g=this.$SphericalRenderer15.image.videoWidth/2;b=g/(Math.floor(g/32)*32);h=(1-1/b)/2;e=3;d=2;g=1/d;i=1/e}else h=(1-1/b)/2,e=2,d=3,g=1/d,i=1/e;for(var b=0;b<e;++b)for(var j=0;j<d;++j){var k=e-1-b,l=j;f.push((l+h)*g);f.push((k+h)*i);f.push((l+1-h)*g);f.push((k+h)*i);f.push((l+1-h)*g);f.push((k+1-h)*i);f.push((l+h)*g);f.push((k+1-h)*i)}this.$SphericalRenderer20[c]=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ARRAY_BUFFER,this.$SphericalRenderer20[c]);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ARRAY_BUFFER,new Float32Array(f),this.$SphericalRenderer6.STATIC_DRAW);this.$SphericalRenderer20[c].itemSize=2;this.$SphericalRenderer20[c].numItems=f.length/2}l=[];for(var k=0;k<a.length;k+=4)l.push(k),l.push(k+2),l.push(k+1),l.push(k),l.push(k+3),l.push(k+2);this.$SphericalRenderer21=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ELEMENT_ARRAY_BUFFER,this.$SphericalRenderer21);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ELEMENT_ARRAY_BUFFER,new Uint16Array(l),this.$SphericalRenderer6.STATIC_DRAW);this.$SphericalRenderer21&&(this.$SphericalRenderer21.itemSize=1,this.$SphericalRenderer21.numItems=l.length)};e.$SphericalRenderer35=function(a){var c=this.$SphericalRenderer6.createShader(this.$SphericalRenderer6.VERTEX_SHADER);a=b("SphericalShaderUtils").getVertexShader(a);this.$SphericalRenderer6.shaderSource(c,a);this.$SphericalRenderer6.compileShader(c);return c};e.$SphericalRenderer36=function(a){var c=this.$SphericalRenderer6.createShader(this.$SphericalRenderer6.FRAGMENT_SHADER);a=b("SphericalShaderUtils").getFragmentShader(a);this.$SphericalRenderer6.shaderSource(c,a);this.$SphericalRenderer6.compileShader(c);return c};e.$SphericalRenderer41=function(){this.$SphericalRenderer25.framebuffer=this.$SphericalRenderer6.createFramebuffer(),this.$SphericalRenderer6.bindFramebuffer(this.$SphericalRenderer6.FRAMEBUFFER,this.$SphericalRenderer25.framebuffer),this.$SphericalRenderer6.framebufferTexture2D(this.$SphericalRenderer6.FRAMEBUFFER,this.$SphericalRenderer6.COLOR_ATTACHMENT0,this.$SphericalRenderer6.TEXTURE_2D,this.$SphericalRenderer15,0),this.$SphericalRenderer6.bindFramebuffer(this.$SphericalRenderer6.FRAMEBUFFER,null)};e.$SphericalRenderer42=function(){this.$SphericalRenderer6.bindFramebuffer(this.$SphericalRenderer6.FRAMEBUFFER,this.$SphericalRenderer25.framebuffer),this.$SphericalRenderer6.readPixels(0,this.$SphericalRenderer15.image.videoHeight-1,this.$SphericalRenderer15.image.videoWidth,1,this.$SphericalRenderer6.RGBA,this.$SphericalRenderer6.UNSIGNED_BYTE,this.$SphericalRenderer25.pixels),this.$SphericalRenderer6.bindFramebuffer(this.$SphericalRenderer6.FRAMEBUFFER,null)};e.$SphericalRenderer43=function(){this.$SphericalRenderer25.bitmask.fill(0);var a=[0,0,0],b=this.$SphericalRenderer15.image.videoWidth/125,c=Math.round(b),d;for(d=0;d<33;++d){var e=Math.floor((45+d)*b)*4,f=128,g=127;for(var h=0;h<3;++h){a[h]=0;for(var i=0;i<c;++i)a[h]+=this.$SphericalRenderer25.pixels[e+i*4+(2-h)];a[h]/=c;f=Math.max(f,a[h]);g=Math.min(g,a[h])}for(h=0;h<3;++h){i=(a[h]-g)/(f-g);this.$SphericalRenderer25.bitmask[d*3+h]=i>.5?1:0}}for(d=0;d<12;++d){e=0;for(var i=0;i<8;++i)e+=this.$SphericalRenderer25.bitmask[1+d*8+i]*Math.pow(2,i);this.$SphericalRenderer25.dataView.setUint8(d,e)}this.$SphericalRenderer25.offsetX=this.$SphericalRenderer25.dataView.getFloat32(0,!0);this.$SphericalRenderer25.offsetZ=-this.$SphericalRenderer25.dataView.getFloat32(8,!0)};e.$SphericalRenderer44=function(){try{this.$SphericalRenderer25.ready||(this.$SphericalRenderer25.pixels=new Uint8Array(3840*4),this.$SphericalRenderer25.bitmask=new Uint8Array(33*3),this.$SphericalRenderer25.dataView=new DataView(new ArrayBuffer(12)),this.$SphericalRenderer25.ready=!0),this.$SphericalRenderer25.framebuffer||this.$SphericalRenderer41(),this.$SphericalRenderer42(),this.$SphericalRenderer43()}catch(a){this.emit("renderingError",a)}};e.$SphericalRenderer45=function(){if(this.$SphericalRenderer19)this.$SphericalRenderer46();else{this.$SphericalRenderer6.bindTexture(this.$SphericalRenderer6.TEXTURE_2D,this.$SphericalRenderer15);this.$SphericalRenderer6.pixelStorei(this.$SphericalRenderer6.UNPACK_FLIP_Y_WEBGL,!this.$SphericalRenderer7);try{this.$SphericalRenderer6.texImage2D(this.$SphericalRenderer6.TEXTURE_2D,0,this.$SphericalRenderer6.RGBA,this.$SphericalRenderer6.RGBA,this.$SphericalRenderer6.UNSIGNED_BYTE,this.$SphericalRenderer15.image)}catch(a){this.emit("renderingError",a)}this.$SphericalRenderer8&&this.$SphericalRenderer44()}};e.renderWithRotationMatrix=function(a){if(this.$SphericalRenderer3)return;this.$SphericalRenderer18&&this.$SphericalRenderer45();this.$SphericalRenderer12=a;this.$SphericalRenderer7&&h.rotateY(this.$SphericalRenderer12,this.$SphericalRenderer12,g.toRadian(-90));this.$SphericalRenderer47()};e.render=function(a,b){if(this.$SphericalRenderer3)return;this.$SphericalRenderer18&&this.$SphericalRenderer45();this.$SphericalRenderer9?(h.identity(this.$SphericalRenderer12),h.rotateX(this.$SphericalRenderer12,this.$SphericalRenderer12,g.toRadian(-b)),h.rotateY(this.$SphericalRenderer12,this.$SphericalRenderer12,g.toRadian(a-135)),h.rotateZ(this.$SphericalRenderer12,this.$SphericalRenderer12,g.toRadian(45))):(this.$SphericalRenderer7&&(a-=90),h.identity(this.$SphericalRenderer12),h.rotateX(this.$SphericalRenderer12,this.$SphericalRenderer12,-g.toRadian(b)),h.rotateY(this.$SphericalRenderer12,this.$SphericalRenderer12,g.toRadian(a)));this.$SphericalRenderer47()};e.$SphericalRenderer47=function(){if(this.$SphericalRenderer19)this.$SphericalRenderer22===null&&this.$SphericalRenderer40(this.$SphericalRenderer2.projectionType,this.$SphericalRenderer2.expansionCoef||0,0);else{this.$SphericalRenderer26||(this.$SphericalRenderer37(),this.$SphericalRenderer6.activeTexture(this.$SphericalRenderer6.TEXTURE0));var a=this.$SphericalRenderer15.image.videoWidth;this.$SphericalRenderer2.projectionType==="cubemap"||this.$SphericalRenderer2.projectionType==="rotated_cubemap"?a in this.$SphericalRenderer20||this.$SphericalRenderer40(this.$SphericalRenderer2.projectionType,this.$SphericalRenderer2.expansionCoef||0,a):this.$SphericalRenderer2.projectionType==="barrel"?a in this.$SphericalRenderer20||this.$SphericalRenderer39(this.$SphericalRenderer2.expansionCoef||1.01,a):this.$SphericalRenderer7?a in this.$SphericalRenderer20||this.$SphericalRenderer38(a,40,40,Math.PI/180*111,Math.PI/180*142,-Math.PI/2):a in this.$SphericalRenderer20||this.$SphericalRenderer38(a);this.$SphericalRenderer7||(this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ARRAY_BUFFER,this.$SphericalRenderer20[a]),this.$SphericalRenderer6.vertexAttribPointer(this.$SphericalRenderer16.textureCoordAttribute,this.$SphericalRenderer20[a].itemSize,this.$SphericalRenderer6.FLOAT,!1,0,0))}this.$SphericalRenderer6.uniform1i(this.$SphericalRenderer16.samplerUniform,0);this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ARRAY_BUFFER,this.$SphericalRenderer22);this.$SphericalRenderer22&&this.$SphericalRenderer6.vertexAttribPointer(this.$SphericalRenderer16.vertexPositionAttribute,this.$SphericalRenderer22.itemSize,this.$SphericalRenderer6.FLOAT,!1,0,0);this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ELEMENT_ARRAY_BUFFER,this.$SphericalRenderer21);this.$SphericalRenderer6.uniformMatrix4fv(this.$SphericalRenderer16.pMatrixUniform,!1,this.$SphericalRenderer11);this.$SphericalRenderer10&&this.$SphericalRenderer6.uniform2f(this.$SphericalRenderer16.boundariesUniform,j,k);this.$SphericalRenderer7?(h.invert(this.$SphericalRenderer13,this.$SphericalRenderer12),this.$SphericalRenderer6.uniformMatrix4fv(this.$SphericalRenderer16.mvMatrixUniform,!1,this.$SphericalRenderer13),this.$SphericalRenderer8&&this.$SphericalRenderer6.uniform2f(this.$SphericalRenderer16.offsetUniform,this.$SphericalRenderer25.offsetX,this.$SphericalRenderer25.offsetZ)):this.$SphericalRenderer6.uniformMatrix4fv(this.$SphericalRenderer16.mvMatrixUniform,!1,this.$SphericalRenderer12);this.$SphericalRenderer10&&this.$SphericalRenderer6.uniformMatrix4fv(this.$SphericalRenderer16.stMatrixUniform,!1,this.$SphericalRenderer14);this.$SphericalRenderer21&&this.$SphericalRenderer6.drawElements(this.$SphericalRenderer6.TRIANGLES,this.$SphericalRenderer21.numItems,this.$SphericalRenderer6.UNSIGNED_SHORT,0)};e.$SphericalRenderer48=function(){var a=this.$SphericalRenderer6.getParameter(this.$SphericalRenderer6.MAX_CUBE_MAP_TEXTURE_SIZE),b=this.$SphericalRenderer15.image.width;return Math.min(a,b)};e.$SphericalRenderer46=function(){var a=this.$SphericalRenderer48(),c=this.$SphericalRenderer15.image.width,d=b("DOM").create("canvas",{width:a,height:a});d=d.getContext("2d");this.$SphericalRenderer6.bindTexture(this.$SphericalRenderer6.TEXTURE_CUBE_MAP,this.$SphericalRenderer15);this.$SphericalRenderer6.pixelStorei(this.$SphericalRenderer6.UNPACK_FLIP_Y_WEBGL,!1);for(var e=0;e<6;e++){d.drawImage(this.$SphericalRenderer15.image,0,e*c,c,c,0,0,a,a);var f=new Uint8Array(d.getImageData(0,0,a,a).data);this.$SphericalRenderer6.texImage2D(this.$SphericalRenderer6.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,this.$SphericalRenderer6.RGBA,a,a,0,this.$SphericalRenderer6.RGBA,this.$SphericalRenderer6.UNSIGNED_BYTE,f)}};return d}(b("EventEmitter"));e.exports=c}),null);
__d("SphericalVideoComponentDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;babelHelpers.assertThisInitialized(b).dispatch=b.dispatch.bind(babelHelpers.assertThisInitialized(b));return b}return b}(b("ExplicitRegistrationReactDispatcher"));e.exports=new a({strict:!0})}),null);
__d("SphericalVideoComponentActions",["SphericalVideoComponentDispatcher"],(function(a,b,c,d,e,f){a={registerVideoPlayerController:function(a){a={type:"SphericalVideoComponent/registerVideoPlayerController",controller:a,id:a.getVideoPlayerID()};b("SphericalVideoComponentDispatcher").dispatch(a)},updateVideoPlayerState:function(a,c){a={type:"SphericalVideoComponent/updateVideoPlayerState",id:a,state:c};b("SphericalVideoComponentDispatcher").dispatch(a)},togglePlay:function(a,c){a={type:"SphericalVideoComponent/togglePlay",id:a,nextIsPlaying:c};b("SphericalVideoComponentDispatcher").dispatch(a)},toggleChannelView:function(a,c){a={type:"SphericalVideoComponent/toggleChannelView",id:a,isInChannelView:c};b("SphericalVideoComponentDispatcher").dispatch(a)},toggleTahoe:function(a,c){a={type:"SphericalVideoComponent/toggleTahoe",id:a,isInTahoe:c};b("SphericalVideoComponentDispatcher").dispatch(a)},setCurrentVideoTime:function(a,c){a={type:"SphericalVideoComponent/setCurrentPlaytime",id:a,time:c};b("SphericalVideoComponentDispatcher").dispatch(a)},setVideoDuration:function(a,c){a={type:"SphericalVideoComponent/setVideoDuration",id:a,durationSeconds:c};b("SphericalVideoComponentDispatcher").dispatch(a)},seekStart:function(a){a={type:"SphericalVideoComponent/seekStart",id:a};b("SphericalVideoComponentDispatcher").dispatch(a)},registerSphericalViewportControl:function(a,c,d){a={type:"SphericalVideoComponent/registerSphericalViewportControl",id:a,sphericalViewportControl:c,viewport:d};b("SphericalVideoComponentDispatcher").dispatch(a)},changeViewport:function(a,c,d,e){a={type:"SphericalVideoComponent/changeViewport",id:a,yaw:c,pitch:d,fieldOfView:e};b("SphericalVideoComponentDispatcher").dispatch(a)},toggleViewportGrabbed:function(a){a={type:"SphericalVideoComponent/toggleViewportGrabbed",id:a};b("SphericalVideoComponentDispatcher").dispatch(a)},updateViewportDimensions:function(a,c,d){a={type:"SphericalVideoComponent/updateViewportDimensions",id:a,width:c,height:d};b("SphericalVideoComponentDispatcher").dispatch(a)},setUserIsInactive:function(a){a={type:"SphericalVideoComponent/setUserIsInactive",id:a};b("SphericalVideoComponentDispatcher").dispatch(a)},setInitialViewport:function(a,c,d){a={type:"SphericalVideoComponent/setInitialViewport",id:a,yaw:c,pitch:d};b("SphericalVideoComponentDispatcher").dispatch(a)}};e.exports=a}),null);
__d("SphericalVideoHalfEquirectConfig",["SphericalMediaConstants"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("SphericalMediaConstants")).HALF_EQUIRECT_PARTIAL_LIMIT,h=a.RB_FRICTION,i=a.RB_MAX_SPRING_DEGREE,j=a.RB_MAX_STRETCH_X_DEGREE,k=a.RB_MAX_STRETCH_Y_DEGREE,l=a.RB_SPRING_FACTOR;c={getHalfEquirectangularPartialLimits:function(){return{partialLeftDegrees:g,partialRightDegrees:g,partialTopDegrees:g,partialBottomDegrees:g}},getHalfEquirectangularControllerConfig:function(){return{enableRubberBanding:!0,springFactor:l,maxSpringDegrees:i,maxStretchXDegrees:j,maxStretchYDegrees:k,rubberBandConstant:h}}};e.exports=c}),null);
__d("MovingAverage",[],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a,b){this.$1=b;this.$2=0;this.$3=(b||0)*a;this.$4=a;this.$5=0;this.$6=[];for(var c=0;c<a;c++)this.$6[c]=b}var b=a.prototype;b.add=function(a){if(a==null)return this.addNull();a=a==null?0:a;this.$3-=this.$6[this.$2]||0;this.$3+=a;this.$6[this.$2]==null&&(this.$5++,this.$5=Math.min(this.$5,this.$4));this.$6[this.$2]=a;this.$2=(this.$2+1)%this.$4;return this};b.addNull=function(){this.$3-=this.$6[this.$2]||0;this.$6[this.$2]!=null&&(this.$5--,this.$5=Math.max(this.$5,0));this.$6[this.$2]=null;this.$2=(this.$2+1)%this.$4;return this};b.getAvg=function(){return this.$3/this.getLength()};b.getSum=function(){return this.$3};b.getLength=function(){return this.$5<this.$4&&this.$5!==0&&this.$1==null?this.$5:this.$4};return a}();e.exports=a}),null);
__d("SphericalVideoPerformanceTracker",["MovingAverage","SphericalMediaPerformanceTypedLogger","Visibility","performance"],(function(a,b,c,d,e,f){var g;a=60;c=1e3;var h=10*c,i=15,j=c/a;d=function(){"use strict";function a(){var c=this;a.$1=!1;this.$10=new(b("MovingAverage"))(500,j);this.$11=new(b("SphericalMediaPerformanceTypedLogger"))();this.$12=!1;this.$7=-1;this.$8=-1;this.$5=!1;this.$6=!1;var d=function(){c.$4=!1,c.$16()},e=function(){c.$4=!0};b("Visibility").isHidden()?d():e();b("Visibility").addListener(b("Visibility").HIDDEN,d);b("Visibility").addListener(b("Visibility").VISIBLE,e)}a.get=function(){a.$2||(a.$2=new a());return a.$2};var c=a.prototype;c.addFrameAtTime=function(b){if(!this.$4)return;if(b!==this.$9){a.$1=!0;this.$9=b;if(!this.$3)this.$3=b;else{var c=b-this.$3;this.$3=b;this.$10.add(c);this.$12||(this.$17(),this.$12=!0)}}};c.setProjection=function(a){this.$15=a;return this};c.trackSpatialAudioMetrics=function(){this.$5=!0,this.$14=0};c.isTrackingSpatialAudioMetrics=function(){return this.$5};c.addAudioStutter=function(){this.isTrackingSpatialAudioMetrics()||this.trackSpatialAudioMetrics(),this.$14++};c.enterSpatialAudioFallback=function(){this.isTrackingSpatialAudioMetrics()||this.trackSpatialAudioMetrics(),this.$7=(g||(g=b("performance"))).now()};c.exitSpatialAudioFallback=function(){this.isTrackingSpatialAudioMetrics()||this.trackSpatialAudioMetrics();if(this.$7>0){var a=Math.trunc((g||(g=b("performance"))).now()-this.$7);this.$7=-1;this.$11.setProductName("spatial_audio").setEvent("audio_fallback").setFallbackDuration(a).setFallbackReason("channel").log();this.$11.clear()}};c.trackSphericalRendererMetrics=function(){this.$6=!0};c.isTrackingSphericalRendererMetrics=function(){return this.$6};c.isOne360VideoActive=function(){return a.$1};c.enterSphericalRendererSetup=function(){this.isTrackingSphericalRendererMetrics()||this.trackSphericalRendererMetrics(),this.$8=(g||(g=b("performance"))).now()};c.exitSphericalRendererSetup=function(){this.isTrackingSphericalRendererMetrics()||this.trackSphericalRendererMetrics();if(this.$8>0){var a=Math.trunc((g||(g=b("performance"))).now()-this.$8);this.$8=-1;this.$11.setProductName("spherical_video").setEvent("spherical_renderer_setup").setProjection(this.$15).setSphericalRendererSetupDuration(a).log();this.$11.clear()}};c.log=function(){if(!this.isOne360VideoActive())return;else{var a=Math.trunc(this.$18()*Math.pow(10,i));this.$11.setProductName("spherical_video").setEvent("snapshot").setNormalizedFrameTime(a);this.$15&&this.$11.setProjection(this.$15);this.$5&&(this.$11.setProductName("spatial_audio").setNumSpatialAudioStutters(this.$14),this.$14=0);this.$11.log();this.$11.clear()}this.$16()};c.destroy=function(){clearInterval(this.$13),a.$2=null};c.$18=function(){return this.$10.getAvg()/j};c.$16=function(){this.$3=null,a.$1=!1};c.$17=function(){this.$13=setInterval(this.log.bind(this),h)};return a}();e.exports=d}),null);
__d("SphericalVideoComponentConstants",[],(function(a,b,c,d,e,f){a={ACTIONS:{REGISTER_VIDEO_PLAYER_CONTROLLER:"SphericalVideoComponent/registerVideoPlayerController",UPDATE_VIDEO_PLAYER_STATE:"SphericalVideoComponent/updateVideoPlayerState",TOGGLE_PLAY:"SphericalVideoComponent/togglePlay",SET_CURRENT_PLAY_TIME:"SphericalVideoComponent/setCurrentPlaytime",SET_VIDEO_DURATION:"SphericalVideoComponent/setVideoDuration",TOGGLE_CHANNEL_VIEW:"SphericalVideoComponent/toggleChannelView",TOGGLE_TAHOE:"SphericalVideoComponent/toggleTahoe",SEEK_START:"SphericalVideoComponent/seekStart",REGISTER_SPHERICAL_VIEWPORT_CONTROL:"SphericalVideoComponent/registerSphericalViewportControl",CHANGE_VIEWPORT:"SphericalVideoComponent/changeViewport",TOGGLE_VIEWPORT_GRABBED:"SphericalVideoComponent/toggleViewportGrabbed",UPDATE_VIEWPORT_DIMENSIONS:"SphericalVideoComponent/updateViewportDimensions",SET_USER_IS_INACTIVE:"SphericalVideoComponent/setUserIsInactive",SET_INITIAL_VIEWPORT:"SphericalVideoComponent/setInitialViewport"}};e.exports=a}),null);
__d("SphericalViewportControlStore",["invariant","FluxMapStore","Rect","SphericalVideoComponentActions","SphericalVideoComponentConstants","SphericalVideoComponentDispatcher","SphericalViewportControl","Vector","clearTimeout","curry","immutable","setTimeout","throttle"],(function(a,b,c,d,e,f,g){"use strict";a={fieldOfView:-1,initialPitch:-1,initialYaw:-1,isInChannelView:!1,isInTahoe:!1,pitch:-1,viewport:null,viewportGrabbed:!1,viewportHeight:0,viewportInactivityTimeout:0,viewportPanStart:!1,viewportWidth:0,yaw:-1};var h=5e3,i=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b("immutable").Record(a));c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return b("immutable").Map({sphericalViewportControls:b("immutable").Map({}),sphericalViewportControlStates:b("immutable").Map({})})};d.reduce=function(a,c){var d=c.id;switch(c.type){case b("SphericalVideoComponentConstants").ACTIONS.REGISTER_SPHERICAL_VIEWPORT_CONTROL:var e=c.sphericalViewportControl,f=c.viewport;e instanceof b("SphericalViewportControl")||g(0,4470);e={"new":!1,control:e};a=this.$SphericalViewportStore1(a,d,e,f);break;case b("SphericalVideoComponentConstants").ACTIONS.CHANGE_VIEWPORT:e=c.yaw;f=c.pitch;var h=c.fieldOfView;a=this.$SphericalViewportStore2(a,d,e,f,h);break;case b("SphericalVideoComponentConstants").ACTIONS.TOGGLE_VIEWPORT_GRABBED:a=this.$SphericalViewportStore3(a,d);break;case b("SphericalVideoComponentConstants").ACTIONS.UPDATE_VIEWPORT_DIMENSIONS:e=c.width;f=c.height;a=this.$SphericalViewportStore4(a,d,e,f);break;case b("SphericalVideoComponentConstants").ACTIONS.TOGGLE_CHANNEL_VIEW:h=c.isInChannelView;a=this.$SphericalViewportStore5(a,d,h);break;case b("SphericalVideoComponentConstants").ACTIONS.TOGGLE_TAHOE:e=c.isInTahoe;a=this.$SphericalViewportStore6(a,d,e);break;case b("SphericalVideoComponentConstants").ACTIONS.SET_USER_IS_INACTIVE:a=this.$SphericalViewportStore7(a,d);break;case b("SphericalVideoComponentConstants").ACTIONS.SET_INITIAL_VIEWPORT:a=this.$SphericalViewportStore8(a,d,c.yaw,c.pitch);break;default:break}return a};d.getViewportControlWrapper=function(a){var b=this.get("sphericalViewportControls");if(b&&b.has(a))return b.get(a);else throw new Error("Video player controller with id "+a+" is not registered")};d.getOrientation=function(a){a=this.$SphericalViewportStore9(this.getState(),a);var b=a.yaw;a=a.pitch;return{yaw:b,pitch:a}};d.getUserIsActive=function(a){a=this.$SphericalViewportStore9(this.getState(),a);return a.viewportInactivityTimeout!==0};d.getFieldOfView=function(a){return this.$SphericalViewportStore9(this.getState(),a).fieldOfView};d.getViewportGrabbed=function(a){return this.$SphericalViewportStore9(this.getState(),a).viewportGrabbed};d.getInitialYaw=function(a){return this.$SphericalViewportStore9(this.getState(),a).initialYaw};d.getInitialPitch=function(a){return this.$SphericalViewportStore9(this.getState(),a).initialPitch};d.getIsInChannelView=function(a){return this.$SphericalViewportStore9(this.getState(),a).isInChannelView};d.getIsInTahoe=function(a){return this.$SphericalViewportStore9(this.getState(),a).isInTahoe};d.getViewportDimensions=function(a){return{width:this.$SphericalViewportStore9(this.getState(),a).viewportWidth,height:this.$SphericalViewportStore9(this.getState(),a).viewportHeight}};d.getViewportPositionVector=function(a){a=this.$SphericalViewportStore9(this.getState(),a);return new(b("Rect"))(a.viewport).getPositionVector()};d.getViewportCenterVector=function(a){var c=this.getViewportPositionVector(a);a=this.getViewportDimensions(a);var d=a.width;a=a.height;d=new(b("Vector"))(d/2,a/2);return c.add(d)};d.onViewportGrabbed=function(a){b("SphericalVideoComponentActions").toggleViewportGrabbed(a)};d.onViewportPanStart=function(a,b){return};d.onViewportPanEnd=function(a){b("SphericalVideoComponentActions").toggleViewportGrabbed(a)};d.onViewportChange=function(a,c,d,e){b("SphericalVideoComponentActions").changeViewport(a,c,d,e)};d.$SphericalViewportStore1=function(a,c,d,e){var f=a.get("sphericalViewportControls");if(f.has(c))return a;f=f.set(c,d);a=a.set("sphericalViewportControls",f);f=a.get("sphericalViewportControlStates");var g=d.control;d=new i({yaw:g.getOrientation().x,pitch:g.getOrientation().y,fieldOfView:d["new"]?d.control.getOrientation().vFOV:d.control.getVerticalFieldOfView(),viewport:e});f=f.set(c,d);a=a.set("sphericalViewportControlStates",f);g.addListener("viewportChange",b("throttle")(b("curry")(this.onViewportChange,c),16));g.addListener("updateViewportBegin",b("curry")(this.onViewportGrabbed,c));g.addListener("updateViewportEnd",b("curry")(this.onViewportPanEnd,c));return a};d.$SphericalViewportStore2=function(a,c,d,e,f){var g=[["yaw",d],["pitch",e],["fieldOfView",f]];for(var h=0;h<g.length;h++){var i=g[h],j=i[0];i=i[1];a=this.$SphericalViewportStore10(a,c,j,i)}j=this.getViewportControlWrapper(c);j["new"]?j.control.setOrientation({x:d,y:e,vFOV:f}):(j.control.setSphericalOrientation(d,e),j.control.setFieldOfView(f));i=this.$SphericalViewportStore9(a,c).get("viewportInactivityTimeout");b("clearTimeout")(i);a=this.$SphericalViewportStore10(a,c,"viewportInactivityTimeout",this.$SphericalViewportStore11(c));return a};d.$SphericalViewportStore11=function(a){return b("setTimeout")(function(){return b("SphericalVideoComponentActions").setUserIsInactive(a)},h)};d.$SphericalViewportStore7=function(a,b){a=this.$SphericalViewportStore10(a,b,"viewportInactivityTimeout",0);return a};d.$SphericalViewportStore8=function(a,b,c,d){a=this.$SphericalViewportStore10(a,b,"initialYaw",c);a=this.$SphericalViewportStore10(a,b,"initialPitch",d);return a};d.$SphericalViewportStore4=function(a,b,c,d){a=this.$SphericalViewportStore10(a,b,"viewportWidth",c);a=this.$SphericalViewportStore10(a,b,"viewportHeight",d);return a};d.$SphericalViewportStore3=function(a,b){var c=this.$SphericalViewportStore9(a,b).viewportGrabbed;return this.$SphericalViewportStore10(a,b,"viewportGrabbed",!c)};d.$SphericalViewportStore5=function(a,b,c){return this.$SphericalViewportStore10(a,b,"isInChannelView",c)};d.$SphericalViewportStore6=function(a,b,c){return this.$SphericalViewportStore10(a,b,"isInTahoe",c)};d.$SphericalViewportStore10=function(a,b,c,d){var e=this.$SphericalViewportStore9(a,b),f=a.get("sphericalViewportControlStates");e=e.set(c,d);f=f.set(b,e);return a.set("sphericalViewportControlStates",f)};d.$SphericalViewportStore9=function(a,b){a=a.get("sphericalViewportControlStates").get(b);a||this.$SphericalViewportStore12(b);return a};d.$SphericalViewportStore12=function(a){throw new Error("Viewport control with id "+a+" does not exist")};return c}(b("FluxMapStore"));c.__moduleID=e.id;e.exports=new c(b("SphericalVideoComponentDispatcher"))}),null);
__d("VideoPlayerControllerStore",["FluxMapStore","SphericalVideoComponentActions","SphericalVideoComponentConstants","SphericalVideoComponentDispatcher","VideoPlayerReasonTransitionHelper","curry","immutable"],(function(a,b,c,d,e,f){"use strict";var g=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b("immutable").Record({currentTime:-1,currentVideoPlayerState:"unknown",durationSeconds:-1,videoId:""}));a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.onVideoPlayerControllerStateChange=function(a){var c=a.getVideoPlayerID(),e=d.$VideoPlayerControllerStore6(d.getState(),c);e=e.videoPlayerState;a=a.getState();e!==a&&b("SphericalVideoComponentActions").updateVideoPlayerState(c,a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getInitialState=function(){return b("immutable").Map({videoPlayerControllers:b("immutable").Map({}),videoPlayerControllerStates:b("immutable").Map({})})};d.reduce=function(a,c){var d=c.id;switch(c.type){case b("SphericalVideoComponentConstants").ACTIONS.REGISTER_VIDEO_PLAYER_CONTROLLER:var e=c.controller;a=this.$VideoPlayerControllerStore1(a,e,d);break;case b("SphericalVideoComponentConstants").ACTIONS.UPDATE_VIDEO_PLAYER_STATE:a=this.$VideoPlayerControllerStore2(a,d,c.state);break;case b("SphericalVideoComponentConstants").ACTIONS.TOGGLE_PLAY:a=this.$VideoPlayerControllerStore3(a,d,c.nextIsPlaying);break;case b("SphericalVideoComponentConstants").ACTIONS.SET_CURRENT_PLAY_TIME:a=this.$VideoPlayerControllerStore4(a,d,c.time);break;case b("SphericalVideoComponentConstants").ACTIONS.SET_VIDEO_DURATION:a=this.$VideoPlayerControllerStore5(a,d,c.durationSeconds);break;default:break}return a};d.getVideoPlayerController=function(a){var b=this.get("videoPlayerControllers");if(b&&b.has(a))return b.get(a);else throw new Error("Video player controller with id "+a+" is not registered")};d.getIsVideoPlayable=function(a){a=this.$VideoPlayerControllerStore6(this.getState(),a).currentVideoPlayerState;return a!=="fallback"&&a!=="destroyed"&&a!=="unknown"};d.getIsPlaying=function(a){var b=this.getVideoPlayerController(a).isBuffering();a=this.$VideoPlayerControllerStore6(this.getState(),a).currentVideoPlayerState;return a==="playing"&&!b};d.getCurrentTime=function(a){return this.$VideoPlayerControllerStore6(this.getState(),a).currentTime};d.getVideoID=function(a){return this.$VideoPlayerControllerStore6(this.getState(),a).videoId};d.$VideoPlayerControllerStore1=function(a,c,d){var e=a.get("videoPlayerControllers");if(e.has(d))return a;e=e.set(d,c);a=a.set("videoPlayerControllers",e);e=a.get("videoPlayerControllerStates");var f=new g({isPlaying:c.isState("playing"),currentTime:c.getCurrentTimePosition(),videoId:c.getVideoID()});e=e.set(d,f);a=a.set("videoPlayerControllerStates",e);c.addListener("stateChange",b("curry")(this.onVideoPlayerControllerStateChange,c));c.addListener("updateStatus",b("curry")(this.onTimeUpdate,c));c.addListener("updateMetadata",b("curry")(this.onUpdateMetaData,c));c.addListener("VideoChannelController/pendingElementsShown",b("curry")(this.onToggleChannelView,c,!0));c.addListener("VideoChannelController/exitChannel",b("curry")(this.onToggleChannelView,c,!1));c.addListener("seekRequested",b("curry")(this.onSeekStart,c));c.addListener("TahoeController/enterTahoe",b("curry")(this.onToggleTahoe,c,!0));c.addListener("TahoeController/exitTahoe",b("curry")(this.onToggleTahoe,c,!1));return a};d.onTimeUpdate=function(a,c){b("SphericalVideoComponentActions").setCurrentVideoTime(a.getVideoPlayerID(),c.position)};d.onSeekStart=function(a){b("SphericalVideoComponentActions").seekStart(a.getVideoPlayerID())};d.onUpdateMetaData=function(a){b("SphericalVideoComponentActions").setVideoDuration(a.getVideoPlayerID(),a.getPlaybackDuration())};d.onToggleChannelView=function(a,c){b("SphericalVideoComponentActions").toggleChannelView(a.getVideoPlayerID(),c)};d.onToggleTahoe=function(a,c){b("SphericalVideoComponentActions").toggleTahoe(a.getVideoPlayerID(),c)};d.$VideoPlayerControllerStore3=function(a,c,d){var e=this.getVideoPlayerController(c);c=this.$VideoPlayerControllerStore6(this.getState(),c);c=c.currentVideoPlayerState;(c==="playing"&&!d||c==="paused"&&d)&&(d?e.play(new(b("VideoPlayerReasonTransitionHelper"))("user_initiated")):e.pause());return a};d.$VideoPlayerControllerStore4=function(a,b,c){return this.$VideoPlayerControllerStore7(a,b,"currentTime",c)};d.$VideoPlayerControllerStore2=function(a,b,c){return this.$VideoPlayerControllerStore7(a,b,"currentVideoPlayerState",c)};d.$VideoPlayerControllerStore5=function(a,b,c){return this.$VideoPlayerControllerStore7(a,b,"durationSeconds",c)};d.$VideoPlayerControllerStore6=function(a,b){a=a.get("videoPlayerControllerStates").get(b);a||this.$VideoPlayerControllerStore8(b);return a};d.$VideoPlayerControllerStore7=function(a,b,c,d){var e=a.get("videoPlayerControllerStates"),f=this.$VideoPlayerControllerStore6(a,b);f=f.set(c,d);e=e.set(b,f);return a.set("videoPlayerControllerStates",e)};d.$VideoPlayerControllerStore8=function(a){throw new Error("Video player controller with id "+a+" does not exist")};return c}(b("FluxMapStore"));a.__moduleID=e.id;e.exports=new a(b("SphericalVideoComponentDispatcher"))}),null);
__d("SphericalVideoPlayer",["cx","invariant","Arbiter","Banzai","CSS","DOM","DOMDimensions","Event","FullScreen","SphericalMediaCanvasPool","SphericalParallaxUtils","SphericalRenderer","SphericalVideoComponentActions","SphericalVideoComponentDispatcher","SphericalVideoHalfEquirectConfig","SphericalVideoPerformanceTracker","SphericalVideoPlayerEvents","SphericalViewportControl","SubscriptionsHandler","VideoPlayerReasonTransitionHelper","forwardEvent","getElementRect","getFullScreenElement","getViewportDimensions","gkx","onViewportChanged","requestAnimationFrame","uniqueID","SphericalViewportControlStore","VideoPlayerControllerStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("SphericalParallaxUtils").calculateYawOffset,j="SphericalVideoPlayer";c=2;var k=1e3;d=.8;f=16;g=15;var l=d/f/g,m=50,n=.1;b("SphericalMediaCanvasPool").setLimit(c,j);d=function(){function c(a,c){var d=this;this.$48=function(){var a=!!d.$1.getOption("VideoWithSphericalGuide","auto");if(d.$1.getSource()!=="inline"||a)return;a=d.$55();if(a===null)return;typeof a==="number"||h(0,1207);d.$26=a;d.$29&&(d.$24=d.$12.getOrientation().x-d.$26,d.$25=d.$26,d.$29=!1)};this.$50=function(){d.$1.isState("paused")||d.$1.pause("spherical_switch_canvas"),d.$57(),d.$46()};this.$54=function(a){if(!d.$14)return;var c=d.$14,e=d.$30?a-d.$30:0;e=d.$56(e);e&&d.$36(d.$24+d.$25,null);if(d.$2.readyState>=d.$2.HAVE_CURRENT_DATA&&(d.$44()||d.$7||e)){b("SphericalVideoPerformanceTracker").get().setProjection(d.$10.projectionType).addFrameAtTime(a);d.$7=!1;e=d.$12.getOrientation();c.render(e.x+90,e.y);d.$16&&(d.$16.remove(),d.$16=null)}d.$30=a;b("requestAnimationFrame")(d.$54)};this.$33=function(a,b){d.$12.setRelativeSphericalOrientation(a,b)};this.$36=function(a,b){d.$12.setSphericalOrientation(a,b)};this.$37=function(a){d.$14&&(d.$14.updateFieldOfView(a),d.$12.setFieldOfView(a),d.$20=a,d.$32())};this.$38=function(a){d.$14&&(d.$10.projectionType=a,d.$14.reconfigure(d.$2,d.$10,!0),d.$32())};this.$39=function(a){d.$14&&(d.$10.stereoFormat=a,d.$14.reconfigure(d.$2,d.$10,!0),d.$32())};this.$40=function(a){d.$12&&(d.$10.partialLimits=a,d.$12.reconfigure(d.$10),d.$32())};this.$41=function(a){a===void 0&&(a={}),d.$12&&(d.$12.reconfigureControlConfig(a),d.$32())};this.$34=function(a,c){if(b("FullScreen").isFullScreen()&&(a<d.$5.width||c<d.$5.height))return;d.$14?(d.$5.width=a,d.$5.height=c,d.$53(d.$14,a,c),d.$11.useViewportDimension&&(d.$6=b("DOMDimensions").getElementDimensions(d.$4)),d.$32()):d.$5={width:a,height:c}};this.$52=function(a,b,c){if(!d.$14)return;a=a>=0?(a+180)%360-180:(a-180)%360+180;d.$59(a,b);d.$19.yaw=a;d.$19.pitch=b;d.$20=c;d.$14&&d.$14.updateFieldOfView(c);d.$58(a);d.$32()};this.$10=a;this.$11=Object.assign({viewportClassName:"_2a6s",canvasClassName:"_38vt",placeholderImgClassName:"_44h9",videoID:"",playerID:void 0,eagerPreload:void 0,preventScrollDefaultAction:void 0,useViewportDimension:void 0,useContainerDimensions:void 0},c);this.$22=0;this.$28=!0;this.$29=!1}var d=c.prototype;d.enable=function(c){var d=this;if(this.$1)return;this.$1=c;if(typeof a.WebGLRenderingContext!=="function"&&typeof a.WebGL2RenderingContext!=="function"){this.$31({error:"SPHERICAL_SETUP_FAILED",message:"WebGLRenderingContext not available."});return}if(!b("gkx")("678912")){this.$31({error:"SPHERICAL_RENDER_ERROR",message:"Unsupported browser version"});return}var e=c.getVideoNode();e instanceof HTMLVideoElement||h(0,1208);this.$2=e;this.$7=!1;this.$18=!0;this.$8=new(b("SubscriptionsHandler"))();this.$8.addSubscriptions(b("Event").listen(this.$2,"loadeddata",function(){return d.$32()}),b("Event").listen(this.$2,"seeked",function(){return d.$32()}),b("Event").listen(this.$2,"ended",function(){return d.$33(0,0)}),b("Event").listen(window,"resize",function(){b("FullScreen").isFullScreen()&&d.$1.getContainerNode()===b("getFullScreenElement")()&&d.$34(window.innerWidth,window.innerHeight)}),c.addListener("stateChange",function(){(c.isState("destroyed")||c.isState("fallback")&&(c.isLiveVideo()||!c.isFallbackRecoverable()))&&d.$35()}),c.addListener("VideoPlayerFallbackEvents/recover",function(){d.$35(),b("CSS").removeClass(d.$2,"_3axk"),d.$1.play(new(b("VideoPlayerReasonTransitionHelper"))("spherical_fallback"))}),c.addListener(b("SphericalVideoPlayerEvents").SET_ABSOLUTE_SPHERICAL_ORIENTATION,this.$36),c.addListener(b("SphericalVideoPlayerEvents").SET_RELATIVE_SPHERICAL_ORIENTATION,this.$33),c.addListener(b("SphericalVideoPlayerEvents").SET_FIELD_OF_VIEW,this.$37),c.addListener(b("SphericalVideoPlayerEvents").SET_VIDEO_PROJECTION,this.$38),c.addListener(b("SphericalVideoPlayerEvents").SET_STEREO_MODE,this.$39),c.addListener(b("SphericalVideoPlayerEvents").SET_PARTIAL_LIMITS,this.$40),c.addListener(b("SphericalVideoPlayerEvents").SET_VIEWPORT_CONTROL_CONFIG,this.$41),c.addListener("dimensionsChange",this.$34),c.once("changeVolume",function(){return d.$18=!1}),c.once("muteVideo",function(){return d.$18=!1}),c.once("unmuteVideo",function(){return d.$18=!1}),c.addListener("toggleFullscreen",function(){return d.$4.focus()}),c.addListener("TahoeController/enterTahoe",function(){d.$4.focus(),d.$12.setEnableZoom(!0),d.$23=!0,d.$1.emit("SphericalVideoPlayer/zoomEnabled")}),c.addListener("TahoeController/exitTahoe",function(){d.$4.focus(),d.$12.setEnableZoom(!1),d.$23=!1,d.$1.emit("SphericalVideoPlayer/zoomDisabled")}));if(this.$11.useContainerDimensions){var f=c.getContainerNode();this.$5=b("DOMDimensions").getElementDimensions(f)}else this.$5=b("DOMDimensions").getElementDimensions(e),(this.$5.width===0||this.$5.height===0)&&(this.$5={width:e.width,height:e.height});this.$15=this.$1.getVideoPlayerID()||b("uniqueID")();this.$19={yaw:this.$10.initialHeading,pitch:this.$10.initialPitch};this.$20=this.$10.fieldOfView;this.$23=!1;f=c.getVideoProjection();f&&(this.$10.projectionType=f);b("CSS").addClass(e,"_3axk");this.$42();c.registerOption("SphericalVideoPlayer","getDimensions",function(){return d.$11.useViewportDimension?d.$6:d.$5});c.registerOption("SphericalVideoPlayer","isReady",function(){return!!d.$14});c.registerOption("SphericalVideoPlayer","getScreenshotDataURL",function(){return d.$43()});c.registerOption("SphericalVideoPlayer","getIsSingleFisheye",function(){return d.$10.isSingleFisheye&&d.$10.originalFOV!==null});c.registerOption("SphericalVideoPlayer","getOriginalFOV",function(){return d.$10.originalFOV});c.registerOption("SphericalVideoPlayer","getEnableZoom",function(){return d.$23});c.registerOption("SphericalVideoPlayer","getIsHalfEquirectangular",function(){return d.$10.projectionType==="half_equirectangular"});this.$44()||this.$11.eagerPreload?this.$45():this.$46()};d.disable=function(){this.$35()};d.$45=function(){if(this.$1.getOption("SphericalVideoPlayer","isUnavailable"))return;this.$17&&(this.$17.remove(),this.$17=null);try{b("SphericalVideoPerformanceTracker").get().setProjection(this.$10.projectionType).enterSphericalRendererSetup(),this.$47(),b("SphericalVideoPerformanceTracker").get().exitSphericalRendererSetup()}catch(a){this.$31({error:"SPHERICAL_SETUP_FAILED",message:a.message});return}this.$1.setStillFrameEnabled(!1);this.$32();this.$1.emit("SphericalVideoPlayer/ready");var a=this.$12.getOrientation().x;this.$28?this.$24=a:this.$29=!0;this.$27=b("onViewportChanged")(this.$48);this.$28=!1};d.$46=function(){var a=this;this.$17=this.$1.addListener("stateChange",function(){a.$44()&&a.$45()})};d.$49=function(){if(!this.$14)return;var a=this.$43();a=b("DOM").create("img",{width:this.$5.width,height:this.$5.height,src:a,className:this.$11.placeholderImgClassName});b("DOM").insertAfter(this.$2,a);this.$16&&this.$16.remove();this.$16=a;this.$50()};d.$43=function(a,b){if(!this.$14)return"";var c=this.$14,d=this.$12.getOrientation(),e=d.x;d=d.y;return c.getScreenshotDataURL(e+90,d,a,b)};d.$42=function(){var a=this,c=b("DOM").create("div",{className:this.$11.viewportClassName,tabIndex:0}),d={};if(this.$10.isSingleFisheye&&this.$10.originalFOV){var e=this.$10.originalFOV/2;this.$10.partialLimits={partialLeftDegrees:e,partialRightDegrees:e,partialTopDegrees:e,partialBottomDegrees:e};d=this.$51()}this.$10.projectionType==="half_equirectangular"&&(this.$10.partialLimits=b("SphericalVideoHalfEquirectConfig").getHalfEquirectangularPartialLimits(),d=b("SphericalVideoHalfEquirectConfig").getHalfEquirectangularControllerConfig());b("SphericalVideoComponentDispatcher").explicitlyRegisterStores([b("SphericalViewportControlStore"),b("VideoPlayerControllerStore")]);var f=new(b("SphericalViewportControl"))(c,this.$10,d);this.$8.addSubscriptions(f.addListener("DOM/click",function(b){if(b.button!==0)return;a.$1.clickVideo();b.preventDefault()}),f.addListener("mouseMove",function(b){a.$1.mouseMove(b),b.preventDefault()}),f.addListener("mouseUp",function(b){a.$1.mouseUp(b),b.preventDefault()}),f.addListener("mouseLeave",function(b){a.$1.mouseLeave(b),b.preventDefault()}),f.addListener("updateViewportBegin",function(){a.$1.isMuted()&&a.$18&&(a.$18=!1,a.$1.unmute()),a.$1.logEvent("viewport_rotated")}));this.$8.addSubscriptions(f.addListener("viewportChange",this.$52));e=["DOM/click","updateViewportBegin","updateViewportMove","updateViewportEnd","wheelScroll","viewportChange"];this.$8.addSubscriptions.apply(this.$8,e.map(function(c){return b("forwardEvent")(f,a.$1,c)}));this.$12=f;b("Arbiter").subscribe("VideoChannelView/opened",function(){a.$21=!0,a.$12.disableKeyboard()});b("Arbiter").subscribe("VideoChannelView/closed",function(){a.$21=!1,a.$12.enableKeyboard()});b("FullScreen").subscribe("changed",function(){b("FullScreen").isFullScreen()?a.$12.enableKeyboard():a.$21&&a.$12.disableKeyboard()});this.$11.preventScrollDefaultAction&&this.$12.setPreventScrollDefaultAction(!0);b("SphericalVideoComponentActions").registerSphericalViewportControl(this.$1.getVideoPlayerID(),this.$12,this.$4);this.$1.registerOption("SphericalVideoPlayer","getCurrentViewport",function(){return a.$19});this.$1.registerOption("SphericalVideoPlayer","getFieldOfView",function(){return a.$20});this.$4=c;b("DOM").insertAfter(this.$2,c);this.$11.useViewportDimension&&(this.$6=b("DOMDimensions").getElementDimensions(c))};d.$47=function(){var a=this,c={canvasAttrs:{width:this.$5.width,height:this.$5.height,className:this.$11.canvasClassName,tabIndex:0},beforeCanvasLost:function(){return a.$49()}};c=b("SphericalMediaCanvasPool").get(this.$15,c,j);var d=new(b("SphericalRenderer"))(this.$2,c,this.$10);this.$9=new(b("SubscriptionsHandler"))();this.$9.addSubscriptions(d.addListener("renderingError",function(b){return a.$31({error:"SPHERICAL_RENDER_ERROR",message:b.message})}),d.addListener("renderingContextLost",this.$50));this.$3=c;this.$14=d;b("DOM").insertAfter(this.$2,c);this.$53(d,this.$5.width,this.$5.height);b("requestAnimationFrame")(this.$54);b("CSS").show(c)};d.$55=function(){var a=this.$1.getRootNode();if(!a)return null;a=b("getElementRect")(a);a=a.top+a.bottom/2;var c=b("getViewportDimensions").withoutScrollbars().height;a=a/c*100;c=this.$12.getHorizontalFieldOfView();a=i(a,null,null,c);c=a.yaw;a=a.success;return a?c:null};d.$56=function(a){if(typeof this.$26!=="number")return!1;typeof this.$25!=="number"&&(this.$25=0);var b=Math.abs(this.$25-this.$26);if(b<n)return!1;b=b*l;a=Math.max(a,m);this.$25<this.$26?this.$25+=Math.min(this.$26-this.$25,b*a):this.$25-=Math.min(this.$25-this.$26,b*a);return!0};d.$31=function(a){this.$1.logError(a),this.$1.emit("error",a),this.$35()};d.$44=function(){return this.$1.isState("playing")};d.$58=function(a){if(!this.$25)return;this.$24=a-this.$25};d.$53=function(a,c,d){a.updateViewportDimensions(c,d),b("SphericalVideoComponentActions").updateViewportDimensions(this.$1.getVideoPlayerID(),c,d)};d.$32=function(){this.$7=!0};d.$59=function(a,c){var d=Date.now();if(d-this.$22>=k){this.$22=d;var e=!!this.$1.getOption("VideoWithSphericalGuide","auto");b("Banzai").post("spherical_video_viewport",{video_fbid:this.$1.getVideoID(),yaw_degrees:a,pitch_degrees:c,roll_degrees:0,field_of_view_y:this.$10.fieldOfView,aspect_ratio:this.$5.height/this.$5.width,video_player_position:this.$2.currentTime,video_player_position_ms:this.$2.currentTime*1e3,guide_enabled:e,timestamp:d})}};d.$57=function(){this.$14&&(this.$14.destroy(),this.$14=null,this.$27&&this.$27.remove(),this.$27=null,this.$9.release(),this.$3.remove())};d.$35=function(){this.$1.hasOption("SphericalVideoPlayer","isUnavailable")||this.$1.registerOption("SphericalVideoPlayer","isUnavailable",function(){return!0}),this.$8&&this.$8.release(),this.$57(),this.$12&&this.$12.destroy(),this.$13&&this.$13.destroy(),this.$4&&this.$4.remove(),b("SphericalVideoPerformanceTracker").get().destroy()};d.$51=function(){return{disableAutoClientSizeUpdate:!1,enableGyro:!1,enableRubberBanding:!1,maxSpringDegrees:0,maxStretchXDegrees:0,maxStretchYDegrees:0,minVFOV:3,rubberBandConstant:0,slipFactor:0,springFactor:0,enableZoomWithShiftKey:!1,enablePanningWithRightMouse:!1}};return c}();e.exports=d}),null);
__d("SphericalDirectorVideoLoader",["cx","invariant","AsyncRequest","Bootloader","SphericalVideoPlayer","VideoData","VideoPlayerController","VideoPlayerHTML5Api","XVideoDataController"],(function(a,b,c,d,e,f,g,h){a.URL=a.URL||a.webkitURL;var i=function(b){if(b&&a.URL&&a.URL.createObjectURL)return a.URL.createObjectURL(b);else return null};c=function(){"use strict";function a(){}var c=a.prototype;c.load=function(a,c,d){var e=this;a||c||h(0,17053);if(c){var f=b("XVideoDataController").getURIBuilder().setString("video_id",c).setEnum("preferred_projection","cubemap").getURI();new(b("AsyncRequest"))().setMethod("GET").setURI(f).setReadOnly(!0).setOption("suppressEvaluation",!0).setAllowCrossPageTransition(!0).setHandler(function(a){a=new(b("VideoData"))(JSON.parse(a.payload.responseText));e.$1(a,d)}).setErrorHandler(d.onError).send()}else if(a){f=i(a);if(!f){d.onError();return}this.$2(babelHelpers["extends"]({videoID:c,videoUrl:f},d))}};c.$1=function(a,b){var c=a.hasHD()?a.getPlayableSrcHD():a.getPlayableSrcSD();if(!c){b.onError();return}this.$2(babelHelpers["extends"]({},b,{projection:a.getProjection()||"equirectangular",videoID:a.getVideoID(),videoUrl:c}))};c.loadWithVideoData=function(a,b){this.$1(a,b)};c.$2=function(a){var c=this,d=a.video,e=!1;!Boolean(a.disableSpatialAudioController)?b("Bootloader").loadModules(["SphericalDirectorSpatialAudioUtils"],function(f){f.getShouldUseSpatialAudioController()?b("Bootloader").loadModules(["SphericalVideoSpatialAudioController"],function(b){var c=f.getBufferParams(),e=f.getCanUseSpatialAudio(),g=f.getFocusEnabled(),h=f.getOffFocusLevelDB(),i=f.getFocusWidth(),j=f.getUseWebAudioImplementation(),k=f.getRemapChannelsForSevenPointOne(),l=f.getUseNewAudio360Renderer(),m=!0,n=f.getAudioChannelLayout();b=new b(c,e,g,h,i,j,k,l,m,n);d.setAttribute("src",a.videoUrl);this.$3(a,b)}.bind(c),"SphericalDirectorVideoLoader"):e=!1},"SphericalDirectorVideoLoader"):e=!1;e||(d.setAttribute("src",a.videoUrl),this.$3(a,null))};c.$3=function(a,c){var d={initialHeading:a.initialHeading,initialPitch:a.initialPitch,fieldOfView:a.fieldOfView,projectionType:a.projection,stereoFormat:a.stereoFormat,expansionCoef:1.01},e={viewportClassName:"_3ehi",videoID:a.videoID||"",eagerPreload:!0,preventScrollDefaultAction:!0,useViewportDimension:!0};d=[new(b("SphericalVideoPlayer"))(d,e)];c&&d.push(c);e=new(b("VideoPlayerController"))({apiModule:b("VideoPlayerHTML5Api"),apiConfig:{disableNativeControls:null,VideoPlayerHTML5Shaka:null,subtitlesActive:null,videoData:[{hd_src:a.videoUrl,sd_src:a.videoUrl,stream_type:"progressive"}]},disableLogging:!0,should_autoplay:a.autoplay,components:d},{root_element:a.root,container_element:a.root,video_element:a.video});e.getOption("SphericalVideoPlayer","isReady")?a.onSuccess(e):e.getOption("SphericalVideoPlayer","isUnavailable")&&a.onError()};return a}();e.exports=new c()}),null);
__d("VideoUploadSphericalControlsAction",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CREATE_THUMBNAIL:"create_thumbnail",DRAG_VIDEO_PREVIEW:"drag_video_preview",SCROLL_VIDEO_PREVIEW:"scroll_video_preview",RESET:"reset",CHANGE_VIEWPORT:"change_viewport",CHANGE_FOV:"change_fov",TOGGLE_DIRECTORS_CUT:"toggle_directors_cut",ADD_POINT_OF_INTEREST:"add_point_of_interest",REMOVE_POINT_OF_INTEREST:"remove_point_of_interest",EDIT_POINT_OF_INTEREST:"edit_point_of_interest",CLEAR_POINTS_OF_INTEREST:"clear_points_of_interest",SEARCH_POINT_OF_INTEREST:"search_point_of_interest",TAB_IMPRESSION:"tab_impression",SAVE_EDITS:"save_edits",UPLOAD:"upload"})}),null);
__d("SphericalDirectorVideoPreviewGuide",["SphericalDirectorErrorUtils","SphericalDirectorEvents","SphericalVideoGuideAnimationConfig","SubscriptionsHandler","VideoPlayerReasonTransitionHelper","VideoUploadSphericalControlsAction","VideoUploadSphericalLogger","VideoWithSphericalGuide","emptyFunction","findGreatestLowerBoundGuideKeyframeIndex"],(function(a,b,c,d,e,f){var g=b("SphericalVideoGuideAnimationConfig").MIN_INTERVAL_MS,h=b("SphericalVideoGuideAnimationConfig").MS_PER_SECOND,i=2e3,j=1e3;a=function(){"use strict";function a(a,c,d,e,f,k,l,m,n,o,p,q){var r=this;n===void 0&&(n=b("emptyFunction"));o===void 0&&(o=b("emptyFunction"));p===void 0&&(p=b("emptyFunction"));q===void 0&&(q=!1);this.$19=function(a){r.$3.setInitialViewport(a.yaw,a.pitch)};this.$20=function(a){r.$6=a,r.$3.setKeyframes(a),r.$2.emit(b("SphericalDirectorEvents").GUIDE.KEYFRAMES_UPDATE),r.$17()};this.$21=function(a){r.$5=a,r.$3.setEnabled(a),r.$17()};this.$16=function(){return{onPointOfInterestSelect:r.$27,currentPointOfInterest:r.$28(),pointsOfInterest:r.$29(),showPointOfInterestTimestamps:!1}};this.$18=function(){r.$7&&r.$30()};this.$22=function(){r.$2.pause();var a=Math.floor(r.$2.getCurrentTimePosition()*h),c=r.$2.isState("playing"),d=c?function(){return r.$2.play(new(b("VideoPlayerReasonTransitionHelper"))("user_initiated"))}:null;if(a<g){if(a===0)return;c&&r.$2.pause();b("SphericalDirectorErrorUtils").showAddPointDialog(d);return}var e=b("findGreatestLowerBoundGuideKeyframeIndex")(r.$6,a),f=r.$6;if(f[e]&&a-f[e][0]<g||f[e+1]&&f[e+1][0]-a<g){if(f[e]&&f[e][0]===a)return;c&&r.$2.pause();b("SphericalDirectorErrorUtils").showAddPointDialog(d);return}f=r.$2.getOption("SphericalDirectorVideoPreviewViewportControl","getCurrentViewport");r.$9(a,f.pitch,f.yaw,function(){return r.$2.getOption("SphericalVideoPlayer","getScreenshotDataURL")});b("VideoUploadSphericalLogger").setUserAction(b("VideoUploadSphericalControlsAction").ADD_POINT_OF_INTEREST).log()};this.$23=function(){r.$15=!0,r.$30()};this.$24=function(){r.$12(!0),b("VideoUploadSphericalLogger").setUserAction(b("VideoUploadSphericalControlsAction").EDIT_POINT_OF_INTEREST).log()};this.$26=function(a){r.$8=a};this.$25=function(a){r.$7&&!a?(r.$7=a,r.$3.setAutoEnabled(!0),r.$15&&(r.$15=!1,r.$2.play(new(b("VideoPlayerReasonTransitionHelper"))("user_initiated")))):(r.$7=a,r.$2.emit("SphericalHeadingIndicator/click"))};this.$27=function(a){var c=r.$6.find(function(b){return b[0]===a*h});if(!c)return;var d=c[1];c=c[2];r.$2.seek(a);r.$2.setSphericalOrientation(c,d);r.$2.pause();b("VideoUploadSphericalLogger").setPitchDegrees(d).setYawDegrees(c).setUserAction(b("VideoUploadSphericalControlsAction").SEARCH_POINT_OF_INTEREST).log()};this.$17=function(){var a=r.$4;if(r.$5){var c=Math.floor(r.$2.getCurrentTimePosition()*h),d=r.$6,e=b("findGreatestLowerBoundGuideKeyframeIndex")(d,c);if(r.$14)c===d[e][0]?r.$4=d[e]:r.$4=null;else{var f=e+1;d[f]&&d[f][0]-c<=i?r.$4=d[f]:d[e]&&c-d[e][0]<=j?r.$4=d[e]:r.$4=null}}else r.$4=null;a!==r.$4&&(r.$2.emit(b("SphericalDirectorEvents").GUIDE.CURRENT_GUIDE_POINT_UPDATE),r.$13(r.$4?r.$4[0]:null))};this.$2=a;this.$5=e;this.$6=f;this.$8=k;this.$9=l;this.$11=m;this.$12=n;this.$10=o;this.$13=p;this.$14=q;this.$15=!1;this.$1=new(b("SubscriptionsHandler"))();a={initialHeading:c,initialPitch:d,guideEnabled:e,guideKeyframes:f};this.$3=new(b("VideoWithSphericalGuide"))(this.$2,a);this.$4=null;this.$7=!1;this.$2.registerOption("SphericalDirectorVideoPreviewGuide","getGuidePointsConfig",this.$16);this.$2.registerOption("SphericalDirectorVideoPreviewGuide","getCurrentGuidePoint",function(){return r.$4});this.$2.emit(b("SphericalDirectorEvents").GUIDE.KEYFRAMES_UPDATE);this.$2.emit(b("SphericalDirectorEvents").GUIDE.CURRENT_GUIDE_POINT_UPDATE);this.$1.addSubscriptions(this.$2.addListener("updateStatus",this.$17),this.$2.addListener("seekRequested",this.$18),this.$2.addListener("playRequested",this.$18),this.$2.addListener(b("SphericalDirectorEvents").PREVIEW.INITAL_VIEWPORT_UPDATE,this.$19),this.$2.addListener(b("SphericalDirectorEvents").PREVIEW.GUIDE_KEYFRAMES_UPDATE,this.$20),this.$2.addListener(b("SphericalDirectorEvents").PREVIEW.GUIDE_STATE_UPDATE,this.$21),this.$2.addListener(b("SphericalDirectorEvents").OVERLAY_BUTTONS.ADD_GUIDE_POINT,this.$22),this.$2.addListener(b("SphericalDirectorEvents").OVERLAY_BUTTONS.SAVE_GUIDE_POINT,this.$23),this.$2.addListener(b("SphericalDirectorEvents").OVERLAY_BUTTONS.EDIT_GUIDE_POINT,this.$24),this.$2.addListener(b("SphericalDirectorEvents").PREVIEW.KEYFRAME_EDITING_STATE_UPDATE,this.$25),this.$2.addListener(b("SphericalDirectorEvents").PREVIEW.PROJECTION_UPDATE,this.$26))}var c=a.prototype;c.$29=function(){return this.$5?this.$6.map(function(a){return a[0]/h}):[]};c.$28=function(){return this.$5&&this.$4?this.$4[0]/h:null};c.$30=function(){var a=this;if(!this.$4)return;var c=this.$4[0],d=this.$2.getOption("SphericalDirectorVideoPreviewViewportControl","getCurrentViewport");if(this.$8==="half_equirectangular"&&(d.yaw<-90||d.yaw>90)){b("SphericalDirectorErrorUtils").showGuideOutsideLimitsDialog();this.$12(!1);c!==0&&this.$31();return}this.$10(c,d.pitch,d.yaw,function(){return a.$2.getOption("SphericalVideoPlayer","getScreenshotDataURL")});b("VideoUploadSphericalLogger").setUserAction(b("VideoUploadSphericalControlsAction").SAVE_EDITS).setPitchDegrees(d.pitch).setYawDegrees(d.yaw).log()};c.$31=function(){if(!this.$4)return;this.$11(this.$4[0]);b("VideoUploadSphericalLogger").setUserAction(b("VideoUploadSphericalControlsAction").REMOVE_POINT_OF_INTEREST).log()};c.destroy=function(){this.$1.release()};return a}();e.exports=a}),null);
__d("SphericalDirectorVideoPreviewOverlayButtons",["cx","fbt","ix","Event","FlexLayout.react","Image.react","React","ReactDOM","ShimButton.react","SphericalDirectorEvents","SphericalDirectorGuideButton.react","SubscriptionsHandler","Vector","VideoComposerHeightConfig","asset","destroyOnUnload","throttle"],(function(a,b,c,d,e,f,g,h,i){var j=b("React"),k=function(c){"use strict";babelHelpers.inheritsLoose(a,c);function a(a){var d;d=c.call(this,a)||this;d.state={guideVisible:!0,currentKeyframe:d.props.controller.getOption("SphericalDirectorVideoPreviewGuide","getCurrentGuidePoint"),isEditingKeyframe:d.props.isEditingKeyframe,isLargeHeight:!1,isMobilePreview:d.props.isMobilePreview,isViewportOnKeyframe:!0};d.$8=function(){var a=b("Vector").getViewportDimensions().y;a>=b("VideoComposerHeightConfig").LARGE_HEIGHT+b("VideoComposerHeightConfig").DIALOG_VERTICAL_MARGIN?d.state.isMobilePreview&&d.setState({isLargeHeight:!0}):d.setState({isLargeHeight:!1})};d.$3=function(){d.setState({currentKeyframe:d.$1.getOption("SphericalDirectorVideoPreviewGuide","getCurrentGuidePoint")})};d.$4=function(a){d.setState({guideVisible:a})};d.$5=function(a){d.setState({isEditingKeyframe:a})};d.$7=function(a){d.setState({isMobilePreview:a})};d.$9=function(){d.props.controller.emit(b("SphericalDirectorEvents").OVERLAY_BUTTONS.ADD_GUIDE_POINT)};d.$10=function(){d.props.controller.emit(b("SphericalDirectorEvents").OVERLAY_BUTTONS.SAVE_GUIDE_POINT)};d.$11=function(){d.props.controller.emit(b("SphericalDirectorEvents").OVERLAY_BUTTONS.EDIT_GUIDE_POINT)};d.$6=function(){if(!(d.state.currentKeyframe&&d.state.isEditingKeyframe)){d.state.isViewportOnKeyframe&&d.setState({isViewportOnKeyframe:!1});return}var a=d.state.currentKeyframe,b=d.$1.getOption("SphericalDirectorVideoPreviewViewportControl","getCurrentViewport"),c=Math.abs(b.pitch-a[1]);b=Math.abs(b.yaw-a[2]);a=c<1&&(b<1||b>359);a!==d.state.isViewportOnKeyframe&&d.setState({isViewportOnKeyframe:a})};d.$1=a.controller;d.$2=new(b("SubscriptionsHandler"))();d.$2.addSubscriptions(d.$1.addListener(b("SphericalDirectorEvents").GUIDE.CURRENT_GUIDE_POINT_UPDATE,d.$3),d.$1.addListener(b("SphericalDirectorEvents").PREVIEW.GUIDE_VISIBILITY_UPDATE,d.$4),d.$1.addListener(b("SphericalDirectorEvents").PREVIEW.KEYFRAME_EDITING_STATE_UPDATE,d.$5),d.$1.addListener(b("SphericalDirectorEvents").VIEWPORT_CONTROL.VIEWPORT_UPDATE,d.$6),d.$1.addListener(b("SphericalDirectorEvents").PREVIEW.MOBILE_PREVIEW_UPDATE,d.$7));return d}var d=a.prototype;d.componentDidMount=function(){this.setState(this.$8),this.$2=new(b("SubscriptionsHandler"))(),this.$2.addSubscriptions(b("Event").listen(window,"resize",b("throttle")(this.$8)))};d.componentWillUnmount=function(){this.$2.release()};d.componentDidUpdate=function(){this.$6()};d.render=function(){var a=!this.state.currentKeyframe,c=this.state.currentKeyframe&&!this.state.isEditingKeyframe,d=this.state.currentKeyframe&&this.state.isEditingKeyframe,e=h._("Set guide point"),f=h._("Replace guide point");c=a||c?j.jsx(b("ShimButton.react"),{className:"_2b_e _2b_f",onClick:a?this.$9:this.$11,children:j.jsxs(b("FlexLayout.react"),{className:"_2b_g",align:"center",justify:"all",children:[j.jsx("div",{className:"_2b_l",children:a?e:f}),j.jsx(b("Image.react"),{className:"_2b_q",src:i("415891")})]})}):null;a=this.state.isMobilePreview?i("425575"):i("425576");e=d?j.jsx(b("Image.react"),{className:"_2b_r _2b_s"+(this.state.isMobilePreview?" _2c0c":"")+(this.state.isLargeHeight?" _2c0d":""),src:a}):null;f=d?j.jsx(b("SphericalDirectorGuideButton.react"),{className:"_2c28 _2c29",thumbnail:i("393776"),onClick:this.$10}):null;return j.jsxs("div",{className:"_2c2a"+(this.state.guideVisible?"":" _2c2b")+(this.state.isLargeHeight?" _2c0d":""),children:[c,e,f]})};return a}(j.Component);a=function(){"use strict";function a(a,c,d,e){d===void 0&&(d=!1),e===void 0&&(e=!1),b("ReactDOM").render(j.jsx(k,{controller:a,isEditingKeyframe:d,isMobilePreview:e}),c),b("destroyOnUnload")(function(){b("ReactDOM").unmountComponentAtNode(c)})}return a}();e.exports=a}),null);
__d("SphericalDirectorVideoPreviewSpinner",["cx","React","ReactDOM","VideoSpinner","XUISpinner.react","destroyOnUnload"],(function(a,b,c,d,e,f,g){var h=b("React");a=function(a,c){"use strict";b("ReactDOM").render(h.jsx(b("XUISpinner.react"),{size:"large",className:"_3yp2"}),c),this.$1=new(b("VideoSpinner"))(a,c),b("destroyOnUnload")(function(){b("ReactDOM").unmountComponentAtNode(c)})};e.exports=a}),null);
__d("normalizeYaw",[],(function(a,b,c,d,e,f){function a(a,b){b===void 0&&(b=!1);b=b?Math.PI:180;var c=b*2;return a>=0?(a+b)%c-b:(a-b)%c+b}e.exports=a}),null);
__d("SphericalDirectorVideoPreviewViewportControl",["SphericalDirectorEvents","SphericalVideoPlayerEvents","SubscriptionsHandler","VideoPlayerReasonTransitionHelper","normalizeYaw"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a,c,d,e,f,g){var h=this;this.$13=function(){h.$1.isState("playing")?h.$1.pause():h.$1.play(new(b("VideoPlayerReasonTransitionHelper"))("user_initiated"))};this.$8=function(a,c){h.$3.yaw=b("normalizeYaw")(a),h.$3.pitch=c,h.$1.emit(b("SphericalDirectorEvents").VIEWPORT_CONTROL.VIEWPORT_UPDATE),h.$11()};this.$9=function(a){h.$4=a,h.$1.emit(b("SphericalDirectorEvents").VIEWPORT_CONTROL.FIELD_OF_VIEW_UPDATE),h.$12()};this.$10=function(a){var b=Math.log(Math.max(Math.E,Math.abs(a.deltaY)));a=a.deltaY>0?b:-b;b=Math.max(40,Math.min(90,Math.round(h.$4+a)));h.$1.setSphericalFieldOfView(b);h.$12()};this.$1=a;this.$3={yaw:c,pitch:d};this.$4=e;this.$5=0;this.$6=f;this.$7=g;this.$1.registerOption("SphericalDirectorVideoPreviewViewportControl","getCurrentViewport",function(){return h.$3});this.$1.registerOption("SphericalDirectorVideoPreviewViewportControl","getCurrentFieldOfView",function(){return h.$4});this.$2=new(b("SubscriptionsHandler"))();this.$2.addSubscriptions(this.$1.addListener("viewportChange",this.$8),this.$1.addListener(b("SphericalVideoPlayerEvents").SET_FIELD_OF_VIEW,this.$9),this.$1.addListener("wheelScroll",this.$10),this.$1.addListener("updateViewportBegin",function(){return h.$5++}),this.$1.addListener("updateViewportEnd",function(){h.$5--,h.$11()}),this.$1.addListener("SphericalVideoRecenterControl/animationStart",function(){return h.$5++}),this.$1.addListener("SphericalVideoRecenterControl/animationEnd",function(){h.$5--,h.$11()}),this.$1.addListener("VideoWithSphericalGuide/stateToggle",function(a){h.$11(),h.$12()}),this.$1.addListener(b("SphericalDirectorEvents").PREVIEW.FIELD_OF_VIEW_UPDATE,function(a){return h.$1.setSphericalFieldOfView(a)}),this.$1.addListener("clickVideo",this.$13))}var c=a.prototype;c.$11=function(){this.$6(this.$3.yaw,this.$3.pitch,!!this.$5)};c.$12=function(){this.$7(this.$4)};c.destroy=function(){this.$2.release()};return a}();e.exports=a}),null);
__d("SphericalDirectorFOVSlider.react",["ix","cx","Event","FBNoSelect","Image.react","React","ShimButton.react","asset","emptyFunction","forEachObject","getElementRect"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=.001,k=10;a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this,b)||this;c.$4=10;var d=b.value!==null?parseFloat(b.value.toFixed(b.decimalPlaces)):b.min;c.state={top:c.$5(d,b.min,b.max),isDragging:!1};return c}var d=c.prototype;d.$5=function(a,b,c){return Math.min(c,Math.max(b,a))};d.$6=function(a){var c=b("getElementRect")(this.refs.sliderBox),d=c.right-a.pageX;if(a.type!=="mousemove"){a=c.width*this.$7(this.state.top);d>=a&&d<=a+this.$4?this.$1=d-a:this.$1=this.$4/2}a=(d-this.$1)/c.width;return this.$5(a,0,1)};d.$8=function(a){var b=this.props,c=b.min;b=b.max;b=b-c;return a*b+c};d.$7=function(a){var b=this.props,c=b.min;b=b.max;return this.$5((a-c)/(b-c),0,1)};d.$9=function(a){a=parseFloat(a.toFixed(this.props.decimalPlaces));Math.abs(a-this.$3)>j&&(this.$3=a,this.props.onChange(a))};d.$10=function(a){this.state.isDragging&&(this.setState({isDragging:!1}),b("forEachObject")(this.$2,function(a){return a.remove()}))};d.$11=function(a){if(this.state.isDragging){a=this.$8(this.$6(a));this.setState({top:a});this.$9(a)}};d.$12=function(a){if(this.props.isDisabled)return;a=this.$8(this.$6(a));this.setState({isDragging:!0,top:a});this.$9(a);this.$2=b("Event").listen(document,{mousemove:this.$11.bind(this),mouseup:this.$10.bind(this)})};d.$13=function(a){var c=this;if(this.props.isDisabled)return b("emptyFunction");var d=this.state.top,e=this.$5(d-a,this.props.min,this.props.max);return function(){c.setState({top:e}),c.$9(e)}};d.UNSAFE_componentWillReceiveProps=function(a){this.setState({top:a.value!==null?a.value:a.min})};d.componentDidMount=function(){b("FBNoSelect").addBlockClass("_6aa_"),this.$3=0};d.componentWillUnmount=function(){b("FBNoSelect").removeBlockClass("_6aa_"),this.$10({})};d.render=function(){var a=this.$7(this.state.top)*100,c={top:a+"%"},d=this.props.isDisabled?"#bec2c9":"#4b4f56";d={background:"linear-gradient(rgba(256,256,256,0.3) "+a+"%, "+d+" "+(1-a)+"%)"};return i.jsxs("div",{className:"_6ab0"+(this.props.isDisabled?" _6ab1":""),children:[i.jsx(b("ShimButton.react"),{className:"_6ab2 _6ab3",onClick:this.$13(k),children:i.jsx(b("Image.react"),{className:"_6ab4",src:this.props.isDisabled?g("415409"):g("438988")})}),i.jsx("div",{className:"_6ab5",children:i.jsxs("div",{className:"_6aa_",onMouseDown:this.$12.bind(this),children:[i.jsx("div",{className:"_6ab6",children:i.jsx("div",{style:d,className:"_6ab7"})}),i.jsx("div",{ref:"sliderBox",className:"_6ab8",children:i.jsx("div",{ref:"handle",className:"_6ab9",style:c})})]})}),i.jsx(b("ShimButton.react"),{className:"_6ab2 _6aba",onClick:this.$13(-1*k),children:i.jsx(b("Image.react"),{className:"_6ab4",src:this.props.isDisabled?g("407426"):g("394277")})})]})};return c}(i.Component);e.exports=a}),null);
__d("SphericalDirectorVideoTopControlBar.react",["ix","cx","fbt","FlexLayout.react","Image.react","React","ShimButton.react","SphericalDirectorFOVSlider.react","VideoComposerRadioButton.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=40,l=90;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=this.props.showOmnistabSection?j.jsx("div",{className:"_6aaq",children:j.jsx("div",{className:"_6aar",children:j.jsx(b("VideoComposerRadioButton.react"),{checked:this.props.omnistabEnabled,className:"_6aas",label:j.jsxs(b("FlexLayout.react"),{align:"center",className:"_6aat",justify:"all",children:[i._("Stabilise"),j.jsx(b("Image.react"),{className:"_6aau",src:g("438994")})]}),onSelect:function(b){a.props.allowOmnistabToggle&&a.props.onToggleEnableOmnistab(b),b.preventDefault()}})})}):null,d=j.jsx("div",{className:"_6aaq",children:j.jsxs("div",{className:"_6aav",children:[j.jsx(b("ShimButton.react"),{className:"_6aaw _2a8_"+(this.props.isMobilePreview?" _2a90":""),onClick:function(b){return a.$1(b,!0)},children:j.jsx(b("Image.react"),{className:"_2a92",src:this.props.isMobilePreview?g("438996"):g("407248")})}),j.jsx(b("ShimButton.react"),{className:"_6aaw _2a93"+(this.props.isMobilePreview?"":" _2a90"),onClick:function(b){return a.$1(b,!1)},children:j.jsx(b("Image.react"),{className:"_2a92",src:this.props.isMobilePreview?g("438985"):g("438986")})})]})}),e=j.jsx(b("SphericalDirectorFOVSlider.react"),{decimalPlaces:0,min:k,max:l,value:this.props.fov,onChange:this.props.onFOVUpdate});return j.jsxs("div",{className:"_2a94",children:[c,d,e]})};d.$1=function(a,b){a.preventDefault(),this.props.onToggleIsMobilePreview(b)};return c}(j.PureComponent);e.exports=a}),null);
__d("SphericalVideoRecenterControl",["SubscriptionsHandler","easeInOutInterpolate","requestAnimationFrame"],(function(a,b,c,d,e,f){var g=1e3;a=function(){"use strict";function a(a,b,c){var d=this;this.$2=a;this.$1=!1;this.$6=this.$9.bind(this);this.$5={yaw:b,pitch:c};this.$4={yaw:b,pitch:c};a.getOption("SphericalVideoPlayer","isReady")?this.$10():a.once("SphericalVideoPlayer/ready",function(){return d.$10()})}var c=a.prototype;c.$10=function(){var a=this;this.$8=new(b("SubscriptionsHandler"))();this.$8.addSubscriptions(this.$2.addListener("updateViewportBegin",function(){return a.$11()}),this.$2.addListener("SphericalHeadingIndicator/click",function(){return a.$12()}),this.$2.addListener("VideoWithSphericalGuide/intervalUpdate",function(b){return a.updateTargetViewport(b.baseYaw+b.deltaYaw,b.basePitch+b.deltaPitch)}),this.$2.addListener("VideoWithSphericalGuide/stateToggle",function(b){b||(a.$5.yaw=a.$4.yaw,a.$5.pitch=a.$4.pitch)}),this.$2.addListener("SphericalVideoViewportTagComment/click",function(b){return a.$12(b)}))};c.updateTargetViewport=function(a,b){this.$5.yaw=a,this.$5.pitch=b};c.$12=function(a){if(this.$1||this.$2.getOption("VideoWithSphericalGuide","enabled")&&this.$2.isState("playing"))return;this.$1=!0;this.$3=Date.now();var c=this.$2.getOption("SphericalVideoPlayer","getCurrentViewport");a=a||this.$5;var d=a.yaw-c.yaw;Math.abs(d)>180&&(d=d>0?d-360:d+360);this.$7={basePitch:c.pitch,deltaPitch:a.pitch-c.pitch,baseYaw:c.yaw,deltaYaw:d};this.$2.emit("SphericalVideoRecenterControl/animationStart");b("requestAnimationFrame")(this.$6)};c.$11=function(){this.$1=!1};c.$9=function(){if(!this.$1){this.$2.emit("SphericalVideoRecenterControl/animationEnd");return}var a=Date.now();if(a-this.$3>g){this.$13(this.$7,1);this.$1=!1;this.$2.emit("SphericalVideoRecenterControl/animationEnd");return}b("requestAnimationFrame")(this.$6);this.$13(this.$7,b("easeInOutInterpolate")((a-this.$3)/g))};c.$13=function(a,b){var c=a.deltaPitch*b+a.basePitch;b=a.deltaYaw*b+a.baseYaw;this.$2.setSphericalOrientation(b,c)};c.destroy=function(){this.$8.release()};return a}();e.exports=a}),null);
__d("SphericalMediaUtils",[],(function(a,b,c,d,e,f){"use strict";a={getDPR:function(){return Math.max(window.devicePixelRatio||1,1)}};e.exports=a}),null);
__d("SphericalMediaHeadingIndicator.react",["cx","EventListener","React","SphericalMediaConstants","SphericalMediaUtils","SphericalPhotoProjectionUtils","SubscriptionsHandler","calculateHFOVFromVFOV","degToRad","easeInOutInterpolate","requestAnimationFrame","uniqueID"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=(a=b("SphericalMediaConstants")).HI_ALPHA_BG,j=a.HI_ALPHA_DURATION,k=a.HI_ALPHA_ELEMENT,l=a.HI_BLINK_ARC_RAD,m=a.HI_BLINK_DURATION,n=a.HI_FADE_OUT_DELAY,o=a.HI_SIZE_FULL,p=a.HI_SIZE_NORMAL,q=b("SphericalMediaUtils").getDPR,r=function(a){return a!==void 0&&a!==null},s=function(a,b,c,d){a.beginPath(),a.arc(b.x,b.y,c*q(),0,2*Math.PI,!1),a.fillStyle=d,a.lineWidth=0,a.fill()},t=function(a,b,c,d,e,f,g){var h=q();a.beginPath();a.arc(b.x,b.y,c*h,d,e,!1);a.lineWidth=f*h;a.strokeStyle=g;a.stroke()};c=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$13=function(){var a=d.__getDrawData();if(!r(a.poiYaw)){d.$11=!1;d.draw(a);return}var c=(Date.now()-d.__blinkStartTime)%m<m/2;d.$11!==c&&(d.$11=c,d.draw(a));b("requestAnimationFrame")(d.$13)};d.$15=function(){if(d.$6===i.end)return;d.$25(i.start,i.end,k.start,k.end)};d.$16=function(){if(d.$6===i.start)return;d.$25(i.end,i.start,k.end,k.start)};d.$2=b("uniqueID")();d.$5=0;d.$6=i.start;d.$7=k.start;d.$8=null;d.$9=!1;d.$10=!1;d.$11=!1;if(!d.constructor.__subClassMethods)throw new Error('Must implement "static __subClassMethods"');for(var e in d.constructor.__subClassMethods)if(typeof babelHelpers.assertThisInitialized(d)[e]!=="function")throw new Error('Must implement "'+e+'"');b("requestAnimationFrame")(d.$13);return d}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){var b=a.isActive&&a.isPanning!==this.props.isPanning;b&&this.$14(a.isPanning)};d.shouldComponentUpdate=function(a){a=a.aspectRatio!==this.props.aspectRatio||a.isActive!==this.props.isActive||a.isGuideAuto!==this.props.isGuideAuto||a.useLargeHeadingIndicator!==this.props.useLargeHeadingIndicator;return a};d.$14=function(a,b){var c=this;b===void 0&&(b=!0);this.$5+=a?1:-1;a?(this.$8!==null&&clearTimeout(this.$8),this.$15()):this.$5===0&&(this.$8=setTimeout(function(){c.$8=null,c.$16()},b?n:0))};d.$17=function(){var a=this.$18(),b=q();return{width:a.width*b,height:a.height*b}};d.$18=function(){return this.props.useLargeHeadingIndicator?o:p};d.$19=function(){var a=this.$17();return{x:a.width/2,y:a.height/2}};d.draw=function(a){if(!this.$1)return;var b=this.$1,c=this.$17();(b.width!==c.width||b.height!==c.height)&&(b.width=c.width,b.height=c.height);b=b.getContext("2d");if(!b)return;b.save();b.clearRect(0,0,c.width,c.height);this.$20(b,a);this.$21(b,a);this.$22(b,a);b.restore()};d.$20=function(a,c){var d=this.$18(),e=this.$19(),f=c.fov*this.props.aspectRatio;f=b("degToRad")(f)/2;s(a,e,d.background_radius,this.$23());if(this.props.isGuideAuto){var g=d.inner_radius+d.inner_stroke/2-d.center_radius;t(a,e,d.center_radius+g/2,0,2*Math.PI,g,this.$24())}else{s(a,e,d.center_radius,this.$24());g=this.props.partialLimits;if(g&&g.partialLeftDegrees&&g.partialRightDegrees){var h=g.partialLeftDegrees;g=g.partialRightDegrees;t(a,e,d.inner_radius,0,2*Math.PI,d.inner_stroke,this.getPartialPanoElementColor());c=270-c.initialYaw;h=b("degToRad")(h*-1+c+f);g=b("degToRad")(g+c-f);t(a,e,d.inner_radius,h||0,g||0,d.inner_stroke,this.$24())}else t(a,e,d.inner_radius,0,2*Math.PI,d.inner_stroke,this.$24())}};d.$22=function(a,c){var d=this.$18(),e=this.$19();if(this.props.isGuideAuto&&this.$11){var f=b("degToRad")((c.poiYaw||0)-c.initialYaw)-Math.PI/2;t(a,e,d.rim_radius,f-l/2,f+l/2,d.rim_stroke,this.$24())}f=q();var g=d.triangle[0]*f,h=d.triangle[1]*f;d=d.triangle[2]*f;a.translate(e.x,e.y);if(c.pointerYaw){f=c.pointerYaw-c.initialYaw;a.rotate(b("degToRad")(f||0))}a.beginPath();a.moveTo(0,g-e.y);a.lineTo(-h,d-e.y);a.lineTo(h,d-e.y);a.fillStyle=this.$24();a.fill()};d.$21=function(a,c){var d=this.$18(),e=this.$19(),f=this.props,g=f.partialLimits,h=f.aspectRatio;f=f.showNewPhotoRenderer;var i=c.yaw-c.initialYaw,j=b("calculateHFOVFromVFOV")(c.fov,this.props.aspectRatio);j=b("degToRad")(j)/2;if(f&&g){f=b("SphericalPhotoProjectionUtils").getRelativeHfov(c.fov,h,g);j=f/2}c=b("degToRad")(i)-Math.PI/2;h=this.props.isGuideAuto;if(h){g=q();a.save();a.beginPath();a.lineWidth=d.arc_stroke*g;a.arc(e.x,e.y,(d.arc_radius+d.arc_stroke/2)*g,c-j,c+j,!1);a.arc(e.x,e.y,(d.arc_radius-d.arc_stroke/2)*g,c+j,c-j,!0);a.clip();f=this.$17();a.clearRect(0,0,f.width,f.height);a.restore()}t(a,e,d.arc_radius,c-j,c+j,d.arc_stroke,h?this.$23():this.$24())};d.getPartialPanoElementColor=function(){return"rgba(255, 255, 255, "+this.$7*.4+")"};d.$24=function(){return"rgba(255, 255, 255, "+this.$7+")"};d.$23=function(){return"rgba(0, 0, 0, "+this.$6+")"};d.$25=function(a,c,d,e){var f=this;this.$10=this.$9;this.$9=!0;var g=Date.now(),h=function a(d){var h=Date.now();if(f.$10){f.$10=!1;return}if(h-g>j){f.$9=!1;f.$6=c;f.$7=e;return}b("requestAnimationFrame")(function(){a(d)});h=b("easeInOutInterpolate")((h-g)/j);var i=d.deltaAlphaBG*h+d.startAlphaBG;h=d.deltaAlphaElement*h+d.startAlphaElement;f.$6=i;f.$7=h;f.draw(f.__getDrawData())},i=c-a,k=e-d;b("requestAnimationFrame")(function(){h({startAlphaBG:a,deltaAlphaBG:i,startAlphaElement:d,deltaAlphaElement:k})})};d.componentDidMount=function(){var a=this;this.props.isActive&&this.draw(this.__getDrawData());this.props.useNativeListeners&&(this.$12=new(b("SubscriptionsHandler"))(),this.$12.addSubscriptions(b("EventListener").listen(this.$4,"click",function(b){return a.__onClick(b)}),b("EventListener").listen(this.$4,"mouseover",function(){return a.$14(!0)}),b("EventListener").listen(this.$4,"mouseout",function(){return a.$14(!1,!1)})))};d.componentDidUpdate=function(){this.props.isActive&&this.draw(this.__getDrawData()),b("requestAnimationFrame")(this.$13)};d.componentWillUnmount=function(){this.$1=null,this.props.useNativeListeners&&this.$12.release()};d.render=function(){var a=this,b=this.$18(),c=this.props.isActive,d={};this.props.useNativeListeners||(d.onClick=function(b){return a.__onClick(b)},d.onMouseOver=function(){return a.$14(!0)},d.onMouseOut=function(){return a.$14(!1,!1)});return h.jsx("button",babelHelpers["extends"]({},d,{ref:function(b){return a.$4=b},className:"_17az sphericalHeadingIndicator"+(c?"":" hidden_elem"),style:{width:b.width,height:b.height},children:h.jsx("div",{className:"_17a-",ref:function(b){return a.$3=b},children:h.jsx("canvas",{className:"_5nxw _17ay",ref:function(b){return a.$1=b}})})}))};return c}(h.Component);e.exports=c}),null);
__d("SphericalVideoHeadingIndicator.react",["cx","fbt","BasicFBNux","React","SphericalMediaHeadingIndicator.react","SphericalPhotoPartialLimits","SphericalVideoExperiments","SphericalVideoHalfEquirectConfig","SphericalViewportControlStore","SubscriptionsHandler","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g,h){var i=b("React"),j=b("SphericalPhotoPartialLimits").makePartialLimits,k=4320,l=h._("You're watching the best views from this 360 video only. You can swipe or drag the video to watch it manually."),m=function(a){return a!==void 0&&a!==null},n=function(b){"use strict";babelHelpers.inheritsLoose(a,b);function a(a){a=b.call(this,a)||this;m(a.__getDrawData().poiYaw)&&(a.__blinkStartTime=Date.now());return a}var c=a.prototype;c.__onClick=function(a){this.props.onClick(a)};c.__getDrawData=function(){return{fov:this.props.fov,initialYaw:this.props.initialYaw,pointerYaw:this.props.pointerYaw,poiYaw:this.props.poiYaw,yaw:this.props.yaw}};c.$SphericalHeadingIndicatorImpl1=function(a){return{fov:a.fov,initialYaw:a.initialYaw,pointerYaw:a.pointerYaw,poiYaw:a.poiYaw,yaw:a.yaw}};c.UNSAFE_componentWillReceiveProps=function(a){b.prototype.UNSAFE_componentWillReceiveProps.call(this,a);!m(this.props.poiYaw)&&m(a.poiYaw)&&(this.__blinkStartTime=Date.now());var c=a.isActive===this.props.isActive&&(a.initialYaw!==this.props.initialYaw||a.aspectRatio!==this.props.aspectRatio||a.fov!==this.props.fov||a.yaw!==this.props.yaw||a.pointerYaw!==this.props.pointerYaw||a.poiYaw!==this.props.poiYaw);c&&this.draw(this.$SphericalHeadingIndicatorImpl1(a))};c.shouldComponentUpdate=function(a){a=b.prototype.shouldComponentUpdate.call(this,a)||a.poiYaw!==this.props.poiYaw;return a};return a}(b("SphericalMediaHeadingIndicator.react"));n.__subClassMethods={__onClick:!0,__getDrawData:!0};a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$6=!1;d.$1=c.controller;d.$5=c.isComposer;d.$5||(d.$3=k,d.$4=l);d.$2=new(b("SubscriptionsHandler"))();return d}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1.getOption("SphericalVideoPlayer","isReady")?this.$7():this.$2.addSubscriptions(this.$1.once("SphericalVideoPlayer/ready",function(){return a.$7()}))};d.componentWillUnmount=function(){this.$2.release()};d.$7=function(){var a=this,c,d=this.$1.getVideoPlayerID();this.$2.addSubscriptions(this.$1.addListener("PhotoSnowlift/enterSnowlift",function(){return a.$8(!0)}),this.$1.addListener("PhotoSnowlift/exitSnowlift",function(){return a.$8(!1)}),this.$1.addListener("toggleFullscreen",function(){return a.$9()}),this.$1.addListener("beginPlayback",function(){return a.$10(!0)}),this.$1.addListener("finishPlayback",function(){return a.$10(!1)}),this.$1.addListener("VideoChannelController/enterChannel",function(){return a.$11(!0)}),this.$1.addListener("VideoChannelController/exitChannel",function(){return a.$11(!1)}),this.$1.addListener("TahoeController/enterTahoe",function(){return a.$12(!0)}),this.$1.addListener("TahoeController/exitTahoe",function(){return a.$12(!1)}),(c=b("SphericalViewportControlStore")).addListener(function(){var c=b("SphericalViewportControlStore"),e=c.getOrientation(d),f=e.pitch;e=e.yaw;a.setState({isActive:c.getViewportGrabbed(d),pitch:f,yaw:e,fov:c.getFieldOfView(d)})}),this.$1.addListener("SphericalVideoRecenterControl/animationStart",function(){return a.$13(!0)}),this.$1.addListener("SphericalVideoRecenterControl/animationEnd",function(){return a.$13(!1)}),this.$1.addListener("VideoControls/visibilityUpdate",function(b){b=b.areControlsVisible;return a.$13(b)}),this.$1.addListener("viewportChange",function(b,c){return a.forceUpdate()}),this.$1.addListener("VideoWithSphericalGuide/viewportChange",function(b){return a.setState({pointerYaw:b})}),this.$1.addListener("VideoWithSphericalGuide/intervalUpdate",function(b){return a.$14(b)}),this.$1.addListener("VideoWithSphericalGuide/toggle",function(b){return a.setState({isGuideAuto:b})}),this.$1.addListener("VideoWithSphericalGuide/stateToggle",function(b){b||a.setState({isGuideAuto:!1,poiYaw:void 0,pointerYaw:0})}));this.setState({isVisible:this.$1.isState("playing"),isActive:!1,inChannel:this.$1.getIsInChannel(),inSnowlift:this.$1.getOption("PhotoSnowlift","isInSnowlift"),inTahoe:this.$1.getSource()==="tahoe",inFullscreen:this.$1.isFullscreen(),isGuideAuto:this.$1.getOption("VideoWithSphericalGuide","auto"),showGuideNux:b("SphericalVideoExperiments").showGuideNux,pitch:c.getOrientation(d).pitch,yaw:c.getOrientation(d).yaw,fov:c.getFieldOfView(d)});this.$6=!0};d.$10=function(a){this.setState({isVisible:a})};d.$9=function(){this.setState({inFullscreen:this.$1.isFullscreen()})};d.$11=function(a){this.setState({inChannel:a})};d.$8=function(a){this.setState({inSnowlift:a})};d.$12=function(a){this.setState({inTahoe:a})};d.$13=function(a){this.setState({isActive:a})};d.$15=function(){this.setState({showGuideNux:!1}),b("BasicFBNux").onDismiss(k)};d.$14=function(a){var b=a.deltaPitch===0&&a.deltaYaw===0;a=b?void 0:a.baseYaw+a.deltaYaw;this.setState({poiYaw:a,isActive:!b})};d.render=function(){var a=this;if(!this.$6)return null;var c=this.$1.getOption("SphericalVideoPlayer","getDimensions"),d=c.width;c=c.height;var e=!this.state.inChannel&&!this.state.inSnowlift&&!this.state.inFullscreen&&!this.state.inTahoe,f=this.$1.getOption("VideoWithSphericalGuide","enabled"),g;this.$5||(g=this.state.showGuideNux&&f);f={};var h=this.$1.getOption("SphericalVideoPlayer","getIsSingleFisheye");if(h){h=this.$1.getOption("SphericalVideoPlayer","getOriginalFOV");h!==null&&h!==0&&(f.partialLimits=j({partialLeftDegrees:h/2,partialRightDegrees:h/2,partialTopDegrees:0,partialBottomDegrees:0}))}h=this.$1.getOption("SphericalVideoPlayer","getIsHalfEquirectangular");h&&(f.partialLimits=j(b("SphericalVideoHalfEquirectConfig").getHalfEquirectangularPartialLimits()));return i.jsxs("div",{className:"_3ldo"+(e?" _42a0":"")+(this.state.inTahoe?" _4l1h":"")+(this.state.inFullscreen?" _70uh":""),children:[i.jsx(n,babelHelpers["extends"]({ref:"compass",aspectRatio:d/c,initialYaw:this.props.initialYaw,isActive:this.state.isVisible,fov:this.state.fov,pitch:this.state.pitch,yaw:this.state.yaw,onClick:this.props.onClick,useLargeHeadingIndicator:this.state.inFullscreen,isPanning:this.state.isActive,isGuideAuto:this.state.isGuideAuto,pointerYaw:this.state.pointerYaw,poiYaw:this.state.poiYaw},f)),i.jsx(b("XUIAmbientNUX.react"),{contextRef:function(){return a.refs.compass},shown:g,position:"left",onCloseButtonClick:function(){return a.$15()},children:this.$4})]})};return c}(i.Component);e.exports=a}),null);
__d("VideoSphericalHeadingIndicator",["cx","CSS","React","ReactDOM","SphericalVideoHeadingIndicator.react","destroyOnUnload"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(){function a(a,c,d,e,f,g){var h=this;g===void 0&&(g=!1);this.$7=function(a){a.preventDefault(),h.$1.emit("SphericalHeadingIndicator/click"),h.$1.logEvent("heading_reset")};this.$1=a;this.$2=c;this.$3=d;this.$4=g;var i=a.addListener("VideoPlayerFallbackEvents/enter",function(){i.remove(),b("ReactDOM").unmountComponentAtNode(c)});if(a.isState("ready")||a.isState("playing"))this.$5();else var j=a.addListener("stateChange",function(){(h.$1.isState("ready")||h.$1.isState("playing"))&&(j.remove(),h.$5())});b("destroyOnUnload")(function(){b("ReactDOM").unmountComponentAtNode(c)})}var c=a.prototype;c.$5=function(){this.$1.addListener("toggleFullscreen",this.$6.bind(this)),b("ReactDOM").render(h.jsx(b("SphericalVideoHeadingIndicator.react"),{initialYaw:this.$3,onClick:this.$7,controller:this.$1,isComposer:this.$4}),this.$2)};c.$6=function(){this.$1.isFullscreen()?b("CSS").addClass(this.$2,"_4ubd"):b("CSS").removeClass(this.$2,"_4ubd")};return a}();e.exports=a}),null);
__d("SphericalDirectorVideo.react",["cx","fbt","ix","DOM","Image.react","React","SphericalDirectorEvents","SphericalDirectorVideoBottomControlBar.react","SphericalDirectorVideoConstants","SphericalDirectorVideoIntroTextSection.react","SphericalDirectorVideoLoader","SphericalDirectorVideoPreviewGuide","SphericalDirectorVideoPreviewOverlayButtons","SphericalDirectorVideoPreviewSpinner","SphericalDirectorVideoPreviewViewportControl","SphericalDirectorVideoTopControlBar.react","SphericalVideoHalfEquirectConfig","SphericalVideoPlayerEvents","SphericalVideoRecenterControl","VideoSphericalHeadingIndicator","emptyFunction"],(function(a,b,c,d,e,f,g,h,i){var j=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.state={controller:null};d.$8=function(a){var c=d.props.yaw,e=d.props.pitch,f=d.props.fov,g=d.props.guideEnabled,h=d.props.keyframes.map(function(a){return a.getLegacyParams()}).toJS();d.$9(function(c){d.$1=new(b("VideoSphericalHeadingIndicator"))(a,c,0,0,f,!0)},function(c){d.$2=new(b("SphericalDirectorVideoPreviewSpinner"))(a,c)});d.props.isEditingKeyframeEnabled!==!1&&d.$9(function(c){d.$3=new(b("SphericalDirectorVideoPreviewOverlayButtons"))(a,c,d.props.isEditingKeyframe,d.props.isMobilePreview)});d.$5=new(b("SphericalDirectorVideoPreviewViewportControl"))(a,c,e,f,d.props.onViewportUpdate,d.props.onFOVUpdate);d.$4=new(b("SphericalVideoRecenterControl"))(a,c,e);d.$6=new(b("SphericalDirectorVideoPreviewGuide"))(a,c,e,g,h,d.props.projection,d.props.onGuidePointAdded,d.props.onGuidePointRemoved,d.props.toggleGuidePointEdit,d.props.onGuidePointSaved,d.props.updateActiveGuideKeyframe,!0);d.props.onLoadVideoSuccess(a);d.setState({controller:a});var i=a.addListener("stateChange",function(){a.isState("destroyed")&&(i.remove(),d.componentWillUnmount(),d.setState({controller:null}))})};d.$10=function(a){d.props.onToggleMobilePreview(a),d.state.controller&&d.state.controller.emit(b("SphericalDirectorEvents").PREVIEW.MOBILE_PREVIEW_UPDATE,a)};d.$11=function(a){d.props.onProjectionSelected(a),d.$12()};d.$13=function(a){d.props.onStereoModeSelected(a),d.$12()};var e=c.videoFile,f=c.videoID,g=c.videoData;d.$7=function(){var a={initialHeading:d.props.yaw,initialPitch:d.props.pitch,fieldOfView:d.props.fov,stereoFormat:d.props.stereoMode,projection:d.props.projection,root:d.refs.container,video:d.refs.video,onSuccess:d.$8,onError:d.props.onLoadVideoError,autoplay:!0,disableSpatialAudioController:d.props.disableSpatialAudioController};d.props.shouldLoadVideo&&(e||f!=null?b("SphericalDirectorVideoLoader").load(d.props.videoFile,d.props.videoID,a):g&&b("SphericalDirectorVideoLoader").loadWithVideoData(g,a),d.$7=b("emptyFunction"))};return d}var d=c.prototype;d.componentWillUnmount=function(){this.$4&&this.$4.destroy(),this.$5&&this.$5.destroy(),this.$6&&this.$6.destroy()};d.componentDidMount=function(){this.$7()};d.componentDidUpdate=function(a){var c=this.state.controller;if(!c){this.$7();return}this.props.isLargeHeight?c.setDimensions(b("SphericalDirectorVideoConstants").VIDEO_WIDTH_PX,b("SphericalDirectorVideoConstants").VIDEO_HEIGHT_LARGE_PX):this.props.isLargeHeight||c.setDimensions(b("SphericalDirectorVideoConstants").VIDEO_WIDTH_PX,b("SphericalDirectorVideoConstants").VIDEO_HEIGHT_DEFAULT_PX);this.props.guideEnabled!==a.guideEnabled&&c.emit(b("SphericalDirectorEvents").PREVIEW.GUIDE_STATE_UPDATE,this.props.guideEnabled);this.props.guideVisible!==a.guideVisible&&c.emit(b("SphericalDirectorEvents").PREVIEW.GUIDE_VISIBILITY_UPDATE,this.props.guideVisible);this.props.fov!==a.fov&&c.emit(b("SphericalDirectorEvents").PREVIEW.FIELD_OF_VIEW_UPDATE,this.props.fov);this.props.keyframes.equals(a.keyframes)||c.emit(b("SphericalDirectorEvents").PREVIEW.GUIDE_KEYFRAMES_UPDATE,this.props.keyframes.map(function(a){return a.getLegacyParams()}).toJS());this.props.isEditingKeyframe!==a.isEditingKeyframe&&c.emit(b("SphericalDirectorEvents").PREVIEW.KEYFRAME_EDITING_STATE_UPDATE,this.props.isEditingKeyframe);if(this.props.projection!==a.projection){c.emit(b("SphericalVideoPlayerEvents").SET_VIDEO_PROJECTION,this.props.projection);c.emit(b("SphericalDirectorEvents").PREVIEW.PROJECTION_UPDATE,this.props.projection);var d=this.props.projection==="half_equirectangular"?b("SphericalVideoHalfEquirectConfig").getHalfEquirectangularPartialLimits():null;c.emit(b("SphericalVideoPlayerEvents").SET_PARTIAL_LIMITS,d);d=this.props.projection==="half_equirectangular"?b("SphericalVideoHalfEquirectConfig").getHalfEquirectangularControllerConfig():{};c.emit(b("SphericalVideoPlayerEvents").SET_VIEWPORT_CONTROL_CONFIG,d)}this.props.stereoMode!==a.stereoMode&&c.emit(b("SphericalVideoPlayerEvents").SET_STEREO_MODE,this.props.stereoMode)};d.$9=function(){var a=this;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];d.forEach(function(c){var d=b("DOM").create("div",{className:"_2sva"});b("DOM").insertAfter(a.refs.video,d);c(d)})};d.$12=function(){this.props.onGuidePointsCleared(),this.state.controller&&this.state.controller.setSphericalOrientation(0,0)};d.render=function(){var a,c,d,e,f;this.props.videoLoading?a=j.jsx("div",{className:"_2svb",children:j.jsx("div",{className:"_2svc",children:h._("Loading video preview...")})}):this.props.videoUnavailable?a=j.jsx("div",{className:"_2svb",children:j.jsx("div",{className:"_2svc",children:h._("Video preview unavailable")})}):(this.props.isMobilePreview&&(a=[j.jsx(b("Image.react"),{className:"_2svd"+(this.props.isMobilePreview?"":" _2sve"),src:i("509012")},"phone-image"),j.jsx("div",{className:"_2svf _2svg"+(this.props.isMobilePreview?"":" _2sve")},"left"),j.jsx("div",{className:"_2svf _2svi"+(this.props.isMobilePreview?"":" _2sve")},"right")]),this.state.controller&&(this.props.showTopControlBar!==!1&&(c=j.jsx(b("SphericalDirectorVideoTopControlBar.react"),{allowOmnistabToggle:this.props.allowOmnistabToggle,controller:this.state.controller,omnistabEnabled:!1,showOmnistabSection:!1,onToggleEnableOmnistab:this.props.onToggleEnableOmnistab,onToggleIsMobilePreview:this.$10,isMobilePreview:this.props.isMobilePreview,fov:this.props.fov,onFOVUpdate:this.props.onFOVUpdate})),d=j.jsx(b("SphericalDirectorVideoBottomControlBar.react"),{controller:this.state.controller,projection:this.props.projection,stereoMode:this.props.stereoMode,hasSpatialAudio:this.props.hasSpatialAudio,onProjectionSelected:this.$11,onStereoModeSelected:this.$13,isEditing:this.props.isEditing}),this.props.showIntroSection!==!1&&(f=j.jsx(b("SphericalDirectorVideoIntroTextSection.react"),{componentSource:this.props.componentSource}))));return j.jsxs("div",{ref:"root",className:""+(this.props.isLargeHeight?" _2svk":""),children:[f,c,j.jsxs("div",{className:"_2svl",children:[e,j.jsxs("div",{ref:"container",className:"_2svm"+(this.props.isMobilePreview?" _2svn":""),children:[j.jsx("video",{ref:"video",crossOrigin:"anonymous",className:"_2svo"}),a]})]}),d]})};return c}(j.PureComponent);e.exports=a}),null);
__d("SphericalDirector.react",["cx","Event","React","SimpleXUIDialog","SphericalDirectorGuideSection.react","SphericalDirectorMetadataUtils","SphericalDirectorVideo.react","SubscriptionsHandler","Vector","VideoComposerHeightConfig","throttle"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isLargeHeight:!1},d.setIsLargeHeight=function(){var a=b("Vector").getViewportDimensions().y;a>=b("VideoComposerHeightConfig").LARGE_HEIGHT+b("VideoComposerHeightConfig").DIALOG_VERTICAL_MARGIN?d.setState({isLargeHeight:!0}):d.setState({isLargeHeight:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidUpdate=function(){if(this.props.errorMessageText){var a=this.props.errorMessageConfirmOnly?b("SimpleXUIDialog").show.bind(b("SimpleXUIDialog")):b("SimpleXUIDialog").showConfirm.bind(b("SimpleXUIDialog"));a(this.props.errorMessageText,this.props.errorMessageTitle,this.props.onAcceptErrorMessage);this.props.onClearErrorMessage()}};d.componentDidMount=function(){this.setState(this.setIsLargeHeight),this.$1=new(b("SubscriptionsHandler"))(),this.$1.addSubscriptions(b("Event").listen(window,"resize",b("throttle")(this.setIsLargeHeight)))};d.componentWillUnmount=function(){this.$1&&this.$1.release()};d.render=function(){var a=b("SphericalDirectorMetadataUtils").isV1(this.props.componentSource);return h.jsx("div",{className:"_6aa-"+(this.props.shown?"":" _2oq6")+(a?" _3yp3":"")+(this.state.isLargeHeight?" _3yp4":""),children:h.jsxs("div",{className:"_3yp5"+(a?" _3yp3":""),children:[h.jsx(b("SphericalDirectorVideo.react"),{fov:this.props.fov,guideEnabled:this.props.guideEnabled,guideVisible:this.props.guideVisible,isEditingKeyframe:this.props.isEditingKeyframe,isLargeHeight:this.state.isLargeHeight,keyframes:this.props.keyframes,onFOVUpdate:this.props.onFOVUpdate,onGuideVisibilityUpdate:this.props.onGuideVisibilityUpdate,onLoadVideoError:this.props.onLoadVideoError,onLoadVideoSuccess:this.props.onLoadVideoSuccess,onGuidePointAdded:this.props.onGuidePointAdded,onGuidePointSaved:this.props.onGuidePointSaved,onGuidePointsCleared:this.props.onGuidePointsCleared,onGuidePointRemoved:this.props.onGuidePointRemoved,onGuidePointsRemoved:this.props.onGuidePointsRemoved,onViewportUpdate:this.props.onViewportUpdate,onProjectionSelected:this.props.onProjectionSelected,onStereoModeSelected:this.props.onStereoModeSelected,pitch:this.props.pitch,shouldLoadVideo:this.props.shouldLoadVideo,toggleGuidePointEdit:this.props.toggleGuidePointEdit,updateActiveGuideKeyframe:this.props.updateActiveGuideKeyframe,videoFile:this.props.videoFile,videoID:this.props.videoID,videoLoading:this.props.videoLoading,videoUnavailable:this.props.videoUnavailable,yaw:this.props.yaw,allowOmnistabToggle:this.props.allowOmnistabToggle,omnistabEnabled:this.props.omnistabEnabled,showOmnistabSection:this.props.showOmnistabSection,onToggleEnableOmnistab:this.props.onToggleEnableOmnistab,projection:this.props.projection,stereoMode:this.props.stereoMode,hasSpatialAudio:this.props.hasSpatialAudio,isEditing:this.props.isEditing,componentSource:this.props.componentSource,onToggleMobilePreview:this.props.onToggleMobilePreview,isMobilePreview:this.props.isMobilePreview}),h.jsx(b("SphericalDirectorGuideSection.react"),{fov:this.props.fov,isEditingKeyframe:this.props.isEditingKeyframe,keyframes:this.props.keyframes,isLargeHeight:this.state.isLargeHeight,pitch:this.props.pitch,yaw:this.props.yaw,onGuidePointsRemoved:this.props.onGuidePointsRemoved,onToggleGuideKeyframeForDeletion:this.props.onToggleGuideKeyframeForDeletion})]})})};return c}(h.Component);e.exports=a}),null);
__d("SphericalDirectorFunnelConstants",["SphericalDirectorComponentSources","keyMirror"],(function(a,b,c,d,e,f){"use strict";c=(a=b("keyMirror"))({TOGGLE_MOBILE_VR:"",UPDATE_FOV:"",UPDATE_PROJECTION:"",UPDATE_STEREO:"",ADD_GUIDE_POINT:"",SELECT_FILE_STANDALONE:"",CLOSE_MODAL_STANDALONE:"",DOWNLOAD_VIDEO_STANDALONE:"",OPEN_SPHERICAL_TAB_COMPOSER:"",EXIT_COMPOSER:"",POST_VIDEO_SUCCESS_COMPOSER:"",POST_VIDEO_FAILURE_COMPOSER:"",SAVE_VIDEO_SUCCESS_COMPOSER:"",SAVE_VIDEO_FAILURE_COMPOSER:"",TOGGLE_360_MODE_COMPOSER:""});d=a({CHROME:"",EDGE:"",FIREFOX:"",IE:"",OPERA:"",OTHER_BROWSER:"",SAFARI:""});f=a({CHROME_OS:"",LINUX:"",MAC_OS_X:"",OTHER_PLATFORM:"",WINDOWS:""});a=a({IS_SPHERICAL:"",IS_NOT_SPHERICAL:""});d={BROWSERS:d,COMPONENT_SOURCES:b("SphericalDirectorComponentSources"),PLATFORMS:f,SPHERICAL:a};b={ACTIONS:c,FUNNEL_NAME:"WWW_SPHERICAL_DIRECTOR_FUNNEL",TAGS:d};e.exports=b}),null);
__d("SphericalDirectorFunnelUtils",["FunnelLogger","SphericalDirectorFunnelConstants","UserAgent"],(function(a,b,c,d,e,f){a={getBrowserTag:function(){if(b("UserAgent").isBrowser("Firefox"))return b("SphericalDirectorFunnelConstants").TAGS.BROWSERS.FIREFOX;else if(b("UserAgent").isBrowser("Chrome"))return b("SphericalDirectorFunnelConstants").TAGS.BROWSERS.CHROME;else if(b("UserAgent").isBrowser("IE"))return b("SphericalDirectorFunnelConstants").TAGS.BROWSERS.IE;else if(b("UserAgent").isBrowser("Safari"))return b("SphericalDirectorFunnelConstants").TAGS.BROWSERS.SAFARI;else if(b("UserAgent").isBrowser("Opera"))return b("SphericalDirectorFunnelConstants").TAGS.BROWSERS.OPERA;else if(b("UserAgent").isBrowser("Edge"))return b("SphericalDirectorFunnelConstants").TAGS.BROWSERS.EDGE;else return b("SphericalDirectorFunnelConstants").TAGS.BROWSERS.OTHER_BROWSER},getPlatformTag:function(){if(b("UserAgent").isPlatform("Mac OS X"))return b("SphericalDirectorFunnelConstants").TAGS.PLATFORMS.MAC_OS_X;else if(b("UserAgent").isPlatform("Windows"))return b("SphericalDirectorFunnelConstants").TAGS.PLATFORMS.WINDOWS;else if(b("UserAgent").isPlatform("Chrome OS"))return b("SphericalDirectorFunnelConstants").TAGS.PLATFORMS.CHROME_OS;else if(b("UserAgent").isPlatform("Linux"))return b("SphericalDirectorFunnelConstants").TAGS.PLATFORMS.LINUX;else return b("SphericalDirectorFunnelConstants").TAGS.PLATFORMS.OTHER_PLATFORM},getSphericalTag:function(a){return a?b("SphericalDirectorFunnelConstants").TAGS.SPHERICAL.IS_SPHERICAL:b("SphericalDirectorFunnelConstants").TAGS.SPHERICAL.IS_NOT_SPHERICAL},startFunnel:function(a,c,d){c===void 0&&(c=!1);d===void 0&&(d=!1);if(!d&&b("FunnelLogger").getFunnelInstance(b("SphericalDirectorFunnelConstants").FUNNEL_NAME))return;b("FunnelLogger").startFunnel(b("SphericalDirectorFunnelConstants").FUNNEL_NAME);b("FunnelLogger").addFunnelTag(b("SphericalDirectorFunnelConstants").FUNNEL_NAME,a);b("FunnelLogger").addFunnelTag(b("SphericalDirectorFunnelConstants").FUNNEL_NAME,this.getBrowserTag());b("FunnelLogger").addFunnelTag(b("SphericalDirectorFunnelConstants").FUNNEL_NAME,this.getPlatformTag());b("FunnelLogger").addFunnelTag(b("SphericalDirectorFunnelConstants").FUNNEL_NAME,this.getSphericalTag(c))}};e.exports=a}),null);
__d("SphericalDirectorVideoGuideThumbnailsLoader",["DOM","SphericalDirectorVideoLoader","SphericalVideoPlayerEvents","immutable"],(function(a,b,c,d,e,f){"use strict";b("immutable").List;var g=1e3,h=100;a=function(){function a(a,b,c,d,e){var f=this;this.$8=function(a){var b=!1;f.$6||(f.$6=a,b=!0);var c=f.$3;if(c.size===0){f.$7=null;return}var d=1;a.setDimensions(h*d,h);var e=0,i=a.addListener("seekEnd",function(){var b=c.get(e);a.setSphericalOrientation(b.yaw,b.pitch);var d=a.getOption("SphericalVideoPlayer","getScreenshotDataURL");if(a.getCurrentTimePosition()===0){a.seek(1/g);return}c=c.update(e,function(a){return a.set("thumbnailURI",d)});f.$5(c);e++;e<c.size?a.seek(c.get(e).timestamp/g):(i.remove(),f.$7=null)});b?a.once("updateMetadata",function(){a.seek(c.first().timestamp/g)}):a.seek(c.first().timestamp/g)};this.$1=a;this.$2=b;this.$3=d;this.$4=c;this.$5=e;this.$7=null;this.$6=null}var c=a.prototype;c.setKeyframes=function(a){this.$3=a;return this};c.setProjection=function(a){this.$6?this.$6.emit(b("SphericalVideoPlayerEvents").SET_VIDEO_PROJECTION,a):this.$4.projection=a;return this};c.setStereoMode=function(a){this.$6?this.$6.emit(b("SphericalVideoPlayerEvents").SET_STEREO_MODE,a):this.$4.stereoFormat=a;return this};c.reloadThumbnails=function(){var a=this;this.$7&&clearTimeout(this.$7);this.$7=setTimeout(function(){if(a.$6)a.$8(a.$6);else{var c=b("DOM").create("div"),d=b("DOM").create("video",{crossOrigin:"anonymous"});b("DOM").appendContent(c,d);b("SphericalDirectorVideoLoader").load(a.$1,a.$2,babelHelpers["extends"]({},a.$4,{root:c,video:d,onSuccess:a.$8,onError:function(){},autoplay:!1}))}})};c.destroy=function(){this.$6&&this.$6.destroy()};return a}();e.exports=a}),null);
__d("cropDataURLToDimension",["DOM"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){var e=b("DOM").create("canvas",{width:d.width,height:d.height}),f=e.getContext("2d");f.drawImage(a,c.x,c.y,d.width,d.height,0,0,d.width,d.height);return e.toDataURL()}e.exports=a}),null);
__d("SphericalDirectorContainer.react",["DOM","FluxContainer","FunnelLogger","React","SphericalDirector.react","SphericalDirectorAction","SphericalDirectorFunnelConstants","SphericalDirectorFunnelUtils","SphericalDirectorGuideKeyframeData","SphericalDirectorMetadataUtils","SphericalDirectorStore","SphericalDirectorVideoGuideThumbnailsLoader","VideoUploadSphericalLogger","cropDataURLToDimension","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("immutable").List,i=1;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=!1,d.$2=null,d.$9=function(a){d.$16(d.state.yaw,a)},d.$17=function(a){d.$16(a,d.state.pitch)},d.$10=function(a,c,e,f){f=f();if(f)var g=b("DOM").create("img",{src:f,onload:function(){var h=g.width,j=g.height;h=(h-i*j)/2;f=b("cropDataURLToDimension")(g,{x:h,y:0},{width:j*i,height:j});d.$24(a,c,e,f)}});else d.$24(a,c,e)},d.$14=function(a){b("SphericalDirectorAction").updateEnableOmnistab(!d.state.enableOmnistab)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("SphericalDirectorStore")]};c.calculateState=function(){var a=b("SphericalDirectorStore").getState(),c=a.currentViewport,d=a.fov,e=a.unavailable,f=a.controller,g=a.enableOmnistab,h=a.guideVisible,i=a.guideKeyframes,j=a.isEditingGuidePoint,k=a.visible,l=a.errorInfo,m=a.originalSphericalMetadata,n=a.projection,o=a.stereoMode,p=a.hasSpatialAudio;a=a.isMobilePreview;var q=c.pitch;c=c.yaw;f=!f&&!e;l=l||{};k=k&&f;return{pitch:q,yaw:c,fov:d,projection:n,stereoMode:o,hasSpatialAudio:p,videoLoading:f,videoUnavailable:e,enableOmnistab:g,guideVisible:h,keyframes:i,errorMessageText:l.text,errorMessageTitle:l.title,errorMessageConfirmOnly:l.confirmOnly,errorMessageCallback:l.callback,isEditingKeyframe:j,shouldLoadVideo:k,sphericalMetadata:m,isMobilePreview:a}};var d=c.prototype;d.UNSAFE_componentWillMount=function(){b("SphericalDirectorAction").resetVideoPlayerController();this.props.showOmnistabSection||b("SphericalDirectorAction").updateEnableOmnistab(!1);this.props.startVisible&&b("SphericalDirectorAction").updateTabVisibility(this.props.shown);var a=b("SphericalDirectorStore").getState(),c=a.currentViewport;a=a.fov;b("VideoUploadSphericalLogger").setIsRedesign(!0).setVideoID(this.props.videoID?Number(this.props.videoID):null).setYawDegrees(c.yaw).setPitchDegrees(c.pitch).setFieldOfView(a).setVideoPreviewPosition(0)};d.componentDidMount=function(){this.$3()};d.componentDidUpdate=function(a,c){a.shown!==this.props.shown&&b("SphericalDirectorAction").updateTabVisibility(this.props.shown);if(this.props.shown&&!this.$1){var d="tab_impression";b("VideoUploadSphericalLogger").setUserAction(d).log();this.$1=!0}this.props.shown&&!a.shown&&b("SphericalDirectorMetadataUtils").isV1(this.props.componentSource)&&(b("SphericalDirectorFunnelUtils").startFunnel(this.props.componentSource,!0,!1),b("FunnelLogger").appendActionIfNew(b("SphericalDirectorFunnelConstants").FUNNEL_NAME,b("SphericalDirectorFunnelConstants").ACTIONS.OPEN_SPHERICAL_TAB_COMPOSER));Object.keys(c.sphericalMetadata).length===0&&Object.keys(this.state.sphericalMetadata).length>0&&this.$3();(this.state.projection!==c.projection||this.state.stereoMode!==c.stereoMode)&&this.reloadGuideThumbnails()};d.componentWillUnmount=function(){var a=b("SphericalDirectorStore").getState();a=a.controller;a&&a.destroy();this.$2&&this.$2.destroy()};d.render=function(){return g.jsx(b("SphericalDirector.react"),{errorMessageConfirmOnly:this.state.errorMessageConfirmOnly,errorMessageText:this.state.errorMessageText,errorMessageTitle:this.state.errorMessageTitle,fov:this.state.fov,guideEnabled:!0,guideVisible:this.state.guideVisible,isEditingKeyframe:this.state.isEditingKeyframe,isLargeHeight:!1,keyframes:this.state.keyframes,onAcceptErrorMessage:this.state.errorMessageCallback,onClearErrorMessage:this.$4,onFOVUpdate:this.$5,onGuideVisibilityUpdate:this.$6,onLoadVideoError:this.$7,onLoadVideoSuccess:this.$8,onPitchUpdate:this.$9,onGuidePointAdded:this.$10,onGuidePointSaved:this.$10,onGuidePointsCleared:this.$11,onGuidePointsRemoved:this.$12,onGuidePointRemoved:this.$13,onToggleEnableOmnistab:this.$14,onToggleGuideKeyframeForDeletion:this.$15,onViewportUpdate:this.$16,onYawUpdate:this.$17,onProjectionSelected:this.$18,onStereoModeSelected:this.$19,pitch:this.state.pitch,shouldLoadVideo:this.state.shouldLoadVideo,shown:this.props.shown,showOmnistabSection:!1,omnistabEnabled:this.state.enableOmnistab,allowOmnistabToggle:this.$20(),toggleGuidePointEdit:this.$21,updateActiveGuideKeyframe:this.$22,videoFile:this.props.videoFile,videoID:this.props.videoID,videoLoading:this.state.videoLoading,videoUnavailable:this.state.videoUnavailable,yaw:this.state.yaw,projection:this.state.projection,stereoMode:this.state.stereoMode,hasSpatialAudio:this.state.hasSpatialAudio,isEditing:!!this.props.isEditing,componentSource:this.props.componentSource,onToggleMobilePreview:this.$23,isMobilePreview:this.state.isMobilePreview})};d.$3=function(){this.$2||(this.$2=new(b("SphericalDirectorVideoGuideThumbnailsLoader"))(this.props.videoFile,this.props.videoID,{initialHeading:this.state.yaw,initialPitch:this.state.pitch,fieldOfView:this.state.fov,stereoFormat:this.state.stereoMode,projection:this.state.projection},this.state.keyframes,function(a){return b("SphericalDirectorAction").updateGuideKeyframes(a)})),this.$2.setKeyframes(this.state.keyframes).reloadThumbnails()};d.reloadGuideThumbnails=function(){this.$2&&this.$2.setProjection(this.state.projection).setStereoMode(this.state.stereoMode).setKeyframes(this.state.keyframes).reloadThumbnails()};d.$20=function(){return(!this.state.stereoMode||this.state.stereoMode==="mono")&&(!this.props.isEditing||!!this.props.hasOmnistabEncoding)};d.$4=function(){b("SphericalDirectorAction").updateErrorMessage(null)};d.$8=function(a){b("SphericalDirectorAction").setVideoPlayerController(a)};d.$7=function(){b("SphericalDirectorAction").setVideoUnavailable(!0)};d.$16=function(a,c){a=Math.round(a),c=Math.round(c),b("SphericalDirectorAction").updateCurrentViewport(c,a),b("VideoUploadSphericalLogger").setPitchDegrees(c).setYawDegrees(a).setUserAction("drag_video_preview").log()};d.$5=function(a){b("SphericalDirectorAction").updateFOV(a),b("FunnelLogger").appendActionIfNew(b("SphericalDirectorFunnelConstants").FUNNEL_NAME,b("SphericalDirectorFunnelConstants").ACTIONS.UPDATE_FOV),b("VideoUploadSphericalLogger").setUserAction("scroll_video_preview").setFieldOfView(a).log()};d.$18=function(a){b("SphericalDirectorAction").updateProjection(a),b("FunnelLogger").appendActionIfNew(b("SphericalDirectorFunnelConstants").FUNNEL_NAME,b("SphericalDirectorFunnelConstants").ACTIONS.UPDATE_PROJECTION)};d.$19=function(a){b("SphericalDirectorAction").updateStereoMode(a),b("FunnelLogger").appendActionIfNew(b("SphericalDirectorFunnelConstants").FUNNEL_NAME,b("SphericalDirectorFunnelConstants").ACTIONS.UPDATE_STEREO)};d.$22=function(a){b("SphericalDirectorAction").updateActiveGuideKeyframe(a)};d.$15=function(a){b("SphericalDirectorAction").updateToggleGuideKeyframeForDeletion(a)};d.$24=function(a,c,d,e){a=new(b("SphericalDirectorGuideKeyframeData"))({timestamp:a,yaw:Math.round(d),pitch:Math.round(c),thumbnailURI:e,isSelected:!0});this.state.isEditingKeyframe?b("SphericalDirectorAction").updateSaveGuideKeyframe(a):(b("FunnelLogger").appendActionIfNew(b("SphericalDirectorFunnelConstants").FUNNEL_NAME,b("SphericalDirectorFunnelConstants").ACTIONS.ADD_GUIDE_POINT),b("SphericalDirectorAction").updateAddGuideKeyframe(a))};d.$12=function(){b("SphericalDirectorAction").updateDeleteSelectedGuideKeyframes(),b("VideoUploadSphericalLogger").setUserAction("remove_point_of_interest").log()};d.$13=function(a){b("SphericalDirectorAction").updateRemoveGuideKeyframe(a),b("VideoUploadSphericalLogger").setUserAction("remove_point_of_interest").log()};d.$11=function(){b("SphericalDirectorAction").updateGuideKeyframes(h([b("SphericalDirectorGuideKeyframeData").getFromLegacyParams([0,0,0])]))};d.$21=function(a){b("SphericalDirectorAction").updateIsEditingGuidePoint(a)};d.$6=function(a){b("SphericalDirectorAction").updateGuideVisibility(a)};d.$23=function(a){b("SphericalDirectorAction").updateIsMobilePreview(a),b("FunnelLogger").appendActionIfNew(b("SphericalDirectorFunnelConstants").FUNNEL_NAME,b("SphericalDirectorFunnelConstants").ACTIONS.TOGGLE_MOBILE_VR)};return c}(g.Component);e.exports=b("FluxContainer").create(a)}),null);
__d("VideoComposerSphericalDirectorInfo.react",["cx","fbt","React"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j={title:h._("Set guide points"),subText:h._("Direct your audience's attention to the parts that you want them to see")},k={title:h._("Preview your video"),subText:h._("Your final 360 video will pan to the guide points that you've set")};function l(a){return i.jsxs("div",{className:"_6eqc",children:[i.jsxs("div",{className:"_6eqd",children:[a.num,". ",a.titleText]}),i.jsx("div",{className:"_6eqe",children:a.subText})]})}function a(){var a=[j,k];a=a.map(function(a,b){return i.jsx(l,{num:b+1,titleText:a.title,subText:a.subText},b)});return i.jsxs("div",{className:"_6eqf",children:[i.jsx("div",{className:"_6el3"}),i.jsxs("div",{className:"_6eqg",children:[i.jsx("div",{className:"_6eqh",children:h._("Get started")}),a]})]})}e.exports=a}),null);
__d("VideoComposerSphericalDirectorSection.react",["cx","fbt","FlexLayout.react","React","SphericalDirectorComponentSources","SphericalDirectorContainer.react","VideoComposerDialogSphericalDirectorUtils","VideoComposerRadioButton.react","VideoComposerSphericalDirectorInfo.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=h._("360\u00b0 mode"),d=null;switch(this.props.dialogMode){case"video_crosspost":d=this.props.videoAssetID;break;case"video_edit":d=this.props.videoID;break}var e=!this.props.shouldPremiere&&this.props.dialogMode==="video_upload",f=!!this.props.contextConfig&&(this.props.dialogMode==="video_upload"?!!this.props.videoFile:!!d);f=f&&this.props.spherical;var g=this.props.dialogMode?b("VideoComposerDialogSphericalDirectorUtils").getComponentSourceFromDialogMode(this.props.dialogMode):b("SphericalDirectorComponentSources").UNKNOWN;return i.jsxs("div",{className:"_6enx",children:[i.jsxs(b("FlexLayout.react"),{className:"_6eny",align:"start",justify:"all",children:[i.jsxs("div",{className:"_6enz",children:[i.jsx("div",{className:"_6en-",children:h._("360 Director tools")}),!f&&i.jsx("div",{className:"_6en_",children:h._("During playback, the viewer has control of the viewing direction such as a panorama.")})]}),e&&i.jsx(b("VideoComposerRadioButton.react"),{checked:this.props.spherical,className:"_6eo0",label:c,onSelect:function(){return a.props.ontoggleSpherical(!a.props.spherical)}})]}),f?i.jsx(b("SphericalDirectorContainer.react"),{componentSource:g,shown:!0,showOmnistabSection:this.props.showOmnistabSection,startVisible:!0,videoFile:this.props.dialogMode==="video_upload"?this.props.videoFile:null,videoID:d}):i.jsx(b("VideoComposerSphericalDirectorInfo.react"),{})]})};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerThumbnailEditor.react",["cx","React","VideoComposerThumbnailEditorLeftSectionContainer.react","VideoComposerThumbnailEditorRightSectionContainer.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsxs("div",{className:"_6enb",children:[h.jsx(b("VideoComposerThumbnailEditorLeftSectionContainer.react"),{videoComposerID:this.props.videoComposerID}),h.jsx(b("VideoComposerThumbnailEditorRightSectionContainer.react"),{videoComposerID:this.props.videoComposerID})]})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerAdBreaksMidRollOptOutTabConfig",["fbt","FDSText.react","React","SimpleNUXMessageTypes","VideoComposerAdBreakActions","VideoComposerAdBreaksTabConfig"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=babelHelpers["extends"]({},b("VideoComposerAdBreaksTabConfig"),{nuxMessage:b("SimpleNUXMessageTypes").MID_ROLL_OPT_OUT_AD_BREAK_TAB_UPSELL,renderNuxMessage:function(){return h.jsxs("span",{children:[h.jsx(b("FDSText.react"),{color:"white",weight:"bold",children:g._("New! You can monetise videos without including mid-roll ads")}),h.jsx("br",{}),h.jsx(b("FDSText.react"),{color:"white",children:g._("Pre-roll and image ads earn less money but let you monetise content that doesn't have a good place for mid-roll ads.")})]})},onNuxMessageClose:function(a){b("VideoComposerAdBreakActions").logMidRollOptOutEvent(a,"mro_composer_ad_break_tab_nux_dismissal")}});e.exports=a}),null);
__d("VideoComposerAdBreaksOnboardTabConfig",["fbt","VideoComposerAdBreaksTabConfig"],(function(a,b,c,d,e,f,g){"use strict";a=babelHelpers["extends"]({},b("VideoComposerAdBreaksTabConfig"),{title:g._("Enable in-stream ads")});e.exports=a}),null);
__d("VideoComposerAdBreaksShorterContentMonetizationTabConfig.react",["FDSText.react","React","ShorterContentMonetizationContent","SimpleNUXMessageTypes","VideoComposerAdBreakActions","VideoComposerAdBreaksTabConfig"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("ShorterContentMonetizationContent").bluesCluesBody,i=b("ShorterContentMonetizationContent").bluesCluesTitle,j=b("VideoComposerAdBreakActions").logShorterContentMonetizationEvent;a=babelHelpers["extends"]({},b("VideoComposerAdBreaksTabConfig"),{nuxMessage:b("SimpleNUXMessageTypes").AD_BREAKS_SCM_COMPOSER_NUX,renderNuxMessage:function(){return g.jsxs("span",{children:[g.jsx(b("FDSText.react"),{color:"white",weight:"bold",children:i}),g.jsx("br",{}),g.jsx(b("FDSText.react"),{color:"white",children:h})]})},onNuxMessageClose:function(a){j(a,"scm_composer_ad_break_tab_nux_dismissal")}});e.exports=a}),null);
__d("VideoComposerAdBreaksTabConfig",["ix","fbt","Promise","VideoComposerAdBreakContainer.react","VideoComposerAdBreaksTabContainer.react","VideoComposerDialogAdBreakUtils","VideoComposerStores","asset"],(function(a,b,c,d,e,f,g,h){"use strict";a={key:"ad_breaks",glyphSelected:g("401205"),glyphUnselected:g("401215"),title:h._("In-stream ads"),defaultDescription:null,tabContainer:b("VideoComposerAdBreaksTabContainer.react"),bodyContainer:b("VideoComposerAdBreakContainer.react"),getCrosspostRequestDataToSend:function(a){return b("Promise").resolve()},getEditRequestDataToSend:function(a){return b("VideoComposerStores").getAdBreakStore(a).getEditRequestDataToSend()},getPostRequestDataToSend:function(a){return b("VideoComposerStores").getAdBreakStore(a).getPostRequestDataToSend()},fetchCreatePostData:function(a,c){return b("VideoComposerDialogAdBreakUtils").beginBootloadingAdBreaksTab(a,c.common.actorID)},fetchCrosspostData:function(a,c){return b("Promise").resolve()},fetchEditPostData:function(a,c){return b("VideoComposerDialogAdBreakUtils").fetchEditParameters(a,c)}};e.exports=a}),null);
__d("VideoComposerAdBreaksVideoLengthTooShortForBonusTabConfig",["fbt","SimpleNUXMessageTypes","VideoComposerAdBreaksTabConfig"],(function(a,b,c,d,e,f,g){"use strict";a=babelHelpers["extends"]({},b("VideoComposerAdBreaksTabConfig"),{nuxMessage:b("SimpleNUXMessageTypes").COMPOSER_VIDEO_LENGTH_SHORT_LAUNCHPAD_BONUS_NUX,renderNuxMessage:function(){return g._("This video is too short to earn a Launchpad bonus. To earn your bonus this week, upload a video that's at least 3 minutes long and includes ads.")}});e.exports=a}),null);
__d("VideoComposerAdBreaksVideoLengthTooShortTabConfig",["fbt","SimpleNUXMessageTypes","VideoComposerAdBreaksTabConfig"],(function(a,b,c,d,e,f,g){"use strict";a=babelHelpers["extends"]({},b("VideoComposerAdBreaksTabConfig"),{nuxMessage:b("SimpleNUXMessageTypes").COMPOSER_VIDEO_LENGTH_SHORT_NUX,renderNuxMessage:function(){return g._("You can include ads when videos are three minutes or longer.")}});e.exports=a}),null);
__d("VideoComposerSphericalDirectorActions",["VideoComposerActionTypes","VideoComposerDispatchers"],(function(a,b,c,d,e,f){"use strict";a=function(a,c){c={type:b("VideoComposerActionTypes").BOOTLOAD_SPHERICAL_DIRECTOR_CROSSPOST_PARAMETERS,data:c};b("VideoComposerDispatchers").get(a).dispatch(c)};c=function(a,c){c={type:b("VideoComposerActionTypes").BOOTLOAD_SPHERICAL_DIRECTOR_EDIT_PARAMETERS,data:c};b("VideoComposerDispatchers").get(a).dispatch(c)};d=function(a,c){c={type:b("VideoComposerActionTypes").BOOTLOAD_SPHERICAL_DIRECTOR_UPLOAD_PARAMETERS,data:c};b("VideoComposerDispatchers").get(a).dispatch(c)};f=function(a,c){c={type:b("VideoComposerActionTypes").BOOTLOAD_SPHERICAL_CONTEXT_CONFIG,data:c};b("VideoComposerDispatchers").get(a).dispatch(c)};var g=function(a,c){c={type:b("VideoComposerActionTypes").TOGGLE_SPHERICAL,data:c};b("VideoComposerDispatchers").get(a).dispatch(c)};e.exports={bootloadCrosspostParameters:a,bootloadEditParameters:c,bootloadUploadParameters:d,bootloadSphericalContextConfig:f,toggleSpherical:g}}),null);
__d("XPagesVideoListsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/video_lists/",{page_id:{type:"FBID",required:!0}})}),null);
__d("XVideoComposerBootloadDefaultTabController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/bootload_default/",{target_id:{type:"FBID",required:!0},video_composer_id:{type:"String",defaultValue:""}})}),null);
__d("XVideoComposerCrosspostBootloadDefaultController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/crosspost/bootload_default/",{video_asset_id:{type:"FBID",required:!0},source_video_id:{type:"FBID"},video_composer_id:{type:"String",defaultValue:""}})}),null);
__d("XVideoComposerEditDefaultTabController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/edit/default/",{video_id:{type:"FBID",required:!0},video_composer_id:{type:"String",defaultValue:""}})}),null);
__d("VideoComposerBasicTabConfig",["ix","fbt","VideoComposerBasicContainer.react","VideoComposerBasicTabContainer.react","VideoComposerDialogBasicUtils","VideoComposerStores","asset"],(function(a,b,c,d,e,f,g,h){"use strict";a={key:"basic",glyphSelected:g("401220"),glyphUnselected:g("401227"),title:h._("Video details"),defaultDescription:h._("Add details to your video and create your video post."),tabContainer:b("VideoComposerBasicTabContainer.react"),bodyContainer:b("VideoComposerBasicContainer.react"),getCrosspostRequestDataToSend:function(a){return b("VideoComposerStores").getBasicStore(a).getCrosspostRequestDataToSend()},getEditRequestDataToSend:function(a){return b("VideoComposerStores").getBasicStore(a).getEditRequestDataToSend()},getPostRequestDataToSend:function(a){return b("VideoComposerStores").getBasicStore(a).getPostRequestDataToSend()},fetchCreatePostData:function(a,c){return b("VideoComposerDialogBasicUtils").beginBootloadingDefaultTab(a,c.common.actorID)},fetchCrosspostData:function(a,c){return b("VideoComposerDialogBasicUtils").beginBootloadingCrosspostDefaultTab(a,c.common.actorID,c.videoAssetID,c.sourceVideoID)},fetchEditPostData:function(a,c){return b("VideoComposerDialogBasicUtils").beginBootloadingEditDefaultTab(a,c)}};e.exports=a}),null);
__d("VideoComposerCaptionsTabConfig",["ix","fbt","SimpleNUXMessageTypes","VideoComposerCaptionEditorMasterContainer.react","VideoComposerCaptionsTabContainer.react","VideoComposerDialogCaptionEditorUtils","VideoComposerStores","asset"],(function(a,b,c,d,e,f,g,h){"use strict";a={key:"captions",glyphSelected:g("401199"),glyphUnselected:g("401202"),title:h._("Subtitles and captions (CC)"),nuxMessage:b("SimpleNUXMessageTypes").VIDEO_COMPOSER_RECOMMEND_AUTOGENERATE_CAPTIONS_NUX,nuxPillText:h._("RECOMMENDED"),defaultDescription:h._("Add subtitles to your video in multiple languages."),tabContainer:b("VideoComposerCaptionsTabContainer.react"),bodyContainer:b("VideoComposerCaptionEditorMasterContainer.react"),getCrosspostRequestDataToSend:function(a){return b("VideoComposerStores").getCaptionsStore(a).getCrosspostPostData()},getEditRequestDataToSend:function(a){return b("VideoComposerStores").getCaptionsStore(a).getPostDataForEdit()},getPostRequestDataToSend:function(a){return b("VideoComposerStores").getCaptionsStore(a).getPostRequestDataToSend()},fetchCreatePostData:function(a,c){return b("VideoComposerDialogCaptionEditorUtils").beginBootloadingCaptionsTab(a,c.common.actorID)},fetchCrosspostData:function(a,c){return b("VideoComposerDialogCaptionEditorUtils").fetchCrosspostData(a,c)},fetchEditPostData:function(a,c){b("VideoComposerDialogCaptionEditorUtils").beginBootloadingCaptionsTab(a,c.common.actorID);return b("VideoComposerDialogCaptionEditorUtils").fetchEditData(a,c)}};e.exports=a}),null);
__d("VideoComposerDistributionActions",["VideoComposerActionTypes","VideoComposerDispatchers"],(function(a,b,c,d,e,f){"use strict";a=function(a,c){c={type:b("VideoComposerActionTypes").BOOTLOAD_DISTRIBUTION_TAB,data:c};b("VideoComposerDispatchers").get(a).dispatch(c)};c=function(a,c){c={type:b("VideoComposerActionTypes").BOOTLOAD_DISTRIBUTION_TAB_FOR_EDIT,data:c};b("VideoComposerDispatchers").get(a).dispatch(c)};d=function(a,c){c={type:b("VideoComposerActionTypes").BOOTLOAD_DISTRIBUTION_TAB_FOR_CROSSPOST,data:c};b("VideoComposerDispatchers").get(a).dispatch(c)};f=function(a){var c={type:b("VideoComposerActionTypes").TOGGLE_ADD_TO_PAGES_STORY};b("VideoComposerDispatchers").get(a).dispatch(c)};var g=function(a){var c={type:b("VideoComposerActionTypes").TOGGLE_DISPLAY_IN_WATCH_OPTION};b("VideoComposerDispatchers").get(a).dispatch(c)},h=function(a){var c={type:b("VideoComposerActionTypes").TOGGLE_NEWS_FEED};b("VideoComposerDispatchers").get(a).dispatch(c)},i=function(a){var c={type:b("VideoComposerActionTypes").TOGGLE_EMBEDDING};b("VideoComposerDispatchers").get(a).dispatch(c)},j=function(a){var c={type:b("VideoComposerActionTypes").TOGGLE_COMMENTATING_PERMISSION};b("VideoComposerDispatchers").get(a).dispatch(c)},k=function(a){var c={type:b("VideoComposerActionTypes").TOGGLE_SECRET_VIDEO};b("VideoComposerDispatchers").get(a).dispatch(c)},l=function(a,c,d){c={type:b("VideoComposerActionTypes").CROSSPOST_PAGES_FETCHED,pages:c,shouldShowIsMonetizable:d};b("VideoComposerDispatchers").get(a).dispatch(c)},m=function(a,c,d){c={type:b("VideoComposerActionTypes").TOGGLE_CROSSPOST_PAGE,pageID:c,pageType:d};b("VideoComposerDispatchers").get(a).dispatch(c)},n=function(a){var c={type:b("VideoComposerActionTypes").TOGGLE_GRAPHIC_WARNING};b("VideoComposerDispatchers").get(a).dispatch(c)},o=function(a){var c={type:b("VideoComposerActionTypes").TOGGLE_BLOCK_SOCIAL};b("VideoComposerDispatchers").get(a).dispatch(c)},p=function(a){var c={type:b("VideoComposerActionTypes").CROSSPOST_LINK_CLICKED};b("VideoComposerDispatchers").get(a).dispatch(c)},q=function(a){var c={type:b("VideoComposerActionTypes").REFRESH_CROSSPOST_PAGES};b("VideoComposerDispatchers").get(a).dispatch(c)},r=function(a,c){c={type:b("VideoComposerActionTypes").UPDATE_CHARITY_DATA,charityData:c};b("VideoComposerDispatchers").get(a).dispatch(c)},s=function(a,c){c={type:b("VideoComposerActionTypes").UPDATE_MATURE_CONTENT_RATING,rating:c};b("VideoComposerDispatchers").get(a).dispatch(c)},t=function(a){var c={type:b("VideoComposerActionTypes").HIDE_MATURE_CONTENT_APPEAL_FORM};b("VideoComposerDispatchers").get(a).dispatch(c)},u=function(a){var c={type:b("VideoComposerActionTypes").SHOW_MATURE_CONTENT_APPEAL_FORM};b("VideoComposerDispatchers").get(a).dispatch(c)},v=function(a,c,d,e,f,g){c={type:b("VideoComposerActionTypes").SUBMIT_MATURE_CONTENT_APPEAL_FORM,pageID:c,videoID:d,originalMatureContentRating:e,expectedMatureContentRating:f,additionalInfo:g};b("VideoComposerDispatchers").get(a).dispatch(c)},w=function(a){var c={type:b("VideoComposerActionTypes").SUBMIT_MATURE_CONTENT_APPEAL_FORM_SUCCESS};b("VideoComposerDispatchers").get(a).dispatch(c)},x=function(a){var c={type:b("VideoComposerActionTypes").TOGGLE_DRM};b("VideoComposerDispatchers").get(a).dispatch(c)},y=function(a,c,d){c={type:b("VideoComposerActionTypes").UPDATE_SHOW_AND_SEASON_ID,showID:c,seasonID:d};b("VideoComposerDispatchers").get(a).dispatch(c)};e.exports={bootloadTab:a,bootloadTabForEdit:c,bootloadTabForCrosspost:d,toggleAddToPagesStory:f,toggleDisplayInWatch:g,toggleNewsFeed:h,toggleEmbedding:i,toggleSecretVideo:k,crosspostPagesFetched:l,toggleCrosspostPage:m,toggleGraphicWarning:n,toggleBlockSocial:o,toggleCommentatingPermission:j,crosspostLinkClicked:p,refreshCrosspostPages:q,updateCharityData:r,updateMatureContentRating:s,hideMatureContentAppealForm:t,showMatureContentAppealForm:u,submitMatureContentAppealForm:v,submitMatureContentAppealFormSuccess:w,toggleDrm:x,updateShowAndSeasonID:y}}),null);
__d("XVideoComposerBootloadDistributionTabController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/bootload_distribution_tab/",{composer_entry_point:{type:"Enum",enumType:1}})}),null);
__d("XVideoComposerBootloadEditDistributionTabController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/edit/distribution/",{video_id:{type:"FBID",required:!0}})}),null);
__d("XVideoComposerCrosspostBootloadDistributionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/crosspost/bootload_distribution/",{})}),null);
__d("VideoComposerDialogDistributionUtils",["ActorURI","AsyncRequest","DestinationPickerEligibilityConfig","PagesComposerEligibilityUtils","VideoComposerDistributionActions","VideoComposerPublishingTypes","XVideoComposerBootloadDistributionTabController","XVideoComposerBootloadEditDistributionTabController","XVideoComposerCrosspostBootloadDistributionController"],(function(a,b,c,d,e,f){"use strict";var g=b("VideoComposerPublishingTypes").PublishingType;a=function(a,c,d){d=b("XVideoComposerBootloadDistributionTabController").getURIBuilder().setEnum("composer_entry_point",d).getURI();d=b("ActorURI").create(d,c);return new(b("AsyncRequest"))().setReplaceTransportMarkers().setURI(d).exec().then(function(c){return b("VideoComposerDistributionActions").bootloadTab(a,c.payload)})};c=function(a,c,d){d=b("XVideoComposerBootloadEditDistributionTabController").getURIBuilder().setFBID("video_id",d).getURI();d=b("ActorURI").create(d,c);return new(b("AsyncRequest"))().setReplaceTransportMarkers().setURI(d).exec().then(function(c){b("VideoComposerDistributionActions").bootloadTabForEdit(a,c.payload)})};d=function(a,c){var d=b("XVideoComposerCrosspostBootloadDistributionController").getURIBuilder().getURI();d=b("ActorURI").create(d,c);return new(b("AsyncRequest"))().setURI(d).exec().then(function(c){return b("VideoComposerDistributionActions").bootloadTabForCrosspost(a,c.payload)})};f=function(a,c,d,e){a=(a=a)!=null?(a=a.contextConfig)!=null?a.composerID:a:a;var f=!1;a&&c&&(f=b("PagesComposerEligibilityUtils").isPageStoryCreateEligible(a,c));a=!b("DestinationPickerEligibilityConfig").isVideoLengthLimited||d>0&&d<=b("DestinationPickerEligibilityConfig").maxVideoLengthInSeconds;c=e===g.PUBLISH_NOW;return f&&a&&c};var h=function(a,b,c,d,e){var f=!d;if(!f&&e||!e&&f)return!1;return c==="page_content_tab_playlist_details"||a!=="video_crosspost"&&!d?!0:a==="video_edit"&&(b==="basic_video"||b==="episode"||b==="recap")};e.exports={beginBootloadingDistributionTab:a,bootloadEditDistributionTab:c,bootloadCrosspostDistributionTab:d,enableAddToStoriesOption:f,shouldShowPlaylistSelector:h}}),null);
__d("VideoComposerDistributionTabConfig",["ix","fbt","VideoComposerDialogDistributionUtils","VideoComposerDistributionContainer.react","VideoComposerDistributionTabContainer.react","VideoComposerStores","asset"],(function(a,b,c,d,e,f,g,h){"use strict";a={key:"distribution",glyphSelected:g("416637"),glyphUnselected:g("416644"),title:h._("Distribution"),defaultDescription:h._("Choose where your video will appear and who can watch or crosspost it."),tabContainer:b("VideoComposerDistributionTabContainer.react"),bodyContainer:b("VideoComposerDistributionContainer.react"),getCrosspostRequestDataToSend:function(a){return b("VideoComposerStores").getDistributionStore(a).getCrosspostRequestDataToSend()},getEditRequestDataToSend:function(a){return b("VideoComposerStores").getDistributionStore(a).getEditRequestDataToSend()},getPostRequestDataToSend:function(a){return b("VideoComposerStores").getDistributionStore(a).getPostRequestDataToSend()},fetchCreatePostData:function(a,c){return b("VideoComposerDialogDistributionUtils").beginBootloadingDistributionTab(a,c.common.actorID,c.composerEntryPointRef)},fetchCrosspostData:function(a,c){return b("VideoComposerDialogDistributionUtils").bootloadCrosspostDistributionTab(a,c.common.actorID)},fetchEditPostData:function(a,c){return b("VideoComposerDialogDistributionUtils").bootloadEditDistributionTab(a,c.common.actorID,c.videoID)}};e.exports=a}),null);
__d("VideoComposerPollsTabConfig",["ix","fbt","Promise","VideoComposerPollsContainer.react","VideoComposerPollsTabContainer.react","VideoComposerPollsUtils","VideoComposerStores","asset"],(function(a,b,c,d,e,f,g,h){"use strict";a={key:"polls",glyphSelected:g("536038"),glyphUnselected:g("524182"),title:h._("Polls"),defaultDescription:h._("Ask questions during your video to find out what your viewers think."),tabContainer:b("VideoComposerPollsTabContainer.react"),bodyContainer:b("VideoComposerPollsContainer.react"),getCrosspostRequestDataToSend:function(a){return b("Promise").resolve()},getEditRequestDataToSend:function(a){return b("VideoComposerStores").getPollsStore(a).getEditRequestDataToSend()},getPostRequestDataToSend:function(a){return b("VideoComposerStores").getPollsStore(a).getPostRequestDataToSend()},fetchCrosspostData:function(a,c){return b("Promise").resolve()},fetchEditPostData:function(a,c){return b("VideoComposerPollsUtils").fetchEditPostData(a,c)}};e.exports=a}),null);
__d("VideoComposerQuestionsTabConfig",["ix","fbt","Promise","React","SimpleNUXMessageTypes","VideoComposerQuestionsContainer.react","VideoComposerQuestionsTabContainer.react","VideoComposerStores","XUIText.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a={key:"questions",glyphSelected:g("645106"),glyphUnselected:g("936138"),title:h._("Questions"),defaultDescription:h._("Ask questions during your video to find out what your viewers think."),tabContainer:b("VideoComposerQuestionsTabContainer.react"),bodyContainer:b("VideoComposerQuestionsContainer.react"),getCrosspostRequestDataToSend:function(a){return b("Promise").resolve()},getEditRequestDataToSend:function(a){return b("Promise").resolve()},getPostRequestDataToSend:function(a){return b("VideoComposerStores").getQuestionsStore(a).getPostRequestDataToSend()},fetchCrosspostData:function(a,c){return b("Promise").resolve()},fetchEditPostData:function(a,c){return b("Promise").resolve()},nuxMessage:b("SimpleNUXMessageTypes").VIDEO_COMPOSER_QUESTIONS_NUX,renderNuxMessage:function(){return i.jsx("div",{children:i.jsx(b("XUIText.react"),{size:"body1",children:h._("New! You can now add questions to your video.")})})}};e.exports=a}),null);
__d("VideoComposerRightsActions",["VideoComposerActionTypes","VideoComposerDispatchers"],(function(a,b,c,d,e,f){"use strict";a=function(a,c){c={type:b("VideoComposerActionTypes").BOOTLOAD_RIGHTS_PARAMETERS,data:c};b("VideoComposerDispatchers").get(a).dispatch(c)};c=function(a,c){c={type:b("VideoComposerActionTypes").BOOTLOAD_EDIT_RIGHTS_PARAMETERS,data:c};b("VideoComposerDispatchers").get(a).dispatch(c)};d=function(a,c){c={type:b("VideoComposerActionTypes").UPDATE_MONITORING_TYPE,monitoringType:c};b("VideoComposerDispatchers").get(a).dispatch(c)};f=function(a,c){c={type:b("VideoComposerActionTypes").UPDATE_SHOULD_DETECT_MATCHES,shouldDetectMatches:c};b("VideoComposerDispatchers").get(a).dispatch(c)};var g=function(a,c){c={type:b("VideoComposerActionTypes").UPDATE_FB_WHITELISTED_USERS,fbWhitelistedUsers:c};b("VideoComposerDispatchers").get(a).dispatch(c)},h=function(a,c){c={type:b("VideoComposerActionTypes").UPDATE_IG_WHITELISTED_USERS,igWhitelistedUsers:c};b("VideoComposerDispatchers").get(a).dispatch(c)},i=function(a,c,d){c={type:b("VideoComposerActionTypes").UPDATE_OWNERSHIP_COUNTRIES,ownershipCountries:c,areCountriesIncluded:d};b("VideoComposerDispatchers").get(a).dispatch(c)},j=function(a,c){c={type:b("VideoComposerActionTypes").UPDATE_MATCH_RULE,matchRuleID:c};b("VideoComposerDispatchers").get(a).dispatch(c)},k=function(a,c){c={type:b("VideoComposerActionTypes").UPDATE_ATTRIBUTION,attributionID:c};b("VideoComposerDispatchers").get(a).dispatch(c)},l=function(a,c){c={type:b("VideoComposerActionTypes").UPDATE_CATEGORY,category:c};b("VideoComposerDispatchers").get(a).dispatch(c)},m=function(a){var c={type:b("VideoComposerActionTypes").UPDATE_CATEGORY_REQUIRED_ERROR};b("VideoComposerDispatchers").get(a).dispatch(c)};e.exports={bootloadParameters:a,bootloadEditParameters:c,updateAttribution:k,updateCategory:l,updateFBWhitelistedUsers:g,updateIGWhitelistedUsers:h,updateMatchRule:j,updateMonitoringType:d,updateOwnershipCountries:i,updateShouldDetectMatches:f,updateShowCategoryRequiredError:m}}),null);
__d("XVideoComposerBootloadRightsTabController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/bootload_rights/",{target_id:{type:"FBID",required:!0}})}),null);
__d("XVideoComposerEditRightsTabController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/edit/rights/",{actor_id:{type:"FBID",required:!0},video_id:{type:"FBID",required:!0},video_composer_id:{type:"String",defaultValue:""}})}),null);
__d("VideoComposerDialogRightsUtils",["Promise","ActorURI","AsyncRequest","VideoComposerRightsActions","XVideoComposerBootloadRightsTabController","XVideoComposerEditRightsTabController"],(function(a,b,c,d,e,f){"use strict";a=function(a,c){var d=b("XVideoComposerBootloadRightsTabController").getURIBuilder().setFBID("target_id",c).getURI(),e=b("ActorURI").create(d,c);return new(b("Promise"))(function(c,d){new(b("AsyncRequest"))(e).setHandler(function(d){b("VideoComposerRightsActions").bootloadParameters(a,d.payload),c(d)}).setErrorHandler(function(a){d(a)}).send()})};c=function(a){b("VideoComposerRightsActions").bootloadEditParameters(a.videoComposerID,a)};d=function(a,c){a=b("XVideoComposerEditRightsTabController").getURIBuilder().setString("video_composer_id",a).setFBID("actor_id",c.common.actorID).setFBID("video_id",c.videoID).getURI();var d=b("ActorURI").create(a,c.common.actorID);return new(b("Promise"))(function(a,c){new(b("AsyncRequest"))(d).setHandler(function(b){a(b)}).send()})};e.exports={beginBootloadingRightsTab:a,bootloadEditParams:c,fetchEditParams:d}}),null);
__d("VideoComposerRightsTabConfig",["ix","fbt","Promise","VideoComposerDialogRightsUtils","VideoComposerRightsContainer.react","VideoComposerRightsTabContainer.react","VideoComposerStores","asset"],(function(a,b,c,d,e,f,g,h){"use strict";a={key:"rights",glyphSelected:g("426191"),glyphUnselected:g("426199"),title:h._("Rights"),defaultDescription:h._("Use Rights Manager to protect and get credit for your content."),tabContainer:b("VideoComposerRightsTabContainer.react"),bodyContainer:b("VideoComposerRightsContainer.react"),getCrosspostRequestDataToSend:function(a){return b("Promise").resolve()},getEditRequestDataToSend:function(a){return b("VideoComposerStores").getRightsStore(a).getPostRequestDataToSend()},getPostRequestDataToSend:function(a){return b("VideoComposerStores").getRightsStore(a).getPostRequestDataToSend()},fetchCreatePostData:function(a,c){return b("VideoComposerDialogRightsUtils").beginBootloadingRightsTab(a,c.common.actorID)},fetchCrosspostData:function(a,c){return b("Promise").resolve()},fetchEditPostData:function(a,c){return b("VideoComposerDialogRightsUtils").fetchEditParams(a,c)}};e.exports=a}),null);
__d("VideoComposerSphericalDirectorTabConfig",["ix","fbt","Promise","VideoComposerDialogSphericalDirectorUtils","VideoComposerSphericalDirectorActions","VideoComposerSphericalDirectorContainer.react","VideoComposerSphericalDirectorTabContainer.react","VideoComposerStores","asset"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._("Add more detail to your 360 video with guide points.");c={key:"spherical_director",glyphSelected:g("426964"),glyphUnselected:g("426965"),title:h._("360 Director tools"),defaultDescription:a,tabContainer:b("VideoComposerSphericalDirectorTabContainer.react"),bodyContainer:b("VideoComposerSphericalDirectorContainer.react"),getCrosspostRequestDataToSend:function(a){return b("VideoComposerStores").getSphericalDirectorStore(a).getEditAndCrosspostRequestData(!1)},getEditRequestDataToSend:function(a){return b("VideoComposerStores").getSphericalDirectorStore(a).getEditAndCrosspostRequestData(!0)},getPostRequestDataToSend:function(a){return b("VideoComposerStores").getSphericalDirectorStore(a).getPostRequestDataToSend()},fetchCreatePostData:function(a,c){return b("VideoComposerDialogSphericalDirectorUtils").beginBootloadingSphericalDirectorUploadTab(a,c.common.actorID)},fetchCrosspostData:function(a,c){if(!c.isSpherical)return b("Promise").resolve();return!c.common.actorID||!c.videoAssetID?b("Promise").reject():b("VideoComposerDialogSphericalDirectorUtils").beginBootloadingSphericalDirectorCrosspostTab(a,c.common.actorID,c.videoAssetID).then(function(d){b("VideoComposerSphericalDirectorActions").toggleSpherical(a,c.isSpherical);return d}).then(function(c){b("VideoComposerSphericalDirectorActions").bootloadCrosspostParameters(a,c.payload);return})},fetchEditPostData:function(a,c){if(!c.isSpherical)return b("Promise").resolve();return!c.common.actorID||!c.videoID?b("Promise").reject():b("VideoComposerDialogSphericalDirectorUtils").beginBootloadingSphericalDirectorEditTab(a,c.common.actorID,c.videoID).then(function(d){b("VideoComposerSphericalDirectorActions").toggleSpherical(a,c.isSpherical);return d}).then(function(c){b("VideoComposerSphericalDirectorActions").bootloadEditParameters(a,c.payload);return})}};e.exports=c}),null);
__d("UserPayStarsVideoComposerEditVideoQuery",["RelayFBEnvironment","RelayModern","UserPayStarsVideoComposerEditVideoQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").fetchQuery;b("RelayModern").graphql;var i=g!==void 0?g:g=b("UserPayStarsVideoComposerEditVideoQuery.graphql");function a(a){return h(b("RelayFBEnvironment"),i,{videoID:String(a)},{force:!0})}e.exports={fetchEditPostStarsData:a}}),null);
__d("VideoComposerStarsActions",["VideoComposerActionTypes","VideoComposerDispatchers","immutable"],(function(a,b,c,d,e,f){"use strict";var g=function(a,c){b("VideoComposerDispatchers").get(a).dispatch(c)};a=function(a){g(a,{type:b("VideoComposerActionTypes").STARS_EDITOR_TOGGLE_STARS_ENABLED})};c=function(a,c){g(a,{type:b("VideoComposerActionTypes").STARS_EDITOR_DATA_RECEIVED,goals:c})};d=function(a,c){g(a,{type:b("VideoComposerActionTypes").STARS_EDITOR_UPDATE_SELECTED_GOAL,goal:c})};f=function(a,c){var d=c.isReceivingStarsEnabled;c=c.selectedGoal;b("VideoComposerDispatchers").get(a).dispatch({type:b("VideoComposerActionTypes").STARS_BOOTLOAD_EDIT,isReceivingStarsEnabled:d,selectedGoal:c})};e.exports={toggleStarsEnabled:a,dataFetched:c,updateSelectedGoal:d,bootloadTabForEdit:f}}),null);
__d("VideoComposerStarsTabConfig",["ix","fbt","Promise","SimpleNUXMessageTypes","UserPayStarsVideoComposerEditVideoQuery","VideoComposerStarsActions","VideoComposerStarsEditor.react","VideoComposerStarsTabContainer.react","VideoComposerStores","asset"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("UserPayStarsVideoComposerEditVideoQuery").fetchEditPostStarsData;a={key:"stars",glyphSelected:g("1297077"),glyphUnselected:g("1297084"),title:h._("Stars"),defaultDescription:h._("Enable Stars for this video so that viewers can show you their support."),tabContainer:b("VideoComposerStarsTabContainer.react"),bodyContainer:b("VideoComposerStarsEditor.react"),nuxMessage:b("SimpleNUXMessageTypes").VIDEO_COMPOSER_STARS_TAB_NUX,renderNuxMessage:function(){return h._("New! Turn on Stars or add a Stars goal to your video")},getCrosspostRequestDataToSend:function(a){return b("VideoComposerStores").getStarsStore(a).getCrosspostRequestDataToSend()},getEditRequestDataToSend:function(a){return b("VideoComposerStores").getStarsStore(a).getEditRequestDataToSend()},getPostRequestDataToSend:function(a){return b("VideoComposerStores").getStarsStore(a).getPostRequestDataToSend()},fetchCrosspostData:function(a,c){return b("Promise").resolve()},fetchEditPostData:function(a,c){c=c.videoID;return i(c).then(function(c){var d,e;d=c==null?void 0:(d=c.video)==null?void 0:d.stars_goal;d=d==null?null:{id:(e=d.id)!=null?e:"",title:(e=d.title_string)!=null?e:"",currentValue:(e=d.current_goal_value)!=null?e:0,targetValue:(e=d.target_value)!=null?e:0};b("VideoComposerStarsActions").bootloadTabForEdit(a,{isReceivingStarsEnabled:(c=c==null?void 0:(e=c.video)==null?void 0:e.is_receiving_stars_enabled)!=null?c:!0,selectedGoal:d})})["catch"](function(a){})}};e.exports=a}),null);
__d("VideoComposerTabs",["VideoComposerAdBreaksTabConfig","VideoComposerBasicTabConfig","VideoComposerCaptionsTabConfig","VideoComposerClippingTabConfig","VideoComposerDistributionTabConfig","VideoComposerPollsTabConfig","VideoComposerQuestionsTabConfig","VideoComposerRightsTabConfig","VideoComposerSphericalDirectorTabConfig","VideoComposerStarsTabConfig","VideoComposerThumbnailsTabConfig","VideoComposerTrackingTabConfig","VideoComposerTrimmingTabConfig","immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Map({basic:b("VideoComposerBasicTabConfig"),distribution:b("VideoComposerDistributionTabConfig"),stars:b("VideoComposerStarsTabConfig"),captions:b("VideoComposerCaptionsTabConfig"),ad_breaks:b("VideoComposerAdBreaksTabConfig"),tracking:b("VideoComposerTrackingTabConfig"),thumbnails:b("VideoComposerThumbnailsTabConfig"),spherical_director:b("VideoComposerSphericalDirectorTabConfig"),rights:b("VideoComposerRightsTabConfig"),polls:b("VideoComposerPollsTabConfig"),questions:b("VideoComposerQuestionsTabConfig"),trimming:b("VideoComposerTrimmingTabConfig"),clipping:b("VideoComposerClippingTabConfig")});e.exports=a}),null);
__d("VideoComposerThumbnailsTabConfig",["ix","fbt","React","VideoComposerDialogThumbnailUtils","VideoComposerStores","VideoComposerThumbnailsContainer.react","VideoComposerThumbnailsTabContainer.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";a=b("React");c={key:"thumbnails",glyphSelected:g("425096"),glyphUnselected:g("425099"),title:h._("Thumbnail"),defaultDescription:a.jsx("div",{}),tabContainer:b("VideoComposerThumbnailsTabContainer.react"),bodyContainer:b("VideoComposerThumbnailsContainer.react"),getCrosspostRequestDataToSend:function(a){return b("VideoComposerStores").getThumbnailsStore(a).getCrosspostRequestDataToSend()},getEditRequestDataToSend:function(a){return b("VideoComposerStores").getThumbnailsStore(a).getEditRequestDataToSend()},getPostRequestDataToSend:function(a){return b("VideoComposerStores").getThumbnailsStore(a).getPostRequestDataToSend()},fetchCrosspostData:function(a,c){return b("VideoComposerDialogThumbnailUtils").beginBootloadingCrosspostThumbnailsTab(a,c.common.actorID,c.videoAssetID)},fetchEditPostData:function(a,c){return b("VideoComposerDialogThumbnailUtils").beginBootloadingEditThumbnailsTab(a,c.common.actorID,c.videoID)}};e.exports=c}),null);
__d("VideoComposerTrackingActions",["VideoComposerActionTypes","VideoComposerDispatchers"],(function(a,b,c,d,e,f){"use strict";a=function(a,c){c={type:b("VideoComposerActionTypes").BOOTLOAD_TRACKING_EDIT_PARAMS,data:c};b("VideoComposerDispatchers").get(a).dispatch(c)};c=function(a,c){c={type:b("VideoComposerActionTypes").APPEND_CUSTOM_LABELS,customLabels:c};b("VideoComposerDispatchers").get(a).dispatch(c)};d=function(a,c){c={type:b("VideoComposerActionTypes").UPDATE_CUSTOM_LABELS,customLabels:c};b("VideoComposerDispatchers").get(a).dispatch(c)};f=function(a,c){c={type:b("VideoComposerActionTypes").UPDATE_UNIVERSAL_ID,universalID:c};b("VideoComposerDispatchers").get(a).dispatch(c)};e.exports={appendCustomLabels:c,bootloadTrackingEditParams:a,updateCustomLabels:d,updateUniversalID:f}}),null);
__d("XVideoComposerEditTrackingTabController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/edit/tracking/",{video_id:{type:"FBID",required:!0}})}),null);
__d("VideoComposerDialogTrackingUtils",["ActorURI","AsyncRequest","VideoComposerTrackingActions","WebAsyncSearchSource","XVideoComposerEditTrackingTabController","XVideoCustomLabelsTypeaheadController"],(function(a,b,c,d,e,f){"use strict";a=function(a,c){var d=b("XVideoComposerEditTrackingTabController").getURIBuilder().setFBID("video_id",c.videoID).getURI();d=b("ActorURI").create(d,c.common.actorID);return new(b("AsyncRequest"))().setURI(d).exec().then(function(c){b("VideoComposerTrackingActions").bootloadTrackingEditParams(a,c.payload)})};c=function(a){a=b("XVideoCustomLabelsTypeaheadController").getURIBuilder().setFBID("profile_id",a).getURI();return new(b("WebAsyncSearchSource"))({bootstrapRequests:[{uri:a}],getAllForEmptyQuery:!0})};e.exports={beginBootloadingEditTrackingTab:a,loadCustomLabelsSearchSource:c}}),null);
__d("VideoComposerTrackingTabConfig",["ix","fbt","Promise","VideoComposerDialogTrackingUtils","VideoComposerStores","VideoComposerTrackingContainer.react","VideoComposerTrackingTabContainer.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";a={key:"tracking",glyphSelected:g("401232"),glyphUnselected:g("401239"),title:h._("Tracking"),defaultDescription:h._("Add labels to help you manage and search for your video."),tabContainer:b("VideoComposerTrackingTabContainer.react"),bodyContainer:b("VideoComposerTrackingContainer.react"),getCrosspostRequestDataToSend:function(a){return b("Promise").resolve()},getEditRequestDataToSend:function(a){return b("VideoComposerStores").getTrackingStore(a).getEditRequestDataToSend()},getPostRequestDataToSend:function(a){return b("VideoComposerStores").getTrackingStore(a).getPostRequestDataToSend()},fetchCrosspostData:function(a,c){return b("Promise").resolve()},fetchEditPostData:function(a,c){return b("VideoComposerDialogTrackingUtils").beginBootloadingEditTrackingTab(a,c)}};e.exports=a}),null);
__d("VideoComposerBodySectionContainer.react",["FluxContainer","React","VideoComposerBodySection.react","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getUIStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getUIStore(c.videoComposerID).getState();c=a.selectedTab;return{selectedTab:c}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerBodySection.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID},this.state))};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerDialogContainer.react",["FluxContainer","React","VideoComposerDialog.react","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getUIStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getUIStore(c.videoComposerID).getState();c=a.composerShown;a=a.publishConfirmDialogShown;return{composerShown:c,publishConfirmDialogShown:a}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerDialog.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID},this.state))};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerPostPublishSummary.react",["cx","fbt","ix","React","VideoComposerActions","VideoComposerPostType","VideoComposerPublishingTypes","VideosPostPublishSummary.react","clearTimeout","formatDate","setTimeout"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=b("VideoComposerPostType").VideoComposerPostTypes,l=b("VideoComposerPublishingTypes").PublishingType,m=5e3;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=null,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1=b("setTimeout")(function(){a.$1=null,a.props.publishConfirmDialogShown&&b("VideoComposerActions").closePublishConfirmDialog(a.props.videoComposerID)},m)};d.componentWillUnmount=function(){this.$1!=null&&b("clearTimeout")(this.$1)};d.$2=function(){return j.jsxs("div",{className:"_6erg",children:[j.jsx("div",{"data-testid":void 0,className:"_6erh _3-95",children:h._("Your video post is being processed")}),j.jsx("div",{children:h._("When finished, your video will be posted and you will be notified.")})]})};d.render=function(){var a=[],c;this.props.isComposerPostScheduleRedesign==!0&&this.props.postType==k.PREMIERE&&(c=i("425005"),a.push(this.$2()));if(this.props.isDraft&&this.props.publishingType!=l.PUBLISH_WITH_SHOW_OR_SEASON)c=i("429286"),a.push(j.jsxs("div",{className:"_6erg",children:[j.jsx("div",{"data-testid":void 0,className:"_6erh _3-95",children:h._("Your video post has been saved successfully!")}),j.jsx("div",{children:h._("It can be found in Publishing tools > Video library or your Page's timeline tools")})]}));else if(this.props.scheduleDate)c=i("429287"),a.push(j.jsxs("div",{className:"_6erg",children:[h._("Video post scheduled date:"),j.jsx("div",{className:"_6erh",children:h._("{schedule date}",[h._param("schedule date",this.$3(this.props.scheduleDate))])})]}));else if(this.props.isReviewableBrandedContent)c=i("425005"),a.push(j.jsxs("div",{className:"_6erg",children:[j.jsx("div",{"data-testid":void 0,className:"_6erh _3-95",children:h._("Your video post is pending approval")}),j.jsx("div",{children:h._("Your video post will be published if your tagged business partner chooses to approve your post. You can see the status of your pending post in Publishing tools > Branded content > Your posts.")})]}));else if(this.props.isAdBreakPrereview)c=i("425005"),a.push(j.jsxs("div",{className:"_6erg",children:[j.jsx("div",{className:"_6erh _3-95",children:h._("Your video is being submitted for review")}),j.jsx("div",{children:h._("When the review is complete, you'll be notified.")})]}));else if(this.props.publishingType===l.PUBLISH_WITH_SHOW_OR_SEASON){c=i("429286");var d;this.props.shouldPremiereWithShowOrSeason===!0?d=this.props.uploadingToSeason===!0?h._("Your video has been saved and will premiere when you publish the season that it's in."):h._("Your video has been saved and will premiere when you publish the series that it's in."):d=this.props.uploadingToSeason===!0?h._("Your video has been saved and will be posted when you publish the season that it's in."):h._("Your video has been saved and will be posted when you publish the series that it's in.");a.push(j.jsx("div",{className:"_6erg",children:j.jsx("div",{className:"_6erh _3-95",children:d})}))}else c=i("425005"),a.push(this.$2());this.props.expireDate&&a.push(j.jsxs("div",{className:"_6erg",children:[h._("Video post expiry date:"),j.jsx("div",{className:"_6erh",children:h._("{expire date}",[h._param("expire date",this.$3(this.props.expireDate))])})]}));this.props.postEndDate&&a.push(j.jsxs("div",{className:"_6erg",children:[h._("News Feed distribution stop date:"),j.jsx("div",{className:"_6erh",children:h._("{post end date}",[h._param("post end date",this.$3(this.props.postEndDate))])})]}));return j.jsx(b("VideosPostPublishSummary.react"),{iconDataTestID:"VIDEO_COMPOSER_CONFIRM_DIALOG_BUTTON",imageSrc:c,items:a,onCloseClick:this.props.onCloseClick})};d.$3=function(a){return!a?"":b("formatDate")(a,"F jS Y \\a\\t g:ia",{skipPatternLocalization:!0})};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerPostPublishSummaryContainer.react",["FluxContainer","React","VideoComposerActions","VideoComposerPostPublishSummary.react","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("VideoComposerActions").closePublishConfirmDialog(d.props.videoComposerID)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(a){var c;return[(c=b("VideoComposerStores")).getUIStore(a.videoComposerID),c.getPublishingStore(a.videoComposerID),c.getPremiereStore(a.videoComposerID),c.getDistributionStore(a.videoComposerID)]};c.calculateState=function(a,c){var d=(a=b("VideoComposerStores")).getPublishingStore(c.videoComposerID).getState(),e=d.expireDate,f=d.isAdBreakPrereview,g=d.isDraft,h=d.isReviewableBrandedContent,i=d.postEndDate,j=d.scheduleDate,k=d.publishingType,l=d.postType;d=d.isComposerPostScheduleRedesign;var m=a.getUIStore(c.videoComposerID).getState();m=m.publishConfirmDialogShown;var n=a.getPremiereStore(c.videoComposerID).getState();n=n.shouldPremiereWithShowOrSeason;a=a.getDistributionStore(c.videoComposerID).getState();c=a.seasonID;return{publishConfirmDialogShown:m,expireDate:e,isAdBreakPrereview:f,isDraft:g,isReviewableBrandedContent:h,postEndDate:i,scheduleDate:j,publishingType:k,postType:l,isComposerPostScheduleRedesign:d,shouldPremiereWithShowOrSeason:n,uploadingToSeason:c!=null}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerPostPublishSummary.react"),babelHelpers["extends"]({},this.state,{videoComposerID:this.props.videoComposerID,onCloseClick:this.$1}))};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerPublishDrawerChecklistPremiereUpsell.react",["cx","fbt","ix","FDSText.react","Image.react","LayerHideOnEscape","Link.react","React","SUIBusinessTheme","SUIModal.react","SUIModalHeader.react","SUIText.react","VideoComponentCover.react","VideoComponentEmbeddedControls.react","VideoComponentPlayButton.react","VideoComposerRHCPremiereUpsellUtils","VideoDataContainer.react","VideoPlayer.react","XUISpinner.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=(a=b("VideoComposerRHCPremiereUpsellUtils")).DESCRIPTION,l=a.PREMIERE_MARKETING_VIDEO_ID,m=a.TITLE,n=a.shouldShowPremiereMarketingVideo;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={showPremiereVideo:!1},c.$1=function(){c.setState({showPremiereVideo:!1})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this,c=this.state.showPremiereVideo?j.jsx(o,{}):null;return j.jsxs("div",{children:[j.jsxs("div",{className:"_75ze _75zf",children:[j.jsx(b("Image.react"),{className:"_75zg",src:i("648241")}),j.jsx("div",{className:"_75zh",children:j.jsxs(b("FDSText.react"),{color:"highlight",size:"body2",weight:"bold",children:[m," ",j.jsx(b("SUIText.react"),{color:"white",size:"body3",theme:b("SUIBusinessTheme"),children:j.jsxs(b("Link.react"),{onClick:function(){return a.setState({showPremiereVideo:!0})},children:[n()?h._("Learn more."):null,j.jsx(b("SUIModal.react"),{behaviors:{LayerHideOnEscape:b("LayerHideOnEscape")},isFullBleed:!0,isShown:this.state.showPremiereVideo,footer:null,header:j.jsx(b("SUIModalHeader.react"),{title:"Post as New Release or Premiere"}),label:"Premieres Upsell Video",onHide:this.$1,width:480,children:c})]})})]})})]}),j.jsx("div",{className:"_75zf",children:j.jsx(b("FDSText.react"),{color:"white",size:"body2",children:k})})]})};return c}(j.Component);var o=function(){return j.jsx("div",{children:j.jsx(b("VideoDataContainer.react"),{className:"_78cl",videoID:l,renderLoading:function(){return j.jsx(b("XUISpinner.react"),{})},children:j.jsxs(b("VideoPlayer.react"),{videoData:b("VideoDataContainer.react").VIDEO_DATA_PLACEHOLDER,width:480,subOrigin:"embedded_video",children:[j.jsx(b("VideoComponentCover.react"),{}),j.jsx(b("VideoComponentPlayButton.react"),{}),j.jsx(b("VideoComponentEmbeddedControls.react"),{showSettingsButton:!1})]})})})};e.exports=c}),null);
__d("VideoComposerRightSectionChecklistHeading.react",["cx","FlexLayout.react","React","VideoComposerDialogConstants","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsxs("div",{className:"_75oa",style:{width:b("VideoComposerDialogConstants").RIGHT_SECTION_WIDTH},children:[h.jsx(b("FlexLayout.react"),{justify:"all",align:"start",className:"_75kz",children:h.jsxs(b("FlexLayout.react"),{align:"center",children:[h.jsx("div",{className:"_75oc",children:this.props.icon}),h.jsx("div",{className:"_3-9a",children:this.props.title})]})}),this.props.body]})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerPublishDrawerRightSideChecklist.react",["ix","cx","fbt","FlexLayout.react","Image.react","React","SUIBusinessTheme","SUIText.react","VideoComposerPublishDrawerChecklistPremiereUpsell.react","VideoComposerRightSectionChecklistHeading.react","asset","cxMargin","gkx"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=i._("Before you publish"),c=i._("Make sure that your video is set up for success");a=j.jsxs(b("FlexLayout.react"),{children:[j.jsx("div",{className:"_3-91",children:j.jsx(b("Image.react"),{src:g("728872")})}),j.jsxs(b("FlexLayout.react"),{direction:"vertical",children:[j.jsx(r,{text:a}),j.jsx(s,{text:c})]})]});c=j.jsx("div",{className:"_78b4",children:j.jsxs(b("FlexLayout.react"),{direction:"vertical",className:"_75kv",justify:"all",children:[j.jsx(k,{bestPracticesChecklistConfig:this.props.bestPracticesChecklistConfig,showHDVideoChecklist:this.props.showHDVideoChecklist,showPlaylistOrSeriesChecklistItem:this.props.showPlaylistOrSeriesChecklistItem}),j.jsxs("div",{className:"_78b3",children:[j.jsx("div",{className:"_75kw"}),j.jsx("div",{className:"_3-98",children:j.jsx(b("VideoComposerPublishDrawerChecklistPremiereUpsell.react"),{})})]})]})});return j.jsx(b("VideoComposerRightSectionChecklistHeading.react"),{videoComposerID:this.props.videoComposerID,body:c,title:a})};return c}(j.Component);function k(a){return j.jsx("div",{className:"_3-98",children:j.jsxs(b("FlexLayout.react"),{className:"_78b5",direction:"vertical",children:[j.jsx(l,{isChecked:a.bestPracticesChecklistConfig.hasMinVideoDuration}),j.jsx(m,{isChecked:a.bestPracticesChecklistConfig.isDescriptionAdded}),j.jsx(n,{isChecked:a.bestPracticesChecklistConfig.isTagAdded}),j.jsx(o,{isChecked:a.bestPracticesChecklistConfig.isVideoHighQuality,showChecklist:a.showHDVideoChecklist}),j.jsx(p,{isChecked:a.bestPracticesChecklistConfig.isPlaylistsOrSeriesAdded,showChecklist:a.showPlaylistOrSeriesChecklistItem})]})})}var l=function(a){a=a.isChecked;var b=j.jsx(t,{text:i._("3 minutes long")}),c=j.jsx(u,{text:i._("Videos at least this long are shown to more people")});return j.jsx(q,{isChecked:a,title:b,subtitle:c})},m=function(a){a=a.isChecked;var b=j.jsx(t,{text:i._("Video description")}),c=j.jsx(u,{text:i._("Describe what makes your video stand out so that people can find it")});return j.jsx(q,{isChecked:a,title:b,subtitle:c})},n=function(a){a=a.isChecked;var b=j.jsx(t,{text:i._("Tags")}),c=j.jsx(u,{text:i._("Use tags that consider all the different words that people might use to search for videos like yours")});return j.jsx(q,{isChecked:a,title:b,subtitle:c})},o=function(a){var b=a.isChecked;a=a.showChecklist;if(!a)return null;a=j.jsx(t,{text:i._("HD video")});var c=j.jsx(u,{text:i._("People tend to enjoy videos in high definition")});return j.jsx(q,{isChecked:b,title:a,subtitle:c})},p=function(a){var c=a.isChecked;a=a.showChecklist;if(!a)return null;if(!b("gkx")("1336717"))return null;a=j.jsx(t,{text:i._("Add to Playlists or Series")});var d=j.jsx(u,{text:i._("Playlists and series optimise how your related videos get recommended to viewers.")});return j.jsx(q,{isChecked:c,title:a,subtitle:d})},q=function(a){var c=a.isChecked,d=a.title;a=a.subtitle;c=c?j.jsx(b("Image.react"),{src:g("507583")}):j.jsx(b("Image.react"),{src:g("725747")});return j.jsxs(b("FlexLayout.react"),{className:"_75kx",children:[j.jsx("div",{className:"_75ky",children:c}),j.jsxs(b("FlexLayout.react"),{direction:"vertical",children:[d,a]})]})},r=function(a){a=a.text;return j.jsx(b("SUIText.react"),{color:"white",size:"header3",theme:b("SUIBusinessTheme"),weight:"bold",children:a})},s=function(a){a=a.text;return j.jsx(b("SUIText.react"),{color:"white",margin:"_3-8w",size:"body3",theme:b("SUIBusinessTheme"),children:a})},t=function(a){a=a.text;return j.jsx(b("SUIText.react"),{color:"white",size:"body1",theme:b("SUIBusinessTheme"),weight:"bold",children:a})},u=function(a){a=a.text;return j.jsx(b("SUIText.react"),{color:"white",size:"body3",theme:b("SUIBusinessTheme"),children:a})};e.exports=a}),null);
__d("VideoComposerPublishDrawerRightSideChecklistContainer.react",["FluxContainer","React","VideoComposerBestPracticesChecklistUtils","VideoComposerPublishDrawerRightSideChecklist.react","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("VideoComposerBestPracticesChecklistUtils").getBestPracticesChecklistConfig;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){var c;return[(c=b("VideoComposerStores")).getBasicStore(a.videoComposerID),c.getMetadataStore(a.videoComposerID),c.getDistributionStore(a.videoComposerID),c.getPublishingStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getMetadataStore(c.videoComposerID).getState();var d=b("VideoComposerStores").getPublishingStore(c.videoComposerID).getState(),e=d.isPosting,f=d.isPostPending,g=d.isDraft;d=d.showBestPracticesChecklistHDVideo;e=(e||f)&&!g;f=h(c.videoComposerID,b("VideoComposerStores").getBasicStore(c.videoComposerID).getState(),a,b("VideoComposerStores").getDistributionStore(c.videoComposerID).getState());return{bestPracticesChecklistConfig:f,isPublishing:e,showHDVideoChecklist:d,showPlaylistOrSeriesChecklistItem:a.composerEntryPointRef!=="cs_ab_testing_video_upload"}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerPublishDrawerRightSideChecklist.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID},this.state))};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerPublishDrawerRightSideContainer.react",["cx","FluxContainer","React","VideoComposerDialogConstants","VideoComposerPublishDrawerRightSide.react","VideoComposerStores"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getMetadataStore(a.videoComposerID),b("VideoComposerStores").getPublishingStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getMetadataStore(c.videoComposerID).getState();c=b("VideoComposerStores").getPublishingStore(c.videoComposerID).getState();a=a.dialogMode;var d=c.isPosting,e=c.isPostPending,f=c.isDraft;c=c.showBestPracticesChecklist;d=(d||e)&&!f;return{dialogMode:a,isPublishing:d,showBestPracticesChecklist:c}};var d=c.prototype;d.render=function(){return this.state.dialogMode!=="video_upload"?h.jsx("div",{className:"_8e8m",style:{width:b("VideoComposerDialogConstants").RIGHT_SECTION_WIDTH}}):h.jsx(b("VideoComposerPublishDrawerRightSide.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID},this.state))};return c}(h.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerVideoPostOption.react",["cx","React","VideoComposerPostType","VideosPublishingCheckboxItem.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("VideoComposerPostType").VideoComposerPostTypes;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.onTogglePostType(i.VIDEO_UPLOAD)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return h.jsx("div",{className:"_70oc","data-testid":void 0,children:h.jsx(b("VideosPublishingCheckboxItem.react"),{checked:this.props.isSelected,disabled:this.props.disabled,disabledTooltip:this.props.disabledTooltip!==null?this.props.disabledTooltip:void 0,label:this.props.label,tooltip:this.props.tooltip,onToggle:this.$1})})};return c}(h.PureComponent);e.exports=a}),null);
__d("VideoComposerPostTypeCard.react",["ix","cx","fbt","FDSText.react","Image.react","ImageBlock.react","React","VideoComposerPostType","VideoComposerPublishingUtils","VideoComposerVideoPostOption.react","VideosPublishingCheckboxItem.react","XUICard.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=b("VideoComposerPostType").VideoComposerPostTypes;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.onTogglePostType(k.PREMIERE)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props.isFundedContent&&this.props.hasFundedContentReviews===!0,c=this.props.isFundedContent?b("VideoComposerPublishingUtils").fundedContentAllowedActionTypeTooltipText:null,d=c!==null?c:this.props.premiereDisabledReason;c=j.jsx(b("VideoComposerVideoPostOption.react"),{label:i._("Video post"),disabled:a,disabledTooltip:c,canCreateMultiVideoPremiereLivingRoom:this.props.canCreateMultiVideoPremiereLivingRoom,canCreateSingleVideoPremiereLivingRoom:this.props.canCreateSingleVideoPremiereLivingRoom,premiereDisabledReason:this.props.premiereDisabledReason,premiereCSType:this.props.premiereCSType,premiereAudience:this.props.premiereAudience,isSelected:this.props.postType===k.VIDEO_UPLOAD||this.props.postType===k.VIDEO_UPLOAD_WATCH_PARTY,showPremiereAudience:this.props.showPremiereAudience,isUsingLivingRoomPlayer:this.props.isUsingLivingRoomPlayer,onTogglePostType:this.props.onTogglePostType,onUpdatePremiereAudience:this.props.onUpdatePremiereAudience});a=this.props.showPremiereOption?j.jsx("div",{className:"_70oc","data-testid":"VIDEO_COMPOSER_PREMIERE_PUBLISHING_OPTION",children:j.jsx(b("VideosPublishingCheckboxItem.react"),{checked:this.props.postType===k.PREMIERE,disabled:a||!!this.props.premiereDisabledReason,disabledTooltip:d,label:i._("Premiere"),onToggle:this.$1,children:this.props.postType===k.PREMIERE&&j.jsxs(b("ImageBlock.react"),{children:[j.jsx(b("Image.react"),{src:g("963724")}),j.jsx("div",{className:"_2pir",children:j.jsx(b("FDSText.react"),{color:"placeholder",size:"body3",children:i._("When your video is published, it will be labelled as a \"Premiere\". Afterwards, it will appear as a standard video post.")})})]})})}):null;d=j.jsxs(b("XUICard.react"),{className:"_6lr9",children:[c,a]});return d};return c}(j.PureComponent);e.exports=a}),null);
__d("VideoComposerBackdateInput.react",["cx","fbt","FDSCheckboxInput.maintenance.react","FDSText.react","React","XUIProgressiveDatepicker.react","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return i.jsxs("div",{children:[i.jsx(b("FDSText.react"),{color:"placeholder",size:"body3",children:h._("Backdate your post so that it appears in the past on your Page Timeline. Backdated posts are published immediately.")}),i.jsx("div",{className:"_3-8x",children:i.jsx(b("XUIProgressiveDatepicker.react"),{initialDay:this.props.backdateDay||0,initialMonth:this.props.backdateMonth||0,initialYear:this.props.backdateYear||0,className:"_3-8x",maxTime:this.props.maxTime,menuMaxHeight:400,minTime:this.props.minTime,minTimeUnit:"day",onDateChange:this.props.onDateChange})}),i.jsx("div",{className:"_6q48",children:i.jsx(b("FDSCheckboxInput.maintenance.react"),{value:this.props.hideFromNewsFeed,label:i.jsx("div",{className:"_6qja",children:h._("Hide from News Feed")}),onChange:this.props.onHideFromNewsFeedToggle})})]})};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerBackdateOption.react",["cx","React","VideoComposerBackdateInput.react","VideoComposerPublishingTypes","VideosPublishingCheckboxItem.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("VideoComposerPublishingTypes").PublishingType,j=1e3,k=86400*1e3;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.onTogglePublishingType(i.BACKDATE)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this,c=this.props.publishingType===i.BACKDATE;return h.jsxs("div",{className:"_70oc","data-testid":void 0,children:[h.jsx(b("VideosPublishingCheckboxItem.react"),{checked:c,disabled:this.props.disabled,disabledTooltip:this.props.disabledTooltip!==null?this.props.disabledTooltip:void 0,label:this.props.label,tooltip:this.props.tooltip,onToggle:this.$1}),c?h.jsx("div",{className:"_6msx",children:h.jsx(b("VideoComposerBackdateInput.react"),{backdateDay:this.props.backdateDay,backdateMonth:this.props.backdateMonth,backdateYear:this.props.backdateYear,hideFromNewsFeed:this.props.hideFromNewsFeed,maxTime:(Date.now()-k)/j,minTime:this.props.minBackdateTime,onDateChange:function(b){a.props.onBackdateChange(b)},onHideFromNewsFeedToggle:function(){a.props.onHideFromNewsFeedBackdateToggle(!a.props.hideFromNewsFeed)}})}):null]})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerIconAndTextRow.react",["cx","FDSText.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsxs("div",{className:"_6qj_"+(this.props.useTopMargin?" _3-8y":""),children:[h.jsx("span",{className:"_6qk0",children:this.props.icon}),h.jsx("span",{className:"_6qiu",children:h.jsx(b("FDSText.react"),{color:"placeholder",size:"body3",children:this.props.text})})]})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerPremiereAudienceSelector.react",["ix","cx","fbt","FDSText.react","Image.react","React","Tooltip.react","XUIRadioList.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=b("XUIRadioList.react").Item;function a(a){return j.jsxs("div",{children:[j.jsx("div",{className:"_6-x3",children:j.jsxs(b("FDSText.react"),{color:"placeholder",size:"body3",weight:"bold",children:[i._("Who can watch your premiere?"),j.jsx(b("Tooltip.react"),{position:"above",tooltip:i._("Select the audience you want to watch your premiere. After the premiere ends, the video will be made public."),children:j.jsx(b("Image.react"),{className:"_52vx",src:g("479819")})})]})}),j.jsxs(b("XUIRadioList.react"),{onValueChange:a.onUpdatePremiereAudience,selectedValue:a.premiereAudience!=null&&a.premiereAudience!==""?a.premiereAudience:"ANYONE",children:[j.jsxs(k,{value:"ANYONE",children:[j.jsx(b("FDSText.react"),{color:"placeholder",size:"body3",weight:"bold",children:i._("Anyone")}),j.jsx("div",{children:j.jsx(b("FDSText.react"),{color:"placeholder",size:"meta1",weight:"normal",children:i._("Anyone on or off Facebook can watch your premiere.")})})]}),j.jsxs(k,{value:"ALL_SUPPORTERS",children:[j.jsx(b("FDSText.react"),{color:"placeholder",size:"body3",weight:"bold",children:i._("Supporters")}),j.jsx("div",{children:j.jsx(b("FDSText.react"),{color:"placeholder",size:"meta1",weight:"normal",children:i._("Only supporters can watch this premiere.")})})]})]})]})}e.exports=a}),null);
__d("VideoComposerPremiereImageInput.react",["ix","cx","fbt","FDSText.react","FileInput.react","Image.react","React","VideoComposerActions","VideoComposerIconAndTextRow.react","XUIButton.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){if(!(a.target.files&&a.target.files[0]))return;b("VideoComposerActions").setPremiereFeedBackgroundImage(d.props.videoComposerID,a.target.files[0])},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.feedBackgroundImageURL!=null?i._("Change Image"):i._("Add Image"),c=i._("Upload an image for your News Feed announcement post."),d=j.jsx("div",{className:"_6msx",children:j.jsx(b("FDSText.react"),{color:"placeholder",size:"body3",children:c})});c=j.jsx(b("VideoComposerIconAndTextRow.react"),{icon:j.jsx(b("Image.react"),{src:g("559339")}),text:c,useTopMargin:!0});return j.jsxs("div",{children:[this.props.hideIcon==!0?d:c,j.jsx("div",{className:"_6msx",children:j.jsxs("div",{className:"_6qk1",children:[this.props.feedBackgroundImageURL!=null?j.jsx(b("Image.react"),{className:"_6qk2",height:73,src:this.props.feedBackgroundImageURL,width:128}):null,j.jsx(b("FileInput.react"),{name:"file",accept:"image/*",onChange:this.$1,children:j.jsx(b("XUIButton.react"),{href:{url:"#"},label:a})})]})})]})};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerPremiereInput.react",["ix","cx","fbt","AutoScheduleUtils","BUIDateTimePicker.react","DateTime","Image.react","React","VideoComposerIconAndTextRow.react","VideoComposerPremiereAudienceSelector.react","VideoComposerPremiereImageInput.react","VideoComposerPremiereUtils","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=b("VideoComposerPremiereUtils").getScheduledLiveInvalidTimeNotice(!0);a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=b("DateTime").localFromDate(this.props.publishDate);return j.jsxs("div",{children:[j.jsx(b("VideoComposerIconAndTextRow.react"),{icon:j.jsx(b("Image.react"),{src:g("501292")}),text:i._("Select the date and time when you want to premiere your video."),useTopMargin:!1}),j.jsxs("div",{className:"_6msx",children:[j.jsx(b("BUIDateTimePicker.react"),{allowEmpty:!1,value:c,dateRestraints:[function(a){return b("VideoComposerPremiereUtils").isDateValid(a)}],onChange:function(b){return a.props.onSetPremiereDate(b.toDate())},timezoneID:c.timezoneID,timezoneLabel:b("AutoScheduleUtils").getTimezoneString(),xuiError:b("VideoComposerPremiereUtils").isPublishTimeValid(this.props.publishDate)?void 0:k}),j.jsx("div",{className:"_3-8y",children:this.props.showPremiereAudience&&j.jsx(b("VideoComposerPremiereAudienceSelector.react"),{premiereAudience:this.props.premiereAudience,onUpdatePremiereAudience:this.props.onUpdatePremiereAudience})})]}),j.jsx(b("VideoComposerPremiereImageInput.react"),{videoComposerID:this.props.videoComposerID,feedBackgroundImageURL:this.props.feedBackgroundImageURL})]})};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerPremiereOption.react",["cx","React","VideoComposerPremiereInput.react","VideoComposerPublishingTypes","VideosPublishingCheckboxItem.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("VideoComposerPublishingTypes").PublishingType;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.onTogglePublishingType(i.PREMIERE)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props.publishingType===i.PREMIERE;return h.jsxs("div",{className:"_70oc","data-testid":void 0,children:[h.jsx(b("VideosPublishingCheckboxItem.react"),{checked:a,disabled:this.props.disabled,disabledTooltip:this.props.disabledTooltip!==null?this.props.disabledTooltip:void 0,label:this.props.label,tooltip:this.props.tooltip,onToggle:this.$1}),this.props.premiereDate&&a?h.jsx(b("VideoComposerPremiereInput.react"),{videoComposerID:this.props.videoComposerID,feedBackgroundImageURL:this.props.premiereFeedBackgroundImageURL,publishDate:this.props.premiereDate,showPremiereAudience:this.props.showPremiereAudience,premiereAudience:this.props.premiereAudience,onSetPremiereDate:this.props.onSetPremiereDate,onSetPremiereFeedBackgroundImage:this.props.onSetPremiereFeedBackgroundImage,onUpdatePremiereAudience:this.props.onUpdatePremiereAudience}):null]})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerPublishForDogfoodingOption.react",["cx","React","VideoComposerPublishingTypes","VideosPublishingCheckboxItem.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("VideoComposerPublishingTypes").PublishingType;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.onTogglePublishingType(i.PUBLISH_FOR_DOGFOODING)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props.publishingType===i.PUBLISH_FOR_DOGFOODING;return h.jsx("div",{className:"_70oc","data-testid":void 0,children:h.jsx(b("VideosPublishingCheckboxItem.react"),{checked:a,disabled:this.props.disabled,disabledTooltip:this.props.disabledTooltip!==null?this.props.disabledTooltip:void 0,label:this.props.label,tooltip:this.props.tooltip,onToggle:this.$1})})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerPublishNowOptionDEPRECATED.react",["cx","React","VideoComposerPublishingTypes","VideosPublishingCheckboxItem.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("VideoComposerPublishingTypes").PublishingType;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.onTogglePublishingType(i.PUBLISH_NOW)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props.publishingType===i.PUBLISH_NOW;return h.jsx("div",{className:"_70oc","data-testid":void 0,children:h.jsx(b("VideosPublishingCheckboxItem.react"),{checked:a,disabled:this.props.disabled,disabledTooltip:this.props.disabledTooltip!==null?this.props.disabledTooltip:void 0,label:this.props.label,tooltip:this.props.tooltip,onToggle:this.$1})})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerPublishWithShowOrSeasonOption.react",["cx","React","VideoComposerPublishingTypes","VideosPublishingCheckboxItem.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("VideoComposerPublishingTypes").PublishingType;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.onTogglePublishingType(i.PUBLISH_WITH_SHOW_OR_SEASON)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props.publishingType===i.PUBLISH_WITH_SHOW_OR_SEASON;return h.jsx("div",{className:"_70oc","data-testid":void 0,children:h.jsx(b("VideosPublishingCheckboxItem.react"),{checked:a,disabled:this.props.disabled,disabledTooltip:this.props.disabledTooltip!==null?this.props.disabledTooltip:void 0,label:this.props.label,tooltip:this.props.tooltip,onToggle:this.$1})})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerSaveAsDraftOption.react",["cx","React","VideoComposerPublishingTypes","VideosPublishingCheckboxItem.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("VideoComposerPublishingTypes").PublishingType;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.onTogglePublishingType(i.SAVE_AS_DRAFT)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props.publishingType===i.SAVE_AS_DRAFT;return h.jsx("div",{className:"_70oc","data-testid":void 0,children:h.jsx(b("VideosPublishingCheckboxItem.react"),{checked:a,disabled:this.props.disabled,disabledTooltip:this.props.disabledTooltip!==null?this.props.disabledTooltip:void 0,label:this.props.label,tooltip:this.props.tooltip,onToggle:this.$1})})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerScheduleInput.react",["cx","fbt","FDSCheckboxInput.maintenance.react","FDSText.react","React","VideoComposerDateInput.react","VideoComposerPostType","VideoComposerPremiereImageInput.react","VideoComposerPremiereUtils","VideoComposerPublishingUtils"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("VideoComposerPostType").VideoComposerPostTypes,k=(a=b("VideoComposerPublishingUtils")).getDefaultExpireDate,l=a.getDefaultScheduleDate,m=a.invalidMessageExpireDate,n=a.invalidMessageScheduleDate,o=a.isExpireDateValid,p=a.isScheduleDateValid,q=b("VideoComposerPremiereUtils").getScheduledLiveInvalidTimeNotice(!0);c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.onEditExpiration(c.props.expireDate?null:k(c.props.publishDate),c.props.expireType?0:2)},c.$2=function(){c.props.onEditExpiration(c.props.expireDate,c.props.expireType===2?1:2)},c.$3=function(){c.props.publishDate&&c.props.shouldPremiere&&c.props.onUpdateShouldPremiere(!1),c.props.onEditScheduledTime(c.props.publishDate?null:l())},c.$4=function(a){a!=null&&c.props.onEditScheduledTime(a.toDate())},c.$5=function(a){a!=null&&c.props.onEditExpiration(a.toDate(),c.props.expireType)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$6=function(a){if(this.props.shouldPremiere)return b("VideoComposerPremiereUtils").isPublishTimeValid(this.props.publishDate)?void 0:q;else return p(a)?void 0:n};d.$7=function(a){return o(a,this.props.publishDate)?void 0:m};d.render=function(){var a=this.props.isComposerPostScheduleRedesign&&this.props.shouldPremiere;return i.jsxs("div",{children:[i.jsxs("div",{className:"_6pcx",children:[i.jsx(b("FDSCheckboxInput.maintenance.react"),{label:i.jsx(b("FDSText.react"),{color:"placeholder",size:"body3",weight:"bold",children:h._("Publishing")}),isDisabled:!!this.props.publishDate,value:!!this.props.publishDate,onChange:this.$3}),this.props.publishDate&&i.jsx("div",{className:"_6pcz",children:i.jsx(b("VideoComposerDateInput.react"),{error:this.$6(this.props.publishDate),onChange:this.$4,selectedTime:this.props.publishDate,children:i.jsx(b("FDSText.react"),{color:"placeholder",size:"body3",children:h._("Select the date and time when you want your video to be published.")})})})]}),!a&&i.jsxs("div",{className:"_6pcx",children:[i.jsx(b("FDSCheckboxInput.maintenance.react"),{label:i.jsx(b("FDSText.react"),{color:"placeholder",size:"body3",weight:"bold",children:h._("Expiry")}),value:!!this.props.expireDate,onChange:this.$1}),this.props.expireDate&&i.jsx("div",{className:"_6pcz",children:i.jsxs("div",{children:[i.jsx(b("VideoComposerDateInput.react"),{error:this.$7(this.props.expireDate),onChange:this.$5,selectedTime:this.props.expireDate,children:i.jsx(b("FDSText.react"),{color:"placeholder",size:"body3",children:h._("When a post expires, it will no longer be visible to the public. Page admins can still view unpublished posts and their insights.")})}),i.jsx("div",{className:"_6q2d",children:i.jsx(b("FDSCheckboxInput.maintenance.react"),{value:this.props.expireType===1,label:i.jsx(b("FDSText.react"),{color:"placeholder",size:"body3",children:h._("Delete the post. Permanently remove the post and its insights at the scheduled time.")}),onChange:this.$2})})]})})]}),this.props.isComposerPostScheduleRedesign&&this.props.postType===j.PREMIERE&&i.jsx(b("VideoComposerPremiereImageInput.react"),{videoComposerID:this.props.videoComposerID,feedBackgroundImageURL:this.props.feedBackgroundImageURL,hideIcon:!0})]})};return c}(i.Component);e.exports=c}),null);
__d("VideoComposerScheduleOption.react",["cx","React","VideoComposerPublishingTypes","VideoComposerScheduleInput.react","VideosPublishingCheckboxItem.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("VideoComposerPublishingTypes").PublishingType;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.onTogglePublishingType(i.SCHEDULE)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props.shouldPremiere?this.props.premiereDate:this.props.scheduleDate,c=this.props.publishingType===i.SCHEDULE;return h.jsxs("div",{className:"_70oc","data-testid":void 0,children:[h.jsx(b("VideosPublishingCheckboxItem.react"),{checked:c,disabled:this.props.disabled,disabledTooltip:this.props.disabledTooltip!==null?this.props.disabledTooltip:void 0,label:this.props.label,tooltip:this.props.tooltip,onToggle:this.$1}),c?h.jsx(b("VideoComposerScheduleInput.react"),{videoComposerID:this.props.videoComposerID,expireType:this.props.expireType,expireDate:this.props.expireDate,feedBackgroundImageURL:this.props.premiereFeedBackgroundImageURL,isComposerPostScheduleRedesign:this.props.isComposerPostScheduleRedesign===!0,postType:this.props.postType,publishDate:a,shouldPremiere:this.props.shouldPremiere,showPremiereAudience:this.props.showPremiereAudience,premiereAudience:this.props.premiereAudience,onEditExpiration:this.props.onEditExpiration,onEditScheduledTime:this.props.onEditScheduledTime,onSetPremiereDate:this.props.onSetPremiereDate,onUpdateShouldPremiere:this.props.onUpdateShouldPremiere,onUpdatePremiereAudience:this.props.onUpdatePremiereAudience}):null]})};return c}(h.Component);e.exports=a}),null);
__d("VideoPostPublishingTypeCard.react",["cx","fbt","React","VideoComposerBackdateOption.react","VideoComposerPremiereOption.react","VideoComposerPublishForDogfoodingOption.react","VideoComposerPublishingTypes","VideoComposerPublishingUtils","VideoComposerPublishNowOptionDEPRECATED.react","VideoComposerPublishWithShowOrSeasonOption.react","VideoComposerSaveAsDraftOption.react","VideoComposerScheduleOption.react","XUICard.react","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=(a=b("VideoComposerPublishingTypes")).PUBLISH_WITH_SEASON_LABEL,k=a.PUBLISH_WITH_SEASON_TOOLTIP,l=a.PUBLISH_WITH_SERIES_LABEL,m=a.PUBLISH_WITH_SERIES_TOOLTIP,n=b("VideoComposerPublishingUtils").videoComposerPremiereOptionTooltipText;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.isFundedContent&&this.props.hasFundedContentReviews===!0,c=this.props.isFundedContent?b("VideoComposerPublishingUtils").fundedContentAllowedActionTypeTooltipText:null,d=c!==null?c:this.props.premiereDisabledReason,e=this.props.isShowDraft===!0||this.props.isSeasonDraft===!0,f=m,g=l;this.props.isShowDraft===!1&&this.props.isSeasonDraft===!0&&(f=k,g=j);e=e?i.jsx(b("VideoComposerPublishWithShowOrSeasonOption.react"),{videoComposerID:this.props.videoComposerID,canCreateSingleVideoPremiereLivingRoom:!!this.props.canCreateSingleVideoPremiereLivingRoom,disabled:a,disabledTooltip:c,label:g,tooltip:f,premiereCSType:this.props.premiereCSType,publishingType:this.props.publishingType,shouldPremiereWithShowOrSeason:this.props.shouldPremiereWithShowOrSeason,onTogglePremiereWithShowOrSeason:this.props.onTogglePremiereWithShowOrSeason,onTogglePublishingType:this.props.onTogglePublishingType}):null;g=i.jsx(b("VideoComposerPublishNowOptionDEPRECATED.react"),{videoComposerID:this.props.videoComposerID,label:h._("Publish now"),disabled:a,disabledTooltip:c,canCreateMultiVideoPremiereLivingRoom:!!this.props.canCreateMultiVideoPremiereLivingRoom,canCreateSingleVideoPremiereLivingRoom:!!this.props.canCreateSingleVideoPremiereLivingRoom,premiereDisabledReason:this.props.premiereDisabledReason,premiereCSType:this.props.premiereCSType,premiereAudience:this.props.premiereAudience,publishingType:this.props.publishingType,showPremiereAudience:this.props.showPremiereAudience,shouldPremiere:this.props.shouldPremiere,onTogglePublishingType:this.props.onTogglePublishingType,onUpdatePremiereAudience:this.props.onUpdatePremiereAudience});f=this.props.showPremiereOption?i.jsx(b("VideoComposerPremiereOption.react"),{videoComposerID:this.props.videoComposerID,disabled:a||!!this.props.premiereDisabledReason,disabledTooltip:d,label:h._("Premiere"),testDataID:"VIDEO_COMPOSER_PREMIERE_PUBLISHING_OPTION",premiereDate:this.props.premiereDate,premiereFeedBackgroundImageURL:this.props.premiereFeedBackgroundImageURL,publishingType:this.props.publishingType,showPremiereAudience:this.props.showPremiereAudience,premiereAudience:this.props.premiereAudience,tooltip:n,onSetPremiereDate:this.props.onSetPremiereDate,onSetPremiereFeedBackgroundImage:this.props.onSetPremiereFeedBackgroundImage,onTogglePublishingType:this.props.onTogglePublishingType,onUpdatePremiereAudience:this.props.onUpdatePremiereAudience}):null;d=i.jsx(b("VideoComposerScheduleOption.react"),{videoComposerID:this.props.videoComposerID,label:h._("Schedule"),expireType:this.props.expireType,expireDate:this.props.expireDate,premiereFeedBackgroundImageURL:this.props.premiereFeedBackgroundImageURL,premiereDate:this.props.premiereDate,publishingType:this.props.publishingType,scheduleDate:this.props.scheduleDate,shouldPremiere:this.props.shouldPremiere,showPremiereAudience:this.props.showPremiereAudience,premiereAudience:this.props.premiereAudience,onEditExpiration:this.props.onEditExpiration,onEditScheduledTime:this.props.onEditScheduledTime,onSetPremiereDate:this.props.onSetPremiereDate,onTogglePublishingType:this.props.onTogglePublishingType,onUpdateShouldPremiere:this.props.onUpdateShouldPremiere,onUpdatePremiereAudience:this.props.onUpdatePremiereAudience});a=this.props.showBackdateOption?i.jsx(b("VideoComposerBackdateOption.react"),{disabled:a,disabledTooltip:c,label:h._("Backdate"),publishingType:this.props.publishingType,minBackdateTime:this.props.minBackdateTime,backdateDay:this.props.backdateDay,backdateMonth:this.props.backdateMonth,backdateYear:this.props.backdateYear,hideFromNewsFeed:this.props.hideFromNewsFeed,onBackdateChange:this.props.onBackdateChange,onHideFromNewsFeedBackdateToggle:this.props.onHideFromNewsFeedBackdateToggle,onTogglePublishingType:this.props.onTogglePublishingType}):null;c=i.jsx(b("VideoComposerSaveAsDraftOption.react"),{label:h._("Save as Draft"),testDataID:"VIDEO_COMPOSER_SAVE_AS_DRAFT_PUBLISHING_OPTION",publishingType:this.props.publishingType,onTogglePublishingType:this.props.onTogglePublishingType});var o=this.props.showPublishForDogfoodingOption&&b("gkx")("831159")?i.jsx(b("VideoComposerPublishForDogfoodingOption.react"),{label:h._("Publish for Dogfooding"),publishingType:this.props.publishingType,onTogglePublishingType:this.props.onTogglePublishingType}):null;e=i.jsxs(b("XUICard.react"),{className:"_6lr9",children:[e,g,f,d,a,c,o]});return e};return c}(i.Component);e.exports=c}),null);
__d("VideoComposerPublishingTypeSection.react",["fbt","React","VideoComposerActions","VideoComposerField.react","VideoComposerPostTypeCard.react","VideoPostPublishingTypeCard.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(a){b("VideoComposerActions").setPostType(d.props.videoComposerID,a)},d.$5=function(a){b("VideoComposerActions").setBackdateDate(d.props.videoComposerID,a)},d.$6=function(a,c){b("VideoComposerActions").editExpiration(d.props.videoComposerID,a,c)},d.$7=function(a){b("VideoComposerActions").editScheduledTime(d.props.videoComposerID,a)},d.$8=function(a){b("VideoComposerActions").setBackdateHideFromNewsFeed(d.props.videoComposerID,a)},d.$1=function(a){b("VideoComposerActions").setPremiereDate(d.props.videoComposerID,a)},d.$2=function(a){b("VideoComposerActions").setPremiereFeedBackgroundImage(d.props.videoComposerID,a)},d.$9=function(){b("VideoComposerActions").togglePremiereWithShowOrSeason(d.props.videoComposerID)},d.$10=function(a){b("VideoComposerActions").setPublishingType(d.props.videoComposerID,a)},d.$11=function(a){b("VideoComposerActions").updateShouldPremiere(d.props.videoComposerID,a)},d.$4=function(a){b("VideoComposerActions").updatePremiereAudience(d.props.videoComposerID,a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.isComposerPostScheduleRedesign?h.jsx(b("VideoComposerPostTypeCard.react"),babelHelpers["extends"]({},this.props,{onSetPremiereDate:this.$1,onSetPremiereFeedBackgroundImage:this.$2,onTogglePostType:this.$3,onUpdatePremiereAudience:this.$4})):h.jsx(b("VideoPostPublishingTypeCard.react"),babelHelpers["extends"]({},this.props,{onBackdateChange:this.$5,onEditExpiration:this.$6,onEditScheduledTime:this.$7,onHideFromNewsFeedBackdateToggle:this.$8,onSetPremiereDate:this.$1,onSetPremiereFeedBackgroundImage:this.$2,onTogglePremiereWithShowOrSeason:this.$9,onTogglePublishingType:this.$10,onUpdateShouldPremiere:this.$11,onUpdatePremiereAudience:this.$4}));return h.jsx("div",{children:h.jsx(b("VideoComposerField.react"),{input:a,title:g._("Choose how to publish your post"),showTopBorder:!1})})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerDogfoodingWithSeriesOrSeasonOption.react",["cx","React","VideoComposerPublishingTypes","VideosPublishingCheckboxItem.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("VideoComposerPublishingTypes").PublishingType;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.onTogglePublishingType(i.DOGFOOD_WITH_SERIES_OR_SEASON)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props.publishingType===i.DOGFOOD_WITH_SERIES_OR_SEASON;return h.jsx("div",{className:"_70oc","data-testid":void 0,children:h.jsx(b("VideosPublishingCheckboxItem.react"),{checked:a,disabled:this.props.disabled,disabledTooltip:this.props.disabledTooltip!==null?this.props.disabledTooltip:void 0,label:this.props.label,tooltip:this.props.tooltip,onToggle:this.$1})})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerShowsComposerPublishingTypeCard.react",["cx","fbt","React","VideoComposerDogfoodingWithSeriesOrSeasonOption.react","VideoComposerPremiereOption.react","VideoComposerPublishForDogfoodingOption.react","VideoComposerPublishingTypes","VideoComposerPublishingUtils","VideoComposerPublishNowOptionDEPRECATED.react","VideoComposerPublishWithShowOrSeasonOption.react","VideoComposerSaveAsDraftOption.react","VideoComposerScheduleOption.react","XUICard.react","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=(a=b("VideoComposerPublishingTypes")).DOGFOOD_WITH_SEASON_LABEL,k=a.DOGFOOD_WITH_SEASON_TOOLTIP,l=a.DOGFOOD_WITH_SERIES_LABEL,m=a.DOGFOOD_WITH_SERIES_TOOLTIP,n=a.PUBLISH_WITH_SEASON_LABEL,o=a.PUBLISH_WITH_SEASON_TOOLTIP,p=a.PUBLISH_WITH_SERIES_LABEL,q=a.PUBLISH_WITH_SERIES_TOOLTIP;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.isFundedContent;a=a.hasFundedContentReviews;var d=c?b("VideoComposerPublishingUtils").fundedContentAllowedActionTypeTooltipText:null,e=d!==null?d:this.props.premiereDisabledReason,f=q,g=p;!this.props.isShowDraft&&this.props.isSeasonDraft&&(f=o,g=n);g=this.props.isShowDraft||this.props.isSeasonDraft?i.jsx(b("VideoComposerPublishWithShowOrSeasonOption.react"),{videoComposerID:this.props.videoComposerID,canCreateSingleVideoPremiereLivingRoom:!!this.props.canCreateSingleVideoPremiereLivingRoom,disabled:c&&a===!0,disabledTooltip:d,label:g,tooltip:f,premiereCSType:this.props.premiereCSType,publishingType:this.props.publishingType,shouldPremiereWithShowOrSeason:this.props.shouldPremiereWithShowOrSeason,onTogglePremiereWithShowOrSeason:this.props.onTogglePremiereWithShowOrSeason,onTogglePublishingType:this.props.onTogglePublishingType}):null;f=i.jsx(b("VideoComposerPublishNowOptionDEPRECATED.react"),{videoComposerID:this.props.videoComposerID,canCreateMultiVideoPremiereLivingRoom:!!this.props.canCreateMultiVideoPremiereLivingRoom,canCreateSingleVideoPremiereLivingRoom:!!this.props.canCreateSingleVideoPremiereLivingRoom,disabled:c&&a===!0,disabledTooltip:d,label:h._("Publish now"),premiereAudience:this.props.premiereAudience,premiereCSType:this.props.premiereCSType,premiereDisabledReason:this.props.premiereDisabledReason,publishingType:this.props.publishingType,shouldPremiere:this.props.shouldPremiere,showPremiereAudience:this.props.showPremiereAudience,onTogglePublishingType:this.props.onTogglePublishingType,onUpdatePremiereAudience:this.props.onUpdatePremiereAudience});a=this.props.showPremiereOption?i.jsx(b("VideoComposerPremiereOption.react"),{videoComposerID:this.props.videoComposerID,disabled:c||!!this.props.premiereDisabledReason,disabledTooltip:e,label:h._("Premiere"),premiereAudience:this.props.premiereAudience,premiereDate:this.props.premiereDate,premiereFeedBackgroundImageURL:this.props.premiereFeedBackgroundImageURL,publishingType:this.props.publishingType,showPremiereAudience:this.props.showPremiereAudience,testDataID:"VIDEO_COMPOSER_PREMIERE_PUBLISHING_OPTION",onSetPremiereDate:this.props.onSetPremiereDate,onSetPremiereFeedBackgroundImage:this.props.onSetPremiereFeedBackgroundImage,onTogglePublishingType:this.props.onTogglePublishingType,onUpdatePremiereAudience:this.props.onUpdatePremiereAudience}):null;d=i.jsx(b("VideoComposerScheduleOption.react"),{videoComposerID:this.props.videoComposerID,expireDate:this.props.expireDate,expireType:this.props.expireType,label:h._("Schedule"),premiereAudience:this.props.premiereAudience,premiereDate:this.props.premiereDate,premiereFeedBackgroundImageURL:this.props.premiereFeedBackgroundImageURL,publishingType:this.props.publishingType,scheduleDate:this.props.scheduleDate,shouldPremiere:this.props.shouldPremiere,showPremiereAudience:this.props.showPremiereAudience,onEditExpiration:this.props.onEditExpiration,onEditScheduledTime:this.props.onEditScheduledTime,onSetPremiereDate:this.props.onSetPremiereDate,onTogglePublishingType:this.props.onTogglePublishingType,onUpdatePremiereAudience:this.props.onUpdatePremiereAudience,onUpdateShouldPremiere:this.props.onUpdateShouldPremiere});c=i.jsx(b("VideoComposerSaveAsDraftOption.react"),{label:h._("Save as Draft"),publishingType:this.props.publishingType,onTogglePublishingType:this.props.onTogglePublishingType});e=b("gkx")("831159")?i.jsx(b("VideoComposerPublishForDogfoodingOption.react"),{label:h._("Publish for Dogfooding"),publishingType:this.props.publishingType,onTogglePublishingType:this.props.onTogglePublishingType}):null;var r=this.props.isSeriesDogfooded&&this.props.isSeasonDogfooded?j:l,s=this.props.isSeriesDogfooded&&this.props.isSeasonDogfooded?k:m;r=b("gkx")("831159")&&(this.props.isSeriesDogfooded||this.props.isSeasonDogfooded)?i.jsx(b("VideoComposerDogfoodingWithSeriesOrSeasonOption.react"),{label:r,publishingType:this.props.publishingType,onTogglePublishingType:this.props.onTogglePublishingType,tooltip:s}):null;return i.jsxs(b("XUICard.react"),{className:"_6lr9",children:[g,r,f,a,d,c,e]})};return c}(i.Component);e.exports=c}),null);
__d("VideoComposerShowsComposerPublishingTypeSection.react",["fbt","React","VideoComposerActions","VideoComposerField.react","VideoComposerShowsComposerPublishingTypeCard.react","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a,c){b("VideoComposerActions").editExpiration(d.props.videoComposerID,a,c)},d.$2=function(a){b("VideoComposerActions").editScheduledTime(d.props.videoComposerID,a)},d.$3=function(a){b("VideoComposerActions").setBackdateHideFromNewsFeed(d.props.videoComposerID,a)},d.$4=function(a){b("VideoComposerActions").setPremiereDate(d.props.videoComposerID,a)},d.$5=function(a){b("VideoComposerActions").setPremiereFeedBackgroundImage(d.props.videoComposerID,a)},d.$6=function(){b("VideoComposerActions").togglePremiereWithShowOrSeason(d.props.videoComposerID)},d.$7=function(a){b("VideoComposerActions").setPublishingType(d.props.videoComposerID,a)},d.$8=function(a){b("VideoComposerActions").updatePremiereAudience(d.props.videoComposerID,a)},d.$9=function(a){b("VideoComposerActions").updateShouldPremiere(d.props.videoComposerID,a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=h.jsx(b("VideoComposerShowsComposerPublishingTypeCard.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID},this.props.videoPublishingData,{isSeasonDraft:this.props.isSeasonDraft,isShowDraft:this.props.isShowDraft,isSeriesDogfooded:this.props.isSeriesDogfooded,isSeasonDogfooded:this.props.isSeasonDogfooded,onBackdateChange:b("emptyFunction"),onEditExpiration:this.$1,onEditScheduledTime:this.$2,onHideFromNewsFeedBackdateToggle:this.$3,onSetPremiereDate:this.$4,onSetPremiereFeedBackgroundImage:this.$5,onTogglePremiereWithShowOrSeason:this.$6,onTogglePublishingType:this.$7,onUpdatePremiereAudience:this.$8,onUpdateShouldPremiere:this.$9}));return h.jsx("div",{children:h.jsx(b("VideoComposerField.react"),{input:a,showTopBorder:!1,title:g._("Choose how to publish your post")})})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerPublishingTypeSectionContainer.react",["FluxContainer","React","VideoComposerPublishingTypeSection.react","VideoComposerShowsComposerPublishingTypeSection.react","VideoComposerStores","VideoComposerUtils","getVideoPublishingDataFromStores"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){var c;return[(c=b("VideoComposerStores")).getBasicStore(a.videoComposerID),c.getMetadataStore(a.videoComposerID),c.getPremiereStore(a.videoComposerID),c.getPublishingStore(a.videoComposerID),c.getDistributionStore(a.videoComposerID)]};c.calculateState=function(a,c){var d=b("getVideoPublishingDataFromStores")(c.videoComposerID,(a=b("VideoComposerStores")).getBasicStore(c.videoComposerID),a.getMetadataStore(c.videoComposerID),a.getPremiereStore(c.videoComposerID),a.getPublishingStore(c.videoComposerID));a=a.getDistributionStore(c.videoComposerID).getState();c=a.isShowDraft;var e=a.isSeasonDraft,f=a.isSeriesDogfooded;a=a.isSeasonDogfooded;return{videoPublishingData:d,isShowDraft:c,isSeasonDraft:e,isSeriesDogfooded:f,isSeasonDogfooded:a}};var d=c.prototype;d.render=function(){var a=b("VideoComposerStores").getMetadataStore(this.props.videoComposerID).getState();a=a.composerEntryPointRef;return b("VideoComposerUtils").isFromCreatorStudioShowsPanel(a)?g.jsx(b("VideoComposerShowsComposerPublishingTypeSection.react"),{videoComposerID:this.props.videoComposerID,videoPublishingData:this.state.videoPublishingData,isShowDraft:this.state.isShowDraft,isSeasonDraft:this.state.isSeasonDraft,isSeriesDogfooded:this.state.isSeriesDogfooded,isSeasonDogfooded:this.state.isSeasonDogfooded}):g.jsx(b("VideoComposerPublishingTypeSection.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID},this.state.videoPublishingData,{isShowDraft:this.state.isShowDraft,isSeasonDraft:this.state.isSeasonDraft}))};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerRootContainer.react",["CurrentUser","FluxContainer","React","VideoComposerDialogConstants","VideoComposerDialogUtils","VideoComposerRoot.react","VideoComposerStores","VideoComposerUtils","WebFunnelLogger","gkx"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){var c;return[(c=b("VideoComposerStores")).getLoggingStore(a.videoComposerID),c.getMetadataStore(a.videoComposerID),c.getPremiereStore(a.videoComposerID),c.getPublishingStore(a.videoComposerID),c.getUIStore(a.videoComposerID)]};c.calculateState=function(a,c){var d=(a=b("VideoComposerStores")).getAdBreakStore(c.videoComposerID).getState();d=d.adBreaksDisabled;var e=a.getUIStore(c.videoComposerID).getState(),f=e.composerShown,g=e.publishDrawerShown;e=e.showExitConfirmDialog;var h=a.getMetadataStore(c.videoComposerID).getState(),i=h.composerEntryPointRef,j=h.dialogMode,k=h.isVideoShowPage,l=h.showAddToSeriesNux,m=h.showVideoType,n=h.title,o=h.actorID,p=h.isEditModeUpgrade;h=h.enabledTabs;var q=a.getPublishingStore(c.videoComposerID).getState(),r=q.canDraft,s=q.saveVideosInPagesComposer;q=q.uploadErrorData;var t=a.getLoggingStore(c.videoComposerID).getState();t=t.videoAssetWaterfallSource;a=a.getPremiereStore(c.videoComposerID).getState();c=a.shouldPremiere;a=!b("VideoComposerUtils").isTrayBasedComposer(i);n=!n||!n.trim()||b("VideoComposerDialogUtils").byteLength(n.trim())>b("VideoComposerDialogConstants").MAX_TITLE_LENGTH||q!==null||k&&m===null||s;return{composerEntryPointRef:i,dialogMode:j,isPremiere:c,isEditModeUpgrade:p,publishDrawerShown:g,showAddToSeriesNux:l&&i!=="cs_ab_testing_video_upload",showDialogHeader:a,showExitConfirmDialog:e,showSaveDraftButton:!n&&r,showVideoType:m,shown:f,videoAssetWaterfallSource:t,actorID:o,adBreaksDisabled:d,enabledTabs:h}};var d=c.prototype;d.componentDidMount=function(){if(b("gkx")("1157336")&&this.state.actorID!==null){var a=!1;a=this.state.enabledTabs.some(function(a){return a==="ad_breaks"});new(b("WebFunnelLogger"))("AdBreaksCreatorFunnelDefinition").setAction("VISIT_VIDEO_COMPOSER").setSessionKey(b("CurrentUser").getAccountID()).addActionPayload("composerEntryPointRef",this.state.composerEntryPointRef).addFunnelPayload("page_id",this.state.actorID).addActionPayload("adBreaksDisabled",!a).markStart().log()}};d.render=function(){return g.jsx(b("VideoComposerRoot.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID},this.state))};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerPublishNowRedesignOption.react",["cx","React","VideoComposerScheduleType","VideosPublishingCheckboxItem.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("VideoComposerScheduleType").VideoComposerScheduleTypes;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.onToggleScheduleType(i.PUBLISH_NOW)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return h.jsx("div",{className:"_70oc","data-testid":void 0,children:h.jsx(b("VideosPublishingCheckboxItem.react"),{checked:this.props.isSelected,disabled:this.props.disabled,disabledTooltip:this.props.disabledTooltip!==null?this.props.disabledTooltip:void 0,label:this.props.label,tooltip:this.props.tooltip,onToggle:this.$1})})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerScheduleTypeCard.react",["cx","fbt","React","VideoComposerBackdateOption.react","VideoComposerPublishingUtils","VideoComposerPublishNowRedesignOption.react","VideoComposerScheduleOption.react","VideoComposerScheduleType","XUICard.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("VideoComposerScheduleType").VideoComposerScheduleTypes;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.isFundedContent,d=a.backdateDay,e=a.backdateMonth,f=a.backdateYear,g=a.hasFundedContentReviews,k=a.hideFromNewsFeed,l=a.onHideFromNewsFeedBackdateToggle,m=a.onBackdateChange,n=a.minBackdateTime,o=a.scheduleType,p=a.onToggleScheduleType,q=a.disabledScheduleTypesMap,r=a.showBackdateOption;a=babelHelpers.objectWithoutPropertiesLoose(a,["isFundedContent","backdateDay","backdateMonth","backdateYear","hasFundedContentReviews","hideFromNewsFeed","onHideFromNewsFeedBackdateToggle","onBackdateChange","minBackdateTime","scheduleType","onToggleScheduleType","disabledScheduleTypesMap","showBackdateOption"]);var s=c?b("VideoComposerPublishingUtils").fundedContentAllowedActionTypeTooltipText:null;a=i.jsx(b("VideoComposerScheduleOption.react"),babelHelpers["extends"]({},a,{isComposerPostScheduleRedesign:!0,disabled:q[j.SCHEDULE],label:h._("Schedule"),publishingType:o,onTogglePublishingType:p}));r=r?i.jsx(b("VideoComposerBackdateOption.react"),{disabled:c||q[j.BACKDATE],disabledTooltip:s,label:h._("Backdate"),publishingType:o,minBackdateTime:n,backdateDay:d,backdateMonth:e,backdateYear:f,hideFromNewsFeed:k,onBackdateChange:m,onHideFromNewsFeedBackdateToggle:l,onTogglePublishingType:p}):null;n=i.jsx(b("VideoComposerPublishNowRedesignOption.react"),{label:h._("Publish now"),disabled:q[j.PUBLISH_NOW]||c&&g===!0,disabledTooltip:s,isSelected:o===j.PUBLISH_NOW,scheduleType:o,onToggleScheduleType:p});return i.jsxs(b("XUICard.react"),{className:"_6lr9",children:[n,a,r]})};return c}(i.PureComponent);e.exports=a}),null);
__d("VideoComposerScheduleSection.react",["fbt","React","VideoComposerActions","VideoComposerField.react","VideoComposerScheduleTypeCard.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){b("VideoComposerActions").setBackdateDate(d.props.videoComposerID,a)},d.$2=function(a,c){b("VideoComposerActions").editExpiration(d.props.videoComposerID,a,c)},d.$3=function(a){b("VideoComposerActions").editScheduledTime(d.props.videoComposerID,a)},d.$4=function(a){b("VideoComposerActions").setBackdateHideFromNewsFeed(d.props.videoComposerID,a)},d.$5=function(a){b("VideoComposerActions").setPremiereDate(d.props.videoComposerID,a)},d.$6=function(a){b("VideoComposerActions").setScheduleType(d.props.videoComposerID,a)},d.$7=function(a){b("VideoComposerActions").updateShouldPremiere(d.props.videoComposerID,a)},d.$8=function(a){b("VideoComposerActions").updatePremiereAudience(d.props.videoComposerID,a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=h.jsx(b("VideoComposerScheduleTypeCard.react"),{videoComposerID:this.props.videoComposerID,backdateDay:this.props.backdateDay,backdateMonth:this.props.backdateMonth,backdateYear:this.props.backdateYear,disabledScheduleTypesMap:this.props.disabledScheduleTypesMap,expireType:this.props.expireType,expireDate:this.props.expireDate,hideFromNewsFeed:this.props.hideFromNewsFeed,isFundedContent:this.props.isFundedContent,hasFundedContentReviews:this.props.hasFundedContentReviews,minBackdateTime:this.props.minBackdateTime,postType:this.props.postType,premiereDate:this.props.premiereDate,premiereFeedBackgroundImageURL:this.props.premiereFeedBackgroundImageURL,scheduleType:this.props.scheduleType,scheduleDate:this.props.scheduleDate,shouldPremiere:this.props.shouldPremiere,showBackdateOption:this.props.showBackdateOption,showPremiereAudience:this.props.showPremiereAudience,premiereAudience:this.props.premiereAudience,onBackdateChange:this.$1,onEditExpiration:this.$2,onEditScheduledTime:this.$3,onHideFromNewsFeedBackdateToggle:this.$4,onSetPremiereDate:this.$5,onToggleScheduleType:this.$6,onUpdateShouldPremiere:this.$7,onUpdatePremiereAudience:this.$8});return h.jsx("div",{children:h.jsx(b("VideoComposerField.react"),{input:a,title:g._("Schedule")})})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerScheduleSectionContainer.react",["FluxContainer","React","VideoComposerScheduleSection.react","VideoComposerStores","getVideoPublishingDataFromStores"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){var c;return[(c=b("VideoComposerStores")).getBasicStore(a.videoComposerID),c.getMetadataStore(a.videoComposerID),c.getPremiereStore(a.videoComposerID),c.getPublishingStore(a.videoComposerID)]};c.calculateState=function(a,c){return{videoPublishingData:b("getVideoPublishingDataFromStores")(c.videoComposerID,(a=b("VideoComposerStores")).getBasicStore(c.videoComposerID),a.getMetadataStore(c.videoComposerID),a.getPremiereStore(c.videoComposerID),a.getPublishingStore(c.videoComposerID))}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerScheduleSection.react"),babelHelpers["extends"]({},this.state.videoPublishingData,{videoComposerID:this.props.videoComposerID}))};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerStepperContainer.react",["FluxContainer","React","VideoComposerStepper.react","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getPublishingStore(a.videoComposerID),b("VideoComposerStores").getUIStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getUIStore(c.videoComposerID).getState();a=a.publishDrawerShown;c=b("VideoComposerStores").getPublishingStore(c.videoComposerID).getState();var d=c.isPosting;c=c.isPostPending;d=d||c;return{isPublishing:d,publishDrawerShown:a}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerStepper.react"),{isPublishing:this.state.isPublishing,addPaddingTop:this.props.addPaddingTop,publishDrawerShown:this.state.publishDrawerShown,videoComposerID:this.props.videoComposerID})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerTabSectionContainer.react",["FluxContainer","React","VideoComposerStores","VideoComposerTabSection.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getUIStore(a.videoComposerID),b("VideoComposerStores").getMetadataStore(a.videoComposerID)]};c.calculateState=function(a,c){b("VideoComposerStores").getUIStore(c.videoComposerID).getState();a=b("VideoComposerStores").getMetadataStore(c.videoComposerID).getState();c=a.enabledTabs;return{enabledTabs:c}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerTabSection.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID},this.state))};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerTitleSection.react",["ix","cx","fbt","AbstractTextInput.react","FDSText.react","FlexLayout.react","Image.react","Keys","React","VideoComposerActions","XUIContextualDialog.react","XUIContextualDialogBody.react","XUIContextualDialogFooter.react","XUIContextualDialogTitle.react","XUIDialogCloseButton.react","asset","cxMargin","setTimeout"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=null,d.$3=function(){return d.$1},d.$4=function(a){return d.$1=a},d.$5=function(a){return d.$2=a},d.$6=function(a){b("VideoComposerActions").updateTitle(d.props.videoComposerID,a.target.value)},d.$7=function(a){a.keyCode===b("Keys").RETURN&&(d.$2&&d.$2.blurInput())},d.$8=function(){b("VideoComposerActions").closeTitleTooltip(d.props.videoComposerID)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this;b("setTimeout")(function(){return a.forceUpdate()},500);var c=this.$2,d=this.props.title!=="";c&&c!==null&&b("setTimeout")(function(){d?c.blurInput():c.focusInput()})};d.UNSAFE_componentWillReceiveProps=function(a){var b=this.$2;b&&this.props.videoDuration!==a.videoDuration&&b.focusInput()};d.render=function(){var a=this.props.isInsideBasicTab?j.jsxs("div",{className:"_6r01",children:[j.jsx(b("Image.react"),{src:g("653210")}),j.jsx(b("FDSText.react"),{margin:"_3-9a",size:"header4",weight:"bold",children:i._("Title")})]}):null,c=j.jsx(b("AbstractTextInput.react"),{className:"_6r02"+(this.props.highlightTitleField?" _6r03":""),"data-testid":"VIDEO_TITLE_BAR_TEXT_INPUT",ref:this.$5,placeholder:this.props.placeholder||i._("Add a title for your video here..."),onChange:this.$6,value:this.props.title,onKeyUp:this.$7,disabled:this.props.isTitleFieldDisabled});return j.jsxs(b("FlexLayout.react"),{direction:"horizontal",justify:"all",align:"center",className:"_6r04"+(this.props.isInsideBasicTab?" _6r05":"")+(this.props.isInsideBasicTab?"":" _6r06"),children:[j.jsxs("div",{ref:this.$4,"data-testid":"VIDEO_TITLE_BAR",className:"_6r07",children:[a,c]}),j.jsxs(b("XUIContextualDialog.react"),{label:"missing title warning",autoFocus:!1,shown:this.props.showTitleTooltip,contextRef:this.$3,position:"below",alignment:"left",width:b("XUIContextualDialog.react").WIDTH.NORMAL,children:[j.jsx(b("XUIContextualDialogTitle.react"),{children:this.props.titleTooltipCaption}),j.jsx(b("XUIContextualDialogBody.react"),{children:this.props.titleTooltipText}),j.jsx(b("XUIContextualDialogFooter.react"),{children:j.jsx(b("XUIDialogCloseButton.react"),{onClick:this.$8})})]})]})};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerTitleSectionContainer.react",["fbt","FluxContainer","React","VideoComposerStores","VideoComposerTitleSection.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getUIStore(a.videoComposerID),b("VideoComposerStores").getMetadataStore(a.videoComposerID),b("VideoComposerStores").getPublishingStore(a.videoComposerID)]};c.calculateState=function(a,c){(a=b("VideoComposerStores")).getUIStore(c.videoComposerID).getState();var d=a.getPublishingStore(c.videoComposerID).getState(),e=d.isPosting;d=d.isPostPending;var f=a.getMetadataStore(c.videoComposerID).getState(),h=f.highlightTitleField,i=f.showTitleTooltip,j=f.titleTooltipCaption,k=f.titleTooltipText,l=f.videoDuration,m=f.composerEntryPointRef;f=f.isDogfooded;a=a.getMetadataStore(c.videoComposerID).getState();c=a.title;f&&c&&(c=c.replace("[FB-Only] ",""));return{highlightTitleField:h,showTitleTooltip:i,titleTooltipCaption:j,titleTooltipText:k,title:c,isTitleFieldDisabled:e||d,videoDuration:l?l:0,placeholder:m==="cs_content_show_trailer_upload"?g._("Add a title for your trailer..."):m==="cs_content_show_episode_upload"?g._("Add a title for your episode..."):null,isDogfooded:f}};var d=c.prototype;d.render=function(){return h.jsx(b("VideoComposerTitleSection.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID},this.state,this.props))};return c}(h.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("UploadProgressPillGeneric.react",["ix","cx","fbt","FlexLayout.react","Image.react","InlineBlock.react","React","ShimButton.react","asset","fbglyph","formatNumber"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.isComplete,d=a.hasError,e=a.uploadPercent,f=a.onToggleFunc;a=a.hideTriangle;var h=d?j.jsx(b("Image.react"),{src:g("118806")}):c?j.jsx(b("Image.react"),{src:g("407719")}):j.jsx(b("Image.react"),{src:g("360748")});a=Boolean(a)?null:d?j.jsx(b("Image.react"),{src:g("412694")}):c?j.jsx(b("Image.react"),{src:g("364972")}):j.jsx(b("Image.react"),{src:g("379681")});var k=e===100?0:1;return j.jsxs(b("ShimButton.react"),{onClick:f,className:"_6eqo","data-testid":void 0,children:[j.jsx("div",{style:{width:e+"%"},className:"_6eqp"+(c?" _6eqq":"")+(d?" _6eqr":"")}),j.jsx("div",{className:"_6eqs"+(d?" _6eqt":"")}),j.jsxs(b("FlexLayout.react"),{justify:"all",align:"center",className:"_6equ"+(c?" _6eqv":"")+(d?" _6eqw":""),children:[j.jsxs(b("FlexLayout.react"),{align:"center",children:[h,j.jsx(b("InlineBlock.react"),{className:"_6eqx",children:i._("{percentage}",[i._param("percentage",b("formatNumber")(e,k)+"%")])})]}),a]}),this.props.children]})};return c}(j.Component);e.exports=a}),null);
__d("videoComposerDialogUploadRenderUploadErrorMessage",["fbt","FlexLayout.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(){var a=g._("Network error"),c=g._("Your video could not be uploaded due to an issue with your Internet connection. Please try again.");return h.jsxs(b("FlexLayout.react"),{direction:"vertical",align:"start",children:[h.jsx("div",{children:a}),h.jsx("div",{children:c})]})}e.exports=a}),null);
__d("VideoComposerUploadPopover.react",["ix","cx","fbt","DurationFormatter","FlexLayout.react","Image.react","Link.react","React","asset","cxMargin","formatNumber","videoComposerDialogUploadRenderUploadErrorMessage"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=1e6;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.videoSize/k,c=this.props.uploadPercent/100*a,d=this.props.errorData?j.jsx("div",{className:"_6eoy",children:b("videoComposerDialogUploadRenderUploadErrorMessage")()}):null;return j.jsxs("div",{children:[j.jsxs(b("FlexLayout.react"),{className:"_6eoz",align:"center",justify:"all",children:[j.jsxs(b("FlexLayout.react"),{className:"_6eo-",children:[j.jsx(b("Image.react"),{className:"_3-8_",src:g("431724")}),j.jsx("div",{className:"_6eo_",children:this.props.fileName})]}),j.jsx(b("Link.react"),{href:"#",onClick:this.props.onCloseButtonClick,children:j.jsx(b("Image.react"),{className:"_3-8w",src:g("368785")})})]}),j.jsxs(b("FlexLayout.react"),{direction:"vertical",className:"_6ep0",children:[d,i._("{percentage}\u0025 uploaded ({uploaded amount} MB\/{file size} MB)",[i._param("percentage",b("formatNumber")(this.props.uploadPercent)),i._param("uploaded amount",b("formatNumber")(c,1)),i._param("file size",b("formatNumber")(a,1))]),j.jsx("div",{className:"_3-8m",children:i._("Duration: {duration}",[i._param("duration",b("DurationFormatter").formatShort(Math.round(this.props.videoDuration)))])}),i._("Dimensions: {width} x {height}",[i._param("width",this.props.videoWidth),i._param("height",this.props.videoHeight)])]}),j.jsx("div",{className:"_2pim"})]})};return c}(j.Component);e.exports=a}),null);
__d("videoComposerDialogUploadGetPercentDisplayed",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a>=100&&!b?99.9:b?100:a}e.exports=a}),null);
__d("VideoComposerUploaderPill.react",["fbt","LayerHideOnBlur","LayerHideOnEscape","React","UploadProgressPillGeneric.react","VideoComposerUploadPopover.react","XUIContextualDialog.react","videoComposerDialogUploadGetPercentDisplayed"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=260;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={showPopover:!1},c.$1=function(){c.setState({showPopover:!c.state.showPopover})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){this.props.errorData===null&&a.errorData?this.setState({showPopover:!0}):this.props.errorData!==null&&a.errorData===null&&this.setState({showPopover:!1})};d.renderLayers=function(a){var c=this;return!this.state.showPopover?null:h.jsx(b("XUIContextualDialog.react"),{behaviors:{LayerHideOnEscape:b("LayerHideOnEscape"),LayerHideOnBlur:b("LayerHideOnBlur")},contextRef:function(){return c.refs.uploaderPill},shown:this.state.showPopover,alignment:this.props.alignment,position:this.props.position,onToggle:this.$1,label:g._("metadata"),width:i,children:h.jsx(b("VideoComposerUploadPopover.react"),{errorData:this.props.errorData,fileName:this.props.fileName,onCloseButtonClick:this.$1,uploadPercent:a,videoDuration:this.props.videoDuration,videoWidth:this.props.videoWidth,videoHeight:this.props.videoHeight,videoSize:this.props.videoSize})})};d.render=function(){var a=this.props.uploadFinished;a=b("videoComposerDialogUploadGetPercentDisplayed")(this.props.uploadPercent,a);return h.jsx(b("UploadProgressPillGeneric.react"),{ref:"uploaderPill",hasError:this.props.errorData!==null,isComplete:this.props.uploadFinished,uploadPercent:a,onToggleFunc:this.$1,children:this.renderLayers(a)})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerUploaderPillContainer.react",["Env","FluxContainer","React","VideoComposerStores","VideoComposerUploaderPill.react","VideoComposerUtils"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getPublishingStore(a.videoComposerID),b("VideoComposerStores").getUploadStore(a.videoComposerID),b("VideoComposerStores").getMetadataStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getPublishingStore(c.videoComposerID).getState();a=a.uploadErrorData;var d=b("VideoComposerStores").getUploadStore(c.videoComposerID).getState(),e=d.videoSize,f=d.videoFile,h=d.uploadProgress;d=d.uploadFinished;c=b("VideoComposerStores").getMetadataStore(c.videoComposerID);var i=c.getState(),j=i.videoWidth,k=i.videoHeight;i=i.composerEntryPointRef;c=c.getVideoPreviewTimeData();c=c.videoDuration;i=b("VideoComposerUtils").isTrayBasedComposer(i);var l=i||(g||(g=b("Env"))).isCQuick?"above":"below";i=i||(g||(g=b("Env"))).isCQuick?"left":"right";return{uploadErrorData:a,fileName:f?f.name:"",uploadFinished:d,uploadPercent:h,videoDuration:c?c:0,videoSize:e?e:0,videoWidth:j?j:0,videoHeight:k?k:0,position:l,alignment:i}};var d=c.prototype;d.render=function(){return h.jsx(b("VideoComposerUploaderPill.react"),{errorData:this.state.uploadErrorData,fileName:this.state.fileName,uploadFinished:this.state.uploadFinished,uploadPercent:this.state.uploadPercent,videoDuration:this.state.videoDuration,videoWidth:this.state.videoWidth,videoHeight:this.state.videoHeight,videoSize:this.state.videoSize,position:this.state.position,alignment:this.state.alignment})};return c}(h.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerThumbnailActions",["VideoComposerActionTypes","VideoComposerDispatchers"],(function(a,b,c,d,e,f){"use strict";a=function(a,c){c={type:b("VideoComposerActionTypes").BOOTLOAD_CROSSPOST_THUMBNAILS,data:c};b("VideoComposerDispatchers").get(a).dispatch(c)};c=function(a,c){c={type:b("VideoComposerActionTypes").BOOTLOAD_THUMBNAILS_FOR_EDIT,data:c};b("VideoComposerDispatchers").get(a).dispatch(c)};d=function(a,c){c={type:b("VideoComposerActionTypes").GENERATED_THUMBNAILS,data:c};b("VideoComposerDispatchers").get(a).dispatch(c)};f=function(a){var c={type:b("VideoComposerActionTypes").GENERATED_THUMBNAILS_FAILED};b("VideoComposerDispatchers").get(a).dispatch(c)};var g=function(a){var c={type:b("VideoComposerActionTypes").GENERATED_THUMBNAILS_STARTED};b("VideoComposerDispatchers").get(a).dispatch(c)},h=function(a){var c={type:b("VideoComposerActionTypes").THUMBNAIL_PREVIEW_HIDE};b("VideoComposerDispatchers").get(a).dispatch(c)},i=function(a){var c={type:b("VideoComposerActionTypes").THUMBNAIL_EDITOR_OPEN};b("VideoComposerDispatchers").get(a).dispatch(c)},j=function(a){var c={type:b("VideoComposerActionTypes").THUMBNAIL_EDITOR_CANCEL};b("VideoComposerDispatchers").get(a).dispatch(c)},k=function(a){var c={type:b("VideoComposerActionTypes").THUMBNAIL_EDITOR_SAVE};b("VideoComposerDispatchers").get(a).dispatch(c)},l=function(a,c){c={type:b("VideoComposerActionTypes").SELECT_SECTION,section:c};b("VideoComposerDispatchers").get(a).dispatch(c)},m=function(a,c){c={type:b("VideoComposerActionTypes").TOGGLE_SELECTED_GENERATED_THUMBNAIL,index:c};b("VideoComposerDispatchers").get(a).dispatch(c)},n=function(a,c){c={type:b("VideoComposerActionTypes").UPDATE_CUSTOM_THUMBNAIL,thumbnail:c};b("VideoComposerDispatchers").get(a).dispatch(c)},o=function(a,c){c={type:b("VideoComposerActionTypes").UPDATE_SCRUBBED_THUMBNAIL,thumbnail:c};b("VideoComposerDispatchers").get(a).dispatch(c)},p=function(a,c){c={type:b("VideoComposerActionTypes").UPDATE_SELECTED_THUMBNAIL,thumbnail:c};b("VideoComposerDispatchers").get(a).dispatch(c)};e.exports={bootloadCrosspostThumbnails:a,bootloadThumbnailsForEdit:c,cancelThumbnailEditor:j,generatedThumbnails:d,generatedThumbnailsFailed:f,generatedThumbnailsStarted:g,hideThumbnailPreview:h,openThumbnailEditor:i,saveThumbnailEditor:k,selectThumbnailSection:l,toggleSelectedGeneratedThumbnail:m,updateCustomThumbnail:n,updateScrubbedThumbnail:o,updateSelectedThumbnail:p}}),null);
__d("VideoComposerThumbnailButton.react",["cx","fbt","FDSButton.react","React","VideoComposerThumbnailActions","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("nullthrows")(d.props.videoPreviewController).pause(),b("VideoComposerThumbnailActions").openThumbnailEditor(d.props.videoComposerID)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return i.jsx("div",{className:"_6ep2",children:i.jsx(b("FDSButton.react"),{label:h._("Change Thumbnail"),size:"large",use:"default",onClick:this.$1})})};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerVideoPlayerContainer.react",["cx","BackgroundImage.react","FluxContainer","Image.react","React","ShimButton.react","VideoComposerBasicActions","VideoComposerStores","VideoComposerThumbnailActions","VideoComposerThumbnailButton.react","VideoComposerVideoEditorToolTypes","VideoComposerVideoPlayer.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("VideoComposerVideoEditorToolTypes").VideoComposerVideoEditorTools;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("VideoComposerThumbnailActions").hideThumbnailPreview(d.props.videoComposerID),d.$2()},d.$2=function(){var a=d.state.videoPreviewController;a!==null&&a!==void 0&&(a.getState()==="playing"?(a.pause("user_initiated"),b("VideoComposerBasicActions").setIsVideoPreviewPaused(d.props.videoComposerID,!0)):(a.play("user_initiated"),b("VideoComposerBasicActions").setIsVideoPreviewPaused(d.props.videoComposerID,!1)))},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(a){var c;return[(c=b("VideoComposerStores")).getBasicStore(a.videoComposerID),c.getUploadStore(a.videoComposerID),c.getMetadataStore(a.videoComposerID),c.getThumbnailsStore(a.videoComposerID),c.getTrimmingEditorStore(a.videoComposerID)]};c.calculateState=function(a,c){var d=(a=b("VideoComposerStores")).getUploadStore(c.videoComposerID).getState();d=d.videoData;var e=a.getMetadataStore(c.videoComposerID).getState(),f=e.dialogMode,g=e.videoDataForID;e=e.videoDuration;var h=a.getBasicStore(c.videoComposerID).getState(),i=h.showVideoDetailsLanguageSelector,j=h.showSoundEditor,k=h.showTrimmingEditor,l=h.videoPreviewController;h=h.isVideoPreviewPaused;a=a.getThumbnailsStore(c.videoComposerID).getState();var m=a.backgroundSize,n=a.improvedThumbnailSelection,o=a.selectedThumbnail,p=a.showThumbnailPreview;a=a.videoMetadataUnavailable;g=f==="video_upload"?d:g;f==="video_edit"&&d!=null&&(g=d);f=b("VideoComposerStores").getTrimmingEditorStore(c.videoComposerID).getState();d=f.endTime;c=f.startTime;return{backgroundSize:m,endTime:d||e||0,improvedThumbnailSelection:n,selectedThumbnail:o,showLanguageSelectorOverlay:i,showSoundEditor:j,showTrimmingEditor:k,showThumbnailPreview:p,startTime:c||0,videoData:g,videoMetadataUnavailable:a,videoPreviewController:l,isVideoPreviewPaused:h}};var d=c.prototype;d.render=function(){var a=this.state.videoData,c=this.state.selectedThumbnail?this.state.selectedThumbnail.getURL():null,d=[];!!this.props.enableTrimmingEditor&&this.state.showTrimmingEditor&&d.push(i.TRIM);!!this.props.enableSoundEditor&&this.state.showSoundEditor&&d.push(i.SOUND);c=h.jsx(b("BackgroundImage.react"),{src:c,height:this.props.height,width:this.props.width,backgroundSize:this.state.backgroundSize,className:"_6eo3"});var e=h.jsxs(b("ShimButton.react"),{className:"_6eo2",onClick:this.$1,role:"button",children:[c,h.jsx(b("Image.react"),{className:"_6eo4"})]}),f=null;d.length>0&&(f=h.jsx(b("ShimButton.react"),{className:"_7djq",onClick:this.$1,role:"button",style:{width:this.props.width,height:this.props.height},children:h.jsx(b("Image.react"),{className:"_6eo4"})}),e=h.jsx("div",{className:"_6eo2",children:c}));return a?h.jsxs("div",{className:"_6eo1",children:[this.state.showThumbnailPreview&&((c=this.props.enableThumbnailPreview)!=null?c:!0)?e:null,h.jsx(b("VideoComposerVideoPlayer.react"),{videoComposerID:this.props.videoComposerID,height:this.props.height,width:this.props.width,startTime:this.state.startTime,endTime:this.state.endTime,videoData:a,videoMetadataUnavailable:this.state.videoMetadataUnavailable,videoEditorTools:d,onVideoClick:this.$2,showLanguageSelectorOverlay:this.state.showLanguageSelectorOverlay}),this.state.showThumbnailPreview||this.state.isVideoPreviewPaused?f:null,this.state.improvedThumbnailSelection&&this.props.showThumbnailButton?h.jsx("div",{children:h.jsx(b("VideoComposerThumbnailButton.react"),{videoComposerID:this.props.videoComposerID,videoPreviewController:this.state.videoPreviewController})}):null]}):null};return c}(h.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerWrapperContainer.react",["fbt","FluxContainer","React","Run","VideoComposerActions","VideoComposerStores","VideoComposerWrapper.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=null,c.$2=null,c.$3=null,b)||babelHelpers.assertThisInitialized(c)}c.getStores=function(a){return[b("VideoComposerStores").getMetadataStore(a.videoComposerID),b("VideoComposerStores").getUIStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getUIStore(c.videoComposerID).getState();var d=a.composerShown,e=a.primaryActionErrorDialogShown;a=a.primaryActionErrorMessage;c=b("VideoComposerStores").getMetadataStore(c.videoComposerID).getState();c=c.dialogMode;return{dialogMode:c,composerShown:d,primaryActionErrorDialogShown:e,primaryActionErrorMessage:a}};var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1=b("Run").onBeforeUnload(function(){return!a.state.composerShown?void 0:g._("Changes that you've made may not be saved.")});this.$2=b("Run").onLeave(function(){b("VideoComposerActions").navigatedFromPage(a.props.videoComposerID)});this.$3=b("Run").onUnload(function(){b("VideoComposerActions").navigatedFromPage(a.props.videoComposerID)})};d.componentWillUnmount=function(){this.$1&&this.$1.remove(),this.$2&&this.$2.remove(),this.$3&&this.$3.remove()};d.render=function(){return h.jsx(b("VideoComposerWrapper.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID},this.state))};return c}(h.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerAdBreakOnboardedPageNux.react",["cx","fbt","Link.react","React","SUIBusinessTheme","SUIText.react","VideoComposerAdBreakActions","XAdBreakPageOnboardingMonetizationTabRedirectController","XUINotice.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("VideoComposerAdBreakActions").shouldOnboardedPageNux(d.props.videoComposerID,!1)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props,c=a.enabled;a=a.pageID;if(!c||a==null)return null;c=b("XAdBreakPageOnboardingMonetizationTabRedirectController").getURIBuilder().setFBID("creator_id",""+a.toString()).getURI();return i.jsx("div",{className:"_6epc",children:i.jsxs(b("XUINotice.react"),{use:"success",onDismiss:this.$1,children:[i.jsx(b("SUIText.react"),{display:"block",size:"header3",theme:b("SUIBusinessTheme"),weight:"bold",children:h._("Your videos will start including in-stream ads")}),i.jsx("div",{className:"_6epd",children:i.jsx(b("SUIText.react"),{color:"secondary",display:"block",size:"meta1",theme:b("SUIBusinessTheme"),children:h._("In-stream ads will now be included automatically in all eligible videos for this Page. To stop enabling in-stream ads by default, go to your Page's {monetization}.",[h._param("monetization",i.jsx(b("Link.react"),{href:c,target:"_blank",children:h._("Monetisation settings")}))])})})]})})};return c}(i.Component);e.exports=a}),null);
__d("XAdBreakOnboardingSurfaceRoutingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ad_breaks/get_started/",{page_id:{type:"FBID",required:!0},entrypoint:{type:"Enum",enumType:1},aymt_channel:{type:"String"}})}),null);
__d("XAdBreakPortalUpdatePageEligibilityController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ad_break_portal/update_page_eligibility/",{page_id:{type:"FBID",required:!0},is_enabled:{type:"Bool",defaultValue:!1},business_id:{type:"FBID"},is_page_searched:{type:"Bool",defaultValue:!1},onboarding_entry_point:{type:"Enum",required:!0,enumType:1}})}),null);
__d("VideoComposerAdBreakOnboardingSection.react",["cx","fbt","ix","AdBreakOnboardingEntryPointsImpressionTypedLogger","AdBreakPortalTypedLogger","AdBreaksPixelTrackerConstants","AsyncRequest","Image.react","React","SUIBusinessTheme","SUIButton.react","SUISpinner.react","SUIText.react","VideoComposerAdBreakActions","VideoComposerDialogAdBreakUtils","XAdBreakOnboardingSurfaceRoutingController","XAdBreakPortalUpdatePageEligibilityController","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("AdBreaksPixelTrackerConstants").AdBreaksFbq,k=b("AdBreaksPixelTrackerConstants").AdBreaksPixelId,l=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){var a=d.props,c=a.pageID;a=a.onboardingSurface;if(c==null||a===null)return;b("VideoComposerAdBreakActions").setPageOnboardingPending(d.props.videoComposerID,!0);a=b("XAdBreakPortalUpdatePageEligibilityController").getURIBuilder().setFBID("page_id",c.toString()).setBool("is_enabled",!0).setBool("is_page_searched",!1).setEnum("onboarding_entry_point","composer").getURI();new(b("AsyncRequest"))().setURI(a).setMethod("POST").setHandler(function(a){c&&b("VideoComposerDialogAdBreakUtils").beginBootloadingAdBreaksTab(d.props.videoComposerID,c);a=c!=null?{creator_id:c}:{};j("trackSingleCustom",k,"ad_break_portal_composer",a)}).setErrorHandler(function(a){new(b("AdBreakPortalTypedLogger"))().setAdBreakPortalEventType("error_submit_enable_request").setExceptionMessage(a.getErrorSummary()).log()}).setFinallyHandler(function(){b("VideoComposerAdBreakActions").setPageOnboardingPending(d.props.videoComposerID,!1),b("VideoComposerAdBreakActions").shouldOnboardedPageNux(d.props.videoComposerID,!0)}).send()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){new(b("AdBreakOnboardingEntryPointsImpressionTypedLogger"))().setPageID(this.props.pageID).setEntryPointImpressionsType("composer_entry_point").setBusinessPageImpression(this.props.onboardingSurface==="business_manager").log()};d.render=function(){return l.jsxs("div",{className:"_6es5",children:[l.jsx(b("Image.react"),{className:"_6es6",src:i("83164")}),l.jsxs("div",{className:"_6es7",children:[l.jsx(b("SUIText.react"),{display:"block",size:"header1",theme:b("SUIBusinessTheme"),children:h._("Earn money with in-stream ads")}),l.jsx(b("SUIText.react"),{display:"block",margin:"_3-8z",size:"body1",textAlign:"center",theme:b("SUIBusinessTheme"),children:h._("You're one click away from starting to earn money when people watch your videos.")}),this.props.onboardingSurface==="business_manager"?l.jsx(b("SUIButton.react"),{disabled:this.props.isPageOnboardingPending,height:"tall",label:"Enable",margin:"_3-8z",theme:b("SUIBusinessTheme"),use:"confirm",onClick:this.$1}):l.jsx(b("SUIButton.react"),{height:"tall",href:b("XAdBreakOnboardingSurfaceRoutingController").getURIBuilder().setFBID("page_id",this.props.pageID).setEnum("entrypoint","from_composer").getURI(),label:"Enable",margin:"_3-8z",target:"_blank",theme:b("SUIBusinessTheme"),use:"confirm"}),this.props.isPageOnboardingPending&&l.jsx(b("SUISpinner.react"),{margin:"_3-8z",theme:b("SUIBusinessTheme")})]})]})};return c}(l.Component);e.exports=a}),null);
__d("VideoComposerDialogAdBreakVideoPlayerController",["SubscriptionsHandler","VideoPlayerReasonTransitionHelper","nullthrows","setTimeout"],(function(a,b,c,d,e,f){"use strict";var g=7,h=1;a=function(){function a(){this.$2=null,this.$3=null,this.$4=new(b("SubscriptionsHandler"))(),this.$1=[]}var c=a.prototype;c.updateStartEndTime=function(a,b){this.$5=a,this.$6=b};c.updateVPC=function(a){var c=this;if(this.$7===a)return;this.$4.release();if(!a)return;this.$7=a;this.$6===null&&(this.$6=0);this.$5===null&&(this.$5=this.$7.getPlaybackDuration());this.$4=new(b("SubscriptionsHandler"))();this.$4.addSubscriptions(a.addListener("commercialBreak/vodBreakStarting",function(){c.$8(c.$9())}),a.addListener("playRequested",function(a){a==="commercial_break"&&c.$8(null)}),a.addListener("updateStatus",function(){if(c.$7){var a=c.$7?c.$7.getCurrentTimePosition():0;c.$2&&b("nullthrows")(c.$2)(c.videoComposerID,a-Number(c.$6))}}))};c.updateInsertedAdBreaks=function(a){this.$1=a};c.updateCallbacks=function(a,b){this.$2=a,this.$3=b};c.unmount=function(){var a=this;b("setTimeout")(function(){return a.$8(null)},0);this.$4.release();this.$7=null;this.videoComposerID=""};c.seek=function(a,b){this.$7&&this.$7.seek(a+Number(this.$6)),b&&this.pause()};c.play=function(){this.$7&&this.$7.play(new(b("VideoPlayerReasonTransitionHelper"))("autoplay_initiated"))};c.pause=function(){this.$7&&this.$7.pause()};c.startAdBreakPreview=function(a){this.seek(this.$1[a].timeOffset-g,!1),this.play()};c.stopAdBreakPreview=function(){this.$3&&this.$3(this.videoComposerID,null);if(this.$7){var a=this.$7.getOption("VideoWithCommercialBreak","controller");a.leaveAdBreak()}};c.setVideoComposerID=function(a){this.videoComposerID=a};c.$8=function(a){this.$3&&this.$3(this.videoComposerID,a)};c.$9=function(){var a=this.$7?this.$7.getCurrentTimePosition():0;for(var b=0;b<this.$1.length;b++){var c=this.$1[b].timeOffset;if(a>=c-g&&a<=c+h)return b}return null};return a}();e.exports=new a()}),null);
__d("VideoComposerAdBreakContainer.react",["cx","CurrentUser","FluxContainer","React","VideoComposerAdBreakActions","VideoComposerAdBreakInputSection.react","VideoComposerAdBreakOnboardedPageNux.react","VideoComposerAdBreakOnboardingSection.react","VideoComposerAdBreakPreviewSection.react","VideoComposerAdBreaksAutoInsertionNux.react","VideoComposerDialogAdBreakUtils","VideoComposerDialogAdBreakVideoPlayerController","VideoComposerStores","WebFunnelLogger","gkx","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a,c,e){b("VideoComposerAdBreakActions").setCurrentAdBreak(d.props.videoComposerID,a),b("VideoComposerDialogAdBreakVideoPlayerController").seek(a,e)},d.$4=function(a){b("VideoComposerAdBreakActions").updateAdBreakStatus(d.props.videoComposerID,a,d.state.isMonetizableShortVideo),b("gkx")("1157336")&&new(b("WebFunnelLogger"))("AdBreaksCreatorFunnelDefinition").setAction("TOGGLE_AD_BREAKS_INSERTION_SWITCH").setSessionKey(b("CurrentUser").getAccountID()).addActionPayload("ad_break_insertion_enabled",!a).log(),b("VideoComposerAdBreakActions").setIsAdBreakToggleEdited(d.props.videoComposerID,!0)},d.$5=function(a){b("gkx")("1157336")&&new(b("WebFunnelLogger"))("AdBreaksCreatorFunnelDefinition").setAction("CHECK_MID_ROOL_OPT_OUT_CHECKBOX").setSessionKey(b("CurrentUser").getAccountID()).addActionPayload("mid_roll_opt_out",a).log(),b("VideoComposerAdBreakActions").setShouldUseImageAds(d.props.videoComposerID,!d.state.shouldUseImageAds)},d.$8=function(){b("VideoComposerAdBreakActions").agreeVideoRights(d.props.videoComposerID)},d.$12=function(){b("VideoComposerAdBreakActions").insertAdBreak(d.props.videoComposerID),b("gkx")("1157336")&&new(b("WebFunnelLogger"))("AdBreaksCreatorFunnelDefinition").setAction("CLICK_ADD_AD_BREAKS_BUTTON").setSessionKey(b("CurrentUser").getAccountID()).log()},d.$6=function(a,c){b("VideoComposerAdBreakActions").setIsAdBreakAutoInsertionProfileEnabled(d.props.videoComposerID,a,c)},d.$7=function(a){b("VideoComposerAdBreakActions").updateVPC(d.props.videoComposerID,a)},d.$9=function(a){b("VideoComposerAdBreakActions").deleteAdBreak(d.props.videoComposerID,a),b("gkx")("1157336")&&new(b("WebFunnelLogger"))("AdBreaksCreatorFunnelDefinition").setAction("REMOVE_AD_BREAKS").setSessionKey(b("CurrentUser").getAccountID()).log()},d.$10=function(a){b("VideoComposerAdBreakActions").setIsAdBreakAutoAdjustmentEnabled(d.props.videoComposerID,a),b("gkx")("1157336")&&new(b("WebFunnelLogger"))("AdBreaksCreatorFunnelDefinition").setAction("CHECK_AUTOMATICALLY_ADJUST_AD_BREAKS_PLACEMENT_CHECKBOX").setSessionKey(b("CurrentUser").getAccountID()).addActionPayload("isAdBreakAutoAdjustmentEnabled",a).log()},d.$11=function(a){b("VideoComposerAdBreakActions").setIsAdBreakAutoInsertionEnabled(d.props.videoComposerID,a)},d.$13=function(a){b("VideoComposerAdBreakActions").startPageOnboarding(d.props.videoComposerID,a)},d.$14=function(a){b("VideoComposerAdBreakActions").updateHoldoutTestStatus(d.props.videoComposerID,a)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(a){var c;return[(c=b("VideoComposerStores")).getAdBreakStore(a.videoComposerID),c.getMetadataStore(a.videoComposerID),c.getTrimmingEditorStore(a.videoComposerID),c.getUploadStore(a.videoComposerID),c.getPollsStore(a.videoComposerID)]};c.calculateState=function(a,c){var d=(a=b("VideoComposerStores")).getAdBreakStore(c.videoComposerID).getState(),e=a.getMetadataStore(c.videoComposerID).getState(),f=a.getUploadStore(c.videoComposerID).getState(),g=a.getMetadataStore(c.videoComposerID).getVideoPreviewTimeData(),h=g.videoDuration,i=g.videoEndTime;g=g.videoStartTime;var j=a.getTrimmingEditorStore(c.videoComposerID).isVideoTrimmed(),k=a.getPollsStore(c.videoComposerID).getState(),l=k.showEditor;k=k.polls;a=a.getPollsStore(c.videoComposerID).getAdBreakPolls(k);c=b("VideoComposerDialogAdBreakUtils").canShortVideoUseImageAds(d.isShorterContentMonetizationEligible,h);return{showAdPollEditor:l,adBreakPrereviewStatus:d.adBreakPrereviewStatus,adBreaksDisabled:d.adBreaksDisabled,currentAdBreakTimeOffset:d.currentAdBreakTimeOffset,currentPreviewIndex:d.currentPreviewIndex,hasGapRule:d.hasGapRule,hasUserSeenAdBreakTab:d.hasUserSeenAdBreakTab,holdoutTestEnabled:d.holdoutTestEnabled,holdoutTestPublicMetadata:d.holdoutTestPublicMetadata,insertedAdBreaks:d.insertedAdBreaks,isAdBreakAutoAdjustmentEnabled:d.isAdBreakAutoAdjustmentEnabled,isAdBreakAutoInsertionEnabled:d.isAdBreakAutoInsertionEnabled,isAdBreakInsertionRedesignV1:d.isAdBreakInsertionRedesignV1,isAdBreakInsertionRedesignV2:d.isAdBreakInsertionRedesignV2,isImageAdsDropdownExpanded:d.isImageAdsDropdownExpanded,isMonetizableShortVideo:c,isCountryRestrictionsEligible:d.isCountryRestrictionsEligible,shouldShowAutoInsertionProfileNux:d.shouldShowAutoInsertionProfileNux,shouldShowImageAdsUpsell:d.shouldShowImageAdsUpsell,shouldUseImageAds:d.shouldUseImageAds,isDemonetized:d.isDemonetized,isPageOnboardingVisible:d.isPageOnboardingVisible,canUseVODAdBreaks:d.canUseVODAdBreaks,onboardingSurface:d.adBreaksOnboardingSurface,isAdBreakComposerOnboardingEligible:d.isAdBreakComposerOnboardingEligible,isPageOnboardingPending:d.pageOnboardingPending,isVideoTrimmed:j,isPageMidRollOptOutEnabled:d.isPageMidRollOptOutEnabled,showOnboardedPageNux:d.showOnboardedPageNux,pageID:e.targetID,videoData:e.dialogMode==="video_upload"?f.videoData:e.videoDataForID,videoDuration:Number(h),videoEndTime:i,videoID:e.dialogMode==="video_upload"&&!f.uploadFinished?null:e.videoID,videoRightsAgreed:d.videoRightsAgreed,videoStartTime:g,vpc:d.vpc,isAdBreaksPollCreationEnabled:d.isAdBreaksPollCreationEnabled,adBreaksPolls:a}};var d=c.prototype;d.componentDidMount=function(){b("gkx")("1157336")&&new(b("WebFunnelLogger"))("AdBreaksCreatorFunnelDefinition").setAction("VISIT_VIDEO_COMPOSER_AD_BREAKS").addActionPayload("isPageOnboardingVisible",this.state.isPageOnboardingVisible).setSessionKey(b("CurrentUser").getAccountID()).log(),b("VideoComposerDialogAdBreakVideoPlayerController").setVideoComposerID(this.props.videoComposerID),this.state.hasUserSeenAdBreakTab||b("VideoComposerAdBreakActions").setHasUserSeenAdBreakTab(this.props.videoComposerID,!0)};d.componentDidUpdate=function(a,c){(a=b("VideoComposerDialogAdBreakVideoPlayerController")).updateStartEndTime(this.state.videoEndTime,this.state.videoStartTime);a.updateVPC(this.state.vpc);a.updateInsertedAdBreaks(this.state.insertedAdBreaks.toArray());a.updateCallbacks(b("VideoComposerAdBreakActions").setCurrentAdBreak,b("VideoComposerAdBreakActions").setCurrentPreviewIndex)};d.componentWillUnmount=function(){b("VideoComposerDialogAdBreakVideoPlayerController").unmount()};d.$2=function(a){b("VideoComposerDialogAdBreakVideoPlayerController").startAdBreakPreview(a),b("gkx")("1157336")&&new(b("WebFunnelLogger"))("AdBreaksCreatorFunnelDefinition").setAction("PREVIEW_AD_BREAKS").setSessionKey(b("CurrentUser").getAccountID()).log()};d.$3=function(){b("VideoComposerDialogAdBreakVideoPlayerController").stopAdBreakPreview()};d.render=function(){var a=h.jsxs("div",{className:"_6ep3",children:[this.state.isAdBreakInsertionRedesignV2?h.jsx(b("VideoComposerAdBreaksAutoInsertionNux.react"),{pageID:this.state.pageID,shouldShowNuxInitially:this.state.shouldShowAutoInsertionProfileNux,onUpdateAdBreakStatus:this.$4,onUpdateInsertionProfileStatus:this.$6}):h.jsx(b("VideoComposerAdBreakPreviewSection.react"),{currentPreviewIndex:this.state.currentPreviewIndex,hasGapRule:this.state.hasGapRule,insertedAdBreaks:this.state.videoRightsAgreed?this.state.insertedAdBreaks.toArray():null,isAdBreakDisabled:this.state.adBreaksDisabled,videoData:this.state.videoData,videoEndTime:this.state.videoEndTime,videoStartTime:this.state.videoStartTime,onVPCUpdate:this.$7}),this.state.isAdBreakComposerOnboardingEligible&&h.jsx(b("VideoComposerAdBreakOnboardedPageNux.react"),{enabled:this.state.showOnboardedPageNux,pageID:this.state.pageID,videoComposerID:this.props.videoComposerID}),h.jsx("div",{className:"_6ep4",children:h.jsx(b("VideoComposerAdBreakInputSection.react"),{adBreakPrereviewStatus:this.state.adBreakPrereviewStatus,adBreaksDisabled:this.state.adBreaksDisabled,adBreaksPolls:this.state.adBreaksPolls,currentAdBreakTimeOffset:this.state.currentAdBreakTimeOffset,currentPreviewIndex:this.state.currentPreviewIndex,hasGapRule:this.state.hasGapRule,holdoutTestEnabled:this.state.holdoutTestEnabled,holdoutTestPublicMetadata:this.state.holdoutTestPublicMetadata,insertedAdBreaks:this.state.insertedAdBreaks.toArray(),isAdBreakAutoAdjustmentEnabled:this.state.isAdBreakAutoAdjustmentEnabled,isAdBreakAutoInsertionEnabled:this.state.isAdBreakAutoInsertionEnabled,isAdBreakInsertionRedesignV1:this.state.isAdBreakInsertionRedesignV1,isAdBreakInsertionRedesignV2:this.state.isAdBreakInsertionRedesignV2,isAdBreaksPollCreationEnabled:this.state.isAdBreaksPollCreationEnabled,isCountryRestrictionsEligible:this.state.isCountryRestrictionsEligible,isDemonetized:this.state.isDemonetized,isImageAdsDropdownExpanded:this.state.isImageAdsDropdownExpanded,isMonetizableShortVideo:this.state.isMonetizableShortVideo,isPageMidRollOptOutEnabled:this.state.isPageMidRollOptOutEnabled,isPageOnboardingVisible:this.state.isPageOnboardingVisible,isVideoTrimmed:this.state.isVideoTrimmed,pageID:this.state.pageID,shouldShowImageAdsUpsell:this.state.shouldShowImageAdsUpsell,shouldUseImageAds:this.state.shouldUseImageAds,showAdPollEditor:this.state.showAdPollEditor,videoComposerID:this.props.videoComposerID,videoData:this.state.videoData,videoDuration:this.state.videoDuration,videoEndTime:this.state.videoEndTime,videoID:this.state.videoID,videoRightsAgreed:this.state.videoRightsAgreed,videoStartTime:this.state.videoStartTime,onAgreeVideoRights:this.$8,onCancelPreview:this.$3,onDeleteAdBreak:this.$9,onEnableAdBreakAutoAdjustment:this.$10,onEnableAdBreakAutoInsertion:this.$11,onInsertAdBreak:this.$12,onPreviewAdBreak:this.$2,onSetCurrentAdBreak:this.$1,onStartPageOnboarding:this.$13,onToggleImageAds:this.$5,onUpdateAdBreakStatus:this.$4,onUpdateHoldoutTestStatus:this.$14,onVPCUpdate:this.$7})})]});return this.state.isAdBreakComposerOnboardingEligible&&!this.state.canUseVODAdBreaks?h.jsx(b("VideoComposerAdBreakOnboardingSection.react"),{isPageOnboardingPending:this.state.isPageOnboardingPending,onboardingSurface:this.state.onboardingSurface,pageID:this.state.pageID,videoComposerID:this.props.videoComposerID}):a};return c}(h.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerDialogAdBreaksTabUtils",["cx","fbt","Link.react","React","ShorterContentMonetizationContent","VideoComposerDialogAdBreakUtils","VideoInstreamAdsConstants","VideoInstreamUtils"],(function(a,b,c,d,e,f,g,h){"use strict";a=b("React");var i=b("ShorterContentMonetizationContent").adBreaksTabDisabledContentOverride,j=b("ShorterContentMonetizationContent").adBreaksTabEnabledContentOverride,k=b("VideoComposerDialogAdBreakUtils").canShortVideoUseImageAds;c="https://www.facebook.com/help/publisher/675872946104381";var l=h._("You can include ads in this video because it's at least three minutes long."),m=a.jsxs("div",{children:[h._("Ads can only be included in videos that are at least three minutes long.")," ",a.jsx(b("Link.react"),{href:c,style:{color:"#606770"},target:"_blank",children:h._("Learn more.")})]}),n=h._("In-stream ads have been disabled for this video."),o=h._("Earn money when people watch your videos."),p=a.jsx("div",{className:"_6er9",children:h._("ON")}),q=a.jsx("div",{className:"_6era",children:h._("OFF")});d=function(a,c,d,e,f,g,r,s,t,u,v,w,x,y){if(a)return{disabled:!1,tabDescription:x?i:l,tabTooltip:null,badgeStatus:null};if(e==null)return{disabled:!0,tabDescription:n,tabTooltip:null,badgeStatus:null};a=new Set(c);c=b("VideoInstreamUtils").getMaxPossibleAdBreaks(e,r);r=k(x,e);f&&!g&&a.add("branded_content");if(u&&(a.size===1&&a.has("not_onboarded")))return{disabled:v===null,tabDescription:o,tabTooltip:null,badgeStatus:q};c===0&&(w?a.add("trimmed_video_too_short"):a.add("video_too_short"));if(a.has("not_organic_upload"))return{disabled:!0,tabDescription:n,tabTooltip:h._("In-stream ads can only be placed in original videos, not crossposted or reshared videos."),badgeStatus:q};if(a.has("branded_content"))return{disabled:!0,tabDescription:n,tabTooltip:h._("In-stream ads not available. In-stream ads can't be used in this video because it contains tagged business partners."),badgeStatus:q};if(a.has("monetization_options_not_available"))return{disabled:!0,tabDescription:h._("In-stream ads settings have been disabled for this video."),tabTooltip:h._("Monetization settings have been disabled for this video."),badgeStatus:t?q:p};if(a.has("broadcast"))return{disabled:!0,tabDescription:n,tabTooltip:h._("Live videos are not eligible for in-stream ads, even if they are no longer live."),badgeStatus:q};if(a.has("asset_not_owned_by_page")||a.has("unowned_asset_crosspost"))return{disabled:!0,tabDescription:n,tabTooltip:h._("You can only modify in-stream ads in videos that belong to Pages that you manage."),badgeStatus:q};if(a.has("trimmed_video_too_short"))return r?{disabled:!1,tabDescription:y?j:i,tabTooltip:null,badgeStatus:y?p:q}:{disabled:!0,tabDescription:x?i:m,tabTooltip:x?null:h._("Videos must be {insertion interval} seconds or longer. Your trimmed video is too short for in-stream ads.",[h._param("insertion interval",b("VideoInstreamAdsConstants").AD_INSERTION_MINIMUM_VIDEO_LENGTH)]),badgeStatus:q};if(a.has("video_too_short"))return r?{disabled:!1,tabDescription:y?j:i,tabTooltip:null,badgeStatus:y?p:q}:{disabled:!0,tabDescription:x?i:m,tabTooltip:x?null:h._("Videos must be {insertion interval} seconds or longer. Your video is too short to include in-stream ads.",[h._param("insertion interval",b("VideoInstreamAdsConstants").AD_INSERTION_MINIMUM_VIDEO_LENGTH)]),badgeStatus:q};if(a.size>0)return{disabled:!0,tabDescription:n,tabTooltip:null,badgeStatus:q};e=d.filter(function(a){return a.status==="enabled"});return e.length>0||s&&!t?{disabled:!1,tabDescription:x?j:h._("In-stream ads are turned on and this video meets the requirement of being at least three minutes long."),tabTooltip:null,badgeStatus:p}:{disabled:!1,tabDescription:x?i:l,tabTooltip:null,badgeStatus:q}};e.exports={getTabState:d}}),null);
__d("VideoComposerAdBreaksTabContainer.react",["AdBreakCreatorPerformanceTypedLogger","FluxContainer","React","SimpleNUXMessage","VideoComposerAdBreakActions","VideoComposerAdBreaksMidRollOptOutTabConfig","VideoComposerAdBreaksOnboardTabConfig","VideoComposerAdBreaksShorterContentMonetizationTabConfig.react","VideoComposerAdBreaksTabConfig","VideoComposerAdBreaksVideoLengthTooShortForBonusTabConfig","VideoComposerAdBreaksVideoLengthTooShortTabConfig","VideoComposerDialogAdBreaksTabUtils","VideoComposerDialogAdBreakUtils","VideoComposerStores","VideoComposerTabItemContainer.react","VideoInstreamUtils","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("VideoComposerDialogAdBreakUtils").canShortVideoUseImageAds;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=!1,c.$2=!1,b)||babelHelpers.assertThisInitialized(c)}c.getStores=function(a){var c;return[(c=b("VideoComposerStores")).getUIStore(a.videoComposerID),c.getMetadataStore(a.videoComposerID),c.getAdBreakStore(a.videoComposerID),c.getTrimmingEditorStore(a.videoComposerID)]};c.calculateState=function(a,c){var d=(a=b("VideoComposerStores")).getUIStore(c.videoComposerID).getState();d=d.selectedTab;var e=a.getAdBreakStore(c.videoComposerID).getState(),f=e.hasGapRule,g=e.insertedAdBreaks,i=e.isAdBreakComposerOnboardingEligible,j=e.adBreaksOnboardingSurface,k=e.canUseVODAdBreaks,l=e.isBrandedContentVideo,m=e.isInstreamSponsorshipVideo,n=e.isPageOnboardingVisible,o=e.serverSideDisabledReasons,p=e.isAdBreakAutoInsertionEnabled,q=e.adBreaksDisabled,r=e.isAutoInsertionEnabledOnProfile,s=e.isAdBreakToggleEdited,t=e.isAdBreakInsertionRedesignV2,u=e.isPageMidRollOptOutEnabled,v=e.isShorterContentMonetizationEligible;e=e.shouldUseImageAds;var w=a.getMetadataStore(c.videoComposerID).getState(),x=w.actorID;w=w.dialogMode;var y=a.getMetadataStore(c.videoComposerID).getVideoPreviewTimeData();y=y.videoDuration;var z=a.getMetadataStore(c.videoComposerID).getNeedToUploadThreeMinVideoForBonus();a=a.getTrimmingEditorStore(c.videoComposerID).isVideoTrimmed();c=b("VideoComposerDialogAdBreaksTabUtils").getTabState(n,o.toArray(),g.toArray(),y,l,m,f,p,q,i,j,a,v,e);return{actorID:x,hasGapRule:f,insertedAdBreaks:g,isBrandedContentVideo:l,isInstreamSponsorshipVideo:m,isPageOnboardingVisible:n,isSelected:d==="ad_breaks",isVideoTrimmed:a,canUseVODAdBreaks:k,isComposerOnboardingEligible:i,serverSideDisabledReasons:o,videoDuration:y,isAdBreakAutoInsertionEnabled:p,adBreaksDisabled:q,tabState:c,dialogMode:w,isAutoInsertionEnabledOnProfile:r,isAdBreakToggleEdited:s,isAdBreakInsertionRedesignV2:t,isPageMidRollOptOutEnabled:u,isMonetizableShortVideo:h(v,y),isShorterContentMonetizationEligible:v,shouldUseImageAds:e,needToUploadThreeMinVideoForBonus:z}};var d=c.prototype;d.componentDidMount=function(){this.$3()&&this.state.actorID!=null&&new(b("AdBreakCreatorPerformanceTypedLogger"))().setPageIds([this.state.actorID]).setSurface("VIDEO_COMPOSER").setSignal("VIDEO_LENGTH_TOO_SHORT_BLUES_CLUE").setEvent("EXPOSURE").log()};d.componentDidUpdate=function(){this.$4(),this.$5()&&!this.$1&&(this.$1=!0,b("VideoComposerAdBreakActions").logMidRollOptOutEvent(this.props.videoComposerID,"mro_composer_ad_break_tab_nux_impression")),this.$6()&&!this.$2&&(this.$2=!0,b("VideoComposerAdBreakActions").logShorterContentMonetizationEvent(this.props.videoComposerID,"scm_composer_ad_break_tab_nux_impression"))};d.$4=function(){this.state.dialogMode==="video_upload"&&this.state.tabState.disabled&&!this.state.isVideoTrimmed&&b("VideoComposerAdBreakActions").updateAdBreakStatus(this.props.videoComposerID,!0,this.state.isMonetizableShortVideo),this.state.dialogMode==="video_upload"&&!this.state.tabState.disabled&&this.state.isAdBreakInsertionRedesignV2&&this.state.isAutoInsertionEnabledOnProfile&&!this.state.isAdBreakToggleEdited&&this.state.adBreaksDisabled&&b("VideoComposerAdBreakActions").updateAdBreakStatus(this.props.videoComposerID,!1,this.state.isMonetizableShortVideo)};d.$3=function(){return this.state.canUseVODAdBreaks&&this.state.videoDuration!=null&&b("VideoInstreamUtils").getMaxPossibleAdBreaks(this.state.videoDuration,this.state.hasGapRule)===0&&b("VideoComposerAdBreaksVideoLengthTooShortTabConfig").nuxMessage!=null&&!b("SimpleNUXMessage").hasUserSeenMessage(b("VideoComposerAdBreaksVideoLengthTooShortTabConfig").nuxMessage)};d.$5=function(){var a=b("VideoComposerAdBreaksMidRollOptOutTabConfig").nuxMessage;return a==null?!1:this.state.canUseVODAdBreaks&&this.state.adBreaksDisabled&&this.state.isPageMidRollOptOutEnabled&&!b("SimpleNUXMessage").hasUserSeenMessage(a)};d.$7=function(){return this.state.videoDuration!=null&&this.state.videoDuration<180&&this.state.needToUploadThreeMinVideoForBonus};d.$6=function(){return this.state.canUseVODAdBreaks&&this.state.videoDuration!=null&&this.state.isMonetizableShortVideo&&b("VideoComposerAdBreaksShorterContentMonetizationTabConfig.react").nuxMessage!=null&&!b("SimpleNUXMessage").hasUserSeenMessage(b("VideoComposerAdBreaksShorterContentMonetizationTabConfig.react").nuxMessage)};d.render=function(){var a=b("VideoComposerAdBreaksTabConfig"),c=this.state.tabState.tabTooltip;this.state.isComposerOnboardingEligible&&!this.state.canUseVODAdBreaks?a=b("VideoComposerAdBreaksOnboardTabConfig"):this.$6()?(a=b("VideoComposerAdBreaksShorterContentMonetizationTabConfig.react"),c=null):this.$7()?(a=b("VideoComposerAdBreaksVideoLengthTooShortForBonusTabConfig"),c=null):!this.state.isShorterContentMonetizationEligible&&this.$3()?(a=b("VideoComposerAdBreaksVideoLengthTooShortTabConfig"),c=null):this.$5()&&(a=b("VideoComposerAdBreaksMidRollOptOutTabConfig"),c=null);return g.jsx(b("VideoComposerTabItemContainer.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID,badgeStatus:this.state.tabState.badgeStatus,customDescription:this.state.tabState.tabDescription,disabled:this.state.tabState.disabled,tabConfig:a,tooltip:c},this.state))};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerBasicComposerContainer.react",["FluxContainer","React","VideoComposerBasicComposer.react","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getBasicStore(a.videoComposerID),b("VideoComposerStores").getMetadataStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getBasicStore(c.videoComposerID).getState();var d=a.autoCrosspostToShowParent,e=a.canEditShowAndParent,f=a.composerConfig,g=a.descriptionEditorState,h=a.isGamingPage,i=a.mentionsSearchSource,j=a.showMultilingualComposer,k=a.showParentPageName,l=a.showParentPageProfileURI;a=a.taggerSearchSource;c=b("VideoComposerStores").getMetadataStore(c.videoComposerID).getState();var m=c.actorID,n=c.isVideoShowPage,o=c.profilePictureURI;c=c.showVideoType;return{actorID:m?m:"",autoCrosspostToShowParent:d,canEditShowAndParent:e,descriptionEditorState:g,composerConfig:f,isGamingPage:h,isVideoShowPage:n,mentionsSearchSource:i,profilePictureURI:o,showMultilingualComposer:j,showParentPageName:k,showParentPageProfileURI:l,showVideoType:c,taggerSearchSource:a}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerBasicComposer.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID},this.state))};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideComposerBasicSectionPreview.react",["ix","cx","fbt","Image.react","React","XUIText.react","asset","cxMargin","joinClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return j.jsxs("div",{className:"_6r00",children:[this.$1(g("653210"),i._("Title"),i._("Add a title for your video here..."),"_6qze"),j.jsx("div",{className:"_6qzf",children:j.jsxs("div",{className:"_6qzg",children:[j.jsx("div",{className:"_6qzh",children:j.jsx(b("Image.react"),{src:g("624055")})}),j.jsx("div",{children:i._("Describe your video...")})]})}),this.$1(g("423746"),i._("Tags"),i._("Add tags to help people discover your video. E.g. cat, sport, piano"))]})};d.$1=function(a,c,d,e){var f="_6qzi";e!==void 0&&(f=b("joinClasses")(f,e));return j.jsxs("div",{className:f,children:[j.jsxs("div",{className:"_6qzj",children:[j.jsx(b("Image.react"),{src:a}),j.jsx(b("XUIText.react"),{size:"header4",weight:"bold",className:"_3-9a",children:c})]}),j.jsx("div",{className:"_6qzk",children:d})]})};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerBasicContainer.react",["FluxContainer","React","VideComposerBasicSectionPreview.react","VideoComposerBasicSection.react","VideoComposerDialogBasicVideoController","VideoComposerStores","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){var c;return[(c=b("VideoComposerStores")).getBasicStore(a.videoComposerID),c.getMetadataStore(a.videoComposerID),c.getPremiereStore(a.videoComposerID),c.getQEStore(a.videoComposerID),c.getUIStore(a.videoComposerID),c.getPollsStore(a.videoComposerID)]};c.calculateState=function(a,d){var e=(a=b("VideoComposerStores")).getBasicStore(d.videoComposerID).getState(),f=e.autoCrosspostToShowParent,g=e.bootloaded,h=e.canEditShowAndParent,i=e.composerConfig,j=e.contentTags,k=e.descriptionEditorState,l=e.mentionsSearchSource,m=e.missingVideoTypeTooltipText,n=e.playlistIDs,o=e.playlistOptions,p=e.seasonIDOld,q=e.seasonOptionsOld,r=e.selectedGame,s=e.showMissingVideoTypeTooltip,t=e.showNewPlaylistSelector,u=e.showParentPageName,v=e.showParentPageProfileURI,w=e.taggerSearchSource,x=e.videoPreviewController,y=e.isRecapSupported,z=e.isGamingPage,A=e.isExplicitlyTaggedAsGamingVideo,B=e.browseTags,C=e.historyTags,D=e.showTaggingNux,E=e.suggestedTags,F=e.taggingGrowthExperimentEnabled;e=e.tagSuggestionSource;var G=a.getMetadataStore(d.videoComposerID).getState(),H=G.accessToken,I=G.actorID,J=G.dialogMode,K=G.isVideoShowPage,L=G.profilePictureURI;G=G.showVideoType;var M=a.getPollsStore(d.videoComposerID).getState();M=M.polls;var N=a.getUIStore(d.videoComposerID).getState();N=N.isPreviewMode;a=a.getQEStore(d.videoComposerID).getState();var O=a.gameTaggingAlwaysShowGenericTagging,P=a.gameTaggingToggle;a=a.gameTaggingNewTypeahead;return{autoCrosspostToShowParent:f,accessToken:H,actorID:I?I:"",bootloaded:g,canEditShowAndParent:h,composerConfig:i,contentTags:j,descriptionEditorState:k,isExplicitlyTaggedAsGamingVideo:A,isVideoShowPage:K,missingVideoTypeTooltipText:m,mentionsSearchSource:l,playlistIDs:n,playlistOptions:o,profilePictureURI:L,seasonIDOld:p,seasonOptionsOld:q,selectedGame:r,showMissingVideoTypeTooltip:s,showNewPlaylistSelector:t,showParentPageName:u,showParentPageProfileURI:v,showReplacePremiereSection:b("VideoComposerStores").getPremiereStore(d.videoComposerID).getShouldShowReplacePremiereSection(J),showVideoType:G,taggerSearchSource:w,videoPreviewController:x,isRecapSupported:y,isGamingPage:z,gameTaggingAlwaysShowGenericTagging:O,gameTaggingToggle:P,gameTaggingNewTypeahead:a,browseTags:B,historyTags:C,showTaggingNux:D,suggestedTags:E,taggingGrowthExperimentEnabled:F,tagSuggestionSource:e,isPreviewMode:N,allowTrimming:c.allowTrimming(M,d.videoComposerID)}};c.allowTrimming=function(a,c){return b("VideoComposerStores").getPollsStore(c).getNonAdBreakPolls(a).size===0};var d=c.prototype;d.componentDidUpdate=function(a,c){b("VideoComposerDialogBasicVideoController").updateVPC(this.props.videoComposerID,this.state.videoPreviewController)};d.componentWillUnmount=function(){b("VideoComposerDialogBasicVideoController").unmount()};d.render=function(){return this.state.isPreviewMode?g.jsx(b("VideComposerBasicSectionPreview.react"),{}):g.jsx(b("VideoComposerBasicSection.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID},this.state))};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerBasicPromotedContentContainer.react",["FluxContainer","React","VideoComposerBasicPromotedContentSection.react","VideoComposerDialogDistributionUtils","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getBasicStore(a.videoComposerID),b("VideoComposerStores").getMetadataStore(a.videoComposerID)]};c.calculateState=function(a,d){a=b("VideoComposerStores").getBasicStore(d.videoComposerID).getState();var e=a.deal,f=a.deals,g=a.fundedContentProgram,h=a.isRecapSupported,i=a.missingFundedContentProgramText,j=a.missingVideoTypeTooltipText,k=a.playlistIDs,l=a.playlistOptions,m=a.seasonIDOld,n=a.seasonOptionsOld,o=a.showMissingFundedContentProgramTooltip,p=a.showMissingVideoTypeTooltip;a=a.showFundedContentFlag;d=b("VideoComposerStores").getMetadataStore(d.videoComposerID).getState();var q=d.actorID,r=d.composerEntryPointRef,s=d.dialogMode,t=d.isVideoShowPage,u=d.showVideoType;d=d.unpublishedContentType;d=d==null||e==null;return{actorID:q?q:"",deal:e,deals:f,fundedContentProgram:g,allowSettingFundedContentProgram:d,isRecapSupported:h,missingFundedContentProgramText:i,missingVideoTypeTooltipText:j,playlistIDs:k,playlistOptions:l,seasonIDOld:m,seasonOptionsOld:n,showMissingFundedContentProgramTooltip:o,showMissingVideoTypeTooltip:p,showFundedContentFlag:a,showDealSection:a,showPlaylistSelector:b("VideoComposerDialogDistributionUtils").shouldShowPlaylistSelector(s,u,r,t,!1),showSeasonSelector:c.shouldShowSeasonSelector(s,u),showVideoType:u,showVideoTypeSelector:c.shouldShowVideoTypeSelector(t,u)}};c.shouldShowVideoTypeSelector=function(a,b){return!(!a||b==="trailer")};c.shouldShowSeasonSelector=function(a,b){return(a==="video_edit"||a==="video_upload")&&(b==="episode"||b==="recap")};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerBasicPromotedContentSection.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID},this.state))};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerBasicTabContainer.react",["FluxContainer","React","VideoComposerBasicTabConfig","VideoComposerStores","VideoComposerTabItemContainer.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getUIStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getUIStore(c.videoComposerID).getState();c=a.selectedTab;return{isSelected:c==="basic"}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerTabItemContainer.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID,tabConfig:b("VideoComposerBasicTabConfig")},this.state))};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerCaptionEditorCaptionsListGenerator.react",["React","RelayModern","VideoComposerCaptionEditorActions","VideoComposerCaptionEditorListSectionContainer.react","VideoComposerCaptionsTabActions","VideoComposerDialogCaptionEditorConstants","immutable","VideoComposerCaptionEditorCaptionsListGenerator_node.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.$1()};d.UNSAFE_componentWillReceiveProps=function(a){(this.props.id!==a.id||JSON.stringify(this.props.node)!==JSON.stringify(a.node))&&this.$1()};d.$2=function(a){var c=this,d=[],e=[];a=a.reduce(function(a,f){if(!f.node)return a;f=f.node;var g=f.start_time_in_ms||0,h=f.duration_in_ms||0;if(h===0||g<c.props.videoStartTimeInMs||g+h>c.props.videoEndTimeInMs){e.push({node:{id:f.id}});return a}g-=c.props.videoStartTimeInMs;f={node:{id:f.id,text:f.text,start_time_in_ms:g,duration_in_ms:h,confidence:f.confidence,left:g*b("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT,width:h*b("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT}};a.push(f);d.push(f);return a},[]);b("VideoComposerCaptionEditorActions").setCaptions(this.props.videoComposerID,b("immutable").List(a),b("immutable").List(d.concat(e)),this.props.node.id,this.props.node.locale,this.props.node.video_id,null,2);b("VideoComposerCaptionsTabActions").captionHasTrimmed(this.props.videoComposerID)};d.$1=function(){var a;a=(a=this.props)!=null?(a=a.node)!=null?a.captions:a:a;if(a&&a.edges)if(this.props.shouldTrimCaptions)this.$2(a.edges);else{a=a.edges.map(function(a,c){if(a.node){c={node:{id:a.node.id,text:a.node.text,start_time_in_ms:a.node.start_time_in_ms,duration_in_ms:a.node.duration_in_ms,confidence:a.node.confidence,left:(a.node.start_time_in_ms?a.node.start_time_in_ms:0)*b("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT,width:(a.node.duration_in_ms?a.node.duration_in_ms:0)*b("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT}};return c}return{}});b("VideoComposerCaptionEditorActions").setCaptions(this.props.videoComposerID,b("immutable").List(a),b("immutable").List(new Array(a.length)),this.props.node.id,this.props.node.locale,this.props.node.video_id,null,2)}};d.render=function(){return h.jsx(b("VideoComposerCaptionEditorListSectionContainer.react"),{videoComposerID:this.props.videoComposerID})};return c}(h.Component);e.exports=a(c,{node:g!==void 0?g:g=b("VideoComposerCaptionEditorCaptionsListGenerator_node.graphql")})}),null);
__d("VideoComposerCaptionEditorFooter.react",["ix","cx","fbt","FBConfirmDialog.react","Image.react","React","VideoCaptionEditorStateEnums","XUIButton.react","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=b("VideoCaptionEditorStateEnums").EditorStateEnum;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=i._("Saved");this.props.editorState===k.SAVING?c=i._("Saving..."):this.props.editorState===k.UNSAVED&&(c=i._("Unsaved"));return j.jsx("span",{className:"_6erb",children:j.jsxs("span",{className:"_6erc",children:[j.jsxs("span",{className:"_6erd",children:[j.jsx("span",{className:"_6ere",children:j.jsx(b("Image.react"),{src:g("126813")})}),j.jsx("span",{className:"_6erf",children:c})]}),j.jsxs("span",{children:[j.jsx(b("XUIButton.react"),{disabled:this.props.disableSection,href:"#",onClick:this.props.onCancel,label:i._("Cancel"),size:"xlarge",use:"default"}),j.jsx(b("XUIButton.react"),{disabled:this.props.editorState!==k.UNSAVED,href:"#",onClick:this.props.onSaveDraft,label:i._("Save Draft"),size:"xlarge",use:"confirm"})]}),j.jsx(b("FBConfirmDialog.react"),{className:"_6eng",title:i._("Save"),content:i._("Save changes to your caption?"),confirmButtonText:i._("Save"),cancelButtonText:i._("Exit without saving"),onConfirm:function(){return a.props.onConfirm&&a.props.onConfirm()},onCancel:function(){return a.props.onDontSave&&a.props.onDontSave()},onToggle:function(b){return a.props.onToggle&&a.props.onToggle(b)},shown:this.props.shouldShowExitDialog})]})})};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerCaptionEditorFooterContainer.react",["FluxContainer","React","VideoCaptionEditorStateEnums","VideoComposerCaptionEditorActions","VideoComposerCaptionEditorFooter.react","VideoComposerDialogCaptionEditorConstants","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("VideoCaptionEditorStateEnums").EditorStateEnum;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("VideoComposerCaptionEditorActions").startSaveCaptionChangeset(d.props.videoComposerID)},d.$2=function(){d.state.editorState===h.UNSAVED?b("VideoComposerCaptionEditorActions").showExitDialog(d.props.videoComposerID):(b("VideoComposerCaptionEditorActions").confirmCloseDialog(d.props.videoComposerID),b("VideoComposerCaptionEditorActions").resetCaptionEditor(d.props.videoComposerID))},d.$3=function(a){a||b("VideoComposerCaptionEditorActions").cancelCloseDialog(d.props.videoComposerID)},d.$4=function(){b("VideoComposerCaptionEditorActions").startSaveCaptionChangeset(d.props.videoComposerID)},d.$5=function(){b("VideoComposerCaptionEditorActions").confirmCloseDialog(d.props.videoComposerID),b("VideoComposerCaptionEditorActions").resetCaptionEditor(d.props.videoComposerID)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(a){return[b("VideoComposerStores").getCaptionEditorStore(a.videoComposerID),b("VideoComposerStores").getCaptionsStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getCaptionEditorStore(c.videoComposerID).getState();c=b("VideoComposerStores").getCaptionsStore(c.videoComposerID).getState();c=a.language===b("VideoComposerDialogCaptionEditorConstants").NO_LANGUAGE_SELECTED||a.language===b("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE||c.isCreating;return{disableSection:c,editorState:a.editorState,shouldShowExitDialog:a.get("shouldShowExitDialog")}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerCaptionEditorFooter.react"),{disableSection:this.state.disableSection,editorState:this.state.editorState,onSaveDraft:this.$1,onCancel:this.$2,shouldShowExitDialog:this.state.shouldShowExitDialog,onConfirm:this.$4,onDontSave:this.$5,onToggle:this.$3})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerCaptionEditorLanguageSearchContainer.react",["cx","FluxContainer","React","VideoComposerCaptionEditorActions","VideoComposerDialogCaptionEditorConstants","VideoComposerDialogCaptionEditorUtils","VideoComposerLandingScreenLanguageSelector.react","VideoComposerStores"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a){b("VideoComposerCaptionEditorActions").selectLanguage(d.props.videoComposerID,a)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(a){return[b("VideoComposerStores").getCaptionEditorStore(a.videoComposerID),b("VideoComposerStores").getCaptionsStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getCaptionsStore(c.videoComposerID).getState();c=b("VideoComposerStores").getCaptionEditorStore(c.videoComposerID).getLanguage();a=this.$1(a);var d=!b("VideoComposerDialogCaptionEditorUtils").isLanguageDefaultOrEmpty(c);return{excludedDialects:a,isLanguageSelected:d,language:c}};var d=c.prototype;d.$3=function(a){b("VideoComposerCaptionEditorActions").selectLocale(this.props.videoComposerID,a)};c.$1=function(a){var c=a.drafts,d=a.autoGeneratingLocale,e=[];d&&e.push(b("VideoComposerDialogCaptionEditorUtils").getGenericLocale(d));c.map(function(a){e.push(b("VideoComposerDialogCaptionEditorUtils").getGenericLocale(a.locale))});a.captionLocalesWithoutSubtitles.map(function(a){return e.push(b("VideoComposerDialogCaptionEditorUtils").getGenericLocale(a))});return e};d.render=function(){var a=this,c=!this.state.isLanguageSelected,d="_6eo5"+(this.state.isLanguageSelected?" _6emj":"");return h.jsx(b("VideoComposerLandingScreenLanguageSelector.react"),{className:d,dialectType:"language_detection",excludedDialects:this.state.excludedDialects,dialectName:this.state.language,isLanguageSelected:this.state.isLanguageSelected,initiallyOpen:c,hasBorder:!1,placeholder:b("VideoComposerDialogCaptionEditorConstants").NO_LANGUAGE_SELECTED,renderStyle:"default",onSetDialectName:this.$2,onSetDialect:function(b){return a.$3(b)}})};return c}(h.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoCaptionTimestampItem.react",["ix","cx","Image.react","React","TimeFormatUtil","XUIContextualDialog.react","XUINotice.react","fbglyph","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=300,k=2e3,l=1e3,m=100;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=null,d.state={isDecreasing:!1,isHovered:!1,isIncreasing:!1,timeStampText:b("TimeFormatUtil").formatTime(d.props.timeInMs)},d.$4=function(a){d.props.onTextChange(a),d.setState({timeStampText:b("TimeFormatUtil").formatTime(d.props.timeInMs)})},d.$5=function(a){d.setState({timeStampText:a})},d.$2=function(){d.setState({isHovered:!0})},d.$3=function(){d.setState({isHovered:!1}),d.props.onBlur&&d.props.onBlur()},d.$7=function(a){a?(d.props.onIncrease(),window.setTimeout(d.$7,j),window.setTimeout(d.$7,k),d.setState({isIncreasing:!0})):d.state.isIncreasing&&!d.$1?d.$1=window.setInterval(d.props.onIncrease,m):d.state.isIncreasing&&(d.$1&&window.clearInterval(d.$1),d.$1=window.setInterval(function(){return d.props.onIncrease(l)},m))},d.$9=function(a){a?(d.props.onDecrease(),window.setTimeout(d.$9,j),window.setTimeout(d.$9,k),d.setState({isDecreasing:!0})):d.state.isDecreasing&&!d.$1?d.$1=window.setInterval(d.props.onDecrease,m):d.state.isDecreasing&&(d.$1&&window.clearInterval(d.$1),d.$1=window.setInterval(function(){return d.props.onDecrease(l)},m))},d.$8=function(a){d.setState({isDecreasing:!1,isIncreasing:!1}),d.$1&&window.clearInterval(d.$1),d.$1=null},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidUpdate=function(a){a.timeInMs!==this.props.timeInMs&&this.setState({timeStampText:b("TimeFormatUtil").formatTime(this.props.timeInMs)})};d.render=function(){var a=this,c=this.props.errorMessage?i.jsx(b("XUINotice.react"),{use:"warn",size:"small",children:this.props.errorMessage}):null;return i.jsxs("div",{className:"_1bsk",onMouseEnter:this.$2,onMouseLeave:this.$3,children:[i.jsx("textarea",{className:"_1bsl",value:this.state.timeStampText,onBlur:function(b){return a.$4(a.state.timeStampText)},onChange:function(b){return a.$5(b.target.value)},onFocus:this.props.onFocus,onClick:function(b){return a.props.onFocus&&b.stopPropagation()},ref:"timestamp",rows:1}),this.$6(),i.jsx(b("XUIContextualDialog.react"),{alignment:"center",contextRef:function(){return a.refs.timestamp},shown:!!c,position:"above",children:c})]})};d.$6=function(){return this.state.isHovered?i.jsxs("div",{className:"_1bsm",children:[i.jsx("div",{className:"_3qth",onMouseDown:this.$7,onMouseUp:this.$8,children:i.jsx(b("Image.react"),{src:g("143444")})}),i.jsx("div",{className:"_3qth",onMouseDown:this.$9,onMouseUp:this.$8,children:i.jsx(b("Image.react"),{src:g("143414")})})]}):null};d.blur=function(){this.refs.timestamp&&this.refs.timestamp.blur()};return c}(i.Component);a.propTypes={timeInMs:(c=b("prop-types")).number.isRequired,onBlur:c.func,onDecrease:c.func,onIncrease:c.func,onTextChange:c.func.isRequired,onFocus:c.func,errorMessage:c.string};a.defaultProps={errorMessage:null};e.exports=a}),null);
__d("VideoCaptionTimestampItemContainer.react",["fbt","React","TimeFormatUtil","VideoCaptionTimestampItem.react","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=100;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={errorMessage:null},d.$1=function(){d.setState({errorMessage:null})},d.$2=function(a){a=a?d.props.timeInMs-a:d.props.timeInMs-i;d.$5(a)},d.$3=function(a){a=a?d.props.timeInMs+a:d.props.timeInMs+i;d.$5(a)},d.$4=function(a){a=b("TimeFormatUtil").parseToTimeInMs(a);d.$5(a)},d.$5=function(a){if(d.$6(a))d.props.onTimeChange&&d.props.onTimeChange(a),d.setState({errorMessage:null});else{a=d.props.minTime||0;a=g._("Valid time input")+": "+b("TimeFormatUtil").formatTime(a);d.props.maxTime&&(a+=" ~ "+b("TimeFormatUtil").formatTime(d.props.maxTime));d.setState({errorMessage:a})}},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return h.jsx(b("VideoCaptionTimestampItem.react"),{timeInMs:this.props.timeInMs,onBlur:this.$1,onDecrease:this.$2,onIncrease:this.$3,onTextChange:this.$4,onFocus:this.props.onFocus,errorMessage:this.state.errorMessage,ref:"timestampItem"})};d.blur=function(){this.refs.timestampItem&&this.refs.timestampItem.blur()};d.decrease=function(a){a=a?this.props.timeInMs-a:this.props.timeInMs-i;this.$5(a)};d.increase=function(a){a=a?this.props.timeInMs+a:this.props.timeInMs+i;this.$5(a)};d.$6=function(a){var b=this.props.minTime||0,c=this.props.maxTime||Number.MAX_VALUE;return a>=b&&a<=c};return c}(h.Component);a.propTypes={timeInMs:(c=b("prop-types")).number.isRequired,minTime:c.number,maxTime:c.number,onTimeChange:c.func,onFocus:c.func};e.exports=a}),null);
__d("VideoCaptionTimestamp.react",["cx","Event","React","VideoCaptionEditorStateEnums","VideoCaptionTimestampItemContainer.react","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("VideoCaptionEditorStateEnums").TimestampTypes;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=null,c.$3=function(a,b){b===i.END_TIME&&(a-=c.props.startTimeInMs),c.props.onTimeChange&&c.props.onTimeChange(a,b)},c.$2=function(a){if(!a.altKey)return;switch(a.keyCode){case 90:c.refs.startTime&&c.refs.startTime.decrease();break;case 88:c.refs.startTime&&c.refs.startTime.increase();break;case 67:c.refs.endTime&&c.refs.endTime.decrease();break;case 86:c.refs.endTime&&c.refs.endTime.increase();break;default:return}a.prevent();a.stop()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidUpdate=function(a){if(this.props.isSelected===a.isSelected)return;this.props.isSelected?this.$1=b("Event").listen(window,"keyup",this.$2):(this.$1&&this.$1.remove(),this.$1=null)};d.render=function(){var a=this,c=this.props.startTimeInMs+this.props.durationTimeInMs;return h.jsxs("div",{className:"_1aja",children:[h.jsx(b("VideoCaptionTimestampItemContainer.react"),{timeInMs:this.props.startTimeInMs,minTime:this.props.minTime,maxTime:c,onTimeChange:function(b){a.$3(b,i.START_TIME)},onFocus:this.props.onFocus,ref:"startTime"}),h.jsx(b("VideoCaptionTimestampItemContainer.react"),{timeInMs:c,minTime:this.props.startTimeInMs,maxTime:this.props.maxTime,onTimeChange:function(b){a.$3(b,i.END_TIME)},onFocus:this.props.onFocus,ref:"endTime"})]})};d.blur=function(){this.refs.startTime&&this.refs.startTime.blur(),this.refs.endTime&&this.refs.endTime.blur()};return c}(h.Component);a.propTypes={startTimeInMs:(c=b("prop-types")).number.isRequired,durationTimeInMs:c.number.isRequired,isSelected:c.bool,minTime:c.number,maxTime:c.number,onTimeChange:c.func,onFocus:c.func};e.exports=a}),null);
__d("VideoComposerCaptionEditorEditItem.react",["ix","cx","fbt","DialogExpansion","Image.react","React","ReactDOM","Tooltip","VideoCaptionTimestamp.react","VideoComposerDialogCaptionEditorConstants","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIError.react","XUIText.react","fbglyph","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={text:d.props.captionData.node.text,lastTextEntryTimeinMS:null},d.$2=function(a){d.setState({text:a.target.value,lastTextEntryTimeinMS:Date.now()});d.props.onStartTyping();var c=window.setTimeout(function(){var a=Date.now();d.state.lastTextEntryTimeinMS&&a-d.state.lastTextEntryTimeinMS>=b("VideoComposerDialogCaptionEditorConstants").RESUME_PLAYBACK_AFTER&&(d.props.onStopTyping(),window.clearTimeout(c))},b("VideoComposerDialogCaptionEditorConstants").RESUME_PLAYBACK_AFTER)},d.$1=function(){d.state.text!==d.props.captionData.node.text&&d.props.onTextChange&&d.props.onTextChange(d.state.text)},d.$5=function(a){a||d.props.onHandleDialogCancel()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){if(this.props.isSelected){var a=b("ReactDOM").findDOMNode(this);this.props.onScrollIntoView&&this.props.onScrollIntoView(a)}};d.componentDidUpdate=function(a){if(this.props.isSelected&&!a.isSelected){var c=b("ReactDOM").findDOMNode(this);this.props.onScrollIntoView&&this.props.onScrollIntoView(c)}!this.props.isSelected&&a.isSelected&&(this.refs.textInput&&this.refs.textInput.blur(),this.refs.timestamp&&this.refs.timestamp.blur());this.props.captionData!=a.captionData&&this.setState({text:this.props.captionData.node.text})};d.render=function(){var a="_6enm"+(this.props.isHovered&&!this.props.isSelected?" _6enn":"")+(this.props.isSelected?"":" _6eno")+(this.props.isSelected?" _6enp":""),c=this.props.captionData.node,d=this.props.emptyTextWarning?i._("Empty text is not allowed"):null;return j.jsxs("div",{className:a,onClick:this.props.onClick,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,role:"presentation",children:[j.jsxs("span",{className:"_6enq",children:[j.jsx("div",{className:"_4_9q",children:j.jsx("span",{className:"_3o8u",children:j.jsx(b("VideoCaptionTimestamp.react"),{durationTimeInMs:c.duration_in_ms,isSelected:this.props.isSelected,maxTime:this.props.maxTime,minTime:this.props.minTime,onTimeChange:this.props.onTimeChange,startTimeInMs:c.start_time_in_ms,ref:"timestamp",onFocus:this.props.onStartTyping})})}),j.jsx(b("XUIError.react"),{error:d,children:j.jsx("textarea",{className:"_6enr",maxLength:b("VideoComposerDialogCaptionEditorConstants").SEGMENT_LENGTH,ref:"textInput",name:"caption-text",placeholder:"Type in or paste your text here...",value:this.state.text,onBlur:this.$1,onChange:this.$2})})]}),j.jsxs("div",{className:"_6ens",children:[this.$3(),this.$4()]}),this.renderLayers()]})};d.$3=function(){var a=j.jsx(b("Image.react"),{src:this.props.emptyTextWarning?g("117905"):g("125915")});return this.props.isHovered||this.props.isSelected?j.jsx("span",babelHelpers["extends"]({"data-tooltip-alignh":"center","data-tooltip-position":"left",onClick:this.props.onAttemptDelete},b("Tooltip").propsFor(i._("Delete")),{role:"button",tabIndex:"0",children:a})):null};d.$4=function(){return(this.props.isHovered||this.props.isSelected)&&!this.props.hideInsertButton?j.jsx("span",babelHelpers["extends"]({"data-tooltip-alignh":"center","data-tooltip-position":"left",role:"button",tabIndex:"0",onClick:this.props.onInsert},b("Tooltip").propsFor(i._("Insert new")),{children:j.jsx(b("Image.react"),{src:g("126616")})})):null};d.renderLayers=function(){return j.jsxs(b("XUIDialog.react"),{behaviors:{DialogExpansion:b("DialogExpansion")},layerHideOnBlur:!1,shown:this.props.showDeleteConfirmDialog,width:400,onToggle:this.$5,children:[j.jsx(b("XUIDialogTitle.react"),{children:i._("Delete caption")}),j.jsx(b("XUIDialogBody.react"),{children:j.jsx(b("XUIText.react"),{size:"header4",display:"block",children:i._("This caption segment will be deleted from your video's captions. You can add or edit more caption segments later.")})}),j.jsxs(b("XUIDialogFooter.react"),{children:[j.jsx(b("XUIDialogButton.react"),{label:i._("Cancel"),use:"default",onClick:this.props.onHandleDialogCancel}),j.jsx(b("XUIDialogButton.react"),{label:i._("Delete Caption"),onClick:this.props.onHandleDialogConfirm,use:"confirm"})]})]},"dialog")};return c}(j.Component);a.propTypes={captionData:(c=b("prop-types")).object.isRequired,hideInsertButton:c.bool,isHovered:c.bool,isSelected:c.bool.isRequired,emptyTextWarning:c.bool,maxTime:c.number,minTime:c.number,quality:c.number,showDeleteConfirmDialog:c.bool.isRequired,onAttemptDelete:c.func.isRequired,onClick:c.func.isRequired,onEditingCaptionEntry:c.func.isRequired,onHandleDialogConfirm:c.func.isRequired,onHandleDialogCancel:c.func.isRequired,onInsert:c.func.isRequired,onMouseEnter:c.func,onMouseLeave:c.func,onScrollIntoView:c.func,onTextChange:c.func.isRequired,onTimeChange:c.func.isRequired,onStartTyping:c.func.isRequired,onStopTyping:c.func.isRequired};e.exports=a}),null);
__d("VideoComposerCaptionEditorEditItemContainer.react",["React","VideoCaptionEditorConfig","VideoCaptionEditorStateEnums","VideoComposerCaptionEditorActions","VideoComposerCaptionEditorEditItem.react","VideoComposerDialogCaptionEditorConstants","VideoPlayerReasonTransitionHelper"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("VideoCaptionEditorStateEnums").TimestampTypes,i=b("VideoCaptionEditorStateEnums").VideoCaptionQualityEnum;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isHovered:!1,showDeleteConfirmDialog:!1,emptyTextWarning:!1},d.$2=function(a){/^\s+$/.test(d.props.captionData.node.text)?d.$13():d.setState({showDeleteConfirmDialog:!0}),a.stopPropagation()},d.$3=function(a){d.props.onClick&&d.props.onClick()},d.$6=function(){d.setState({showDeleteConfirmDialog:!1})},d.$5=function(){d.state.showDeleteConfirmDialog&&d.$13()},d.$7=function(a){var b=d.props.captionData.node.start_time_in_ms+d.props.captionData.node.duration_in_ms,c=d.props.maxTime?d.props.maxTime-b:Number.MAX_VALUE;d.props.onInsert&&d.props.onInsert(b,c);a.stopPropagation()},d.$8=function(){d.setState({isHovered:!0})},d.$9=function(){d.setState({isHovered:!1})},d.$4=function(a){a===""?d.setState({emptyTextWarning:!0}):d.setState({emptyTextWarning:!1}),d.$14({text:a})},d.$10=function(a,b){b===h.START_TIME?d.$16(a):d.$15(a)},d.$11=function(){d.props.vpc&&d.props.vpc.pause()},d.$12=function(){d.props.vpc&&d.props.vpc.getCurrentTimePosition()*1e3<(d.props.maxTime?d.props.maxTime:0)&&d.props.vpc.play(new(b("VideoPlayerReasonTransitionHelper"))("autoplay_initiated"))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidUpdate=function(a){if(this.props.isSelected===a.isSelected)return};d.render=function(){var a=this.$1(),c=this.props.captionData.node.confidence||1;c=c<b("VideoCaptionEditorConfig").caption_quality_threhold_good?i.POOR:i.GOOD;return g.jsx(b("VideoComposerCaptionEditorEditItem.react"),{captionData:this.props.captionData,hideInsertButton:a,isHovered:this.state.isHovered,isSelected:this.props.isSelected,emptyTextWarning:this.state.emptyTextWarning,maxTime:this.props.maxTime,minTime:this.props.minTime,quality:c,showDeleteConfirmDialog:this.state.showDeleteConfirmDialog,onAttemptDelete:this.$2,onClick:this.$3,onEditingCaptionEntry:this.$4,onHandleDialogConfirm:this.$5,onHandleDialogCancel:this.$6,onInsert:this.$7,onMouseEnter:this.$8,onMouseLeave:this.$9,onScrollIntoView:this.props.onScrollIntoView,onTextChange:this.$4,onTimeChange:this.$10,onStartTyping:this.$11,onStopTyping:this.$12})};d.$14=function(a){var c={node:{id:this.props.captionData.node.id,confidence:this.props.captionData.node.confidence,text:this.props.captionData.node.text,duration_in_ms:this.props.captionData.node.duration_in_ms,start_time_in_ms:this.props.captionData.node.start_time_in_ms,left:(this.props.captionData.node.start_time_in_ms?this.props.captionData.node.start_time_in_ms:b("VideoComposerDialogCaptionEditorConstants").START_TIME_OFFSET_IN_MS)*b("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT,width:(this.props.captionData.node.duration_in_ms?this.props.captionData.node.duration_in_ms:b("VideoComposerDialogCaptionEditorConstants").DURATION_TIME_IN_MS)*b("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT}};for(var d in a)c.node[d]=a[d];c.node.confidence=1;b("VideoComposerCaptionEditorActions").editingCaptionEntry(this.props.videoComposerID,this.props.index,c)};d.$15=function(a){this.$14({duration_in_ms:a})};d.$16=function(a){var b=this.props.captionData.node.start_time_in_ms;b=b+this.props.captionData.node.duration_in_ms;this.$14({start_time_in_ms:a,duration_in_ms:b-a})};d.$13=function(){b("VideoComposerCaptionEditorActions").removeCaptionEntry(this.props.videoComposerID,this.props.index),this.setState({showDeleteConfirmDialog:!1,emptyTextWarning:!1})};d.$1=function(){if(!this.props.maxTime)return!1;var a=this.props.captionData.node.start_time_in_ms+this.props.captionData.node.duration_in_ms;a=this.props.maxTime-a;return a<=b("VideoCaptionEditorConfig").min_duration_to_insert};return c}(g.Component);e.exports=a}),null);
__d("VideoComposerCaptionEditorInsertCaptionItem.react",["ix","cx","fbt","Image.react","React","Tooltip","VideoComposerDialogCaptionEditorConstants","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={text:""},c.$1=function(a){c.setState({text:a.target.value})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$2=function(){return this.props.maxDuration<=b("VideoComposerDialogCaptionEditorConstants").START_TIME_OFFSET_IN_MS};d.render=function(){var a=this;return j.jsx("span",{className:"_6emi"+(this.$2()?" _6emj":""),children:j.jsxs("span",{className:"_6emk",children:[j.jsx("span",babelHelpers["extends"]({className:"_6eml","data-tooltip-alignh":"center","data-tooltip-position":"left",role:"button",tabIndex:"0",onClick:this.$2()?void 0:function(){a.props.onInsert(0,a.props.maxDuration,a.state.text),a.setState(function(a,b){return{text:""}})}},b("Tooltip").propsFor(this.$2()?i._("Too short to insert new"):i._("Insert new")),{children:j.jsx(b("Image.react"),{src:this.$2()?g("118606"):g("126616")})})),j.jsx("span",{className:"_6emm",children:j.jsx("textarea",{className:"_6emn",ref:"newCaption",name:"caption-text",placeholder:"Type in or paste your text here...",value:this.state.text,onChange:this.$1,rows:"1"})})]})})};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerCaptionEditorListSectionContainer.react",["cx","DateConsts","FluxContainer","React","ScrollableArea.react","VideoComposerCaptionEditorActions","VideoComposerCaptionEditorEditItemContainer.react","VideoComposerCaptionEditorInsertCaptionItem.react","VideoComposerDialogCaptionEditorConstants","VideoComposerStores","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getCaptionEditorStore(a.videoComposerID)]};c.calculateState=function(a,c){return{captions:(a=b("VideoComposerStores")).getCaptionEditorStore(c.videoComposerID).getCaptions(),vpc:a.getCaptionEditorStore(c.videoComposerID).getVPC(),captionSelected:a.getCaptionEditorStore(c.videoComposerID).getState().captionSelected,videoDuration:a.getCaptionEditorStore(c.videoComposerID).getState().videoDuration}};var d=c.prototype;d.$1=function(a){this.refs.ScrollableArea&&this.refs.ScrollableArea.getArea()&&this.refs.ScrollableArea.getArea().scrollIntoView(a)};d.$2=function(a,c,d,e){if(d<b("VideoComposerDialogCaptionEditorConstants").START_TIME_OFFSET_IN_MS)return;e={node:{id:"",text:e,start_time_in_ms:c+b("VideoComposerDialogCaptionEditorConstants").START_TIME_OFFSET_IN_MS,duration_in_ms:Math.min(d,b("VideoComposerDialogCaptionEditorConstants").DURATION_TIME_IN_MS)-b("VideoComposerDialogCaptionEditorConstants").START_TIME_OFFSET_IN_MS,confidence:1,left:(c+b("VideoComposerDialogCaptionEditorConstants").START_TIME_OFFSET_IN_MS)*b("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT,width:(Math.min(d,b("VideoComposerDialogCaptionEditorConstants").DURATION_TIME_IN_MS)-b("VideoComposerDialogCaptionEditorConstants").START_TIME_OFFSET_IN_MS)*b("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT}};b("VideoComposerCaptionEditorActions").addCaptionEntry(this.props.videoComposerID,a,e);b("VideoComposerCaptionEditorActions").setPreviewEntry(this.props.videoComposerID,a)};d.$3=function(){var a=this,c=this.state.captions,d=c.size>0?c.map(function(d,e){return h.jsx(b("VideoComposerCaptionEditorEditItemContainer.react"),{videoComposerID:a.props.videoComposerID,index:e,captionData:d,vpc:a.state.vpc,isSelected:e===a.state.captionSelected,maxTime:c.size>0&&e<c.size-1?c.get(e+1).node.start_time_in_ms:a.state.videoDuration*b("DateConsts").MS_PER_SEC,minTime:c.size>0&&e>0?c.get(e-1).node.start_time_in_ms+c.get(e-1).node.duration_in_ms:0,onClick:function(){return b("VideoComposerCaptionEditorActions").playPreviewEntry(a.props.videoComposerID,e)},onScrollIntoView:function(b){return a.$1(b)},onInsert:function(c,d){return a.$2(e+1,c,d,b("VideoComposerDialogCaptionEditorConstants").EMPTY_CAPTION_TEXT)}},e)}):b("immutable").List();return d};d.render=function(){var a=this,c=this.state.captions,d=this.$3();c=h.jsx(b("VideoComposerCaptionEditorInsertCaptionItem.react"),{maxDuration:c.size>0?c.get(0).node.start_time_in_ms:this.state.videoDuration,onInsert:function(b,c,d){return a.$2(0,b,c,d)}},"insert");d=d.splice(0,0,c);return h.jsx(b("ScrollableArea.react"),{ref:"ScrollableArea",className:"_6enc",children:d})};return c}(h.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerCaptionEditorMasterContainer.react",["FluxContainer","React","VideoComposerCaptionsContainer.react","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getMetadataStore(a.videoComposerID),b("VideoComposerStores").getUploadStore(a.videoComposerID),b("VideoComposerStores").getPremiereStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getUploadStore(c.videoComposerID).getState();var d=b("VideoComposerStores").getMetadataStore(c.videoComposerID).getState();c=b("VideoComposerStores").getPremiereStore(c.videoComposerID).getState();c=c.premiereSourceVideoID||d.videoID||"";var e=a.videoUploader?a.videoUploader:null;return{accessToken:d.accessToken,video_id:c,videoAssetID:d.videoAssetID,videoFile:a.videoFile,composerID:null,pageID:d.targetID?d.targetID:"",isVideoUploaded:d.dialogMode!=="video_upload"||e===null||a.uploadFinished,videoDurationInSec:d.videoDuration,composerDialogMode:d.dialogMode}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerCaptionsContainer.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID},this.state))};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerCaptionEditorPlayerLoading.react",["cx","React","SUIAtlasTheme","SUISpinner.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsx("span",{className:"_6er3",children:h.jsxs("span",{className:"_6er4",children:[h.jsx(b("SUISpinner.react"),{theme:b("SUIAtlasTheme")}),h.jsx("span",{children:this.props.text})]})})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerCaptionEditorPlayerSectionBodyContainer.react",["fbt","React","RelayFBEnvironment","RelayModern","VideoComposerCaptionEditorPlayerLoading.react","VideoComposerCaptionEditorVideoPlayerContainer.react","VideoComposerCaptionEditorPlayerSectionBodyContainerRelayQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j=b("RelayModern").QueryRenderer;b("RelayModern").graphql;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return i.jsxs("div",{children:[" ",i.jsx(j,{cacheConfig:{force:!0},environment:b("RelayFBEnvironment"),query:h!==void 0?h:h=b("VideoComposerCaptionEditorPlayerSectionBodyContainerRelayQuery.graphql"),variables:{video_id:this.props.video_id},render:function(c){var d=c.error;c=c.props;if(d)return i.jsx("div",{children:d.message});else if(c&&c.node)return i.jsx("div",{children:i.jsx(b("VideoComposerCaptionEditorVideoPlayerContainer.react"),{videoComposerID:a.props.videoComposerID,isProcessing:!1,video:c.node})});return i.jsx(b("VideoComposerCaptionEditorPlayerLoading.react"),{text:g._("Loading Video")})}})]})};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerCaptionEditorExit.react",["ix","cx","Image.react","React","SUIBusinessTheme","SUILink.react","SUIText.react","fbglyph"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=i.jsx(b("Image.react"),{src:g("124201")});switch(this.props.chevronSize){case"12":a=i.jsx(b("Image.react"),{src:g("124199")});break;case"16":a=i.jsx(b("Image.react"),{src:g("124200")});break;case"24":a=i.jsx(b("Image.react"),{src:g("124202")});break}var c=this.props.textSize?this.props.textSize:"medium",d=this.props.weight?this.props.weight:"normal";return i.jsxs("div",{role:"link",tabIndex:0,style:{alignItems:"center",display:"flex"},onClick:this.props.onClick,children:[i.jsx("span",{className:"_6ema",children:a}),i.jsx(b("SUILink.react"),{theme:b("SUIBusinessTheme"),showUnderline:"never",children:i.jsx(b("SUIText.react"),{cursor:"none",display:"block",size:c,weight:d,children:this.props.label})})]})};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerCaptionEditorPlayerSectionHeader.react",["cx","fbt","FBConfirmDialog.react","React","VideoComposerCaptionEditorExit.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return i.jsxs("div",{className:"_6enf",children:[i.jsx(b("VideoComposerCaptionEditorExit.react"),{chevClassName:"_6ema",chevronSize:"20",textSize:"header3",weight:"bold",label:h._("Captions").toString(),onClick:this.props.onClick}),i.jsx(b("FBConfirmDialog.react"),{className:"_6eng",title:h._("Save"),content:h._("Save changes to your caption?"),confirmButtonText:h._("Save"),cancelButtonText:h._("Exit without saving"),onConfirm:function(){return a.props.onConfirm&&a.props.onConfirm()},onCancel:function(){return a.props.onDontSave&&a.props.onDontSave()},onToggle:function(b){return a.props.onToggle&&a.props.onToggle(b)},shown:this.props.shouldShowExitDialog})]})};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerCaptionEditorPlayerSectionHeaderContainer.react",["FluxContainer","React","VideoCaptionEditorStateEnums","VideoComposerCaptionEditorActions","VideoComposerCaptionEditorPlayerSectionHeader.react","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("VideoCaptionEditorStateEnums").EditorStateEnum;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){d.state.editorState===h.UNSAVED?b("VideoComposerCaptionEditorActions").showExitDialog(d.props.videoComposerID):(b("VideoComposerCaptionEditorActions").confirmCloseDialog(d.props.videoComposerID),b("VideoComposerCaptionEditorActions").resetCaptionEditor(d.props.videoComposerID))},d.$2=function(a){a||b("VideoComposerCaptionEditorActions").cancelCloseDialog(d.props.videoComposerID)},d.$3=function(){b("VideoComposerCaptionEditorActions").startSaveCaptionChangeset(d.props.videoComposerID)},d.$4=function(){b("VideoComposerCaptionEditorActions").confirmCloseDialog(d.props.videoComposerID),b("VideoComposerCaptionEditorActions").resetCaptionEditor(d.props.videoComposerID)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(a){return[b("VideoComposerStores").getCaptionEditorStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getCaptionEditorStore(c.videoComposerID).getState();return{editorState:a.get("editorState"),shouldShowExitDialog:a.get("shouldShowExitDialog")}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerCaptionEditorPlayerSectionHeader.react"),{onClick:this.$1,shouldShowExitDialog:this.state.shouldShowExitDialog,onConfirm:this.$3,onDontSave:this.$4,onToggle:this.$2})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerCaptionEditorPlayhead.react",["cx","DateConsts","React","VideoComposerDialogCaptionEditorConstants","clearInterval","setInterval"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;b.state={positionInMs:0,poller:null};b.playheadRef=h.createRef();return b}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){var c=this;this.playheadRef.current&&this.playheadRef.current.scrollIntoView({block:"center",inline:"center"});if(a.isPlaying)var d=!1,e=b("setInterval")(function(){if(d)return;d=!0;c.setState({positionInMs:c.props.vpc?(c.props.vpc.getCurrentTimePosition()-c.props.startTimeOffset)*b("DateConsts").MS_PER_SEC:0,poller:e});d=!1},1);if(!a.isPlaying&&this.state.poller){b("clearInterval")(this.state.poller);this.setState({positionInMs:this.props.vpc?(this.props.vpc.getCurrentTimePosition()-this.props.startTimeOffset)*b("DateConsts").MS_PER_SEC:0,poller:null});return}};d.componentDidUpdate=function(a,c){this.playheadRef.current&&this.playheadRef.current.scrollIntoView({block:"center",inline:"center"}),c.poller!==this.state.poller&&c.poller!==null&&b("clearInterval")(c.poller)};d.render=function(){return h.jsxs("span",{children:[h.jsx("span",{className:"_6epa",style:{left:this.state.positionInMs*b("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT-4}}),h.jsx("span",{ref:this.playheadRef,className:"_6epb",style:{left:this.state.positionInMs*b("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT}})]})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerCaptionEditorPlayheadContainer.react",["FluxContainer","React","VideoComposerCaptionEditorPlayhead.react","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getCaptionEditorStore(a.videoComposerID),b("VideoComposerStores").getTrimmingEditorStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getCaptionEditorStore(c.videoComposerID).getState();c=b("VideoComposerStores").getTrimmingEditorStore(c.videoComposerID).getState();c=c.startTime;return{isPlaying:a.isPlaying,startTimeOffset:c||0,vpc:a.vpc}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerCaptionEditorPlayhead.react"),{isPlaying:this.state.isPlaying,startTimeOffset:this.state.startTimeOffset,vpc:this.state.vpc})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerCaptionEditorRightSectionContainer.react",["DateConsts","FluxContainer","React","VideoComposerCaptionEditorRightSection.react","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){var c;return[(c=b("VideoComposerStores")).getCaptionEditorStore(a.videoComposerID),c.getCaptionsStore(a.videoComposerID),c.getMetadataStore(a.videoComposerID),c.getTrimmingEditorStore(a.videoComposerID)]};c.calculateState=function(a,c){var d=(a=b("VideoComposerStores")).getCaptionEditorStore(c.videoComposerID).getState();d=d.language;var e=a.getCaptionsStore(c.videoComposerID).getState();e=e.shouldTrimCaptions;var f=a.getMetadataStore(c.videoComposerID).getState();f=f.videoDuration;a=a.getTrimmingEditorStore(c.videoComposerID).getState();c=a.endTime;a=a.startTime;c=c||f||0;a=a||0;return{language:d,shouldTrimCaptions:e,videoEndTimeInMs:c*b("DateConsts").MS_PER_SEC,videoStartTimeInMs:a*b("DateConsts").MS_PER_SEC}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerCaptionEditorRightSection.react"),{videoComposerID:this.props.videoComposerID,caption:this.props.caption,language:this.state.language,shouldTrimCaptions:this.state.shouldTrimCaptions,videoEndTimeInMs:this.state.videoEndTimeInMs,videoStartTimeInMs:this.state.videoStartTimeInMs})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerCaptionEditorSubtitlesDragAreaContainer.react",["cx","DateConsts","FluxContainer","React","VideoComposerCaptionEditorSubtitlesDragArea.react","VideoComposerDialogCaptionEditorConstants","VideoComposerStores","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getCaptionEditorStore(a.videoComposerID),b("VideoComposerStores").getTrimmingEditorStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getCaptionEditorStore(c.videoComposerID).getState();c=b("VideoComposerStores").getTrimmingEditorStore(c.videoComposerID).getState();var d=c.endTime;c=c.startTime;d=(d||a.videoDuration||0)*b("DateConsts").MS_PER_SEC+b("VideoComposerDialogCaptionEditorConstants").VIDEO_DURATION_PADDING;c=(c||0)*b("DateConsts").MS_PER_SEC;return{captionSelected:a.captionSelected,list:a.captions,videoDurationInMs:d-c}};var d=c.prototype;d.render=function(){return h.jsx("div",{className:"_647y",children:h.jsx(b("VideoComposerCaptionEditorSubtitlesDragArea.react"),{videoComposerID:this.props.videoComposerID,captionSelected:this.state.captionSelected,list:this.state.list,videoDurationInMs:this.state.videoDurationInMs})})};return c}(h.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoWithHiddenSubtitles",["SubscriptionsHandler"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){var c=this;this.$1=a;this.$2=new(b("SubscriptionsHandler"))();this.$2.addSubscriptions(this.$1.addListener("muteVideo",function(){c.$1.areSubtitlesActive()&&c.$1.toggleSubtitles()}))}var c=a.prototype;c.release=function(){this.$2.release()};return a}();e.exports=a}),null);
__d("VideoComponentHideSubtitles.react",["React","VideoComponent","VideoWithHiddenSubtitles"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.enable=function(a){this.vpc=a,this.$1=new(b("VideoWithHiddenSubtitles"))(this.vpc)};d.disable=function(){this.$1.release()};d.render=function(){return null};return c}(a.Component);e.exports=b("VideoComponent").createContainer(c)}),null);
__d("VideoComposerCaptionEditorPlayer.react",["cx","fbt","React","VideoComponentEmbeddedControls.react","VideoComponentHideSubtitles.react","VideoComponentPlayButton.react","VideoComponentScrubberPreview.react","VideoComponentWithLoopingPlayback.react","VideoComponentWithPlayStartEnd.react","VideoComponentWithSpacePlayPause.react","VideoComposerCaptionEditorPlayerLoading.react","VideoComposerDialogConstants","VideoDataContainer.react","VideoPlayer.react","XUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.shouldComponentUpdate=function(a){return JSON.stringify(this.props.videoData)!==JSON.stringify(a.videoData)||this.props.captionToDisplay!==a.captionToDisplay};d.$1=function(a){return i.jsx(b("VideoDataContainer.react"),{videoID:a,children:this.$2(b("VideoDataContainer.react").VIDEO_DATA_PLACEHOLDER)})};d.$2=function(a){var c=this;return i.jsxs(b("VideoPlayer.react"),{ref:function(a){c.ceVideoPlayer=a},videoData:a,width:b("VideoComposerDialogConstants").PLAYER_WIDTH,height:b("VideoComposerDialogConstants").PLAYER_HEIGHT,playerOrigin:"pages_video_tab",subOrigin:"inline",children:[i.jsx(b("VideoComponentPlayButton.react"),{}),i.jsx(b("VideoComponentEmbeddedControls.react"),{showSettingsButton:!1,displayElapsedTime:!0,displayDurationLimit:this.props.endTime-this.props.startTime,displayTimeOffset:this.props.startTime}),i.jsx(b("VideoComponentWithLoopingPlayback.react"),{}),i.jsx(b("VideoComponentWithPlayStartEnd.react"),{endTime:this.props.endTime,startTime:this.props.startTime,previewTimeOffset:this.props.startTime,onEnableVPC:this.props.onEnableVPC,onUpdateCurrentPlayPosition:this.props.onUpdateCurrentPlayPosition,onUpdatePlayerState:this.props.onUpdatePlayerState}),i.jsx(b("VideoComponentWithSpacePlayPause.react"),{}),i.jsx(b("VideoComponentScrubberPreview.react"),{}),i.jsx(b("VideoComponentHideSubtitles.react"),{})]})};d.render=function(){var a=null;this.props.videoData?a=this.$2(this.props.videoData):!this.props.videoID?a=i.jsx(b("VideoComposerCaptionEditorPlayerLoading.react"),{text:h._("Loading Video Failed")}):a=this.$1(this.props.videoID);var c=null;this.props.captionToDisplay&&(c=i.jsx(b("XUIText.react"),{className:"_6erp",children:this.props.captionToDisplay}));return i.jsxs("div",{children:[a,i.jsx("div",{style:{width:b("VideoComposerDialogConstants").PLAYER_WIDTH},className:"_6erq",children:i.jsx("div",{className:"_6err",children:c})})]})};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerCaptionEditorPlayerActions",["VideoComposerActionTypes","VideoComposerDispatchers"],(function(a,b,c,d,e,f){"use strict";a=function(a,c){b("VideoComposerDispatchers").get(a).dispatch({type:b("VideoComposerActionTypes").RESET_PLAYER,video:c})};c=function(a,c){b("VideoComposerDispatchers").get(a).dispatch({type:b("VideoComposerActionTypes").SET_VPC,vpc:c})};d=function(a,c){b("VideoComposerDispatchers").get(a).dispatch({type:b("VideoComposerActionTypes").SET_CURRENT_PLAY_POSITION,position:c})};f=function(a,c){b("VideoComposerDispatchers").get(a).dispatch({type:b("VideoComposerActionTypes").SET_DURATION,duration:c})};var g=function(a,c){b("VideoComposerDispatchers").get(a).dispatch({type:b("VideoComposerActionTypes").SET_PLAYER_STATE,isPlaying:c})};e.exports={resetPlayer:a,setVPC:c,setCurrentPlayPosition:d,setDuration:f,setPlayerState:g}}),null);
__d("VideoComposerCaptionEditorVideoPlayerContainer.react",["cx","DateConsts","FluxContainer","React","RelayModern","VideoComposerCaptionEditorActions","VideoComposerCaptionEditorPlayer.react","VideoComposerCaptionEditorPlayerActions","VideoComposerStores","immutable","VideoComposerCaptionEditorVideoPlayerContainer_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var j=-1;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){b("VideoComposerCaptionEditorPlayerActions").setVPC(d.props.videoComposerID,a)},d.$3=function(a){a=(a.position-d.state.startTime)*b("DateConsts").MS_PER_SEC;b("VideoComposerCaptionEditorPlayerActions").setCurrentPlayPosition(d.props.videoComposerID,a);d.$4(a)},d.$2=function(a){b("VideoComposerCaptionEditorPlayerActions").setPlayerState(d.props.videoComposerID,a)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(a){var c;return[(c=b("VideoComposerStores")).getCaptionEditorStore(a.videoComposerID),c.getCaptionsStore(a.videoComposerID),c.getPremiereStore(a.videoComposerID),c.getTrimmingEditorStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getCaptionEditorStore(c.videoComposerID).getState();var d=b("VideoComposerStores").getCaptionsStore(c.videoComposerID).getState(),e=b("VideoComposerStores").getPremiereStore(c.videoComposerID).getState();e=e.premiereSourceVideoID||a.videoID;c=b("VideoComposerStores").getTrimmingEditorStore(c.videoComposerID).getState();var f=c.endTime;c=c.startTime;return{captionEntries:a.captions,endTime:f||d.videoDurationInSec||0,previewEntry:a.previewEntry,startTime:c||0,videoData:d.videoData,videoID:e,nextEntryIdx:a.nextEntryIdx}};var d=c.prototype;d.UNSAFE_componentWillMount=function(){b("VideoComposerCaptionEditorPlayerActions").resetPlayer(this.props.videoComposerID,this.props.video)};d.componentDidMount=function(){b("VideoComposerCaptionEditorPlayerActions").resetPlayer(this.props.videoComposerID,this.props.video),b("VideoComposerCaptionEditorPlayerActions").setDuration(this.props.videoComposerID,this.state.endTime-this.state.startTime)};d.shouldComponentUpdate=function(a,b){return b.videoID!==this.state.videoID||b.previewEntry!==this.state.previewEntry||JSON.stringify(b.videoData)!==JSON.stringify(this.state.videoData)};d.render=function(){var a=this.state.previewEntry?this.state.previewEntry.node.text:null;return i.jsx("div",{className:"_6ep9",children:i.jsx(b("VideoComposerCaptionEditorPlayer.react"),{startTime:this.state.startTime,endTime:this.state.endTime,videoData:this.state.videoData,videoID:this.props.video.id,onEnableVPC:this.$1,onUpdatePlayerState:this.$2,onUpdateCurrentPlayPosition:this.$3,captionToDisplay:a})})};d.$4=function(a){if(this.state.captionEntries.size===0)return;var c=this.state.previewEntry?this.state.previewEntry.node.start_time_in_ms:0,d=this.state.previewEntry?this.state.previewEntry.node.duration_in_ms:0;d=c+d;if(a>=c&&a<=d)return;c=this.state.captionEntries;d=c.get(this.state.nextEntryIdx);var e=null;this.state.nextEntryIdx>0&&(e=c.get(this.state.nextEntryIdx-1));var f=d.node.start_time_in_ms+d.node.duration_in_ms;d=d.node.start_time_in_ms;if(a>=d&&a<=f){b("VideoComposerCaptionEditorActions").setPreviewEntry(this.props.videoComposerID,this.state.nextEntryIdx);return}d=0;e&&(d=e.node.start_time_in_ms+e.node.duration_in_ms);if(a<=f&&e&&a>=d){b("VideoComposerCaptionEditorActions").setPreviewEntry(this.props.videoComposerID,j);return}f=0;for(f=0;f<c.size;f++){e=c.get(f).node.start_time_in_ms;d=e+c.get(f).node.duration_in_ms;if(a>=e&&a<=d){b("VideoComposerCaptionEditorActions").setNextEntry(this.props.videoComposerID,f);return}}b("VideoComposerCaptionEditorActions").setPreviewEntry(this.props.videoComposerID,j)};return c}(i.Component);d=a(b("FluxContainer").create(c,{withProps:!0}),{video:h!==void 0?h:h=b("VideoComposerCaptionEditorVideoPlayerContainer_video.graphql")});d.moduleName="VideoComposerCaptionEditorVideoPlayerContainer.react";e.exports=d}),null);
__d("VideoComposerCaptionLandingAddSubtitleButtonsContainer.react",["FluxContainer","React","VideoCaptionFile","VideoComposerCaptionLandingAddSubtitleButtons.react","VideoComposerCaptionsTabActions","VideoComposerDialogCaptionEditorConstants","VideoComposerDialogCaptionEditorUtils","VideoComposerStores","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(){b("VideoComposerCaptionsTabActions").generate(d.props.videoComposerID)},d.$3=function(){d.$4("caption_create_button_clicked"),b("VideoComposerCaptionsTabActions").create(d.props.videoComposerID)},d.$5=function(a){var c=d.state.enableOldDataModel?d.state.localCaptionFiles.concat(d.state.captionURLsForXPost):d.state.captions,e=[],f={};a=a.files;var g=null,h=null;Array.from(a).forEach(function(a){d.$4("caption_selected");a=b("VideoCaptionFile").fromFile(a);var i=d.$6(a,c.concat(e));i&&(g=i,h=a);if(a){i||e.push(a);i=a.getLocale();f[i]=i in f?f[i]+1:1}});if(e.length>0){a=function(a){f[a]>=2&&(e=e.filter(function(b){return b.getLocale()!==a}))};for(var i in f)a(i);e.length>0&&(d.state.enableOldDataModel?b("VideoComposerCaptionsTabActions").uploadLocalCaptions(d.props.videoComposerID,e,g!==null):b("VideoComposerCaptionsTabActions").upload(d.props.videoComposerID,e,g!==null))}if(g){a=b("VideoComposerDialogCaptionEditorUtils").getCaptionErrorMessage(g,h?h.getLocaleName():null);a=b("immutable").List([a]);b("VideoComposerCaptionsTabActions").updateErrorState(d.props.videoComposerID,a);d.$4("caption_upload_error",g)}},d.$7=function(){d.$4("caption_upload_button_clicked")},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(a){var c;return[(c=b("VideoComposerStores")).getCaptionsStore(a.videoComposerID),c.getMetadataStore(a.videoComposerID),c.getUploadStore(a.videoComposerID),c.getTrimmingEditorStore(a.videoComposerID)]};c.calculateState=function(a,c){var d=(a=b("VideoComposerStores")).getCaptionsStore(c.videoComposerID).shouldEnableOldDataModel(),e=a.getCaptionsStore(c.videoComposerID).getEnableAdvancedCaptionsFeatures(),f=a.getUploadStore(c.videoComposerID).isUploading(),g=a.getCaptionsStore(c.videoComposerID).isSpokenLanguageSelected(),h=a.getCaptionsStore(c.videoComposerID).getHideLanguageSelectorForAutocaption();a=a.getMetadataStore(c.videoComposerID).getState();var i=a.accessToken,j=a.dialogMode;a=a.videoID;j=j==="video_edit"&&b("VideoComposerStores").getCaptionsStore(c.videoComposerID).getState().get("hasAutoGenV1")&&d;var k=b("VideoComposerStores").getCaptionsStore(c.videoComposerID).getState().isSRTUploading,l=!1;e?l=f||!g&&!h||k:d||(l=f);g=b("VideoComposerStores").getMetadataStore(c.videoComposerID).getState().get("videoDuration");h=b("VideoComposerStores").getTrimmingEditorStore(c.videoComposerID).isVideoTrimmed();return{accessToken:i,autoGenV1Subtitle:b("VideoComposerStores").getCaptionsStore(c.videoComposerID).getState().get("autoGenV1Subtitle"),captions:b("VideoComposerStores").getCaptionsStore(c.videoComposerID).getAllCaptions(),captionLocalesWithoutSubtitles:b("VideoComposerStores").getCaptionsStore(c.videoComposerID).getCaptionLocalesWithoutSubtitles(),captionURLsForXPost:b("VideoComposerStores").getCaptionsStore(c.videoComposerID).getState().get("captionURLs"),disableButtons:l,localCaptionFiles:b("VideoComposerStores").getCaptionsStore(c.videoComposerID).getState().get("localCaptionFiles"),enableOldDataModel:d,isVideoTrimmed:h,shouldShowCaptionEditorV1:j,hasAutoGenerated:this.$1(b("VideoComposerStores").getCaptionsStore(c.videoComposerID).getState(),c.videoComposerID),isAutoGenerating:b("VideoComposerStores").getCaptionsStore(c.videoComposerID).getState().isAutoGenerating,spokenLanguage:b("VideoComposerStores").getCaptionsStore(c.videoComposerID).getSpokenLanguage(),spokenLocale:b("VideoComposerStores").getCaptionsStore(c.videoComposerID).getSpokenLocale(),autoGeneratingLocale:b("VideoComposerStores").getCaptionsStore(c.videoComposerID).getAutoGeneratingLocale(),enableFeatures:e,videoID:a,videoDurationInSec:g}};c.$1=function(a,c){for(var a=a.drafts,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;if(f.creationMethod===b("VideoComposerDialogCaptionEditorConstants").AUTO_GENERATED)return!0}f=b("VideoComposerStores").getCaptionsStore(c).getSpokenLocale();return b("VideoComposerDialogCaptionEditorUtils").isAutoGenerateable(c,f)&&b("VideoComposerStores").getCaptionsStore(c).getCaptionLocalesWithoutSubtitles().indexOf(b("VideoComposerDialogCaptionEditorUtils").getHeadLocale(f))>-1};var d=c.prototype;d.$4=function(a,c){b("VideoComposerStores").getCaptionsStore(this.props.videoComposerID).getLogger().setEvent(a).setError(c).log()};d.$6=function(a,b){var c=null;!a?c="caption_error_wrong_format":this.$8(a.getLocale(),b)&&(c="caption_error_duplicate_locale");return c};d.$8=function(a,c){c=c.some(function(b){return b.locale===a});var d=b("VideoComposerDialogCaptionEditorUtils").getHeadLocale(this.state.autoGeneratingLocale||"");d=d===a;var e=this.state.captionLocalesWithoutSubtitles.some(function(b){return b===a});return c||d||e};d.render=function(){return g.jsx(b("VideoComposerCaptionLandingAddSubtitleButtons.react"),{videoComposerID:this.props.videoComposerID,autoGenV1Subtitle:this.state.autoGenV1Subtitle,disableButtons:this.state.disableButtons,accessToken:this.state.accessToken,localCaptionFiles:this.state.localCaptionFiles,captionLocalesWithoutSubtitles:this.state.captionLocalesWithoutSubtitles,enableFeatures:this.state.enableFeatures,shouldShowCaptionEditorV1:this.state.shouldShowCaptionEditorV1,hasAutoGenerated:this.state.hasAutoGenerated,isAutoGenerating:this.state.isAutoGenerating,isVideoTrimmed:this.state.isVideoTrimmed,spokenLanguage:this.state.spokenLanguage,spokenLocale:this.state.spokenLocale,onGenerate:this.$2,onCreate:this.$3,onUpload:this.$5,onUploadClick:this.$7,videoID:this.state.videoID,videoDurationInSec:this.state.videoDurationInSec})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerCaptionLandingAddSubtitleSectionContainer.react",["FluxContainer","React","VideoComposerCaptionLandingAddSubtitleSection.react","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getCaptionsStore(a.videoComposerID),b("VideoComposerStores").getUploadStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getCaptionsStore(c.videoComposerID).getState();a=a.drafts&&a.drafts.size>0;var d=b("VideoComposerStores").getCaptionsStore(c.videoComposerID).getEnableAdvancedCaptionsFeatures(),e=b("VideoComposerStores").getCaptionsStore(c.videoComposerID).shouldEnableOldDataModel(),f=b("VideoComposerStores").getCaptionsStore(c.videoComposerID).isSpokenLanguageSelected(),g=b("VideoComposerStores").getUploadStore(c.videoComposerID).isUploading();c=b("VideoComposerStores").getCaptionsStore(c.videoComposerID).getHideLanguageSelectorForAutocaption();var h=!1;d?h=g||!f&&!c:e||(h=g);return{disableSection:h,doSubtitlesExist:a,enableFeatures:d}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerCaptionLandingAddSubtitleSection.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID},this.state))};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerCaptionLandingAddedCaptionSectionContainer.react",["fbt","React","VideoComposerField.react","VideoComposerLandingScreenDraftListContainer.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=g._("Added captions"),c=g._("Here are the caption options that will be added to your video once it's been published or saved.");return h.jsx(b("VideoComposerField.react"),{input:h.jsx(b("VideoComposerLandingScreenDraftListContainer.react"),{videoComposerID:this.props.videoComposerID}),subtitle:c,title:a})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerCaptionLandingAutogenerateSection.react",["ix","cx","fbt","FDSCheckboxInput.react","Image.react","React","SUIGlyphIcon.react","VideoComposerDialogCaptionEditorConstants","VideoComposerField.react","VideoComposerLandingScreenLanguageSelector.react","XUIButton.react","asset","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=i._("Auto-generated captions"),c=i._("Captions will be automatically created. Once finished and posted, captions can be reviewed and edited.");this.props.autoStartAutoGen&&this.props.onGenerate();var d=j.jsxs("div",{children:[j.jsxs("div",{style:{display:"flex",flexWrap:"wrap"},children:[this.$1(),j.jsxs("div",{children:[j.jsx(b("XUIButton.react"),{className:"_6elc",disabled:this.props.disableAutogenerateButton,href:"#",image:j.jsx(b("Image.react"),{src:g("490341")}),label:i._("Auto-generate"),onClick:this.props.onGenerate,size:"xlarge"}),this.$2()]})]}),this.$3()]});return j.jsx(b("VideoComposerField.react"),{disableLeftSection:this.props.disableSection,input:d,showTopBorder:!1,subtitle:c,title:a})};d.$1=function(){var a=this;return this.props.hideLanguageSelector?null:j.jsx(b("VideoComposerLandingScreenLanguageSelector.react"),{className:"_6elc",dialectName:this.props.spokenLanguage,dialectType:"language_detection",isDisabled:this.props.disableLanguageButton,isLanguageSelected:this.props.isSpokenLanguageSelected,onSetDialect:function(b){return a.props.onSelectLocale(b)},onSetDialectName:function(b){return a.props.onSelectLanguage(b)},placeholder:b("VideoComposerDialogCaptionEditorConstants").NO_LANGUAGE_SELECTED,renderStyle:"default",slimButton:!0})};d.$2=function(){return this.props.autogenerateDisabledWarningText!==null?j.jsxs("div",{children:[j.jsx("div",{className:"_6ele",children:j.jsx(b("SUIGlyphIcon.react"),{srcDefault:g("132174")})}),j.jsx("div",{className:"_6elf",children:this.props.autogenerateDisabledWarningText})]}):null};d.$3=function(){var a=this;return!this.props.showAutopublishCaptionsFeature||this.props.autogenerateDisabledWarningText!==null?null:j.jsx("div",{className:"_89z7",children:j.jsx("div",{className:"_89z8",children:j.jsx("div",{className:"_89zf",children:j.jsx(b("FDSCheckboxInput.react"),{label:i._("Auto-generate captions for future uploads"),onChange:function(b){return a.props.onAutopublishCaptionsToggle(b)},value:this.props.shouldAutopublishCaptions})})})})};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerCaptionLandingAutogenerateSectionContainer.react",["fbt","FluxContainer","React","VideoComposerCaptionLandingAutogenerateSection.react","VideoComposerCaptionsTabActions","VideoComposerDialogCaptionEditorConstants","VideoComposerDialogCaptionEditorUtils","VideoComposerStores","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$6=function(a){a&&d.state.canToggleAutogenerate&&d.$7(),b("VideoComposerCaptionsTabActions").updateShouldAutopublishCaptions(d.props.videoComposerID,a)},d.$7=function(){b("VideoComposerCaptionsTabActions").generate(d.props.videoComposerID)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(a){var c;return[(c=b("VideoComposerStores")).getCaptionsStore(a.videoComposerID),c.getMetadataStore(a.videoComposerID),c.getTrimmingEditorStore(a.videoComposerID),c.getUploadStore(a.videoComposerID)]};c.calculateState=function(a,c){var d=(a=b("VideoComposerStores")).getUploadStore(c.videoComposerID).isUploading(),e=a.getCaptionsStore(c.videoComposerID).isSpokenLanguageSelected(),f=a.getCaptionsStore(c.videoComposerID).getState().isSRTUploading;a=a.getCaptionsStore(c.videoComposerID).getEnableAddCaptionWhenUploading();var g=a?!1:d;a=a?!1:d||f;var h=b("VideoComposerDialogCaptionEditorUtils").isAutoGenerateable(c.videoComposerID,b("VideoComposerStores").getCaptionsStore(c.videoComposerID).getSpokenLocale(),b("VideoComposerStores").getMetadataStore(c.videoComposerID).getState().get("videoDuration"),b("VideoComposerStores").getTrimmingEditorStore(c.videoComposerID).isVideoTrimmed()),i=this.$1(h,b("VideoComposerStores").getCaptionsStore(c.videoComposerID).getSpokenLocale(),b("VideoComposerStores").getMetadataStore(c.videoComposerID).getState().get("videoDuration"),b("VideoComposerStores").getTrimmingEditorStore(c.videoComposerID).isVideoTrimmed());e=!h||!(e||b("VideoComposerStores").getCaptionsStore(c.videoComposerID).getHideLanguageSelectorForAutocaption())||d||f||b("VideoComposerStores").getCaptionsStore(c.videoComposerID).getState().isAutoGenerating||this.$2(c.videoComposerID);d=b("gkx")("1291336")&&!e;f=this.$3(c,{disableAutogenerateButton:e});return{autogenerateDisabledWarningText:i,disableAutogenerateButton:e,disableSection:g,disableLanguageButton:a,hideLanguageSelector:b("VideoComposerStores").getCaptionsStore(c.videoComposerID).getHideLanguageSelectorForAutocaption(),isSpokenLanguageSelected:b("VideoComposerStores").getCaptionsStore(c.videoComposerID).isSpokenLanguageSelected(),shouldAutopublishCaptions:b("VideoComposerStores").getCaptionsStore(c.videoComposerID).getShouldAutopublishCaptions(),showAutopublishCaptionsFeature:b("VideoComposerStores").getCaptionsStore(c.videoComposerID).getShowAutopublishCaptionsFeature()&&h,spokenLanguage:b("VideoComposerStores").getCaptionsStore(c.videoComposerID).getSpokenLanguage(),spokenLocale:b("VideoComposerStores").getCaptionsStore(c.videoComposerID).getSpokenLocale(),canToggleAutogenerate:d,autoStartAutoGen:f}};var d=c.prototype;d.$4=function(a){b("VideoComposerCaptionsTabActions").selectSpokenLanguage(this.props.videoComposerID,a)};d.$5=function(a){b("VideoComposerCaptionsTabActions").selectSpokenLocale(this.props.videoComposerID,a)};c.$2=function(a){for(var c=b("VideoComposerStores").getCaptionsStore(a).getState().drafts,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;if(f.creationMethod===b("VideoComposerDialogCaptionEditorConstants").AUTO_GENERATED)return!0}f=b("VideoComposerStores").getCaptionsStore(a).getSpokenLocale();return b("VideoComposerDialogCaptionEditorUtils").isAutoGenerateable(a,f)&&b("VideoComposerStores").getCaptionsStore(a).getCaptionLocalesWithoutSubtitles().indexOf(b("VideoComposerDialogCaptionEditorUtils").getHeadLocale(f))>-1};c.$3=function(a,c){if(!b("gkx")("1291336"))return!1;var d=b("VideoComposerStores").getCaptionsStore(a.videoComposerID).getShouldAutopublishCaptions();if(!d)return!1;if(c.disableAutogenerateButton)return!1;d=b("VideoComposerStores").getCaptionsStore(a.videoComposerID).getState().draftsFetched;if(!d)return!1;c=b("VideoComposerStores").getCaptionsStore(a.videoComposerID).getState().autoGenerateCanceled;return c?!1:!0};c.$1=function(a,c,d,e){if(a||c===b("VideoComposerDialogCaptionEditorConstants").INITIAL_SPOKEN_LOCALE)return null;if(b("VideoComposerDialogCaptionEditorUtils").isVideoTooLong(d))return g._("Auto-generation is not available for videos longer than 2.5 hours");else if(e===!0)return g._("Auto-generation is not supported for trimmed video.");else return g._("Auto-generation is not available for this language")};d.render=function(){var a=this;return h.jsx(b("VideoComposerCaptionLandingAutogenerateSection.react"),{autogenerateDisabledWarningText:this.state.autogenerateDisabledWarningText,disableAutogenerateButton:this.state.disableAutogenerateButton,disableLanguageButton:this.state.disableLanguageButton,disableSection:this.state.disableSection,hideLanguageSelector:this.state.hideLanguageSelector,isSpokenLanguageSelected:this.state.isSpokenLanguageSelected,onAutopublishCaptionsToggle:this.$6,onGenerate:this.$7,onSelectLanguage:function(b){return a.$4(b)},onSelectLocale:function(b){return a.$5(b)},shouldAutopublishCaptions:this.state.shouldAutopublishCaptions,showAutopublishCaptionsFeature:this.state.showAutopublishCaptionsFeature,spokenLanguage:this.state.spokenLanguage,spokenLocale:this.state.spokenLocale,autoStartAutoGen:this.state.autoStartAutoGen})};return c}(h.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerCaptionLandingUploadSection.react",["ix","cx","fbt","FileInput.react","Image.react","React","VideoComposerField.react","XUIButton.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){a=a.target;a.value&&(c.props.onUpload(a),c.refs.captionFileInput.getFileInput().clear())},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=j.jsx("div",{style:{display:"flex",flexWrap:"wrap"},children:j.jsx("span",{className:"_6elc",style:{display:"flex"},children:j.jsx(b("FileInput.react"),{accept:".srt",ref:"captionFileInput",multiple:!0,disabled:this.props.disableButton,onChange:this.$1,onClick:this.props.onUploadClick,children:j.jsx(b("XUIButton.react"),{size:"xlarge",href:"#",disabled:this.props.disableButton,image:j.jsx(b("Image.react"),{src:g("490358")}),label:i._("Upload")})})})}),c=i._("Upload"),d=i._("Use SubRip (.srt) files to create captions for any language.");return j.jsx(b("VideoComposerField.react"),{input:a,subtitle:d,title:c,showTopBorder:!0,disableLeftSection:this.props.disableSection})};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerCaptionLandingUploadSectionContainer.react",["FluxContainer","React","VideoCaptionFile","VideoComposerCaptionLandingUploadSection.react","VideoComposerCaptionsTabActions","VideoComposerDialogCaptionEditorUtils","VideoComposerStores","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){var c=d.state.captions,e=[],f={};a=a.files;var g="",h=null;Array.from(a).forEach(function(a){d.$2("caption_selected");a=b("VideoCaptionFile").fromFile(a);var i=d.$3(a,c.concat(e));i&&(g=i,h=a);if(a){i||e.push(a);i=a.getLocale();f[i]=i in f?f[i]+1:1}});if(e.length>0){a=function(a){f[a]>=2&&(e=e.filter(function(b){return b.getLocale()!==a}))};for(var i in f)a(i);e.length>0&&b("VideoComposerCaptionsTabActions").upload(d.props.videoComposerID,e,g!==null)}if(g){a=b("VideoComposerDialogCaptionEditorUtils").getCaptionErrorMessage(g,h?h.getLocaleName():null);a=b("immutable").List([a]);b("VideoComposerCaptionsTabActions").updateErrorState(d.props.videoComposerID,a);d.$2("caption_upload_error",g)}},d.$4=function(){d.$2("caption_upload_button_clicked")},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(a){return[b("VideoComposerStores").getCaptionsStore(a.videoComposerID),b("VideoComposerStores").getUploadStore(a.videoComposerID)]};c.calculateState=function(a,c){var d=(a=b("VideoComposerStores")).getUploadStore(c.videoComposerID).isUploading(),e=a.getCaptionsStore(c.videoComposerID).isSpokenLanguageSelected(),f=a.getCaptionsStore(c.videoComposerID).getState().isSRTUploading;a=a.getCaptionsStore(c.videoComposerID).getEnableAddCaptionWhenUploading();f=a?f:d||!e||f;a=a?!1:d||!e;return{autoGeneratingLocale:b("VideoComposerStores").getCaptionsStore(c.videoComposerID).getAutoGeneratingLocale(),captions:b("VideoComposerStores").getCaptionsStore(c.videoComposerID).getAllCaptions(),captionLocalesWithoutSubtitles:b("VideoComposerStores").getCaptionsStore(c.videoComposerID).getCaptionLocalesWithoutSubtitles(),disableButton:f,disableSection:a}};var d=c.prototype;d.$2=function(a,c){b("VideoComposerStores").getCaptionsStore(this.props.videoComposerID).getLogger().setEvent(a).setError(c).log()};d.$3=function(a,b){if(!a)return"caption_error_wrong_format";else if(this.$5(a.getLocale(),b))return"caption_error_duplicate_locale";return""};d.$5=function(a,c){c=c.some(function(b){return b.locale===a});var d=b("VideoComposerDialogCaptionEditorUtils").getHeadLocale(this.state.autoGeneratingLocale||"");d=d===a;var e=this.state.captionLocalesWithoutSubtitles.some(function(b){return b===a});return c||d||e};d.render=function(){return g.jsx(b("VideoComposerCaptionLandingUploadSection.react"),{disableButton:this.state.disableButton,disableSection:this.state.disableSection,onUpload:this.$1,onUploadClick:this.$4})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerCaptionLandingWriteSection.react",["ix","cx","fbt","Image.react","React","VideoComposerField.react","XUIButton.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=j.jsx("div",{style:{display:"flex",flexWrap:"wrap"},children:j.jsx("span",{className:"_6elc",children:j.jsx(b("XUIButton.react"),{size:"xlarge",href:"#",disabled:this.props.disableButton,image:j.jsx(b("Image.react"),{src:g("490351")}),label:i._("Write"),onClick:this.props.onCreate})})}),c=i._("Write captions"),d=i._("Write or paste your own captions directly onto your video.");return j.jsx(b("VideoComposerField.react"),{input:a,subtitle:d,title:c,showTopBorder:!0,disableLeftSection:this.props.disableSection})};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerCaptionLandingWriteSectionContainer.react",["FluxContainer","React","VideoComposerCaptionLandingWriteSection.react","VideoComposerCaptionsTabActions","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){d.$2("caption_create_button_clicked"),b("VideoComposerCaptionsTabActions").create(d.props.videoComposerID)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(a){return[b("VideoComposerStores").getCaptionsStore(a.videoComposerID),b("VideoComposerStores").getUploadStore(a.videoComposerID)]};c.calculateState=function(a,c){var d=(a=b("VideoComposerStores")).getUploadStore(c.videoComposerID).isUploading(),e=a.getCaptionsStore(c.videoComposerID).isSpokenLanguageSelected(),f=a.getCaptionsStore(c.videoComposerID).getState().isSRTUploading;a=a.getCaptionsStore(c.videoComposerID).getEnableAddCaptionWhenUploading();c=a?f:d||!e||f;f=a?!1:d||!e;return{disableButton:c,disableSection:f}};var d=c.prototype;d.$2=function(a,c){b("VideoComposerStores").getCaptionsStore(this.props.videoComposerID).getLogger().setEvent(a).setError(c).log()};d.render=function(){return g.jsx(b("VideoComposerCaptionLandingWriteSection.react"),{disableButton:this.state.disableButton,disableSection:this.state.disableSection,onCreate:this.$1})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerCaptionsContainer.react",["cx","fbt","FluxContainer","React","UserAgent","VideoComposerCaptionEditorDialog.react","VideoComposerCaptionLandingSection.react","VideoComposerCaptionsTabActions","VideoComposerDialogCaptionEditorConstants","VideoComposerStores","XUINotice.react","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getCaptionsStore(a.videoComposerID)]};c.$1=function(a,c){for(var d=0;d<a.drafts.size;d++)if(a.drafts.get(d).locale!==b("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE)return!0;d=b("VideoComposerStores").getCaptionsStore(c).getCaptionLocalesWithoutSubtitles();for(var a=0;a<d.size;a++)if(d.get(a)!==b("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE)return!0;return!1};c.calculateState=function(a,c){a=b("VideoComposerStores").getCaptionsStore(c.videoComposerID).getState();var d=a.isAutoGenerating||a.isSRTUploading;b("VideoComposerStores").getCaptionsStore(c.videoComposerID).shouldEnableOldDataModel()?d=d||!a.get("captionURLs").isEmpty()||!a.get("localCaptionFiles").isEmpty():d=d||this.$1(a,c.videoComposerID);return{caption:a.selectedCaption,isAutoGenerateCanceling:a.autoGenerateCanceling,subtitleForDeletion:a.subtitleForDeletion,show_caption_editor:a.show_caption_editor,shouldShowDraftSection:d,errors:a.errors,enableFeatures:b("VideoComposerStores").getCaptionsStore(c.videoComposerID).getEnableAdvancedCaptionsFeatures(),enableAddCaptionWhileUploading:b("VideoComposerStores").getCaptionsStore(c.videoComposerID).getEnableAddCaptionWhenUploading()}};var d=c.prototype;d.UNSAFE_componentWillMount=function(){if(this.props.composerDialogMode==="video_crosspost")return;var a=b("VideoComposerStores").getCaptionsStore(this.props.videoComposerID).getState();if(a.video_id!==this.props.video_id||a.videoFile!==this.props.videoFile)b("VideoComposerCaptionsTabActions").resetCaptionsLandingTab(this.props.videoComposerID),b("VideoComposerCaptionsTabActions").initialize(this.props.videoComposerID,this.props.videoFile,this.props.video_id,this.props.accessToken,this.props.composerID,this.props.pageID,this.props.videoDurationInSec,this.props.composerDialogMode,this.props.isOldComposer!==null?this.props.isOldComposer:!1),this.props.isOldComposer!==!0&&b("VideoComposerCaptionsTabActions").tryLogCaptionLandingScreenOpenEvent(this.props.videoComposerID);else{b("VideoComposerCaptionsTabActions").tryResumeAutoGeneration(this.props.videoComposerID);return}};d.UNSAFE_componentWillReceiveProps=function(a){if(a.composerDialogMode==="video_crosspost")return;var c=a.video_id!==null&&a.video_id!=="",d=this.props.video_id!==a.video_id,e=this.props.videoFile!==a.videoFile;c&&(d||e)&&(b("VideoComposerCaptionsTabActions").initialize(this.props.videoComposerID,a.videoFile,a.video_id,this.props.accessToken,this.props.composerID,this.props.pageID,this.props.videoDurationInSec,this.props.composerDialogMode,this.props.isOldComposer!==null?this.props.isOldComposer:!1),(this.props.isOldComposer!==!0||b("VideoComposerStores").getCaptionsStore(this.props.videoComposerID).wasTabOpenedInOldComposer())&&b("VideoComposerCaptionsTabActions").tryLogCaptionLandingScreenOpenEvent(this.props.videoComposerID))};d.$2=function(){b("VideoComposerCaptionsTabActions").hideCaptionEditor(this.props.videoComposerID)};d.$3=function(){return b("UserAgent").isBrowser("Safari")};d.render=function(){var a=this;if(this.$3())return i.jsx(b("XUINotice.react"),{className:"_3-95",use:"warn",children:h._("You're using a browser that doesn't currently support the caption editor tool. We recommend using another browser.")});var c=null;this.state.show_caption_editor&&(c=i.jsx(b("VideoComposerCaptionEditorDialog.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID,video_id:this.props.video_id},this.state,{onCloseButtonClick:function(){return a.$2()}})));return i.jsxs("div",{className:"_6er8",children:[i.jsx(b("VideoComposerCaptionLandingSection.react"),{videoComposerID:this.props.videoComposerID,isAutoGenerateCanceling:this.state.isAutoGenerateCanceling,shouldShowDraftSection:this.state.shouldShowDraftSection,errors:this.state.errors,subtitleForDeletion:this.state.subtitleForDeletion,isVideoUploaded:this.props.isVideoUploaded,enableFeatures:this.state.enableFeatures,enableAddCaptionWhileUploading:this.state.enableAddCaptionWhileUploading}),c]})};return c}(i.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerCaptionsTabContainer.react",["FluxContainer","React","VideoComposerCaptionsTabConfig","VideoComposerStores","VideoComposerTabItemContainer.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getUIStore(a.videoComposerID),b("VideoComposerStores").getCaptionsStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getUIStore(c.videoComposerID).getState();a=a.selectedTab;return{isSelected:a==="captions",shouldShowNuxPill:b("VideoComposerStores").getCaptionsStore(c.videoComposerID).getShouldShowNuxPill()}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerTabItemContainer.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID,tabConfig:b("VideoComposerCaptionsTabConfig")},this.state))};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerLandingScreenDefaultLanguageSection.react",["fbt","React","VideoComposerField.react","XUISingleSelector.react","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("XUISingleSelector.react").Option;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a){this.props.onSelectLocale(a)};d.render=function(){var a=g._("Default language"),c=g._("If the user's preferred caption language isn't available, captions in this language will be used instead.");return h.jsx(b("VideoComposerField.react"),{input:this.getDropdownMenu(),subtitle:c,title:a})};d.getDropdownMenu=function(){var a=this,c=this.props.captionLocales.toArray().map(function(a){return h.jsx(i,{value:a.locale,children:a.fbt},a.locale)});this.props.defaultLocale||c.unshift(h.jsx(i,{value:"",children:g._("Choose language")},""));return h.jsx(b("XUISingleSelector.react"),{name:"default_locale_selector",size:"xlarge",disabled:!this.props.enableSection,onChange:function(b){return a.$1(b.value)},value:this.props.defaultLocale||"",children:c})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerLandingScreenDefaultLanguageContainer.react",["FluxContainer","React","VideoComposerCaptionsTabActions","VideoComposerDialogCaptionEditorUtils","VideoComposerLandingScreenDefaultLanguageSection.react","VideoComposerStores","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getCaptionsStore(a.videoComposerID),b("VideoComposerStores").getMetadataStore(a.videoComposerID)]};c.calculateState=function(a,c){var d=b("VideoComposerStores").getCaptionsStore(c.videoComposerID).getState();a=b("VideoComposerStores").getMetadataStore(c.videoComposerID).getState();a=a.isVideoAssetOwner;var e=b("VideoComposerStores").getCaptionsStore(c.videoComposerID).shouldEnableOldDataModel(),f=e?d.localCaptionFiles:d.captionFiles,g=null,h=[];f.forEach(function(a){if(a===null)return;if(!e&&b("VideoComposerDialogCaptionEditorUtils").isCaptionSubtitleDraftState(a,d.drafts))return;a.getIsDefault()&&(g=a.getLocale());h.push({locale:a.getLocale(),fbt:a.getLocaleName()})});h=b("immutable").List(h);f=h.size>0;c=b("VideoComposerStores").getCaptionsStore(c.videoComposerID).getIsCrosspostMode()&&!a;return{defaultLocale:g,captionLocales:h,enableSection:f,hideSection:c}};var d=c.prototype;d.$1=function(a){b("VideoComposerCaptionsTabActions").setDefaultLocale(this.props.videoComposerID,a)};d.render=function(){var a=this;return this.state.hideSection?null:g.jsx(b("VideoComposerLandingScreenDefaultLanguageSection.react"),{captionLocales:this.state.captionLocales,defaultLocale:this.state.defaultLocale,enableSection:this.state.enableSection,onSelectLocale:function(b){return a.$1(b)}})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoSubtitlePublishedStatusType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({DRAFT:0,PUBLISHED:1,PUBLISH_PENDING:2})}),null);
__d("VideoComposerDialogCaptionEditorPublishStateEnum",["VideoSubtitlePublishedStatusType","keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=Object.freeze(b("keyMirrorRecursive")(b("VideoSubtitlePublishedStatusType")));e.exports=a}),null);
__d("VideoComposerLandingScreenItem.react",["ix","cx","fbt","Image.react","React","SUIAtlasTheme","SUIButton.react","SUILink.react","Tooltip","VideoComposerDialogCaptionEditorConstants","XUIAbstractGlyphButton.react","XUIButton.react","XUICardSection.react","XUIText.react","asset","cxMargin","gkx"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$2=function(){c.props.disabled||c.props.onDelete()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.$1(),c=this.props.disabled?i._("This caption is present on the original video and cannot be modified. It will be carried over with your new post."):null,d=this.props.showEditAndReviewButton?j.jsx(b("SUILink.react"),{showUnderline:"never",onClick:this.$2,margin:"_3-8n",theme:b("SUIAtlasTheme"),children:j.jsx(b("Image.react"),{alt:i._("Close"),src:g("478812")})}):j.jsx(b("XUIAbstractGlyphButton.react"),{className:"_6en2",image:this.props.disabled?j.jsx(b("Image.react"),{src:g("394830")}):j.jsx(b("Image.react"),{src:g("394831")}),label:i._("Delete"),labelIsHidden:!0,onClick:this.$2}),e=this.props.captionsFeaturesMode==="old_data_model"?null:j.jsx("div",{className:"_6en3",title:this.props.hoverText,children:b("gkx")("1291336")?this.props.icon:j.jsx(b("SUIButton.react"),{borderedSides:[],disabled:this.props.disabled,hasHoverState:!1,label:"ChangeState",labelIsHidden:!0,icon:this.props.icon,height:"tall",theme:b("SUIAtlasTheme"),uniformOverride:b("VideoComposerDialogCaptionEditorConstants").BUTTON_UNIFORM,onClick:this.props.onChangeState,use:"default"})});return j.jsxs(b("XUICardSection.react"),babelHelpers["extends"]({},b("Tooltip").propsFor(c),{className:"_6en4"+(this.props.showEditAndReviewButton?"":" _84_j")+(this.props.showEditAndReviewButton?" _84_k":"")+(this.props.disabled?" _6en5":""),children:[j.jsxs("div",{className:"_6en6",children:[e,j.jsx(b("XUIText.react"),{className:"_6en7",size:"header4",weight:"bold",children:this.props.text})]}),j.jsxs("div",{className:"_6en8",children:[a,d]})]}))};d.$1=function(){var a=this;return!this.props.editable||this.props.captionsFeaturesMode!=="advanced_features_with_subtitles"?null:this.props.showEditAndReviewButton?j.jsx("span",{className:"_84_l",children:j.jsx(b("XUIButton.react"),{href:"#",label:i._("Review and Edit"),onClick:function(){return a.props.onEdit()},size:"large"})}):j.jsx("span",{className:"_6en9",children:j.jsx(b("SUIButton.react"),{borderedSides:[],hasHoverState:!1,label:"Edit",labelIsHidden:!0,icon:j.jsx(b("Image.react"),{src:g("363763")}),style:{marginRight:19},theme:b("SUIAtlasTheme"),uniformOverride:b("VideoComposerDialogCaptionEditorConstants").BUTTON_UNIFORM,onClick:function(){return a.props.onEdit()},use:"default"})})};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerLandingScreenDraftListContainer.react",["ix","cx","fbt","FlexLayout.react","FluxContainer","Image.react","React","VideoComposerCaptionEditorActions","VideoComposerCaptionsTabActions","VideoComposerDialogCaptionEditorConstants","VideoComposerDialogCaptionEditorPublishStateEnum","VideoComposerLandingScreenGeneratePillContainer.react","VideoComposerLandingScreenItem.react","VideoComposerStores","XUICard.react","XUISpinner.react","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getCaptionsStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getCaptionsStore(c.videoComposerID).getState();c=a.get("captionLocalesWithoutSubtitles");var d=a.get("localesWithoutSubtitlesToDelete");c=c.filter(function(a){return!d.contains(a)});var e=a.drafts.groupBy(function(a){return a.language}).filter(function(a,b){return a.size>1}).keySeq().toList();return{captionLocalesWithoutSubtitles:c,captionURLs:a.get("captionURLs"),captionsFeaturesMode:a.captionsFeaturesMode,drafts:a.drafts,duplicatedDraftLanguages:e,enableNullStateForCaptionsAdded:a.enableNullStateForCaptionsAdded,localCaptionFiles:a.get("localCaptionFiles"),isSRTUploading:a.isSRTUploading,isAutoGenerating:a.isAutoGenerating,showEditAndReviewButton:a.showEditAndReviewButton}};var d=c.prototype;d.$1=function(a){if(a===b("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISHED)return i._("Published");else if(a===b("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISH_PENDING)return i._("Publishing pending");else return i._("Draft")};d.$2=function(a){if(a===b("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISHED)return j.jsx(b("Image.react"),{src:g("119371")});else if(a===b("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISH_PENDING)return j.jsx(b("Image.react"),{src:g("132187")});return j.jsx(b("Image.react"),{src:g("125832")})};d.$3=function(a,c){var d=this,e=this.$2(a.getPublishState()),f=this.$1(a.getPublishState());a=i._("{language}",[i._param("language",a.getLocaleName())]);return this.$4(c,a,e,f,!0,!1,!0,function(){},function(){return b("VideoComposerCaptionsTabActions").deleteCaptionsURL(d.props.videoComposerID,c)},function(){return b("VideoComposerCaptionsTabActions").changePublishedStateURL(d.props.videoComposerID,c)})};d.$5=function(a,c){var d=this,e=this.$2(b("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISH_PENDING),f=this.$1(b("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISH_PENDING);a=i._("{language}",[i._param("language",a.getLocaleName())]);return this.$4(c,a,e,f,!0,!1,!1,function(){},function(){return b("VideoComposerCaptionsTabActions").deleteLocalCaptionFile(d.props.videoComposerID,c)},function(){})};d.$6=function(a,c){var d=this,e=i._("Some options are not available for crossposted captions or those added before the caption editor update"),f=i._("{locale}",[i._param("locale",a)]);return this.$4(c,f,j.jsx(b("Image.react"),{src:g("124177")}),e,!0,!1,!1,function(){},function(){return b("VideoComposerCaptionsTabActions").deleteLocaleWithoutSubtitle(d.props.videoComposerID,a)},function(){})};d.$7=function(a,c){var d=this,e=null,f=this.$2(a.publishedState),g=this.$1(a.publishedState),h=!0,j=null;this.state.duplicatedDraftLanguages.contains(a.language)?j=a.language+" ("+a.locale+")":j=a.language;a.creationMethod===b("VideoComposerDialogCaptionEditorConstants").AUTO_GENERATED?e=i._("{language with optional locale code}: auto-generated",[i._param("language with optional locale code",j)]):a.creationMethod===b("VideoComposerDialogCaptionEditorConstants").SPEECH_NON_SPEECH||a.creationMethod===b("VideoComposerDialogCaptionEditorConstants").MANUAL?e=i._("{language with optional locale code}: Written",[i._param("language with optional locale code",j)]):e=i._("{language with optional locale code}: Uploaded",[i._param("language with optional locale code",j)]);a.locale===b("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE&&(h=!1);return this.$4(c,e,f,g,h,!0,!1,function(){return d.$8(c)},function(){return b("VideoComposerCaptionsTabActions").deleteCaptionsDraft(d.props.videoComposerID,c)},function(){return b("VideoComposerCaptionsTabActions").changePublishedState(d.props.videoComposerID,c)})};d.$8=function(a){var c=this.state.drafts.get(a);b("VideoComposerCaptionsTabActions").editCaptionsDraft(this.props.videoComposerID,a);b("VideoComposerCaptionEditorActions").selectLanguage(this.props.videoComposerID,c.language);b("VideoComposerCaptionEditorActions").selectLocale(this.props.videoComposerID,c.locale);b("VideoComposerCaptionEditorActions").setIsAutoCaption(this.props.videoComposerID,c.creationMethod===b("VideoComposerDialogCaptionEditorConstants").AUTO_GENERATED)};d.$4=function(a,c,d,e,f,g,h,i,k,l){return!f?null:j.jsx(b("VideoComposerLandingScreenItem.react"),{captionsFeaturesMode:this.state.captionsFeaturesMode,disabled:h,editable:g,hoverText:e,icon:d,id:a,onChangeState:l,onEdit:i,onDelete:k,showEditAndReviewButton:this.state.showEditAndReviewButton,text:c},a+String(c))};d.render=function(){var a=this,c=null;this.state.captionsFeaturesMode==="old_data_model"?(c=this.state.captionURLs.map(function(b,c){b=a.$3(b,c);return b}),c=c.concat(this.state.localCaptionFiles.map(function(b,c){b=a.$5(b,c);return b}))):(c=this.state.drafts.map(function(b,c){return a.$7(b,c)}),c=c.concat(this.state.captionLocalesWithoutSubtitles.map(function(b,c){return a.$6(b,c)})));var d=null;this.state.isSRTUploading&&(d=j.jsx(b("FlexLayout.react"),{justify:"center",className:"_6eo6",children:j.jsx(b("XUISpinner.react"),{size:"large"})}));var e=i._("No captions have been added yet. Use any of the above to add captions.");e=this.state.enableNullStateForCaptionsAdded&&d===null&&this.state.isAutoGenerating===!1?j.jsx(b("XUICard.react"),{className:"_84f8",children:e}):null;return j.jsxs("div",{children:[d,j.jsx(b("VideoComposerLandingScreenGeneratePillContainer.react"),{videoComposerID:this.props.videoComposerID}),c===null||c.size===0?e:j.jsx(b("XUICard.react"),{children:c})]})};return c}(j.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerLandingScreenGeneratePill.react",["ix","cx","fbt","Image.react","React","SUIAtlasTheme","SUIButton.react","VideoComposerDialogCaptionEditorConstants","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=j.jsx(b("Image.react"),{src:g("116818")}),d=j.jsx(b("SUIButton.react"),{borderedSides:[],hasHoverState:!1,label:"Delete",labelIsHidden:!0,icon:j.jsx(b("Image.react"),{src:g("116302")}),onClick:function(){return a.props.onCancel()},uniformOverride:b("VideoComposerDialogCaptionEditorConstants").BUTTON_UNIFORM,theme:b("SUIAtlasTheme"),use:"default"}),e=i._("Once this has finished, you can review and edit generated captions.");return j.jsxs("div",{children:[j.jsxs("div",{className:"_6eq1",children:[j.jsx("div",{style:{width:this.props.progress*b("VideoComposerDialogCaptionEditorConstants").GENERATION_PILL_WIDTH/100},className:"_6eq2"}),j.jsxs("span",{className:"_6eq3",children:[j.jsxs("span",{className:"_6eq4",children:[j.jsx("span",{className:"_6eq5",children:c}),j.jsx("span",{className:"_6eq6",children:i._("{percentage}",[i._param("percentage",Math.round(this.props.progress)+"%")])}),j.jsx("span",{className:"_6eq6",children:this.props.text})]}),j.jsx("div",{className:"_6eq7",children:d})]})]}),j.jsx("div",{className:"_846w",children:e})]})};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerLandingScreenGeneratePillContainer.react",["fbt","FluxContainer","React","VideoComposerCaptionsTabActions","VideoComposerLandingScreenGeneratePill.react","VideoComposerStores"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getCaptionsStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getCaptionsStore(c.videoComposerID).getState();return{isAutoGenerating:a.isAutoGenerating,text:a.hideLanguageSelectorForAutocaption?g._("Generating Captions"):g._("Generating captions in {spokenLanguage}",[g._param("spokenLanguage",a.spokenLanguage)]),progress:a.progress}};var d=c.prototype;d.$1=function(){b("VideoComposerCaptionsTabActions").cancelGenerate(this.props.videoComposerID)};d.render=function(){var a=this;return this.state.isAutoGenerating?h.jsx(b("VideoComposerLandingScreenGeneratePill.react"),{text:this.state.text,progress:this.state.progress,onCancel:function(){return a.$1()}}):null};return c}(h.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerLandingScreenSpokenLanguageSection.react",["fbt","React","VideoComposerDialogCaptionEditorConstants","VideoComposerField.react","VideoComposerLandingScreenLanguageSelector.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=g._("Video language"),d=g._("Choose the main language spoken in the video."),e=h.jsx(b("VideoComposerLandingScreenLanguageSelector.react"),{dialectType:"language_detection",dialectName:this.props.spokenLanguage,isDisabled:this.props.isDisabled,isLanguageSelected:this.props.isSpokenLanguageSelected,placeholder:b("VideoComposerDialogCaptionEditorConstants").NO_LANGUAGE_SELECTED,renderStyle:"default",onSetDialectName:function(b){return a.props.onSelectLanguage(b)},onSetDialect:function(b){return a.props.onSelectLocale(b)}});return h.jsx(b("VideoComposerField.react"),{input:e,subtitle:d,title:c,showTopBorder:!1,disableLeftSection:this.props.isDisabled})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerLandingScreenSpokenLanguageContainer.react",["FluxContainer","React","VideoComposerCaptionsTabActions","VideoComposerLandingScreenSpokenLanguageSection.react","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getCaptionsStore(a.videoComposerID),b("VideoComposerStores").getUploadStore(a.videoComposerID)]};c.calculateState=function(a,c){return{hideSection:!b("VideoComposerStores").getCaptionsStore(c.videoComposerID).getEnableAdvancedCaptionsFeatures()||b("VideoComposerStores").getCaptionsStore(c.videoComposerID).getHideLanguageSelectorForAutocaption(),disableSection:b("VideoComposerStores").getUploadStore(c.videoComposerID).isUploading()||b("VideoComposerStores").getCaptionsStore(c.videoComposerID).getState().isAutoGenerating,spokenLanguage:b("VideoComposerStores").getCaptionsStore(c.videoComposerID).getSpokenLanguage(),isSpokenLanguageSelected:b("VideoComposerStores").getCaptionsStore(c.videoComposerID).isSpokenLanguageSelected()}};var d=c.prototype;d.$1=function(a){b("VideoComposerCaptionsTabActions").selectSpokenLanguage(this.props.videoComposerID,a)};d.$2=function(a){b("VideoComposerCaptionsTabActions").selectSpokenLocale(this.props.videoComposerID,a)};d.render=function(){var a=this;return this.state.hideSection?null:g.jsx(b("VideoComposerLandingScreenSpokenLanguageSection.react"),{spokenLanguage:this.state.spokenLanguage,isDisabled:this.state.disableSection,isSpokenLanguageSelected:this.state.isSpokenLanguageSelected,onSelectLanguage:function(b){return a.$1(b)},onSelectLocale:function(b){return a.$2(b)}})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerClippingContainer.react",["FluxContainer","React","VideoComposerClippingSection.react","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getMetadataStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getMetadataStore(c.videoComposerID).getState();c=a.videoID;var d=a.videoDataForID;a=a.videoDuration;a;return{videoID:c,videoData:d,videoDuration:a}};var d=c.prototype;d.render=function(){var a=this.state.videoID;return a!=null?g.jsx(b("VideoComposerClippingSection.react"),{videoComposerID:this.props.videoComposerID,videoID:a,videoData:this.state.videoData,videoDuration:this.state.videoDuration}):null};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerClippingActions",["VideoComposerActionTypes","VideoComposerDispatchers"],(function(a,b,c,d,e,f){"use strict";a=function(a,c){c={type:b("VideoComposerActionTypes").CLIPPING_SET_PLAYER_STATE,isPlaying:c};b("VideoComposerDispatchers").get(a).dispatch(c)};c=function(a,c){c={type:b("VideoComposerActionTypes").CLIPPING_SET_END_TIME,endTime:c};b("VideoComposerDispatchers").get(a).dispatch(c)};d=function(a,c){c={type:b("VideoComposerActionTypes").CLIPPING_SET_START_TIME,startTime:c};b("VideoComposerDispatchers").get(a).dispatch(c)};f=function(a,c){c={type:b("VideoComposerActionTypes").CLIPPING_SET_VPC,vpc:c};b("VideoComposerDispatchers").get(a).dispatch(c)};var g=function(a,c,d){c={endTime:c,startTime:d,type:b("VideoComposerActionTypes").CLIPPING_PREVIEW_BY_START_END};b("VideoComposerDispatchers").get(a).dispatch(c)},h=function(a){var c={type:b("VideoComposerActionTypes").CLIPPING_MANUAL_INPUT};b("VideoComposerDispatchers").get(a).dispatch(c)},i=function(a){var c={type:b("VideoComposerActionTypes").CLIPPING_SCRUBBER_INPUT};b("VideoComposerDispatchers").get(a).dispatch(c)},j=function(a){var c={type:b("VideoComposerActionTypes").CLIPPING_ADD_CLIP};b("VideoComposerDispatchers").get(a).dispatch(c)},k=function(a,c,d){c={type:b("VideoComposerActionTypes").CLIPPING_EDIT_CLIP,index:c,title:d};b("VideoComposerDispatchers").get(a).dispatch(c)},l=function(a,c){c={type:b("VideoComposerActionTypes").CLIPPING_DELETE_CLIP,index:c};b("VideoComposerDispatchers").get(a).dispatch(c)};e.exports={setPlayerState:a,setClippingEndTime:c,setClippingStartTime:d,setVPC:f,addClip:j,editClip:k,deleteClip:l,manualInput:h,scrubberInput:i,previewByStartEndTime:g}}),null);
__d("VideoComposerClippingList.react",["ix","cssVar","cx","fbt","AdsLWIInlineEditableText.react","FlexLayout.react","FlexLayoutItem.react","FluxContainer","LiveClippingUsageTypedLogger","React","SUIGlyphIcon.react","SUIMediaManagerTheme","SUITable.react","SUITableColumn.react","SUITableGenericCell.react","SUITableTextCell.react","SUITheme","VideoComponentEmbeddedControls.react","VideoComponentPlayButton.react","VideoComponentWithPlayStartEnd.react","VideoComponentWithSpacePlayPause.react","VideoComposerClippingActions","VideoComposerField.react","VideoComposerStores","VideoComposerTrimmingConstants","VideoPlayer.react","VideoPlayerLoggerSource","asset","cxMargin","immutable"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=b("React"),l=23/32,m=250,n=9/32,o=5,p=0,q=new(b("SUITheme"))({id:"branded-content",components:babelHelpers["extends"]({},b("SUIMediaManagerTheme"),{SUITable:babelHelpers["extends"]({},b("SUIMediaManagerTheme").SUITable,{colors:babelHelpers["extends"]({},b("SUIMediaManagerTheme").SUITable.colors,{hoverBackground:"#F5F6F7"})})})});a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getMetadataStore(a.videoComposerID),b("VideoComposerStores").getClippingStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getClippingStore(c.videoComposerID).getState();a=a.clipTimes;c=b("VideoComposerStores").getMetadataStore(c.videoComposerID).getState();var d=c.videoID;c=c.videoDataForID;return{clipTimes:a,videoID:d,videoData:c,draftTitle:""}};var d=c.prototype;d.$1=function(a,c){var d=this,e=j._("Add a title to the clip");e=k.jsx(b("AdsLWIInlineEditableText.react"),{className:"_3-8x",placeholder:e,maxWidth:m,size:"body1",value:this.state.draftTitle,onValueUpdate:function(a){return d.$2(a,c)}});a=this.$3(a,c);e=k.jsxs(b("FlexLayout.react"),{direction:"horizontal",justify:"all",children:[k.jsx(b("FlexLayoutItem.react"),{align:"start",children:e}),k.jsx(b("FlexLayoutItem.react"),{align:"end",style:{paddingLeft:"16px"},children:a})]});return e};d.$4=function(a,c,d){return k.jsxs(b("VideoPlayer.react"),{className:"_6eoq",autoplay:!1,height:b("VideoComposerTrimmingConstants").PLAYER_HEIGHT/4,videoData:d,subOrigin:"not_specified_please_fix",width:b("VideoComposerTrimmingConstants").PLAYER_WIDTH/4,children:[k.jsx(b("VideoComponentPlayButton.react"),{}),k.jsx(b("VideoComponentEmbeddedControls.react"),{showSettingsButton:!1,displayElapsedTime:!0}),k.jsx(b("VideoComponentWithSpacePlayPause.react"),{}),k.jsx(b("VideoComponentWithPlayStartEnd.react"),{endTime:a.endTime,startTime:a.startTime,onEnableVPC:this.props.onEnableVPCForClip,onUpdateCurrentPlayPosition:this.props.onUpdateCurrentPlayPosition,onUpdatePlayerState:this.props.onUpdatePlayerState})]})};d.$5=function(a){return k.jsx(b("SUITableGenericCell.react"),{align:"left",content:a.item.clipVideo,height:a.rowHeight})};d.$6=function(a){return k.jsx(b("SUITableGenericCell.react"),{align:"left",content:a.item.clipTitle,height:a.rowHeight})};d.$7=function(a){return k.jsx(b("SUITableTextCell.react"),{content:"",height:p})};d.$2=function(a,c){this.setState({draftTitle:a}),c!=void 0&&c!=null&&b("VideoComposerClippingActions").editClip(this.props.videoComposerID,c,a)};d.$3=function(a,c){var d=this;a=k.jsx(b("SUIGlyphIcon.react"),{srcActive:g("518037"),srcDefault:g("512146"),onClick:function(){return d.$8(c)}});return k.jsx("div",{children:a})};d.$8=function(a){b("VideoComposerClippingActions").deleteClip(this.props.videoComposerID,a),new(b("LiveClippingUsageTypedLogger"))().setEvent("VIDEO_COMPOSER_DELETE_CLIP_CLICKED").setVideoID(this.state.videoID).log()};d.render=function(){var a=this;if(this.state.videoID==null||this.state.videoData==null)return k.jsx("div",{});var c=this.state.clipTimes.map(function(b,c){var d=a.state.videoID,e=a.state.videoData;return d==null||e==null?{clipVideo:null,clipTitle:null}:{clipVideo:a.$4(b,d,e),clipTitle:a.$1(b,c)}});return k.jsxs("div",{className:"_3eh4",children:[k.jsx(b("VideoComposerField.react"),{showTopBorder:!1,title:j._("Your clips")}),k.jsxs(b("SUITable.react"),{borders:"rows",hasFlexibleColumnWidths:!0,fixedColumnCount:3,isBodyLoading:!1,loadingRowCount:o,headerProps:{item:[],height:p},theme:q,rowHeight:b("VideoComposerTrimmingConstants").PLAYER_HEIGHT/4+10,items:c,children:[k.jsx(b("SUITableColumn.react"),{cell:this.$5,header:this.$7,width:n}),k.jsx(b("SUITableColumn.react"),{cell:this.$6,header:this.$7,width:l})]}),this.state.clipTimes.size==0?k.jsx("div",{className:"_8ie5",children:j._("No clips to be created.")}):null]})};return c}(k.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerClippingManualInputRightSection.react",["React","VideoComposerTrimmingManualInputRightSection.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){return g.jsx(b("VideoComposerTrimmingManualInputRightSection.react"),{isManualInput:!0,videoComposerID:a.videoComposerID})}e.exports=a}),null);
__d("VideoComposerClippingManualInputSection.react",["ix","cx","fbt","FDSButton.react","FluxContainer","Image","LiveClippingUsageTypedLogger","React","VideoComposerClippingActions","VideoComposerClippingManualInputRightSection.react","VideoComposerField.react","VideoComposerStores","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("VideoComposerClippingActions").addClip(d.props.videoComposerID),new(b("LiveClippingUsageTypedLogger"))().setEvent("VIDEO_COMPOSER_ADD_CLIP_CLICKED").setVideoID(d.state.videoID).log()},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(a){return[b("VideoComposerStores").getMetadataStore(a.videoComposerID),b("VideoComposerStores").getClippingStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getClippingStore(c.videoComposerID).getState();var d=a.selectedStartTime;a=a.selectedEndTime;c=b("VideoComposerStores").getMetadataStore(c.videoComposerID).getState();var e=c.videoDuration;c=c.videoID;a=(a=a)!=null?a:0;d=(d=d)!=null?d:0;a=a-d;return{isAddClipDisabled:a<=0||a==e,videoID:c}};var d=c.prototype;d.render=function(){var a=i._("Add clip"),c=this.state.isAddClipDisabled?g("541410"):g("482647");a=j.jsxs("div",{children:[j.jsx(b("VideoComposerClippingManualInputRightSection.react"),{videoComposerID:this.props.videoComposerID}),j.jsx(b("FDSButton.react"),{label:a,icon:j.jsx(b("Image"),{src:c}),onClick:this.$1,use:"primary",width:"100%",isDisabled:this.state.isAddClipDisabled})]});return j.jsx("div",{className:"_3eh4",children:j.jsx(b("VideoComposerField.react"),{input:a,showTopBorder:!1,subtitle:i._("Use scrubber or edit timestamps to select clip length."),title:i._("Add clips to video library")})})};return c}(j.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerTrimmingVideoPlayer.react",["cx","fbt","ix","ErrorBoundary.react","Image.react","React","VideoComponentEmbeddedControls.react","VideoComponentPlayButton.react","VideoComponentWithPlayStartEnd.react","VideoComponentWithSpacePlayPause.react","VideoPlayer.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=j.jsxs(b("VideoPlayer.react"),{className:"_6eoq",autoplay:!1,height:this.props.height,videoData:this.props.videoData,subOrigin:"not_specified_please_fix",width:this.props.width,children:[j.jsx(b("VideoComponentPlayButton.react"),{}),j.jsx(b("VideoComponentEmbeddedControls.react"),{showSettingsButton:!1,displayElapsedTime:!0}),j.jsx(b("VideoComponentWithSpacePlayPause.react"),{}),j.jsx(b("VideoComponentWithPlayStartEnd.react"),{endTime:this.props.videoDuration,startTime:0,onEnableVPC:this.props.onEnableVPC,onUpdateCurrentPlayPosition:this.props.onUpdateCurrentPlayPosition,onUpdatePlayerState:this.props.onUpdatePlayerState})]}),c=j.jsxs("div",{className:"_6eor",style:{height:this.props.height,width:this.props.width},children:[j.jsx(b("Image.react"),{src:i("485937"),className:"_6eos"}),j.jsx("div",{className:"_6eot",children:h._("Video trimming unavailable")}),j.jsx("div",{className:"_6eou",children:h._("Video trimming is not available for this video file")})]});return j.jsx("div",{className:"_6eov",children:j.jsx(b("ErrorBoundary.react"),{children:j.jsx("div",{className:"_6eow"+(this.props.videoDuration?"":" _6eox"),children:this.props.videoDuration?a:c})})})};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerClippingSection.react",["React","VideoComposerClippingActions","VideoComposerClippingList.react","VideoComposerClippingManualInputSection.react","VideoComposerClippingSegmentBarContainer.react","VideoComposerClippingVisualizerContainer.react","VideoComposerTrimmingConstants","VideoComposerTrimmingVideoPlayer.react","cxMargin"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){b("VideoComposerClippingActions").setVPC(d.props.videoComposerID,a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$2=function(a){};d.$3=function(a){};d.$4=function(a){};d.render=function(){var a=this.props,c=a.videoData;a=a.videoDuration;return!c?g.jsx("div",{}):g.jsxs("div",{children:[g.jsx("div",{className:"_3-96",children:g.jsx(b("VideoComposerTrimmingVideoPlayer.react"),{height:b("VideoComposerTrimmingConstants").PLAYER_HEIGHT,width:b("VideoComposerTrimmingConstants").PLAYER_WIDTH,videoData:c,videoDuration:a,onEnableVPC:this.$1,onUpdatePlayerState:this.$4,onUpdateCurrentPlayPosition:this.$3})}),g.jsx(b("VideoComposerClippingVisualizerContainer.react"),{videoComposerID:this.props.videoComposerID}),g.jsx(b("VideoComposerClippingSegmentBarContainer.react"),{videoComposerID:this.props.videoComposerID}),g.jsx(b("VideoComposerClippingManualInputSection.react"),{videoComposerID:this.props.videoComposerID}),g.jsx(b("VideoComposerClippingList.react"),{videoComposerID:this.props.videoComposerID,onEnableVPCForClip:this.$2,onUpdatePlayerState:this.$4,onUpdateCurrentPlayPosition:this.$3})]})};return c}(g.PureComponent);e.exports=a}),null);
__d("VideoComposerClippingSegmentBar.react",["cssVar","cx","FBMultiSegmentBar.react","React","VideoComposerTrimmingConstants"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a){};d.render=function(){return i.jsx("div",{className:"_81ci",style:{marginLeft:b("VideoComposerTrimmingConstants").SCRUBBER_SLIDER_WIDTH,marginRight:b("VideoComposerTrimmingConstants").SCRUBBER_SLIDER_WIDTH},children:i.jsx(b("FBMultiSegmentBar.react"),{className:"_81cj _81ck",segments:this.props.segments,segmentsColor:"#4267b2",highlightedSegmentsColor:"#3578E5",onSegmentClick:this.$1})})};return c}(i.PureComponent);e.exports=a}),null);
__d("VideoComposerClippingSegmentBarContainer.react",["FluxContainer","React","VideoComposerClippingSegmentBar.react","VideoComposerStores","VideoFormattingUtils"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getMetadataStore(a.videoComposerID),b("VideoComposerStores").getClippingStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getMetadataStore(c.videoComposerID).getState();a=a.videoDuration;var d=a;if(d===null||d===void 0||d===0)return{segments:[]};c=b("VideoComposerStores").getClippingStore(c.videoComposerID).getState();c=c.clipTimes;var e=[];c.forEach(function(a,c){c=a.startTime;var f=a.endTime,g=a.endTime-a.startTime;f=b("VideoFormattingUtils").formatTime(c)+" - "+b("VideoFormattingUtils").formatTime(f)+" ("+b("VideoFormattingUtils").formatTimeDuration(g)+")";a.title!==""&&(f=f+" title: "+a.title);a={startPercentage:c/d*100,endPercentage:(c+g)/d*100,tooltip:f};e.push(a)});a;return{segments:e}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerClippingSegmentBar.react"),{videoComposerID:this.props.videoComposerID,segments:this.state.segments})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerClippingTabConfig",["ix","fbt","Promise","SimpleNUXMessageTypes","VideoComposerClippingContainer.react","VideoComposerClippingTabContainer.react","VideoComposerStores","asset"],(function(a,b,c,d,e,f,g,h){"use strict";a={key:"clipping",glyphSelected:g("915068"),glyphUnselected:g("556603"),title:h._("Video clipping"),defaultDescription:h._("Clip your live video."),tabContainer:b("VideoComposerClippingTabContainer.react"),bodyContainer:b("VideoComposerClippingContainer.react"),getCrosspostRequestDataToSend:function(a){return b("Promise").resolve()},getEditRequestDataToSend:function(a){return b("VideoComposerStores").getClippingStore(a).getPostDataForEdit()},getPostRequestDataToSend:function(a){return b("Promise").resolve()},fetchCrosspostData:function(a,c){return b("Promise").resolve()},fetchEditPostData:function(a,c){return b("Promise").resolve()},nuxMessage:b("SimpleNUXMessageTypes").VIDEO_COMPOSER_CLIPPING_TAB_NUX,renderNuxMessage:function(){return h._("New! You can now create clips from your live video.")}};e.exports=a}),null);
__d("VideoComposerClippingTabContainer.react",["FluxContainer","LiveClippingUsageTypedLogger","React","VideoComposerClippingTabConfig","VideoComposerStores","VideoComposerTabItemContainer.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){new(b("LiveClippingUsageTypedLogger"))().setEvent("VIDEO_COMPOSER_CLIPPING_TAB_SELECTED").setVideoID(d.state.videoID).log()},d.$2=function(a){a==="clipping"&&new(b("LiveClippingUsageTypedLogger"))().setEvent("VIDEO_COMPOSER_CLIPPING_TAB_RENDERED").setVideoID(d.state.videoID).log()},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(a){return[b("VideoComposerStores").getUIStore(a.videoComposerID),b("VideoComposerStores").getMetadataStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getUIStore(c.videoComposerID).getState();a=a.selectedTab;c=b("VideoComposerStores").getMetadataStore(c.videoComposerID).getState();var d=c.dialogMode;c=c.videoID;return{dialogMode:d,isSelected:a==="clipping",videoID:c}};var d=c.prototype;d.render=function(){return this.state.dialogMode==="video_edit"?g.jsx(b("VideoComposerTabItemContainer.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID,tabConfig:b("VideoComposerClippingTabConfig"),onTabClick:this.$1,onTabRender:this.$2},this.state)):null};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerClippingVisualizerContainer.react",["React","VideoComposerTrimmingVisualizerContainer.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerTrimmingVisualizerContainer.react"),{videoComposerID:this.props.videoComposerID,isScrubberInput:!0})};return c}(g.Component);e.exports=a}),null);
__d("VideoComposerMultipostInlineNux.react",["ix","cx","fbt","FlexLayout.react","Image.react","Link.react","React","SUIBusinessTheme","SUIButton.react","SUIText.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c=j.jsx(b("Link.react"),{className:"_7b-r",href:"#",onClick:this.props.onDismissClick,children:j.jsx(b("Image.react"),{src:g("480718")})}),d=j.jsx(b("SUIText.react"),{theme:a=b("SUIBusinessTheme"),color:"white",size:"body2",weight:"bold",margin:"_3-95",children:i._("Post across Pages")}),e=j.jsx(b("SUIText.react"),{theme:a,color:"white",size:"body2",margin:"_3-95",children:i._("Save time crossposting a video to Pages you own.")}),f=j.jsx(b("SUIButton.react"),{theme:a,label:i._("Try It Now"),use:"default",onClick:this.props.onTryNowClick});a=j.jsx(b("SUIText.react"),{theme:a,color:"white",size:"body2",children:i._("Dismiss")});return j.jsxs("div",{className:"_7b-s",children:[c,j.jsxs(b("FlexLayout.react"),{direction:"vertical",children:[d,e,j.jsxs(b("FlexLayout.react"),{align:"center",children:[j.jsx("div",{className:"_y8t",children:f}),j.jsx(b("Link.react"),{onClick:this.props.onDismissClick,className:"_7b-t",children:a})]})]})]})};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerCrossPostSection.react",["ix","cx","fbt","DOM","FlexLayout.react","Image.react","Link.react","MediaManagerTypedLogger","React","SimpleNUXMessage","SimpleNUXMessageTypes","Tooltip","URI","UserAgent","VideoComposerDistributionActions","VideoComposerField.react","VideoComposerMultipostInlineNux.react","VideosPublishingCheckboxItem.react","XMediaManagerController","XPagesManagerSettingsController","XUIButton.react","XUICard.react","XUIGrayText.react","XUISpinner.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=b("React"),l=3,m=g("408231");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showAll:!1,showNux:!b("SimpleNUXMessage").hasUserSeenMessage(b("SimpleNUXMessageTypes").CREATOR_STUDIO_MULTIPOST_UPSELL_NUX_ON_VIDEO_COMPOSER)&&d.props.showMultipostUpsellNux},d.$3=function(){return d.setState(function(a){return{showAll:!a.showAll}})},d.$5=function(){var a=b("XMediaManagerController").getURIBuilder().setFBID("multipost_page_id",d.props.pageID).setFBID("selected_single_page_id",d.props.pageID).setEnum("reference","liberty_multipost_video_composer_nux").getURI();d.$4(a)},d.$6=function(){b("SimpleNUXMessage").markMessageSeenByUser(b("SimpleNUXMessageTypes").CREATOR_STUDIO_MULTIPOST_UPSELL_NUX_ON_VIDEO_COMPOSER),d.setState({showNux:!1})},d.$7=function(){b("VideoComposerDistributionActions").crosspostLinkClicked(d.props.videoComposerID)},d.$8=function(){b("VideoComposerDistributionActions").refreshCrosspostPages(d.props.videoComposerID)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.state.showNux&&new(b("MediaManagerTypedLogger"))().setEvent("liberty_multipost_video_composer_impression").setEventSource("liberty_video_composer").setSelectedPageIds([this.props.pageID]).setMediaManagerVisitSource("liberty_multipost_video_composer_nux").log()};d.render=function(){var a=this.$1(),c=k.jsx(b("Link.react"),{href:"/help/678485232304895",target:"_blank",children:i._("Help Centre")});return k.jsx(b("VideoComposerField.react"),{input:a,subtitle:i._("Allow other Pages to use your video in their posts. Learn more about crossposting in the {Link. =Help Center}.",[i._param("Link. =Help Center",c)]),title:i._("Make available to other Pages"),showTopBorder:this.props.showTopBorder})};d.$2=function(){return b("XPagesManagerSettingsController").getURIBuilder().setString("page_token",this.props.pageID).setString("tab","video_crossposting").setString("ref","video_composer").getURI()};d.$4=function(a){new(b("MediaManagerTypedLogger"))().setEvent("liberty_multipost_video_composer_clicked").setEventSource("liberty_video_composer").setSelectedPageIds([this.props.pageID]).setMediaManagerVisitSource("liberty_multipost_video_composer_nux").log();new(b("MediaManagerTypedLogger"))().setEvent("liberty_redirection_clicked").setEventSource("liberty").setSelectedPageIds([this.props.pageID]).setMediaManagerVisitSource("liberty_multipost_video_composer_nux").log();if(b("UserAgent").isBrowser("Firefox")||b("UserAgent").isBrowser("IE11"))(j||(j=b("URI"))).goURIOnWindow(a,window.open("","liberty_creator_studio"),!0);else{var c=b("DOM").create("a");c.href=a;c.target="liberty_creator_studio";c.click()}};d.$1=function(){var a=this;if(!Array.isArray(this.props.crosspostPages))return k.jsx("div",{className:"_6elx",children:k.jsx(b("XUISpinner.react"),{size:"large"})});if(this.props.crosspostPages.length===0){var c=this.props.enableCrosspostRefresh?null:i._("When you have added Pages, click here to refresh the list");return k.jsx("div",{style:{width:"100%"},children:k.jsx(b("XUICard.react"),{children:k.jsxs(b("FlexLayout.react"),{direction:"vertical",justify:"all",align:"center",className:"_6ely",children:[k.jsx("div",{className:"_6elz",children:k.jsx(b("Image.react"),{src:g("398197")})}),k.jsx("div",{className:"_6el-",children:i._("Allow other Pages to crosspost your video")}),k.jsxs(b("FlexLayout.react"),{children:[k.jsx(b("XUIButton.react"),{size:"large",label:i._("Choose Pages"),target:"_blank",onClick:this.$7,href:this.$2(),imageRight:k.jsx(b("Image.react"),{src:g("401037")}),className:"_3-8_"}),k.jsx(b("XUIButton.react"),babelHelpers["extends"]({size:"large"},b("Tooltip").propsFor(c,"above"),{disabled:!this.props.enableCrosspostRefresh,label:i._("Refresh"),imageRight:k.jsx(b("Image.react"),{src:g("435672")}),onClick:this.$8}))]})]})})})}c=[];var d=null;this.props.crosspostPages.length<=l?c=this.props.crosspostPages:this.state.showAll?(c=this.props.crosspostPages,d=i._("See less")):(c=this.props.crosspostPages.slice(0,l),d=i._({"*":"See all {pages count} Pages"},[i._param("pages count",this.props.crosspostPages?this.props.crosspostPages.filter(function(a){return a.type==="page"}).length:0,[0])]));var e=this.state.showAll?g("401025"):g("363522");d=d===null?null:k.jsxs(b("Link.react"),{className:"_6el_",onClick:this.$3,children:[k.jsx(b("XUIGrayText.react"),{children:d}),k.jsx(b("Image.react"),{className:"_3-99",src:e})]});return k.jsxs("div",{style:{width:"100%"},children:[this.state.showNux?k.jsx(b("VideoComposerMultipostInlineNux.react"),{onDismissClick:this.$6,onTryNowClick:this.$5}):null,k.jsx(b("XUICard.react"),{children:c.map(function(c){return k.jsx(b("VideosPublishingCheckboxItem.react"),{checked:c.allow,label:a.getTranslatedOptionName(c.name,c.type),profilePicUri:c.profile_pic_uri,truncateText:!0,tooltip:a.getTooltipForCheckboxType(c.type,c.is_monetizable),tooltipAsset:c.is_monetizable?m:null,onToggle:function(){return a.props.onPageToggle(c.id,c.type)}},c.id)})}),d]})};d.getTranslatedOptionName=function(a,b){var c=i._("All Pages that are eligible for in-stream ads"),d=i._("All Pages in your Business Manager");switch(b){case"business":return d;case"monetizable_pages":return c;default:return a}};d.getTooltipForCheckboxType=function(a,b){var c=i._("If this Page crossposts your video, you'll keep all earnings from ad breaks on the post."),d=i._("Select this option to allow all Pages owned by your business to crosspost this video."),e=i._("You can earn money from in-stream ads when you allow these Pages to crosspost your video. Your Page will keep all earnings from crossposts.");switch(a){case"business":return d;case"monetizable_pages":return e;default:return this.props.shouldShowIsMonetizable&&b?c:null}};return c}(k.Component);e.exports=a}),null);
__d("VideoComposerDialogDrmSection.react",["cx","fbt","React","VideoComposerField.react","VideosPublishingCheckboxItem.react","XUICard.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=i.jsx(b("XUICard.react"),{className:"_6emz",children:i.jsx(b("VideosPublishingCheckboxItem.react"),{checked:this.props.enableDrm,label:h._("Enable digital rights management"),tooltip:h._("Video will be encrypted and delivered securely to players using DRM."),onToggle:this.props.onDrmToggle})}),c=h._("Restrict playback of your content to players that support DRM");return i.jsx(b("VideoComposerField.react"),{input:a,subtitle:c,title:h._("DRM")})};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerModerationSection.react",["cx","fbt","React","VideoComposerField.react","VideosPublishingCheckboxItem.react","XUICard.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=[{label:h._("Show graphic warning"),checked:this.props.showGraphicWarning,onToggle:function(){return a.props.onGraphicWarningToggle()},tooltip:h._("Viewers will see a warning that your video contains graphic content before it starts"),hidden:!this.props.showGraphicWarningOption},{label:h._("Turn off reactions, comments and shares"),checked:this.props.blockSocial,onToggle:function(){return a.props.onBlockSocialToggle()},tooltip:h._("People will not be able to share, react to or comment on your post"),disabled:this.props.disableBlockSocial,disabledTooltip:h._("Only available if a video is added as a secret video"),hidden:!this.props.showBlockSocialOption},{label:h._("Turn off live commentary"),checked:this.$1(),onToggle:function(){return a.props.onCommentatingPermissionToggle()},tooltip:h._("People won't be able to go live in a watch party if your video is playing"),hidden:!this.props.showCommentatingPermissionToggle}];c=i.jsx(b("XUICard.react"),{className:"_6ejo",children:c.map(function(a,c){return a.hidden?null:i.jsx(b("VideosPublishingCheckboxItem.react"),babelHelpers["extends"]({},a,{truncateText:!0}),c)})});var d=h._("Control what features will be made available on your videos.");return i.jsx(b("VideoComposerField.react"),{input:c,subtitle:d,showTopBorder:this.props.showTopBorder,title:h._("Moderation")})};d.$1=function(){return this.props.commentatingPermission==="disallow"};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerPlaylistSection.react",["fbt","React","VideoComposerField.react","VideoComposerPlaylistSelector.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=h.jsx(i,babelHelpers["extends"]({},this.props));return h.jsx(b("VideoComposerField.react"),{input:a,subtitle:g._("Playlists are for videos that share a similar theme (such as cooking recipes or sports highlights)."),title:g._("Add to playlists"),showTopBorder:!0})};return c}(h.Component);function i(a){return h.jsx("div",{style:{width:"100%"},children:h.jsx(b("VideoComposerPlaylistSelector.react"),{videoComposerID:a.videoComposerID,pageID:a.pageID,playlistIDs:a.playlistIDs,playlistOptions:a.playlistOptions,shownInDistributionTab:!0})})}e.exports=a}),null);
__d("VideoSeriesAndEpisodeSelector.react",["ix","cssVar","cx","fbt","MediaManagerShowsConstants","React","SUIBusinessTheme","SUIButton.react","SUIGlyphIcon.react","SUISelector.react","SUISelectorButton.react","SUISelectorOption.react","SUISelectorOptionGroup.react","SUIText.react","asset","immutable","nullthrows"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=b("MediaManagerShowsConstants").EXTRAS_SEASON_NUMBER,l=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a){var c=this.props,d=c.seriesOptionsMap;c=c.seriesToSeasonOptionsMap;var e=this.props.seriesID;if(e!=null){c=b("immutable").Map(c.get(e));c=c!=null&&this.props.seasonID!=null?c.get(this.props.seasonID).season_number:null;d=this.$2(d.get(e).title,c);return l.jsx(b("SUIText.react"),{customColorUseSparingly:"#444950",size:"body2",weight:"bold",theme:b("SUIBusinessTheme"),children:d})}return l.jsx(b("SUIText.react"),{customColorUseSparingly:a?"#444950":"#90949c",size:a?"body3":"body2",theme:b("SUIBusinessTheme"),weight:"bold",children:l.jsx("span",{style:{WebkitFontSmoothing:"subpixel-antialiased"},children:j._("Choose series")})})};d.$2=function(a,b){return b!=null?b===k?j._("{SeriesTitle}, season extras",[j._param("SeriesTitle",a)]):j._("{SeriesTitle}, season {SeasonNumber}",[j._param("SeriesTitle",a),j._param("SeasonNumber",b)]):this.$3(a)};d.$3=function(a){return j._("{Series Title}",[j._param("Series Title",a)])};d.$4=function(a){return j._("{Series Title}",[j._param("Series Title",l.jsx("span",{className:"_7yrc",children:a}))])};d.$5=function(a){return a===k?j._("{=Season Extras}",[j._param("=Season Extras",l.jsx("span",{className:"_7yrc",children:j._("Season extras")}))]):j._("{=Season} {seasonNumber}",[j._param("=Season",l.jsx("span",{className:"_7yrc",children:j._("Season")})),j._param("seasonNumber",a)])};d.$6=function(){var a={use:{"default":{chevron:l.jsx(b("SUIGlyphIcon.react"),{srcDefault:g("482773")})}}},c={use:{"default":{normal:{background:this.props.seriesID!=null?"#FFFFFF":"#F5F7F8"}}}};return l.jsx(b("SUISelectorButton.react"),{uniformOverride:a,uniformOverrideButton:c,style:{height:45},label:this.$1(!1)})};d.render=function(){var a=this,c,d=l.jsx(m,{label:j._("Not in any series"),isBold:!0});c=this.props.seriesID!=null&&this.props.seasonID!=null?this.props.seriesID+":"+this.props.seasonID:(c=this.props.seriesID)!=null?c:null;var e=l.jsx(b("SUIButton.react"),{icon:l.jsx(b("SUIGlyphIcon.react"),{srcDefault:g("530297"),srcDisabled:g("823493")}),label:this.$1(!0)});return l.jsxs(b("SUISelector.react"),{button:this.props.onLiveComposer?e:this.$6(),disabled:this.props.disabled,theme:b("SUIBusinessTheme"),value:c,width:this.props.onLiveComposer?"auto":"100%",onChange:this.props.onChange,children:[l.jsx(b("SUISelectorOption.react"),{value:null,children:d},0),this.props.seriesOptionsMap.keySeq().toArray().map(function(c){var d=a.$7(a.props.seriesToSeasonOptionsMap.get(c));return d!=null&&d.size!==0?l.jsx(b("SUISelectorOptionGroup.react"),{label:a.$4(a.props.seriesOptionsMap.get(c).title),children:d.keySeq().toArray().map(function(e){return l.jsx(b("SUISelectorOption.react"),{value:c+":"+e,children:l.jsx(m,{label:a.$5(b("nullthrows")(d).get(e).season_number),isBold:!1})},e)})},c):l.jsx(b("SUISelectorOption.react"),{value:c,children:l.jsx(m,{label:a.$3(a.props.seriesOptionsMap.get(c).title),isBold:!0})},c)})]})};d.$7=function(a){var b=null;a!=null&&a.size!==0&&(b=a.sort(function(a,b){return b.season_number-a.season_number}));return b};return c}(l.Component);function m(a){return l.jsx(b("SUIText.react"),{customColorUseSparingly:"#444950",size:"header4",weight:a.isBold?"bold":"normal",children:a.label})}e.exports=a}),null);
__d("VideoComposerShowsV2EpisodeSeriesSelector.react",["React","VideoComposerDistributionActions","VideoSeriesAndEpisodeSelector.react","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){if(a==null)b("VideoComposerDistributionActions").updateShowAndSeasonID(d.props.videoComposerID,null);else{a=a.split(":");a.length>1?b("VideoComposerDistributionActions").updateShowAndSeasonID(d.props.videoComposerID,a[0],a[1]):a.length>0&&b("VideoComposerDistributionActions").updateShowAndSeasonID(d.props.videoComposerID,a[0],null)}},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return g.jsx(b("VideoSeriesAndEpisodeSelector.react"),{disabled:this.props.disabled,seasonID:this.props.seasonID,seriesID:this.props.seriesID,seriesOptionsMap:this.props.seriesOptionsMap,seriesToSeasonOptionsMap:this.props.seriesToSeasonOptionsMap,onChange:this.$1,onLiveComposer:!1})};return c}(g.Component);e.exports=a}),null);
__d("VideoComposerShowsV2TrailerSeriesSelector.react",["ix","cssVar","cx","fbt","FDSText.react","FlexLayout.react","React","SUIBusinessTheme","SUIGlyphIcon.react","SUISelector.react","SUISelectorButton.react","SUISelectorOption.react","SUIText.react","asset","emptyFunction","immutable"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){var a=this.props,c=a.seriesID;a=a.seriesOptionsMap;return c!=null?this.$2(a.get(c).title):k.jsx(b("SUIText.react"),{customColorUseSparingly:"#90949c",size:"body2",theme:b("SUIBusinessTheme"),weight:"bold",children:k.jsx("span",{style:{WebkitFontSmoothing:"subpixel-antialiased"},children:j._("Choose series")})})};d.$2=function(a){return j._("{Series Title}",[j._param("Series Title",a)])};d.$3=function(){var a={use:{"default":{chevron:k.jsx(b("SUIGlyphIcon.react"),{srcDefault:g("482773")})}}},c={use:{"default":{normal:{background:this.props.seriesID!=null?"#FFFFFF":"#F5F7F8"}}}};return k.jsx(b("SUISelectorButton.react"),{uniformOverride:a,uniformOverrideButton:c,style:{height:45},label:this.$1()})};d.render=function(){var a=this;return k.jsx(b("FlexLayout.react"),{className:"_6ekq",children:k.jsxs(b("SUISelector.react"),{disabled:this.props.disabled,theme:b("SUIBusinessTheme"),width:"100%",button:this.$3(),onChange:b("emptyFunction"),value:this.props.seriesID,children:[k.jsx(b("SUISelectorOption.react"),{value:null,children:k.jsx(b("FDSText.react"),{size:"header4",weight:"bold",children:j._("Not in any series")})},0),this.props.seriesOptionsMap.keySeq().toArray().map(function(c){return k.jsx(b("SUISelectorOption.react"),{value:c,children:k.jsx(b("FDSText.react"),{size:"header4",weight:"bold",children:a.$2(a.props.seriesOptionsMap.get(c).title)})},c)})]})})};return c}(k.Component);e.exports=a}),null);
__d("VideoComposerShowsV2SeriesSection.react",["fbt","React","VideoComposerField.react","VideoComposerShowsV2EpisodeSeriesSelector.react","VideoComposerShowsV2TrailerSeriesSelector.react","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=h.jsx(i,babelHelpers["extends"]({},this.props));return h.jsx(b("VideoComposerField.react"),{input:a,title:g._("Add to a series"),tooltip:g._("An episode cannot appear in more than one series but can appear in any number of playlists."),subtitle:g._("Series are for episodic content that's part of the same narrative."),showTopBorder:this.props.showTopBorder})};return c}(h.Component);function i(a){return h.jsx("div",{style:{width:"100%"},children:a.isShowTrailer?h.jsx(b("VideoComposerShowsV2TrailerSeriesSelector.react"),{disabled:!0,seriesID:a.seriesID,seriesOptionsMap:a.seriesOptionsMap}):h.jsx(b("VideoComposerShowsV2EpisodeSeriesSelector.react"),{videoComposerID:a.videoComposerID,disabled:a.disabled,seriesID:a.seriesID,seasonID:a.seasonID,seriesOptionsMap:a.seriesOptionsMap,seriesToSeasonOptionsMap:a.seriesToSeasonOptionsMap})})}e.exports=a}),null);
__d("VideoComposerDistributionContainer.react",["cx","FluxContainer","React","VideoComposerCrossPostSection.react","VideoComposerDialogDistributionUtils","VideoComposerDialogDrmSection.react","VideoComposerDistributionActions","VideoComposerDistributionSection.react","VideoComposerFundraiserContainer.react","VideoComposerModerationSection.react","VideoComposerPlaylistSection.react","VideoComposerPublishingTypeSectionContainer.react","VideoComposerScheduleSectionContainer.react","VideoComposerShowsMatureContentSectionContainer.react","VideoComposerShowsV2SeriesSection.react","VideoComposerStores","VideoComposerUtils","gkx","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$6=function(){b("VideoComposerDistributionActions").toggleAddToPagesStory(d.props.videoComposerID)},d.$7=function(){b("VideoComposerDistributionActions").toggleDisplayInWatch(d.props.videoComposerID)},d.$9=function(){b("VideoComposerDistributionActions").toggleEmbedding(d.props.videoComposerID)},d.$10=function(){b("VideoComposerDistributionActions").toggleSecretVideo(d.props.videoComposerID)},d.$8=function(){b("VideoComposerDistributionActions").toggleNewsFeed(d.props.videoComposerID)},d.$11=function(a,c){b("VideoComposerDistributionActions").toggleCrosspostPage(d.props.videoComposerID,a,c)},d.$12=function(){b("VideoComposerDistributionActions").toggleGraphicWarning(d.props.videoComposerID)},d.$13=function(){b("VideoComposerDistributionActions").toggleBlockSocial(d.props.videoComposerID)},d.$14=function(){b("VideoComposerDistributionActions").toggleCommentatingPermission(d.props.videoComposerID)},d.$15=function(){b("VideoComposerDistributionActions").toggleDrm(d.props.videoComposerID)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(a){var c;return[(c=b("VideoComposerStores")).getDistributionStore(a.videoComposerID),c.getMetadataStore(a.videoComposerID),c.getBasicStore(a.videoComposerID),c.getPublishingStore(a.videoComposerID)]};c.calculateState=function(a,d){var e=(a=b("VideoComposerStores")).getDistributionStore(d.videoComposerID).getState(),f=a.getMetadataStore(d.videoComposerID).getState(),g=f.actorID,h=f.composerEntryPointRef,i=f.dialogMode,j=f.isVideoAssetOwner,k=f.isVideoShowPage,l=f.pagesComposerContextConfig,m=f.showVideoType,n=f.videoDuration,o=f.isOriginalVideo;f=f.isEditModeUpgrade;var p=a.getBasicStore(d.videoComposerID).getState(),q=p.composerConfig,r=p.enableDonationTagger,s=p.playlistIDs;p=p.playlistOptions;a=a.getPublishingStore(d.videoComposerID).getState();var t=a.postEndDate,u=a.publishingType,v=a.scheduleDate;a=a.isComposerPostScheduleRedesign;return{addToPagesStory:e.addToPagesStory,dialogMode:i,displayInWatch:e.displayInWatch,pageID:g||"",showInNewsFeed:e.showInNewsFeed,shouldShowIsMonetizable:e.shouldShowIsMonetizable,allowEmbedding:e.allowEmbedding,disableEmbeddingOption:e.disableEmbeddingOption,addAsSecretVideo:e.addAsSecretVideo,disableAddAsSecretVideo:e.disableAddAsSecretVideo,disableShowInNewsFeed:e.disableShowInNewsFeed,disableShowInWatchForSecretVideo:e.disableShowInWatchForSecretVideo,disableStoriesOption:!b("VideoComposerDialogDistributionUtils").enableAddToStoriesOption(q,l,n||0,u),crosspostPages:e.crosspostPages,allowGraphicWarningOption:e.allowGraphicWarningOption,showGraphicWarning:e.showGraphicWarning,showVideoType:m,blockSocial:e.blockSocial,disableBlockSocial:!e.addAsSecretVideo,enableCrosspostRefresh:e.enableCrosspostRefresh,isVideoAssetOwner:j,showDisplayInWatchOption:c.showDisplayInWatchOption(i),showDisplayInWatchOptionIsToggleEnabled:e.showDisplayInWatchOptionIsToggleEnabled,allowSettingDrm:e.allowSettingDrm,enableDrm:e.enableDrm,showNewTag:e.showNewTag,showStoriesIntegration:e.showStoriesIntegration,enableDonationTagger:r,commentatingPermission:e.commentatingPermission,showCommentatingPermissionToggle:b("VideoComposerStores").getDistributionStore(d.videoComposerID).getShowCommentatingPermissionToggle(),playlistIDs:s,playlistOptions:p,seriesOptionsMap:e.seriesOptionsMap,seriesToSeasonOptionsMap:e.seriesToSeasonOptionsMap,seasonID:e.seasonID,showID:e.showID,postEndDate:t,publishingType:u,scheduleDate:v,showMultipostUpsellNux:e.showMultipostUpsellNux,showPlaylistSection:b("VideoComposerDialogDistributionUtils").shouldShowPlaylistSelector(i,m,h,k,!0),disableSeriesSelector:b("VideoComposerUtils").isFromCreatorStudioShowsPanel(h),showSeriesSelectorAbovePublishingOptions:!b("VideoComposerUtils").isFromCreatorStudioShowsPanel(h)&&e.seriesOptionsMap.size>0,isABTestingFlow:h==="cs_ab_testing_video_upload",isShowTrailer:e.isShowTrailer,isComposerPostScheduleRedesign:a,isVideoCrosspost:!o,isEditModeUpgrade:f}};c.showDisplayInWatchOption=function(a){return a==="video_upload"};var d=c.prototype;d.$1=function(){return this.state.showVideoType!=="trailer"};d.$2=function(){var a=this.state.dialogMode==="video_crosspost";return!a&&this.state.isVideoAssetOwner};d.$3=function(){if(this.state.showVideoType==="trailer")return!1;var a=b("VideoComposerStores").getDistributionStore(this.props.videoComposerID).getShowCommentatingPermissionToggle();return this.state.dialogMode!=="video_edit"||a};d.$4=function(){var a=this.state.dialogMode==="video_edit"&&this.state.isVideoCrosspost;return b("gkx")("883498")&&this.state.dialogMode!=="video_crosspost"&&!a};d.$5=function(){var a=this.state.showSeriesSelectorAbovePublishingOptions,c=h.jsx(b("VideoComposerShowsV2SeriesSection.react"),{videoComposerID:this.props.videoComposerID,disabled:this.state.disableSeriesSelector,isShowTrailer:this.state.isShowTrailer,seasonID:this.state.seasonID,seriesID:this.state.showID,seriesOptionsMap:this.state.seriesOptionsMap,seriesToSeasonOptionsMap:this.state.seriesToSeasonOptionsMap,showTopBorder:!a});return a?h.jsxs("div",{children:[c,h.jsx("div",{className:"_6el3 _2pig"})]}):c};d.render=function(){var a=this.state.dialogMode==="video_edit",c=this.$2(),d=this.$4(),e=d&&!this.state.showSeriesSelectorAbovePublishingOptions,f=h.jsx(b("VideoComposerDistributionSection.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID},this.state,{postEndDate:this.state.postEndDate,scheduleDate:this.state.scheduleDate,showDisplayInWatchOption:this.state.showDisplayInWatchOption,showNewsFeedOption:!a,showSecretVideoOption:!a,showTopBorder:!0,onToggleAddToPagesStory:this.$6,onToggleDisplayInWatchOption:this.$7,onToggleNewFeed:this.$8,onToggleEmbedding:this.$9,onToggleSecretVideo:this.$10}));return h.jsx("div",{className:"_6epw",children:this.state.isABTestingFlow?h.jsxs(h.Fragment,{children:[h.jsx(b("VideoComposerPublishingTypeSectionContainer.react"),{videoComposerID:this.props.videoComposerID}),f]}):h.jsxs(h.Fragment,{children:[this.state.showSeriesSelectorAbovePublishingOptions&&d?this.$5():null,this.state.dialogMode==="video_upload"||this.state.dialogMode==="video_crosspost"||this.state.dialogMode==="video_edit"&&this.state.isEditModeUpgrade?h.jsx(b("VideoComposerPublishingTypeSectionContainer.react"),{videoComposerID:this.props.videoComposerID}):null,this.state.isComposerPostScheduleRedesign&&(this.state.dialogMode==="video_upload"||this.state.dialogMode==="video_edit"&&this.state.isEditModeUpgrade)?h.jsx(b("VideoComposerScheduleSectionContainer.react"),{videoComposerID:this.props.videoComposerID}):null,this.$1()?f:null,this.state.showPlaylistSection?h.jsx(b("VideoComposerPlaylistSection.react"),{videoComposerID:this.props.videoComposerID,pageID:this.state.pageID,playlistIDs:this.state.playlistIDs,playlistOptions:this.state.playlistOptions}):null,e?this.$5():null,c?h.jsx(b("VideoComposerCrossPostSection.react"),{videoComposerID:this.props.videoComposerID,pageID:this.state.pageID,crosspostPages:this.state.crosspostPages,shouldShowIsMonetizable:this.state.shouldShowIsMonetizable,enableCrosspostRefresh:this.state.enableCrosspostRefresh,onPageToggle:this.$11,showMultipostUpsellNux:this.state.showMultipostUpsellNux,showTopBorder:this.$1()||this.state.showPlaylistSection||e}):null,this.$3()?h.jsx(b("VideoComposerModerationSection.react"),babelHelpers["extends"]({},this.state,{showGraphicWarningOption:!a&&this.state.allowGraphicWarningOption,showBlockSocialOption:!a,showTopBorder:c||this.state.showPlaylistSection||e||this.$1(),onGraphicWarningToggle:this.$12,onBlockSocialToggle:this.$13,onCommentatingPermissionToggle:this.$14})):null,h.jsx(b("VideoComposerShowsMatureContentSectionContainer.react"),{videoComposerID:this.props.videoComposerID}),this.state.enableDonationTagger?null:h.jsx(b("VideoComposerFundraiserContainer.react"),{videoComposerID:this.props.videoComposerID}),this.state.allowSettingDrm?h.jsx(b("VideoComposerDialogDrmSection.react"),babelHelpers["extends"]({},this.state,{onDrmToggle:this.$15})):null]})})};return c}(h.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerDistributionTabContainer.react",["FluxContainer","React","VideoComposerDistributionTabConfig","VideoComposerStores","VideoComposerTabItemContainer.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getUIStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getUIStore(c.videoComposerID).getState();c=a.selectedTab;return{isSelected:c==="distribution"}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerTabItemContainer.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID,tabConfig:b("VideoComposerDistributionTabConfig")},this.state))};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("FundraiserForStoryCharityPickerRelaySearchSource",["AbstractRelaySearchSource","RelayFBEnvironment","RelayModern","SearchableEntry","nullthrows","FundraiserForStoryCharityPickerRelaySearchSourceQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("RelayModern").graphql;var h=10,i=g!==void 0?g:g=b("FundraiserForStoryCharityPickerRelaySearchSourceQuery.graphql");function j(a){return{query:i,variables:{query:a,limit:h}}}function k(a){a=(a=a)!=null?(a=a.fundraiser_charity_search)!=null?(a=a.search_results)!=null?a.edges:a:a:a;return!a?[]:a.map(function(a,c){var d;a=b("nullthrows")(a.node);return new(b("SearchableEntry"))({uniqueID:b("nullthrows")(a.id),title:b("nullthrows")(a.name),subtitle:(d=a)!=null?(d=d.charity_picker_subtitle)!=null?d.text:d:d,photo:(d=a)!=null?(d=d.profile_picture)!=null?d.uri:d:d,order:c,auxiliaryData:{verified:(d=a)!=null?(d=d.page)!=null?d.is_verified:d:d}})})}var l=function(a,b){return b(a)};a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c={bootstrapRequests:[{gen:function(a){return j(a)}}],queryRequests:[{gen:function(a){return j(a)}}],packageFn:k,getAllForEmptyQuery:!0};return a.call(this,b("RelayFBEnvironment"),c,l)||this}return c}(b("AbstractRelaySearchSource"));e.exports=a}),null);
__d("ComposerCharityTypeahead.react",["cx","FundraiserForStoryCharityPickerRelaySearchSource","FundraiserNonprofitSearchNullStateHintTextQE","QE2Logger","React","XUITypeahead.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$2=function(a){a=a.target.value;d.setState({query:a});!a&&d.props.onClear&&d.props.onClear()};d.$3=function(a){d.setState({query:a.getTitle()}),d.props.onSelect(a)};d.$1=new(b("FundraiserForStoryCharityPickerRelaySearchSource"))();d.state={query:c.query?c.query:""};return d}var d=c.prototype;d.componentDidMount=function(){this.props.focusOnMount&&this.refs.typeahead&&this.refs.typeahead.focusInput()};d.render=function(){var a=this.props.placeholder;a||(b("QE2Logger").logExposureForUser(b("FundraiserNonprofitSearchNullStateHintTextQE").universe),a=b("FundraiserNonprofitSearchNullStateHintTextQE").search_bar_hint_text);return h.jsx(b("XUITypeahead.react"),{className:"_5esx",onChange:this.$2,onSelectAttempt:this.$3,placeholder:a,queryString:this.state.query,ref:"typeahead",searchSource:this.$1,showEntriesOnFocus:!0})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerFundraiserContainer.react",["cx","fbt","ComposerCharityTypeahead.react","FluxContainer","React","VideoComposerDistributionActions","VideoComposerField.react","VideoComposerStores"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){b("VideoComposerDistributionActions").updateCharityData(d.props.videoComposerID,{id:a.getUniqueID(),title:a.getTitle()})},d.$2=function(){b("VideoComposerDistributionActions").updateCharityData(d.props.videoComposerID,null)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(a){return[b("VideoComposerStores").getDistributionStore(a.videoComposerID),b("VideoComposerStores").getMetadataStore(a.videoComposerID)]};c.calculateState=function(a,d){a=b("VideoComposerStores").getDistributionStore(d.videoComposerID).getState();var e=a.charityData;a=a.showFundraiser;d=b("VideoComposerStores").getMetadataStore(d.videoComposerID).getState();d=d.dialogMode;return{charityData:e,shouldShowFundraiser:c.shouldShowFundraiser(d,a)}};c.shouldShowFundraiser=function(a,b){return a==="video_upload"&&b};var d=c.prototype;d.render=function(){if(!this.state.shouldShowFundraiser)return null;var a=h._("Add a button to raise money for a non-profit (optional)"),c=i.jsx("div",{className:"_29n1",children:i.jsx(b("ComposerCharityTypeahead.react"),{onSelect:this.$1,onClear:this.$2,focusOnMount:!1,query:this.state.charityData?this.state.charityData.title:null})});return i.jsx(b("VideoComposerField.react"),{input:c,subtitle:a,title:h._("Donate button"),showTopBorder:!0})};return c}(i.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerMatureContentRatingUtils",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={UNSET:{label:g._("Who can watch")},SUITABLE_FOR_ALL:{label:g._("Anyone"),description:g._("This video may contain suggestive dialogue, sexual situations or moderate violence.")},FOURTEEN_PLUS:{label:g._("Anyone 14 or older"),description:g._("This video may contain strong language, sexual content, violence or other material unsuitable for children under 14.")},EIGHTEEN_PLUS:{label:g._("Anyone 18 or older"),description:g._("This video may contain crude language, explicit sexual content, graphic violence or other material unsuitable for children under 18.")}};b={NOT_INITIATED:"NOT_INITIATED",IN_PROGRESS:"IN_PROGRESS",SUBMITTED:"SUBMITTED"};e.exports={MATURE_CONTENT_LABELS:a,MATURE_CONTENT_APPEAL_FORM_STATUS:b}}),null);
__d("VideoComposerShowsMatureContentAppealFormSection.react",["cx","fbt","FDSButton.react","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","React","SUIBusinessTheme","SUITextArea.react","VideoComposerDistributionActions","VideoComposerField.react","VideoComposerMatureContentRatingUtils"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("VideoComposerMatureContentRatingUtils").MATURE_CONTENT_LABELS,k=480;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={additionalInfo:"",expectedMatureContentRating:0},d.$1=function(a){d.setState({expectedMatureContentRating:a})},d.$3=function(){b("VideoComposerDistributionActions").submitMatureContentAppealForm(d.props.videoComposerID,d.props.pageID,d.props.videoID,d.props.originalMatureContentRating,d.state.expectedMatureContentRating,d.state.additionalInfo),b("VideoComposerDistributionActions").hideMatureContentAppealForm(d.props.videoComposerID)},d.$7=function(){b("VideoComposerDistributionActions").hideMatureContentAppealForm(d.props.videoComposerID)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$2=function(a){this.setState({additionalInfo:a})};d.$4=function(){var a=[];switch(this.props.originalMatureContentRating){case 2:a.push(1);a.push(3);break;case 3:a.push(1);a.push(2);break;default:break}var c=[];a.forEach(function(a){switch(a){case 1:c.push(i.jsx(b("FDSDropdownSelectorOption.react"),{description:j.SUITABLE_FOR_ALL.description,value:1,children:j.SUITABLE_FOR_ALL.label},0));break;case 2:c.push(i.jsx(b("FDSDropdownSelectorOption.react"),{description:j.FOURTEEN_PLUS.description,value:2,children:j.FOURTEEN_PLUS.label},1));break;case 3:c.push(i.jsx(b("FDSDropdownSelectorOption.react"),{description:j.EIGHTEEN_PLUS.description,value:3,children:j.EIGHTEEN_PLUS.label},2));break;default:break}});a=i.jsx(b("FDSDropdownSelector.react"),{buttonTextAlign:"left",dropdownWidth:320,name:"age_restriction",onChange:this.$1,placeholder:j.UNSET.label,buttonSize:"large",value:this.state.expectedMatureContentRating,children:c});var d=i.jsx("div",{children:h._("Choose preferred rating")}),e=h._("Select the audience age range that your content is suitable for.");return i.jsx(b("VideoComposerField.react"),{input:a,showTopBorder:!1,subtitle:e,title:d})};d.$5=function(){var a=this,c=i.jsx(b("SUITextArea.react"),{theme:b("SUIBusinessTheme"),placeholder:"",value:this.state.additionalInfo,onChange:function(b){return a.$2(b)}}),d=i.jsx("div",{children:h._("Other info")}),e=h._("Explain why the content in this video is appropriate for the ages that you selected.");return i.jsx(b("VideoComposerField.react"),{input:c,subtitle:e,title:d})};d.$6=function(){var a=i.jsxs("div",{className:"_6ekx",children:[this.$4(),this.$5()]});return this.props.showEditor?i.jsx(b("FDSModal.react"),{footer:i.jsx(b("FDSModalFooter.react"),{primaryButton:i.jsx(b("FDSButton.react"),{label:h._("Submit"),use:"primary",onClick:this.$3}),secondaryButton:i.jsx(b("FDSButton.react"),{label:h._("Cancel"),onClick:this.$7})}),header:i.jsx(b("FDSModalHeader.react"),{title:h._("Dispute your content rating")}),isShown:this.props.showEditor,width:k,onHide:this.$7,children:i.jsx(b("FDSSection.react"),{children:a})}):null};d.render=function(){return this.$6()};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerShowsMatureContentRatingSection.react",["ix","cx","fbt","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","FlexLayout.react","Image.react","Link.react","React","SimpleNUXMessage","SimpleNUXMessageTypes","SUIBusinessTheme","SUIButton.react","SUIText.react","VideoComposerDistributionActions","VideoComposerField.react","VideoComposerMatureContentRatingUtils","VideoComposerShowsMatureContentAppealFormSection.react","XUISpinner.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=b("VideoComposerMatureContentRatingUtils").MATURE_CONTENT_APPEAL_FORM_STATUS,l=b("VideoComposerMatureContentRatingUtils").MATURE_CONTENT_LABELS;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$4=function(a){b("SimpleNUXMessage").markMessageSeenByUser(b("SimpleNUXMessageTypes").VIDEO_COMPOSER_MATURE_CONTENT_RATING),b("VideoComposerDistributionActions").updateMatureContentRating(d.props.videoComposerID,a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){return this.props.showMatureContentAppealForm?j.jsx(b("VideoComposerShowsMatureContentAppealFormSection.react"),{videoComposerID:this.props.videoComposerID,originalMatureContentRating:this.props.matureContentRating,pageID:this.props.pageID,showEditor:this.props.showMatureContentAppealFormEditor,videoID:this.props.videoID}):null};d.$2=function(){var a=this,c=null;this.props.formStatus===k.IN_PROGRESS&&(c=j.jsx(b("XUISpinner.react"),{background:"dark"}));var d=null;this.props.formStatus===k.NOT_INITIATED&&(d=function(){return b("VideoComposerDistributionActions").showMatureContentAppealForm(a.props.videoComposerID)});var e=this.props.formStatus===k.IN_PROGRESS?i._("Submitting request"):i._("Dispute rating");c=j.jsx(b("SUIButton.react"),{disabled:this.props.formStatus!==k.NOT_INITIATED,icon:c,height:"tall",label:e,theme:b("SUIBusinessTheme"),use:"default",onClick:d});this.props.formStatus===k.SUBMITTED&&(c=j.jsx(b("SUIText.react"),{display:"block",size:"body3",theme:b("SUIBusinessTheme"),children:i._("Your request to change this video's content rating has been submitted. You will be notified if any changes are made.")}));return this.props.showMatureContentAppealForm?j.jsx("div",{className:"_72-g",children:c}):null};d.$3=function(){var a=[j.jsx(b("FDSDropdownSelectorOption.react"),{description:l.SUITABLE_FOR_ALL.description,value:1,children:l.SUITABLE_FOR_ALL.label},0),j.jsx(b("FDSDropdownSelectorOption.react"),{description:l.FOURTEEN_PLUS.description,value:2,children:l.FOURTEEN_PLUS.label},1),j.jsx(b("FDSDropdownSelectorOption.react"),{description:l.EIGHTEEN_PLUS.description,value:3,children:l.EIGHTEEN_PLUS.label},2)];a=j.jsx("div",{className:"_6ekx",children:j.jsxs(b("FlexLayout.react"),{direction:"vertical",children:[j.jsxs(b("FlexLayout.react"),{align:"center",className:"_6el7",children:[j.jsx(b("FDSDropdownSelector.react"),{buttonTextAlign:"left",dropdownWidth:320,isDisabled:this.props.isDisabled,name:"age_restriction",onChange:this.$4,placeholder:l.UNSET.label,buttonSize:"large",value:this.props.matureContentRating,children:a}),this.props.isDisabled?j.jsx("div",{className:"_3-9a",children:j.jsx(b("Image.react"),{src:g("561888")})}):null]}),this.$2()]})});var c=j.jsx(b("Link.react"),{href:"https://www.facebook.com/help/publisher/1698951150231068/",target:"_blank",children:i._("Help Center.")});c=this.props.isDisabled?i._("People younger than the selected age won't be able to watch your video. Facebook has confirmed this rating based on our guidelines. Learn more in the {Learn More link}",[i._param("Learn More link",c)]):i._("People younger than the age you select won't be able to watch your video. Facebook will review your rating and may update it based on our guidelines. Learn more in the {Help Center link}",[i._param("Help Center link",c)]);var d=this.props.showNewTag?j.jsx("div",{className:"_6ggq",children:i._("NEW")}):null;d=j.jsxs("div",{children:[i._("Content rating"),d]});return j.jsx(b("VideoComposerField.react"),{input:a,subtitle:c,title:d})};d.render=function(){return j.jsxs("div",{children:[this.$3(),this.$1()]})};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerShowsMatureContentSectionContainer.react",["FluxContainer","React","VideoComposerShowsMatureContentRatingSection.react","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getMetadataStore(a.videoComposerID),b("VideoComposerStores").getDistributionStore(a.videoComposerID)]};c.calculateState=function(a,c){var d=(a=b("VideoComposerStores")).getDistributionStore(c.videoComposerID).getState(),e=d.allowSettingMatureContentRating,f=d.matureContentAppealFormStatus,g=d.matureContentRating,h=d.showMatureContentAppealFormEditor;d=d.showNewTag;var i=a.getMetadataStore(c.videoComposerID).getState(),j=i.targetID;i=i.videoID;var k=a.getDistributionStore(c.videoComposerID).getShowMatureContentRating();a=a.getDistributionStore(c.videoComposerID).getShowMatureContentAppealForm();return{allowSettingMatureContentRating:e,matureContentAppealFormStatus:f,matureContentRating:g,pageID:j||"",showMatureContentAppealForm:a,showMatureContentAppealFormEditor:h,showMatureContentRating:k,showNewTag:d,videoID:i||""}};var d=c.prototype;d.render=function(){return this.state.showMatureContentRating===!1?null:g.jsx(b("VideoComposerShowsMatureContentRatingSection.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID},this.state,{formStatus:this.state.matureContentAppealFormStatus,isDisabled:!this.state.allowSettingMatureContentRating}))};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerFooterBCMPDealPublishButton.react",["cx","fbt","BCMPGKConfig","FDSButton.react","FDSButtonSpinner.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return i.jsx("div",{className:"_6elu _3-9a",children:i.jsx(b("FDSButton.react"),{use:"primary",size:"large",label:b("BCMPGKConfig").dealDraftsGKEnabled?h._("Send for Review"):h._("Publish"),busyIndicator:this.props.isPublishing?i.jsx(b("FDSButtonSpinner.react"),{}):null,isDisabled:this.props.disabled,onClick:this.props.onClick})})};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerBrandedContentUploadFooterContainer.react",["CreateReviewableBCWhitelistInterceptDialog.react","FluxContainer","React","VideoComposerActions","VideoComposerBasicActions","VideoComposerFooterBCMPDealPublishButton.react","VideoComposerPublishingTypes","VideoComposerStores","videoComposerValidatePublishAction"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("VideoComposerPublishingTypes").PublishActions;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){var a=h.PUBLISH_NOW,c=function(){return b("VideoComposerActions").publishPost(d.props.videoComposerID)};b("videoComposerValidatePublishAction")(d.props.videoComposerID,a,d.state.title,!1,!1,d.state.videoDuration,function(a){return b("VideoComposerBasicActions").highlightMissingFundedContentProgram(d.props.videoComposerID,a)},c)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(a){return[b("VideoComposerStores").getUIStore(a.videoComposerID),b("VideoComposerStores").getPublishingStore(a.videoComposerID),b("VideoComposerStores").getMetadataStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getUIStore(c.videoComposerID).getState();a=a.showReviewableBrandedContentConfirmationDialog;var d=b("VideoComposerStores").getMetadataStore(c.videoComposerID).getState(),e=d.title,f=d.allTabsBootloaded;d=d.videoDuration;c=b("VideoComposerStores").getPublishingStore(c.videoComposerID).getState();var g=c.disablePublish,h=c.isPosting;c=c.isPostPending;h=h||c;return{title:e,videoDuration:d,allTabsBootloaded:f,isPublishing:h,disablePublish:g,showReviewableBrandedContentConfirmationDialog:a}};var d=c.prototype;d.render=function(){return g.jsxs("div",{children:[g.jsx(b("VideoComposerFooterBCMPDealPublishButton.react"),{disabled:this.state.disablePublish||!this.state.allTabsBootloaded||this.state.isPublishing,onClick:this.$1,isPublishing:this.state.isPublishing}),this.state.showReviewableBrandedContentConfirmationDialog&&g.jsx(b("CreateReviewableBCWhitelistInterceptDialog.react"),{onHide:b("VideoComposerActions").hideReviewableBrandedContentConfirmation,onSubmit:b("VideoComposerActions").confirmReviewableBrandedContent})]})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerEditFooterContainer.react",["FluxContainer","React","VideoComposerFooterEditActions.react","VideoComposerStores","getMentionsTextForContentState"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){var c;return[(c=b("VideoComposerStores")).getDistributionStore(a.videoComposerID),c.getEditStore(a.videoComposerID),c.getPremiereStore(a.videoComposerID),c.getMetadataStore(a.videoComposerID),c.getBasicStore(a.videoComposerID),c.getRightsStore(a.videoComposerID)]};c.calculateState=function(a,c){var d,e=(a=b("VideoComposerStores")).getPremiereStore(c.videoComposerID).getState(),f=e.premiereDate,g=e.isPremierePreLive,h=e.premiereBroadcastID;e=e.shouldPremiere;var i=a.getMetadataStore(c.videoComposerID).getState(),j=i.actorID,k=i.title,l=i.showVideoType,m=i.videoID,n=i.videoStatus;i=i.isEditModeUpgrade;var o=a.getBasicStore(c.videoComposerID).getState();o=o.descriptionEditorState;a=a.getEditStore(c.videoComposerID).getState();o=b("getMentionsTextForContentState")(o.getCurrentContent());d=!!((d=b("VideoComposerStores").getDistributionStore(c.videoComposerID).getState())==null?void 0:d.allowEmbedding)&&n!==1;c=b("VideoComposerStores").getRightsStore(c.videoComposerID).getState();c=c.showCategoryRequiredError;return{allowEmbedding:d,canMakeFeatured:a.canMakeFeatured,creationTime:a.creationTime,description:o,downloadGeneratedThumbnailsUrl:a.downloadGeneratedThumbnailsUrl,downloadHDUrl:a.downloadHDUrl,downloadSDUrl:a.downloadSDUrl,editPublishingAction:a.selectedPublishingAction,editTabsLoaded:a.editTabsLoaded,embedURL:a.embedURL,isEditSaving:a.isSaving||a.isSavePending,isEpisode:l==="episode"||l==="recap",isFeaturedVideo:a.isFeaturedVideo,isMissingTitle:k.trim()==="",isPremiere:e,isPremierePreLive:g,isTitleEmptyInitially:a.isTitleEmptyInitially,pageID:j||"",premiereBroadcastID:h,premiereDate:f,previewTitle:k,publishingConfig:a.publishingConfig||{},videoID:m,videoStatus:n,isEditModeUpgrade:i,showCategoryRequiredError:c}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerFooterEditActions.react"),{videoComposerID:this.props.videoComposerID,allowEmbedding:this.state.allowEmbedding,canMakeFeatured:this.state.canMakeFeatured,creationTime:this.state.creationTime,description:this.state.description,downloadGeneratedThumbnailsUrl:this.state.downloadGeneratedThumbnailsUrl,downloadHDUrl:this.state.downloadHDUrl,downloadSDUrl:this.state.downloadSDUrl,embedURL:this.state.embedURL,isEpisode:this.state.isEpisode,isFeaturedVideo:this.state.isFeaturedVideo,isMissingTitle:this.state.isMissingTitle,isPremiere:this.state.isPremiere,isPremierePreLive:this.state.isPremierePreLive,isSaving:this.state.isEditSaving,isTitleEmptyInitially:this.state.isTitleEmptyInitially,pageID:this.state.pageID,premiereBroadcastID:this.state.premiereBroadcastID,premiereDate:this.state.premiereDate,previewTitle:this.state.previewTitle,publishingConfig:this.state.publishingConfig,selectedPublishingAction:this.state.editPublishingAction,tabsLoaded:this.state.editTabsLoaded,videoID:this.state.videoID||"",videoStatus:this.state.videoStatus,isEditModeUpgrade:this.state.isEditModeUpgrade,showCategoryRequiredError:this.state.showCategoryRequiredError})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerFirstStepFooterRightSectionContainer.react",["FluxContainer","React","VideoComposerFirstStepFooterRightSection.react","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){var c;return[(c=b("VideoComposerStores")).getAdBreakStore(a.videoComposerID),c.getPublishingStore(a.videoComposerID),c.getMetadataStore(a.videoComposerID),c.getPremiereStore(a.videoComposerID),c.getRightsStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getPublishingStore(c.videoComposerID).getState();var d=a.disablePublish,e=a.isPosting;a=a.isPostPending;var f=b("VideoComposerStores").getAdBreakStore(c.videoComposerID).getState(),g=f.adBreaksDisabled,h=f.insertedAdBreaks,i=f.isAdBreakAutoInsertionEnabled;f=f.prereviewDisabledReason;var j=b("VideoComposerStores").getRightsStore(c.videoComposerID).getState();j=j.showCategoryRequiredError;e=e||a;a=b("VideoComposerStores").getPremiereStore(c.videoComposerID).getState();c=a.shouldPremiere;return{disablePublish:d,hasInsertedAdBreak:!g&&(h.count()>0||i),isPublishing:e,prereviewDisabledReason:f,shouldPremiere:c,showCategoryRequiredError:j}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerFirstStepFooterRightSection.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID},this.state))};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerFirstStepNextButtonContainer.react",["FluxContainer","React","VideoComposerFirstStepNextButton.react","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){var c;return[(c=b("VideoComposerStores")).getAdBreakStore(a.videoComposerID),c.getUIStore(a.videoComposerID),c.getPublishingStore(a.videoComposerID),c.getRightsStore(a.videoComposerID)]};c.calculateState=function(a,c){var d=(a=b("VideoComposerStores")).getUIStore(c.videoComposerID).getState();d=d.showReviewableBrandedContentConfirmationDialog;var e=a.getPublishingStore(c.videoComposerID).getState(),f=e.disablePublish,g=e.isPosting;e=e.isPostPending;var h=a.getAdBreakStore(c.videoComposerID).getState(),i=h.isAdBreakPrereviewDialogOpen;h=h.shouldShowImageAdsModal;a=a.getRightsStore(c.videoComposerID).getState();c=a.showCategoryRequiredError;a=g||e;return{disablePublish:f,isAdBreakPrereviewDialogOpen:i,isPublishing:a,showCategoryRequiredError:c,showReviewableBrandedContentConfirmationDialog:d,shouldShowImageAdsModal:h}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerFirstStepNextButton.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID,dataTestID:this.props.dataTestID},this.state,{children:this.props.children}))};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerFooterActorInfo.react",["cx","Image.react","React","Tooltip","XUIText.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsxs("div",{className:"_6p7j",children:[h.jsx(b("Image.react"),babelHelpers["extends"]({className:"_6p7k",src:this.props.profilePictureURI,height:24,width:24},b("Tooltip").propsFor(this.props.profileDisplayName))),h.jsx(b("XUIText.react"),{className:"_6p7l",size:"body3",color:"placeholder",children:this.props.profileDisplayName})]})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerFooterActorInfoContainer.react",["FluxContainer","React","VideoComposerFooterActorInfo.react","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getMetadataStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getMetadataStore(c.videoComposerID).getState();c=a.profileDisplayName;a=a.profilePictureURI;return{profileDisplayName:c,profilePictureURI:a}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerFooterActorInfo.react"),babelHelpers["extends"]({},this.state))};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerFooterEditSaveButton.react",["cx","fbt","CurrentUser","FDSButton.react","FDSButtonSpinner.react","React","VideoComposerActions","WebFunnelLogger","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){if(d.props.isPremiere&&d.props.premiereVideoDurationIsInvalid){b("VideoComposerActions").highlightPremiereVideoDurationIsInvalid(d.props.videoComposerID);return}b("VideoComposerActions").saveEditedVideo(d.props.videoComposerID);b("gkx")("1157336")&&new(b("WebFunnelLogger"))("AdBreaksCreatorFunnelDefinition").setAction("SAVE_VIDEO_COMPOSER_CHANGES").addActionPayload("selectedPublishingAction",d.props.selectedPublishingAction).setSessionKey(b("CurrentUser").getAccountID()).markEnd().log()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.isMissingTitle&&!this.props.isTitleEmptyInitially,c=this.props.isTitleTooLong,d=a||c||this.props.isSaving||!this.props.tabsLoaded;a=a?h._("To save your video, give it a title"):c?h._("To save your video, please use a shorter title"):null;return i.jsx("div",{className:"_6epx",children:i.jsx(b("FDSButton.react"),{"data-testid":"VIDEO_EDIT_SAVE_BUTTON",tooltip:a,href:"#",onClick:this.$1,size:"large",style:{flexGrow:1},use:"primary",label:this.props.buttonLabel,labelIsHidden:this.props.isSaving,isDisabled:d,busyIndicator:this.props.isSaving?i.jsx(b("FDSButtonSpinner.react"),{shade:"light"}):null})})};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerFooterEditSaveButtonContainer.react",["FluxContainer","React","VideoComposerDialogConstants","VideoComposerDialogUtils","VideoComposerFooterEditSaveButton.react","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getEditStore(a.videoComposerID),b("VideoComposerStores").getPremiereStore(a.videoComposerID),b("VideoComposerStores").getMetadataStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getPremiereStore(c.videoComposerID).getState();a=a.shouldPremiere;var d=b("VideoComposerStores").getMetadataStore(c.videoComposerID).getState(),e=d.title;d=d.videoDuration;var f=b("VideoComposerStores").getEditStore(c.videoComposerID).getState();c=b("VideoComposerStores").getPremiereStore(c.videoComposerID).hasReplacedPremieresVideoFile()&&b("VideoComposerStores").getPremiereStore(c.videoComposerID).premieresVideoDurationIsInvalid(d);return{tabsLoaded:f.editTabsLoaded,isSaving:f.isSaving||f.isSavePending,isMissingTitle:e.trim()==="",isTitleTooLong:b("VideoComposerDialogUtils").byteLength(e.trim())>b("VideoComposerDialogConstants").MAX_TITLE_LENGTH,isPremiere:a,isTitleEmptyInitially:f.isTitleEmptyInitially,selectedPublishingAction:f.selectedPublishingAction,premiereVideoDurationIsInvalid:c}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerFooterEditSaveButton.react"),babelHelpers["extends"]({},this.state,this.props))};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerFooterPrivacyDropdownSelector",["ix","cx","fbt","EllipsisText.react","FDSDropdownButton.react","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","Image.react","PagesComposerAudiences.react","PagesComposerAudiencesConstants","React","ReactComposerContextProviderMixin","ReactComposerTaggerStore","ReactComposerTargetingUtils","asset","createReactClass_DEPRECATED","cxMargin","dotAccess"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("PagesComposerAudiencesConstants").SELECTOR_OPTIONS,k=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={showGating:!1,gatingSentences:null,gating:null},c.$2=function(a){c.setState({showGating:a})},c.$4=function(a){switch(a){case j.PUBLIC:c.$2(!1);c.$3();break;case j.GATING:c.$2(!0);c.$1();break;default:break}},c.$5=function(){c.$2(!1),c.$1()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$1()};d.$3=function(){var a=b("ReactComposerTargetingUtils").getDataFromComposerTaggerStore(this.props.composerConfig.contextConfig.composerID);a=Object.assign({},a);a.gating=null;a.gatingSentences=null;b("ReactComposerTargetingUtils").setData(this.props.composerConfig.contextConfig.composerID,a);this.setState({gatingSentences:null,gating:null})};d.$1=function(){var a=b("ReactComposerTaggerStore").getTaggerData(this.props.composerConfig.contextConfig.composerID,"TARGETING"),c=a.gating;a=a.gatingSentences;this.setState({gatingSentences:a,gating:c})};d.$6=function(a){var c;return k.jsx(l,{contextConfig:this.props.composerConfig.contextConfig,children:k.jsx(b("PagesComposerAudiences.react"),{allowExclusionsWithoutInclusions:(c=b("dotAccess"))(a,"allowExclusionsWithoutInclusionsGK"),feedTargetingGK:c(a,"feedTargetingGK"),feedTargetingShowReachGK:c(a,"feedTargetingShowReachGK"),useTargetingAsFilter:!c(a,"feedTargetingGK"),initialActiveKey:j.GATING,hideFeedTargeting:!0,shown:this.state.showGating,onToggle:this.$2,onSave:this.$5,enableLanguageGating:c(a,"enableLanguageGating"),enableLocationExclusionGating:c(a,"enableLocationExclusionGating"),showWoodhengeGating:c(a,"showWoodhengeGating"),woodhengeTiers:c(a,"woodhengeTiers")})})};d.$7=function(){var a=this.state.gatingSentences!=null&&this.state.gating!=null?this.state.gatingSentences:i._("Only certain people on Facebook");return[k.jsx(b("FDSDropdownSelectorOption.react"),{isDisabled:!0,role:"tooltip",value:"title",children:i._("Who should see this?")},"title"),k.jsx(b("FDSDropdownSelectorOption.react"),{description:i._("Anyone on or off Facebook"),icon:k.jsx(b("Image.react"),{src:g("496823")}),value:j.PUBLIC,children:i._("Public")},j.PUBLIC),k.jsx(b("FDSDropdownSelectorOption.react"),{description:k.jsx("div",{className:"_6m1i",children:k.jsx(b("EllipsisText.react"),{children:a})}),icon:k.jsx(b("Image.react"),{src:g("487556")}),value:j.GATING,children:i._("Restricted audience")},j.GATING)]};d.render=function(){var a=this.props.composerConfig.taggersConfig;a=a.get("TARGETING");return k.jsxs("div",{children:[k.jsx(b("FDSDropdownSelector.react"),{isDisabled:this.props.isDisabled,buttonSize:"large",buttonIcon:this.state.gating!=null&&this.state.gatingSentences!=null?k.jsx(b("Image.react"),{src:g("487556")}):k.jsx(b("Image.react"),{src:g("496823")}),button:k.jsx(b("FDSDropdownButton.react"),{label:this.state.gating!=null&&this.state.gatingSentences!=null?i._("Custom"):i._("Public"),margin:"_3-9a",size:"large"}),onChange:this.$4,value:this.state.gating!=null&&this.state.gatingSentences!=null?j.GATING:j.PUBLIC,children:this.$7()}),this.$6(a)]})};return c}(k.Component);var l=b("createReactClass_DEPRECATED")({displayName:"VideoComposerGatingDialogWrapper",mixins:[b("ReactComposerContextProviderMixin")],render:function(){return this.props.children}});e.exports=a}),null);
__d("VideoComposerFooterPrivacyDropdownSelectorContainer.react",["FluxContainer","React","VideoComposerFooterPrivacyDropdownSelector","VideoComposerStores","dotAccess"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getBasicStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getBasicStore(c.videoComposerID).getState();c=a.composerConfig;return{composerConfig:c}};var d=c.prototype;d.render=function(){var a;a=(a=this.state.composerConfig)==null?void 0:a.taggersConfig;a=a==null?void 0:a.get("TARGETING");return this.state.composerConfig!=null&&a!=null&&b("dotAccess")(a,"enabled")&&!b("dotAccess")(a,"gatingKillswitch")?g.jsx(b("VideoComposerFooterPrivacyDropdownSelector"),{composerConfig:this.state.composerConfig,isDisabled:this.props.isDisabled}):null};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerFooterSectionContainer.react",["CreatorStudioMultipostActions","FluxContainer","MediaManagerABTestingVideoUploadActions","MediaManagerBulkUploadActions","React","VideoComposerFooterSection.react","VideoComposerPanelIndividualComposerPublishDrawerFooter.react","VideoComposerPublishDrawerFooterContainer.react","VideoComposerStores","VideoComposerUtils"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("VideoComposerUtils").isFromCreatorStudioABTestingPanel,i=b("VideoComposerUtils").isFromCreatorStudioBulkUploadPanel,j=b("VideoComposerUtils").isFromCreatorStudioMultipostPanel;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(){b("MediaManagerBulkUploadActions").closeIndividualComposer(d.props.videoComposerID)},d.$1=function(){b("MediaManagerABTestingVideoUploadActions").closeIndividualComposer(d.props.videoComposerID)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(a){return[b("VideoComposerStores").getPublishingStore(a.videoComposerID),b("VideoComposerStores").getMetadataStore(a.videoComposerID),b("VideoComposerStores").getUIStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getMetadataStore(c.videoComposerID).getState();var d=a.composerEntryPointRef,e=a.dialogMode,f=a.isVideoShowPage,g=a.showRightsConfirmationDialog,h=a.showVideoType;a=a.isEditModeUpgrade;var i=b("VideoComposerStores").getPublishingStore(c.videoComposerID).getState(),j=i.isPosting,k=i.isPostPending;i=i.isDraft;j=(j||k)&&!i;k=b("VideoComposerStores").getUIStore(c.videoComposerID).getState();i=k.isPreviewMode;c=k.publishDrawerShown;return{composerEntryPointRef:d,dialogMode:e,isPreviewMode:i,isPublishing:j,isShowTrailer:f&&h==="trailer",publishDrawerShown:c,showRightsConfirmationDialog:g,isEditModeUpgrade:a}};var d=c.prototype;d.render=function(){var a=this.state.composerEntryPointRef,c=j(a),d=i(a);a=h(a);c||d||a?d=g.jsx(b("VideoComposerPanelIndividualComposerPublishDrawerFooter.react"),{videoComposerID:this.props.videoComposerID,onCloseComposer:c?b("CreatorStudioMultipostActions").closeIndividualComposer:a?this.$1:this.$2}):d=g.jsx(b("VideoComposerPublishDrawerFooterContainer.react"),{videoComposerID:this.props.videoComposerID});c=this.state.dialogMode==="video_upload";a=this.state.dialogMode==="video_edit";c=c||this.state.isEditModeUpgrade&&a;return c&&this.state.publishDrawerShown?d:g.jsx(b("VideoComposerFooterSection.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID},this.state))};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerPublishDrawerContainer.react",["FluxContainer","React","VideoComposerPublishDrawer.react","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getMetadataStore(a.videoComposerID),b("VideoComposerStores").getPublishingStore(a.videoComposerID),b("VideoComposerStores").getUIStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getPublishingStore(c.videoComposerID).getState();var d=a.isPosting,e=a.isPostPending;a=a.isDraft;var f=b("VideoComposerStores").getUIStore(c.videoComposerID).getState();f=f.publishDrawerShown;d=(d||e)&&!a;e=b("VideoComposerStores").getMetadataStore(c.videoComposerID).getState();a=e.composerEntryPointRef;c=e.dialogMode;e=e.isEditModeUpgrade;return{composerEntryPointRef:a,dialogMode:c,isPublishing:d,publishDrawerShown:f,isEditModeUpgrade:e}};var d=c.prototype;d.render=function(){var a=this.state.dialogMode==="video_upload",c=this.state.dialogMode==="video_edit";a=a||this.state.isEditModeUpgrade&&c;return this.state.publishDrawerShown&&!a?g.jsx(b("VideoComposerPublishDrawer.react"),{videoComposerID:this.props.videoComposerID,composerEntryPointRef:this.state.composerEntryPointRef,dialogMode:this.state.dialogMode,isPublishing:this.state.isPublishing}):null};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerPublishDrawerFooterContainer.react",["FluxContainer","React","VideoComposerPublishDrawerFooter.react","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){var c;return[(c=b("VideoComposerStores")).getPublishingStore(a.videoComposerID),c.getUIStore(a.videoComposerID),c.getPremiereStore(a.videoComposerID),c.getMetadataStore(a.videoComposerID),c.getDistributionStore(a.videoComposerID)]};c.calculateState=function(a,c){var d=(a=b("VideoComposerStores")).getMetadataStore(c.videoComposerID).getState(),e=d.dialogMode;d=d.showRightsConfirmationDialog;var f=a.getDistributionStore(c.videoComposerID).getState(),g=f.isShowDraft;f=f.isSeasonDraft;var h=a.getUIStore(c.videoComposerID).getState();h=h.rightsConfirmDialogShown;a=a.getPublishingStore(c.videoComposerID).getState();var i=a.canDraft,j=a.canPublish,k=a.cannotPublishReason,l=a.isComposerPostScheduleRedesign,m=a.isPosting,n=a.isPostPending,o=a.publishingType,p=a.scheduleType;a=a.isDraft;m=m||n;n=b("VideoComposerStores").getPremiereStore(c.videoComposerID).getState();c=n.shouldPremiere;return{canDraft:i,canPublish:j,cannotPublishReason:k,dialogMode:e,isComposerPostScheduleRedesign:l,isDraft:a,isPublishing:m,isShowDraft:g,isSeasonDraft:f,publishingType:o,scheduleType:p,rightsConfirmDialogShown:h,shouldPremiere:c,shouldShowRightsConfirmDialogBeforePublish:d}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerPublishDrawerFooter.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID},this.state))};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerShowTrailerFooter.react",["ix","cx","fbt","FlexLayout.react","Image.react","React","Tooltip","VideoComposerActions","VideoComposerDistributionActions","XUIButton.react","XUICheckboxInput.react","XUIGrayText.react","XUISpinner.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=i._("Missing title"),d.$2=i._("To add your trailer, give it a title"),d.$3=function(){if(d.props.isMissingTitle){b("VideoComposerActions").highlightTitleWithErrorTooltip(d.props.videoComposerID,d.$1,d.$2);return}if(d.props.isTitleTooLong){b("VideoComposerActions").highlightTitleTooLong(d.props.videoComposerID);return}b("VideoComposerActions").publishPost(d.props.videoComposerID)},d.$4=function(){b("VideoComposerDistributionActions").toggleNewsFeed(d.props.videoComposerID)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=i._("If ticked, your trailer will not appear in News Feed"),c=this.props.disablePublish||this.props.isPublishing;return j.jsxs(b("FlexLayout.react"),{direction:"horizontal",align:"center",children:[j.jsx(b("XUICheckboxInput.react"),{className:"_3-8_",checked:!this.props.showInNewsFeed,onChange:this.$4}),j.jsx(b("XUIGrayText.react"),{shade:"medium",children:i._("Exclude from News Feed")}),j.jsx(b("Image.react"),babelHelpers["extends"]({},b("Tooltip").propsFor(a,"above"),{className:"_3-90 _6ek9",src:g("403740")})),j.jsx(b("XUIButton.react"),{className:this.props.isPublishing?"_6eka":"","data-testid":void 0,href:"#",onClick:this.$3,size:"xlarge",use:"confirm",label:i._("Add Trailer"),labelIsHidden:this.props.isPublishing,disabled:c,image:this.props.isPublishing?j.jsx(b("XUISpinner.react"),{background:"dark"}):null})]})};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerShowTrailerFooterContainer.react",["FluxContainer","React","VideoComposerDialogConstants","VideoComposerDialogUtils","VideoComposerShowTrailerFooter.react","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getDistributionStore(a.videoComposerID),b("VideoComposerStores").getPublishingStore(a.videoComposerID),b("VideoComposerStores").getMetadataStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getDistributionStore(c.videoComposerID).getState();a=a.showInNewsFeed;var d=b("VideoComposerStores").getMetadataStore(c.videoComposerID).getState();d=d.title;c=b("VideoComposerStores").getPublishingStore(c.videoComposerID).getState();var e=c.disablePublish,f=c.isPosting;c=c.isPostPending;f=f||c;return{disablePublish:e,isMissingTitle:d.trim()==="",isPublishing:f,isTitleTooLong:b("VideoComposerDialogUtils").byteLength(d.trim())>b("VideoComposerDialogConstants").MAX_TITLE_LENGTH,showInNewsFeed:a}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerShowTrailerFooter.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID},this.state))};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerGenericConfirmationDialog.react",["fbt","FDSButton.react","FDSCancelButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSText.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=480;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return h.jsx(b("FDSModal.react"),{width:i,header:h.jsx(b("FDSModalHeader.react"),{title:this.props.title}),footer:h.jsx(b("FDSModalFooter.react"),{primaryButton:h.jsx(b("FDSButton.react"),{label:(a=this.props.confirmButtonLabel)!=null?a:g._("Confirm"),use:"primary",onClick:this.props.confirmOnClick}),secondaryButton:h.jsx(b("FDSCancelButton.react"),{onClick:this.props.cancelOnClick})}),isShown:this.props.isShown,onHide:this.props.cancelOnClick,children:h.jsx(b("FDSSection.react"),{children:h.jsx(b("FDSText.react"),{children:this.props.message})})})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerInteractivityDeletePollAttemptDialogContainer.react",["fbt","FluxContainer","React","VideoComposerGenericConfirmationDialog.react","VideoComposerPollsActions","VideoComposerStores"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getPollsStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getPollsStore(c.videoComposerID).getState();var d=a.deleteAttemptPollID;a=a.persistedPolls;var e=d!==null;a=a.findIndex(function(a){return a.id===d})!==-1;var f=g._("Delete this poll?");a=a?g._("Are you sure that you want to delete this poll? It will stop appearing on your video, and you will not be able to see the results of this poll any more."):g._("You won't be able to undo this action.");return{isShown:e,title:f,message:a,confirmButtonLabel:g._("Delete"),confirmOnClick:function(){return b("VideoComposerPollsActions").deletePollConfirm(c.videoComposerID)},cancelOnClick:function(){return b("VideoComposerPollsActions").deleteInteractionCancel(c.videoComposerID)}}};var d=c.prototype;d.render=function(){return h.jsx(b("VideoComposerGenericConfirmationDialog.react"),babelHelpers["extends"]({},this.state))};return c}(h.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerInteractivityDeleteSliderAttemptDialogContainer.react",["fbt","FluxContainer","React","VideoComposerGenericConfirmationDialog.react","VideoComposerPollsActions","VideoComposerStores"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getPollsStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getPollsStore(c.videoComposerID).getState();a=a.deleteAttemptSliderID;var d=g._("Delete this slider?"),e=g._("You won't be able to undo this action.");return{isShown:a!==null,title:d,message:e,confirmButtonLabel:g._("Delete"),confirmOnClick:function(){return b("VideoComposerPollsActions").deleteSliderConfirm(c.videoComposerID)},cancelOnClick:function(){return b("VideoComposerPollsActions").deleteInteractionCancel(c.videoComposerID)}}};var d=c.prototype;d.render=function(){return h.jsx(b("VideoComposerGenericConfirmationDialog.react"),babelHelpers["extends"]({},this.state))};return c}(h.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerInteractivityOpenFormSectionConfirmationDialogContainer.react",["fbt","FluxContainer","React","VideoComposerGenericConfirmationDialog.react","VideoComposerPollsActions","VideoComposerStores"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=g._("Any changes to your poll won't be saved."),j=g._("Any changes to your slider won't be saved.");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getPollsStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getPollsStore(c.videoComposerID).getState();var d=a.showOpenPollsFormSectionConfirmationDialog;a=a.showOpenSlidersFormSectionConfirmationDialog;a=d||a;var e=g._("Discard unsaved changes?"),f=d?j:i,h=d?function(){return b("VideoComposerPollsActions").openPollsFormSectionConfirm(c.videoComposerID)}:function(){return b("VideoComposerPollsActions").openSlidersFormSectionConfirm(c.videoComposerID)};d=d?function(){return b("VideoComposerPollsActions").openPollsFormSectionCancel(c.videoComposerID)}:function(){return b("VideoComposerPollsActions").openSlidersFormSectionCancel(c.videoComposerID)};return{isShown:a,title:e,message:f,confirmOnClick:h,cancelOnClick:d}};var d=c.prototype;d.render=function(){return h.jsx(b("VideoComposerGenericConfirmationDialog.react"),babelHelpers["extends"]({},this.state))};return c}(h.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerPollsCancelConfirmDialogContainer.react",["fbt","FluxContainer","React","VideoComposerGenericConfirmationDialog.react","VideoComposerPollsActions","VideoComposerPollsTypes","VideoComposerStores"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("VideoComposerPollsTypes").EditorState;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getPollsStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getPollsStore(c.videoComposerID).getState();var d=a.showCancelConfirmDialog,e=a.showCloseEditorConfirmDialog;a=a.editorState;a=a===i.ADDING_NEW_SLIDER||a===i.EDITING_SLIDER;var f=a?"Slider":"Poll",h=g._({"Poll":"Exit poll without saving?","Slider":"Exit slider without saving?"},[g._enum(f,{Poll:"Poll",Slider:"Slider"})]);f=a?"slider":"poll";a=g._({"poll":"Any changes to your poll won't be saved if you exit.","slider":"Any changes to your slider won't be saved if you exit."},[g._enum(f,{poll:"poll",slider:"slider"})]);f=d?function(){return b("VideoComposerPollsActions").cancelChangesAbandon(c.videoComposerID)}:function(){return b("VideoComposerPollsActions").closeEditorAbandon(c.videoComposerID)};var j=d?function(){return b("VideoComposerPollsActions").cancelChangesConfirm(c.videoComposerID)}:function(){return b("VideoComposerPollsActions").closeEditorConfirm(c.videoComposerID)};return{isShown:d||e,title:h,message:a,cancelOnClick:f,confirmOnClick:j}};var d=c.prototype;d.render=function(){return h.jsx(b("VideoComposerGenericConfirmationDialog.react"),babelHelpers["extends"]({},this.state))};return c}(h.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerPollsContainer.react",["cx","FluxContainer","React","VideoComposerPollsEditorContainer.react","VideoComposerPollsSection.react","VideoComposerStores","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getPollsStore(a.videoComposerID),b("VideoComposerStores").getMetadataStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getPollsStore(c.videoComposerID).getState();var d=a.polls,e=a.sliders,f=a.isLiveVideo,g=a.enableWasLiveVoting;a=a.showWasLiveVotingToggle;var h=b("VideoComposerStores").getMetadataStore(c.videoComposerID).getState(),i=h.videoDuration,j=h.videoID;h=h.actorID;c=!b("VideoComposerStores").getPollsStore(c.videoComposerID).isSufficientTimeSpanForPoll(b("VideoComposerStores").getPollsStore(c.videoComposerID).getNonAdBreakPolls(d),i)||f;return{polls:d,sliders:e,shouldHideAddPollButton:c,videoID:j,actorID:h,isLiveVideo:f,enableWasLiveVoting:g,showWasLiveVotingToggle:a}};var d=c.prototype;d.render=function(){return h.jsxs("div",{className:"_4r6q",children:[h.jsx(b("VideoComposerPollsSection.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID},this.state)),h.jsx(b("VideoComposerPollsEditorContainer.react"),{videoComposerID:this.props.videoComposerID})]})};return c}(h.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerPollsEditAttemptDialog.react",["fbt","FDSButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","React","SUIBusinessThemeContainer.react","SUIText.react","VideoComposerPollsActions"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=480;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("VideoComposerPollsActions").confirmEditAndSavePrevious(d.props.videoComposerID)},d.$2=function(){b("VideoComposerPollsActions").cancelEditAttempt(d.props.videoComposerID)},d.$3=function(){b("VideoComposerPollsActions").confirmEditAndDiscardPrevious(d.props.videoComposerID)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=g._("Save or discard your changes to this poll before going to a different poll.");return h.jsx(b("FDSModal.react"),{width:i,header:h.jsx(b("FDSModalHeader.react"),{title:g._("Save changes?")}),footer:h.jsx(b("FDSModalFooter.react"),{primaryButton:this.props.showSaveButton?h.jsx(b("FDSButton.react"),{label:g._("Save"),use:"primary",onClick:this.$1}):h.jsx(b("FDSButton.react"),{label:g._("OK"),onClick:this.$2}),secondaryButton:this.props.showSaveButton?h.jsx(b("FDSButton.react"),{label:g._("Discard"),onClick:this.$3}):null}),isShown:this.props.isShown,onHide:this.$2,children:h.jsx(b("FDSSection.react"),{children:h.jsx(b("SUIBusinessThemeContainer.react"),{children:h.jsx(b("SUIText.react"),{size:"body1",children:a})})})})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerPollsEditAttemptDialogContainer.react",["FluxContainer","React","VideoComposerPollsEditAttemptDialog.react","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getPollsStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getPollsStore(c.videoComposerID).getState();var d=a.showEditAttemptDialog;a=a.polls;a=b("VideoComposerStores").getPollsStore(c.videoComposerID).getNonAdBreakPolls(a);return{showEditAttemptDialog:d,showSaveButton:!b("VideoComposerStores").getPollsStore(c.videoComposerID).hasValidationErrors(a)}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerPollsEditAttemptDialog.react"),{videoComposerID:this.props.videoComposerID,isShown:this.state.showEditAttemptDialog,showSaveButton:this.state.showSaveButton})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerPollsEditorContainer.react",["FluxContainer","React","VideoComposerPollsEditor.react","VideoComposerSlidingDrawer.react","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getPollsStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getPollsStore(c.videoComposerID).getState();c=a.showEditor;return{showEditor:c}};var d=c.prototype;d.render=function(){return this.state.showEditor?g.jsx(b("VideoComposerSlidingDrawer.react"),{children:g.jsx(b("VideoComposerPollsEditor.react"),{videoComposerID:this.props.videoComposerID})}):null};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerPollsLeftSectionContainer.react",["FluxContainer","React","VideoComposerPollsLeftSection.react","VideoComposerStores","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getPollsStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getPollsStore(c.videoComposerID).getState();c=a.draftPoll;a=a.polls;return{draftPoll:c,polls:a}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerPollsLeftSection.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID},this.state))};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerPollsPlacementVisualizerContainer.react",["FluxContainer","React","VideoComposerPollsVisualizer.react","VideoComposerStores","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){var c;return[(c=b("VideoComposerStores")).getMetadataStore(a.videoComposerID),c.getPollsStore(a.videoComposerID),c.getThumbnailsStore(a.videoComposerID),c.getTrimmingEditorStore(a.videoComposerID)]};c.calculateState=function(a,c){var d=(a=b("VideoComposerStores")).getMetadataStore(c.videoComposerID).getState();d=d.videoDuration;var e=a.getThumbnailsStore(c.videoComposerID).getState();e=e.originalOrderThumbnails;var f=a.getPollsStore(c.videoComposerID).getState(),g=f.draftPoll,h=f.editorState;f=f.polls;a=a.getTrimmingEditorStore(c.videoComposerID).getState();var i=a.endTime;a=a.startTime;i=i||d||0;a=a||0;return{draftPoll:g,endTime:i,editorState:h,polls:b("VideoComposerStores").getPollsStore(c.videoComposerID).getNonAdBreakPolls(f),startTime:a,thumbnailURLs:e.map(function(a){return a.getURL()}),videoDuration:d||0}};var d=c.prototype;d.render=function(){return this.state.draftPoll.isAdBreakPoll?null:g.jsx(b("VideoComposerPollsVisualizer.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID},this.state))};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerPollsRightSectionContainer.react",["FluxContainer","React","VideoComposerDialogAdBreaksTabUtils","VideoComposerPollsRightSection.react","VideoComposerStores","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){var c;return[(c=b("VideoComposerStores")).getPollsStore(a.videoComposerID),c.getMetadataStore(a.videoComposerID),c.getAdBreakStore(a.videoComposerID),c.getTrimmingEditorStore(a.videoComposerID)]};c.calculateState=function(a,c){var d=(a=b("VideoComposerStores")).getPollsStore(c.videoComposerID).getState(),e=d.draftPoll,f=d.editorState,g=d.polls,h=d.isAdBreaksPollCreationEnabled,i=d.isImageAttachmentEnabled,j=d.isLiveVideo,k=d.canSeeSlidersSection,l=d.sliders;d=d.draftSlider;var m=a.getMetadataStore(c.videoComposerID).getState(),n=m.videoID;m=m.actorID;var o=a.getMetadataStore(c.videoComposerID).getVideoPreviewTimeData();o=o.videoDuration;var p=a.getAdBreakStore(c.videoComposerID).getState(),q=p.hasGapRule,r=p.insertedAdBreaks,s=p.isAdBreakComposerOnboardingEligible,t=p.adBreaksOnboardingSurface,u=p.isBrandedContentVideo,v=p.isInstreamSponsorshipVideo,w=p.isPageOnboardingVisible,x=p.serverSideDisabledReasons,y=p.isAdBreakAutoInsertionEnabled,z=p.adBreaksDisabled,A=p.isShorterContentMonetizationEligible;p=p.shouldUseImageAds;a=a.getTrimmingEditorStore(c.videoComposerID).isVideoTrimmed();w=b("VideoComposerDialogAdBreaksTabUtils").getTabState(w,x.toArray(),r.toArray(),o,u,v,q,y,z,s,t,a,A,p);x=w.disabled===!0;r=h&&!x;u=!b("VideoComposerStores").getPollsStore(c.videoComposerID).isSufficientTimeSpanForPoll(b("VideoComposerStores").getPollsStore(c.videoComposerID).getNonAdBreakPolls(g),o)||j;return{draftPoll:e,editorState:f,polls:g,videoDuration:o,shouldHideAddPollButton:u,actorID:m,videoID:n,isAdBreaksPollCreationEnabled:r,isImageAttachmentEnabled:i,isLiveVideo:j,canSeeSlidersSection:k,sliders:l,draftSlider:d}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerPollsRightSection.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID},this.state))};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerPollsTabContainer.react",["fbt","FluxContainer","React","VideoComposerPollsConstants","VideoComposerPollsTabConfig","VideoComposerStores","VideoComposerTabItemContainer.react","VideoPollsTypedLogger"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){new(b("VideoPollsTypedLogger"))().setEvent("vod_composer_polls_tab_clicked").setOwnerID(d.state.actorID).setVideoID(d.state.videoID).log()},d.$2=function(a){a==="polls"&&new(b("VideoPollsTypedLogger"))().setEvent("vod_composer_polls_tab_item_rendered").setOwnerID(d.state.actorID).setVideoID(d.state.videoID).log()},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(a){var c;return[(c=b("VideoComposerStores")).getUIStore(a.videoComposerID),c.getMetadataStore(a.videoComposerID),c.getTrimmingEditorStore(a.videoComposerID),c.getSphericalDirectorStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getUIStore(c.videoComposerID).getState();a=a.selectedTab;var d=b("VideoComposerStores").getMetadataStore(c.videoComposerID).getState(),e=d.actorID;d=d.videoID;var f=b("VideoComposerStores").getTrimmingEditorStore(c.videoComposerID).getTrimmedVideoDuration(),h=!1,i=null;f<b("VideoComposerPollsConstants").MIN_POLL_DURATION?(h=!0,i=g._("Videos must be {number of seconds} seconds or longer. Your video is too short to include polls.",[g._param("number of seconds",b("VideoComposerPollsConstants").MIN_POLL_DURATION)])):b("VideoComposerStores").getSphericalDirectorStore(c.videoComposerID).getState().spherical&&(h=!0,i=g._("Polls are no longer available for 360 videos."));return{isDisabled:h,isSelected:a==="polls",disabledReason:i,actorID:e,videoID:d}};var d=c.prototype;d.render=function(){return h.jsx(b("VideoComposerTabItemContainer.react"),{videoComposerID:this.props.videoComposerID,disabled:this.state.isDisabled,isSelected:this.state.isSelected,tabConfig:b("VideoComposerPollsTabConfig"),tooltip:this.state.disabledReason,onTabClick:this.$1,onTabRender:this.$2})};return c}(h.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerQuestionsCancelConfirmDialog.react",["fbt","FDSButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","LayerHideOnEscape","React","SUIBusinessThemeContainer.react","SUIText.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=480;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.onConfirm(c.props.videoComposerID)},c.$2=function(){c.props.onCancel(c.props.videoComposerID)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return h.jsx(b("FDSModal.react"),{width:i,behaviors:{LayerHideOnEscape:b("LayerHideOnEscape")},header:h.jsx(b("FDSModalHeader.react"),{title:g._("Exit Question Without Saving?")}),footer:h.jsx(b("FDSModalFooter.react"),{primaryButton:h.jsx(b("FDSButton.react"),{label:g._("Exit"),use:"primary",onClick:this.$1}),secondaryButton:h.jsx(b("FDSButton.react"),{label:g._("Cancel"),onClick:this.$2})}),isShown:this.props.shown,onHide:this.$2,children:h.jsx(b("FDSSection.react"),{children:h.jsx(b("SUIBusinessThemeContainer.react"),{children:h.jsx(b("SUIText.react"),{size:"body1",children:g._("Any changes to your question won't be saved if you exit.")})})})})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerQuestionsCancelConfirmDialogContainer.react",["FluxContainer","React","VideoComposerQuestionsActions","VideoComposerQuestionsCancelConfirmDialog.react","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getQuestionsStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getQuestionsStore(c.videoComposerID).getState();c=a.showCancelConfirmDialog;a=a.showCloseEditorConfirmDialog;var d=c?b("VideoComposerQuestionsActions").cancelChangesAbandon:b("VideoComposerQuestionsActions").closeEditorAbandon,e=c?b("VideoComposerQuestionsActions").cancelChangesConfirm:b("VideoComposerQuestionsActions").closeEditorConfirm;return{shown:c||a,onCancel:d,onConfirm:e}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerQuestionsCancelConfirmDialog.react"),{videoComposerID:this.props.videoComposerID,shown:this.state.shown,onCancel:this.state.onCancel,onConfirm:this.state.onConfirm})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerQuestionsListView.react",["ix","cx","fbt","FDSButton.react","Image.react","React","ShimButton.react","SUIText.react","VideoComposerQuestionsActions","XUIAbstractGlyphButton.react","asset","cxMargin","immutable"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a,c){return j.jsxs("div",{className:"_393h",children:[j.jsx("div",{className:"_393q",children:a.questionText}),j.jsx("div",{className:"_3-9c",children:j.jsx(b("XUIAbstractGlyphButton.react"),{image:j.jsx(b("Image.react"),{src:g("394831")}),label:i._("Delete"),labelIsHidden:!0,onClick:function(){return b("VideoComposerQuestionsActions").deleteQuestionAttempt(d.props.videoComposerID,a.id)}})})]},c)},d.$2=function(){b("VideoComposerQuestionsActions").addNew(d.props.videoComposerID)},d.$3=function(){b("VideoComposerQuestionsActions").closeEditorAttempt(d.props.videoComposerID)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return j.jsxs("div",{className:"_393d",children:[j.jsxs("div",{className:"_1v1r",children:[j.jsx("div",{children:this.props.questions.toArray().map(this.$1)}),j.jsx("div",{className:"_393f",children:j.jsx(b("ShimButton.react"),{form:"link",onClick:this.$2,children:j.jsx(b("SUIText.react"),{color:"interactive",size:"body2",weight:"bold",children:i._("+ Add another question")})})})]}),this.props.showFooter?j.jsx("div",{className:"_393g",children:j.jsx(b("FDSButton.react"),{label:i._("Done"),use:"primary",onClick:this.$3})}):null]})};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerQuestionsContainer.react",["cx","fbt","FDSButton.react","FluxContainer","React","VideoComposerQuestionsActions","VideoComposerQuestionsEditorContainer.react","VideoComposerQuestionsListView.react","VideoComposerStores","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getQuestionsStore(a.videoComposerID),b("VideoComposerStores").getMetadataStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getMetadataStore(c.videoComposerID).getState();a=a.dialogMode;c=b("VideoComposerStores").getQuestionsStore(c.videoComposerID).getState();c=c.questions;return{questions:c,shouldShowQuestions:a==="video_upload"}};var d=c.prototype;d.$1=function(){b("VideoComposerQuestionsActions").addNew(this.props.videoComposerID)};d.render=function(){var a=this;return!this.state.shouldShowQuestions?null:i.jsxs("div",{className:"_4r6q",children:[this.state.questions.size===0?i.jsx(b("FDSButton.react"),{label:h._("Create Question"),onClick:function(){return a.$1()},size:"large",use:"primary"}):i.jsx("div",{className:"_1yck",children:i.jsx(b("VideoComposerQuestionsListView.react"),{videoComposerID:this.props.videoComposerID,questions:this.state.questions,showFooter:!1})}),i.jsx(b("VideoComposerQuestionsEditorContainer.react"),{videoComposerID:this.props.videoComposerID})]})};return c}(i.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerQuestionsEditorContainer.react",["FluxContainer","React","VideoComposerQuestionsEditor.react","VideoComposerSlidingDrawer.react","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getQuestionsStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getQuestionsStore(c.videoComposerID).getState();c=a.showEditor;return{showEditor:c}};var d=c.prototype;d.render=function(){return this.state.showEditor?g.jsx(b("VideoComposerSlidingDrawer.react"),{children:g.jsx(b("VideoComposerQuestionsEditor.react"),{videoComposerID:this.props.videoComposerID})}):null};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerQuestionsLeftSectionContainer.react",["FluxContainer","React","VideoComposerQuestionsLeftSection.react","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getQuestionsStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getQuestionsStore(c.videoComposerID).getState();c=a.isAddingNewQuestion;return{isAddingNewQuestion:c}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerQuestionsLeftSection.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID},this.state))};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerQuestionsPlacementVisualizerContainer.react",["FluxContainer","React","VideoComposerQuestionsVisualizer.react","VideoComposerStores","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){var c;return[(c=b("VideoComposerStores")).getMetadataStore(a.videoComposerID),c.getQuestionsStore(a.videoComposerID),c.getThumbnailsStore(a.videoComposerID),c.getTrimmingEditorStore(a.videoComposerID)]};c.calculateState=function(a,c){var d=(a=b("VideoComposerStores")).getMetadataStore(c.videoComposerID).getState();d=d.videoDuration;var e=a.getThumbnailsStore(c.videoComposerID).getState();e=e.originalOrderThumbnails;var f=a.getQuestionsStore(c.videoComposerID).getState(),g=f.draftQuestion,h=f.isAddingNewQuestion,i=f.isEditingQuestion;f=f.questions;a=a.getTrimmingEditorStore(c.videoComposerID).getState();c=a.endTime;a=a.startTime;c=c||d||0;a=a||0;return{draftQuestion:g,endTime:c,isAddingNewQuestion:h,isEditingQuestion:i,questions:f,startTime:a,thumbnailURLs:e.map(function(a){return a.getURL()}),videoDuration:d||0}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerQuestionsVisualizer.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID},this.state))};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerQuestionsUtils",["fbt","VideoComposerPollsConstants","VideoComposerPollsUtils","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=3600,i=g._("Start time must be in mm:ss format"),j=g._("Start time must be in hh:mm:ss format"),k=g._("End time must be in mm:ss format"),l=g._("End time must be in hh:mm:ss format"),m=g._("Start time must be before your video finishes"),n=g._("The end time can't be after your video finishes"),o=g._("Your poll must appear for at least {number of seconds} seconds",[g._param("number of seconds",b("VideoComposerPollsConstants").MIN_POLL_DURATION)]),p=g._("Poll times can't overlap. Only one poll can appear at a time.");a=function(a,c,d){d&&(d=Math.ceil(d));var e=a.startTime,f=a.endTime,g=null,q=null,r=null,s=0,t=0,u=b("VideoComposerPollsUtils").isValidTimeString(e),v=b("VideoComposerPollsUtils").isValidTimeString(f);u||(g=d&&d<h?i:j);v||(q=d&&d<h?k:l);g||(s=b("VideoComposerPollsUtils").timeStringToSeconds(e),d&&s>=d&&(g=m));q||(t=b("VideoComposerPollsUtils").timeStringToSeconds(f),d&&t>d&&(q=n));!g&&!q&&(t-s<b("VideoComposerPollsConstants").MIN_POLL_DURATION&&(r=o));if(!g&&!q){u=!1;c.forEach(function(c){if(c.id===a.id)return;if(b("VideoComposerPollsUtils").timeStringToSeconds(c.startTime)>=t||b("VideoComposerPollsUtils").timeStringToSeconds(c.endTime)<=s)return;u=!0});u&&(r=p)}return{commonError:r,startTimeError:g,endTimeError:q}};c=function(a){return!a.questionText.trim()};e.exports={isInvalidQuestion:c,validateQuestionTimeWindow:a}}),null);
__d("VideoComposerQuestionsDetailsForm.react",["cx","fbt","AbstractTextArea.react","FDSButton.react","React","SUIText.react","SUITextInput.react","Timezone","VideoComposerPollsSettingRow.react","VideoComposerPollsUtils","VideoComposerQuestionsActions","VideoComposerQuestionsUtils","cxMargin","immutable","TimezoneNamesData"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=3600,k=h._("mm:ss"),l=h._("hh:mm:ss");b("Timezone").registerNamesModule(b("TimezoneNamesData"));a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={},d.$1=h._("Your questions must include some text"),d.$3=function(a){b("VideoComposerQuestionsActions").draftUpdateQuestion(d.props.videoComposerID,a.target.value.replace(/\n/g,""))},d.$9=function(){var a=d.$10();if(a)return;b("VideoComposerQuestionsActions").save(d.props.videoComposerID)},d.$4=function(a){d.setState({startTimeError:null,commonError:null}),b("VideoComposerQuestionsActions").draftUpdateStartTime(d.props.videoComposerID,a)},d.$6=function(a){d.setState({endTimeError:null,commonError:null}),b("VideoComposerQuestionsActions").draftUpdateEndTime(d.props.videoComposerID,a)},d.$5=function(){var a=d.props.draftQuestion.startTime;b("VideoComposerPollsUtils").isValidTimeString(a)&&b("VideoComposerQuestionsActions").draftUpdateStartTime(d.props.videoComposerID,b("VideoComposerPollsUtils").format(a))},d.$7=function(){var a=d.props.draftQuestion.endTime;b("VideoComposerPollsUtils").isValidTimeString(a)&&b("VideoComposerQuestionsActions").draftUpdateEndTime(d.props.videoComposerID,b("VideoComposerPollsUtils").format(a))},d.$8=function(){b("VideoComposerQuestionsActions").cancelChangesAttempt(d.props.videoComposerID)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidUpdate=function(a,b){a.draftQuestion.startTime!==this.props.draftQuestion.startTime&&this.setState({commonError:null,startTimeError:null}),a.draftQuestion.endTime!==this.props.draftQuestion.endTime&&this.setState({commonError:null,endTimeError:null})};d.render=function(){var a=this.$2(),c=this.props.draftQuestion,d=i.jsx(b("AbstractTextArea.react"),{autoGrow:!0,rows:1,disabled:c.isPersisted,className:"_-fv",placeholder:h._("Ask a question..."),onChange:this.$3,value:c.questionText});d=d;c=i.jsxs("div",{className:"_2htn",children:[i.jsx(b("SUIText.react"),{color:"primary",size:"header4",weight:"bold",children:h._("Question Settings")}),i.jsx(m,{startTime:c.startTime,errorMessage:this.state.startTimeError||this.state.commonError,videoDuration:this.props.videoDuration,onChange:this.$4,onBlur:this.$5}),i.jsx(n,{endTime:c.endTime,errorMessage:this.state.endTimeError||this.state.commonError,videoDuration:this.props.videoDuration,onChange:this.$6,onBlur:this.$7})]});a=i.jsxs("div",{className:"_-fy",children:[i.jsx(b("FDSButton.react"),{label:h._("Cancel"),onClick:this.$8}),i.jsx("div",{className:"_3-9a",children:i.jsx(b("FDSButton.react"),{label:h._("Save Question"),href:"#",use:"primary",isDisabled:a,onClick:this.$9,tooltip:a?this.$1:null})})]});var e=i.jsx("div",{className:"_7moh",children:i.jsx(b("SUIText.react"),{color:"placeholder",size:"body3",children:h._("Ask a question about your video to engage viewers and find out what they think.")})});return i.jsxs("div",{className:"_-ft",children:[i.jsxs("div",{className:"_4mol",children:[e,d,c]}),a]})};d.$10=function(){var a=b("VideoComposerQuestionsUtils").validateQuestionTimeWindow(this.props.draftQuestion,this.props.allQuestions,this.props.videoDuration),c=a.commonError,d=a.startTimeError;a=a.endTimeError;this.setState({startTimeError:d,endTimeError:a,commonError:c});return!!d||!!a||!!c};d.$2=function(){return b("VideoComposerQuestionsUtils").isInvalidQuestion(this.props.draftQuestion)};return c}(i.Component);function m(a){var c=h._("Start"),d=h._("Choose when the question will appear by adding start and end times or selecting a segment of your video."),e=a.videoDuration;e=e&&Math.ceil(e)<j?k:l;e=i.jsx("div",{className:"_2hto",children:i.jsx(b("SUITextInput.react"),{placeholder:e,value:a.startTime,onChange:a.onChange,onBlur:a.onBlur,textAlign:"right",errorMessage:a.errorMessage})});return i.jsx(b("VideoComposerPollsSettingRow.react"),{className:"_3-8-",label:c,desc:d,settingNode:e,align:"start"})}function n(a){var c=h._("End"),d=a.videoDuration;d=d&&Math.ceil(d)<j?k:l;d=i.jsx("div",{className:"_2hto",children:i.jsx(b("SUITextInput.react"),{placeholder:d,value:a.endTime,onChange:a.onChange,onBlur:a.onBlur,textAlign:"right",errorMessage:a.errorMessage})});return i.jsx(b("VideoComposerPollsSettingRow.react"),{label:c,settingNode:d,align:"end"})}e.exports=a}),null);
__d("VideoComposerQuestionsRightSection.react",["ix","cx","fbt","Image.react","Link.react","React","SUIBusinessThemeContainer.react","SUIText.react","VideoComposerQuestionsActions","VideoComposerQuestionsDetailsForm.react","VideoComposerQuestionsListView.react","asset","cxMargin","immutable"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("VideoComposerQuestionsActions").closeEditorAttempt(d.props.videoComposerID)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return j.jsx("div",{className:"_-4e",children:j.jsxs(b("SUIBusinessThemeContainer.react"),{children:[j.jsx(k,{}),j.jsx("div",{className:"_2htm",children:this.props.isAddingNewQuestion||this.props.isEditingQuestion?j.jsx(b("VideoComposerQuestionsDetailsForm.react"),{videoComposerID:this.props.videoComposerID,draftQuestion:this.props.draftQuestion,allQuestions:this.props.questions,videoDuration:this.props.videoDuration,isAddingNewQuestion:this.props.isAddingNewQuestion}):j.jsx(b("VideoComposerQuestionsListView.react"),{videoComposerID:this.props.videoComposerID,questions:this.props.questions,showFooter:!0})}),j.jsx(b("Link.react"),{href:"#",className:"_-4h",onClick:this.$1,children:j.jsx(b("Image.react"),{alt:i._("Close"),src:g("478812")})})]})})};return c}(j.Component);function k(a){return j.jsxs("div",{className:"_2htl",children:[j.jsx(b("Image.react"),{src:g("941716"),className:"_3-90"}),j.jsx(b("SUIText.react"),{color:"primary",size:"header3",weight:"bold",children:i._("Questions")})]})}e.exports=a}),null);
__d("VideoComposerQuestionsRightSectionContainer.react",["FluxContainer","React","VideoComposerQuestionsRightSection.react","VideoComposerStores","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getQuestionsStore(a.videoComposerID),b("VideoComposerStores").getMetadataStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getQuestionsStore(c.videoComposerID).getState();var d=a.draftQuestion,e=a.isAddingNewQuestion,f=a.isEditingQuestion;a=a.questions;c=b("VideoComposerStores").getMetadataStore(c.videoComposerID).getState();c=c.videoDuration;return{questions:a,draftQuestion:d,videoDuration:c,isAddingNewQuestion:e,isEditingQuestion:f}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerQuestionsRightSection.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID},this.state))};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerQuestionsTabContainer.react",["fbt","FluxContainer","React","VideoComposerQuestionsConstants","VideoComposerQuestionsTabConfig","VideoComposerStores","VideoComposerTabItemContainer.react","VideoTextQuestionTypedLogger"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){new(b("VideoTextQuestionTypedLogger"))().setEvent("vod_composer_questions_tab_clicked").setVideoID(d.state.videoID).log()},d.$2=function(a){a==="questions"&&new(b("VideoTextQuestionTypedLogger"))().setEvent("vod_composer_questions_tab_item_rendered").setVideoID(d.state.videoID).log()},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(a){return[b("VideoComposerStores").getUIStore(a.videoComposerID),b("VideoComposerStores").getTrimmingEditorStore(a.videoComposerID),b("VideoComposerStores").getMetadataStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getUIStore(c.videoComposerID).getState();a=a.selectedTab;var d=b("VideoComposerStores").getMetadataStore(c.videoComposerID).getState();d=d.videoID;c=b("VideoComposerStores").getTrimmingEditorStore(c.videoComposerID).getTrimmedVideoDuration();var e=!1,f=null;c<b("VideoComposerQuestionsConstants").MIN_QUESTION_DURATION&&(e=!0,f=g._("Videos must be {number of seconds} seconds or longer. Your video is too short to include questions.",[g._param("number of seconds",b("VideoComposerQuestionsConstants").MIN_QUESTION_DURATION)]));return{isDisabled:e,isSelected:a==="questions",disabledReason:f,videoID:d}};var d=c.prototype;d.render=function(){return h.jsx(b("VideoComposerTabItemContainer.react"),{videoComposerID:this.props.videoComposerID,disabled:this.state.isDisabled,isSelected:this.state.isSelected,tabConfig:b("VideoComposerQuestionsTabConfig"),tooltip:this.state.disabledReason,onTabClick:this.$1,onTabRender:this.$2})};return c}(h.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoCopyrightAttributionToggle.react",["BUISwitch.react","GraphAPI","React","VideoCopyrightUtils","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={value:c.props.initialValue,attribution:null},c.$2=function(){var a=c.state.value,b=a?null:c.props.pageID,d=a?null:c.state.attribution;c.props.onToggle(b,d);c.setState({value:!a})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$1()};d.$1=function(){var a=this;b("promiseDone")(b("GraphAPI")(b("VideoCopyrightUtils").GRAPH_API_VERSION,e.id).object("page",this.props.pageID).get({access_token:this.props.accessToken,is_promotable:!0,fields:["name"]}),function(b){b={attribution_target_name:b.name,attribution_type:"PAGE",id:b.id,is_enabled:!0,title:b.name};a.setState({attribution:b});a.props.initialValue&&a.props.onToggle(a.props.pageID,b)})};d.render=function(){return g.jsx(b("BUISwitch.react"),{value:this.state.value,showLabel:!0,onToggle:this.$2})};return c}(g.Component);e.exports=a}),null);
__d("VideoCopyrightWhitelistSelector.react",["fbt","CurrentUser","React","SearchableEntry","WebAsyncSearchSource","XUITokenizer.react"],(function(a,b,c,d,e,f,g){var h=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$2=function(a){var b=d.props.entries;b.push({id:a.getUniqueID().toString(),name:a.getTitle()});d.props.onEntriesUpdated(b)};d.$3=function(a){var b=d.props.entries;b=b.filter(function(b){return b.id!=a.getUniqueID().toString()});d.props.onEntriesUpdated(b)};d.state={entries:[],searchSource:new(b("WebAsyncSearchSource"))({queryRequests:[{uri:"/ajax/typeahead/search.php",data:{filter:["user","page"],viewer:b("CurrentUser").getID()}}],auxiliaryFields:{verified:"is_verified"}})};return d}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.$1(this.props.entries||[])};d.UNSAFE_componentWillReceiveProps=function(a){this.$1(a.entries||[])};d.$1=function(a){a=a.map(function(a,c){return new(b("SearchableEntry"))({order:c,title:a.name,uniqueID:a.id})});this.setState({entries:a})};d.render=function(){return h.jsx(b("XUITokenizer.react"),{className:this.props.className,entries:this.state.entries,onAddEntryAttempt:this.$2,onRemoveEntryAttempt:this.$3,placeholder:this.props.disabled?null:g._("Add Page or person"),searchSource:this.state.searchSource,xuiError:this.props.error,disabled:this.props.disabled,limit:this.props.limit,presenter:this.props.presenter})};return c}(h.Component);e.exports=a}),null);
__d("VideoCopyrightWhitelistedIGUserList.react",["fbt","React","SearchableEntry","WebAsyncSearchSource","XUITokenizer.react"],(function(a,b,c,d,e,f,g){var h=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.state={entries:[]};d.$3=function(a){var b=d.props.whitelistedIGUserNames.slice(0);b.push(a.getTitle().toString());d.props.onIGWhitelistUpdated(b)};d.$4=function(a){var b=d.props.whitelistedIGUserNames.slice(0);b=b.filter(function(b){return b!=a.getTitle().toString()});d.props.onIGWhitelistUpdated(b)};d.$1=new(b("WebAsyncSearchSource"))({queryRequests:[{uri:d.props.uri}],auxiliaryFields:{verified:"is_verified"}});return d}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.$2(this.props.whitelistedIGUserNames)};d.UNSAFE_componentWillReceiveProps=function(a){this.$2(a.whitelistedIGUserNames)};d.$2=function(a){this.setState({entries:a.map(function(a){return new(b("SearchableEntry"))({uniqueID:a,title:a})})})};d.render=function(){return h.jsx(b("XUITokenizer.react"),{className:this.props.className,entries:this.state.entries,onAddEntryAttempt:this.$3,onRemoveEntryAttempt:this.$4,placeholder:this.state.entries.length!==0?null:g._("Search for profiles"),searchSource:this.$1,disabled:this.props.disabled,limit:this.props.limit,presenter:this.props.presenter})};return c}(h.Component);e.exports=a}),null);
__d("XRightsManagerInstagramUserSearchAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/copyright/instagram/typeahead/user/",{page_id:{type:"FBID",required:!0},value:{type:"String",defaultValue:""}})}),null);
__d("VideoCopyrightWhitelistSection.react",["cx","fbt","CurrentPage","React","VideoCopyrightWhitelistedIGUserList.react","VideoCopyrightWhitelistSelector.react","XRightsManagerInstagramUserSearchAsyncController","XUITokenizerToken.react","XUITypeaheadView.react"],(function(a,b,c,d,e,f,g,h){var i=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=null;this.props.isTokenizerShownUpward!==null&&this.props.isTokenizerShownUpward&&(a={layerPosition:"above",TokenRenderer:b("XUITokenizerToken.react"),ViewRenderer:b("XUITypeaheadView.react"),useLayer:!0});return i.jsxs("div",{children:[i.jsx("div",{className:"_kmg",children:h._("Facebook")}),i.jsx(b("VideoCopyrightWhitelistSelector.react"),{className:"_64ut",onEntriesUpdated:this.props.onFBWhitelistUpdated,placeholder:h._("Add Page or person"),entries:this.props.whitelistedFBUsers,disabled:this.props.disabled,presenter:a}),i.jsx("div",{className:"_kmg",children:h._("Instagram")}),i.jsx(b("VideoCopyrightWhitelistedIGUserList.react"),{uri:b("XRightsManagerInstagramUserSearchAsyncController").getURIBuilder().setFBID("page_id",this.props.pageID||b("CurrentPage").getID()).getURI(),disabled:this.props.disabled,whitelistedIGUserNames:this.props.whitelistedIGUserNames||[],onIGWhitelistUpdated:this.props.onIGWhitelistUpdated,presenter:a})]})};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerRightsSection.react",["cx","fbt","CopyrightCountrySelector.react","CopyrightReferenceCategorySelector.react","React","RightsManagerFbt","VideoComposerField.react","VideoComposerRadioButton.react","VideoComposerRightsActions","VideoCopyrightAttributionSelector.react","VideoCopyrightAttributionToggle.react","VideoCopyrightMatchRuleSelector.react","VideoCopyrightMonitoringSelector.react","VideoCopyrightRuleTemplateBlankSelectDialog","VideoCopyrightWhitelistSection.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a){b("VideoComposerRightsActions").updateMatchRule(d.props.videoComposerID,a)},d.$3=function(a){b("VideoComposerRightsActions").updateCategory(d.props.videoComposerID,a)},d.$4=function(a){b("VideoComposerRightsActions").updateMonitoringType(d.props.videoComposerID,a.value)},d.$5=function(a,c){b("VideoComposerRightsActions").updateOwnershipCountries(d.props.videoComposerID,a.slice(),c)},d.$6=function(a){b("VideoComposerRightsActions").updateAttribution(d.props.videoComposerID,a)},d.$7=function(a){b("VideoComposerRightsActions").updateFBWhitelistedUsers(d.props.videoComposerID,a.slice())},d.$8=function(a){b("VideoComposerRightsActions").updateIGWhitelistedUsers(d.props.videoComposerID,a.slice())},d.$9=function(){b("VideoCopyrightRuleTemplateBlankSelectDialog").show(d.props.targetID,d.props.accessToken)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(a){b("VideoComposerRightsActions").updateShouldDetectMatches(this.props.videoComposerID,a)};d.$10=function(){return this.props.rmVersion==="LITE"};d.render=function(){var a=this,c;this.props.showAttributionSelector&&(c=i.jsx(b("VideoComposerField.react"),{disabled:!this.props.shouldDetectMatches,title:this.$10()?b("RightsManagerFbt").OWNERSHIP_LINK:b("RightsManagerFbt").ATTRIBUTION_SECTION_TITLE,subtitle:this.$10()?h._("Once you've enabled ownership links, a link to the Page you choose will appear on every matching video."):null,tooltip:this.$10()?null:h._("Direct viewers back to your Pages or videos when people use your content. Choose an ownership link that will appear on monitored videos that match this reference file."),input:this.$10()?i.jsx(b("VideoCopyrightAttributionToggle.react"),{accessToken:this.props.accessToken,initialValue:!!this.props.attributionID,pageID:this.props.targetID,onToggle:this.$6}):i.jsx(b("VideoCopyrightAttributionSelector.react"),{accessToken:this.props.accessToken,disabled:!this.props.shouldDetectMatches,onChange:this.$6,pageID:this.props.targetID,rmVersion:this.props.rmVersion,selectedAttribution:this.props.attributionID})}));return i.jsxs("div",{className:"_6eq8",children:[i.jsx(b("VideoComposerField.react"),{showTopBorder:!1,title:h._("Detect matching videos"),subtitle:h._("Add this video to your reference library to be notified when a matching video is uploaded."),input:i.jsxs("div",{className:"_6eq9",children:[i.jsx(b("VideoComposerRadioButton.react"),{checked:this.props.shouldDetectMatches,label:h._("Yes"),onSelect:function(){return a.$1(!0)}}),i.jsx(b("VideoComposerRadioButton.react"),{checked:!this.props.shouldDetectMatches,label:h._("No"),onSelect:function(){return a.$1(!1)}})]})}),i.jsx(b("VideoComposerField.react"),{disabled:!this.props.shouldDetectMatches,title:h._("Specify ownership"),subtitle:h._("Define what type of content to monitor and where you own it."),tooltip:h._("Ownership establishes which elements of the content belong to you in which parts of the world"),input:i.jsxs("div",{children:[i.jsx("div",{className:"_6eqa",children:h._("Monitored content")}),i.jsx(b("VideoCopyrightMonitoringSelector.react"),{disabled:!this.props.shouldDetectMatches,rmVersion:this.props.rmVersion,value:this.props.monitoringType,onChange:this.$4}),i.jsx("div",{className:"_6eqa _3-8y",children:h._("Geography")}),i.jsx(b("CopyrightCountrySelector.react"),{areCountriesIncluded:this.props.areCountriesIncluded,disabled:!this.props.shouldDetectMatches,enableExcludedCountries:!0,onChange:this.$5,previewCharLimit:100,selectedCountries:this.props.ownershipCountries})]})}),this.$10()?null:i.jsx(b("VideoComposerField.react"),{disabled:!this.props.shouldDetectMatches,title:h._("Select media category"),subtitle:h._("Specify the format of your reference file. This selection can't be changed once you've published your video."),input:i.jsx(b("CopyrightReferenceCategorySelector.react"),{className:"_6eqb",disabled:!this.props.shouldDetectMatches,hideTitleAndTooltip:!0,onReferenceCategoryChange:this.$3,selectedCategory:this.props.category,showCategoryRequiredError:this.props.showCategoryRequiredError})}),this.$10()?null:i.jsx(b("VideoComposerField.react"),{disabled:!this.props.shouldDetectMatches,title:h._("Apply match rule"),tooltip:h._("Select which rule to apply to matching content"),input:i.jsx(b("VideoCopyrightMatchRuleSelector.react"),{accessToken:this.props.accessToken,disabled:!this.props.shouldDetectMatches,onChange:this.$2,onCreateNewRule:this.$9,pageID:this.props.targetID,selectedRule:this.props.matchRuleID})}),c,i.jsx(b("VideoComposerField.react"),{disabled:!this.props.shouldDetectMatches,title:h._("Grant permissions"),subtitle:h._("Allow certain profiles and Pages to upload videos that contain this content."),input:i.jsx(b("VideoCopyrightWhitelistSection.react"),{disabled:!this.props.shouldDetectMatches,pageID:this.props.targetID,canSeeIGMatches:this.props.isIgRightsManagementEnabled,onFBWhitelistUpdated:this.$7,onIGWhitelistUpdated:this.$8,whitelistedIGUserNames:this.props.igWhitelistedUsers,whitelistedFBUsers:this.props.fbWhitelistedUsers})})]})};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerRightsContainer.react",["FluxContainer","React","VideoComposerRightsSection.react","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getRightsStore(a.videoComposerID),b("VideoComposerStores").getMetadataStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getRightsStore(c.videoComposerID).getState();var d=a.attributionID,e=a.category,f=a.fbWhitelistedUsers,g=a.igWhitelistedUsers,h=a.isIgRightsManagementEnabled,i=a.matchRuleID,j=a.monitoringType,k=a.ownershipCountries,l=a.areCountriesIncluded,m=a.shouldDetectMatches,n=a.showAttributionSelector,o=a.showCategoryRequiredError;a=a.rmVersion;c=b("VideoComposerStores").getMetadataStore(c.videoComposerID).getState();var p=c.accessToken;c=c.targetID;return{accessToken:p,areCountriesIncluded:l,attributionID:d==null?void 0:d.toString(),category:e,fbWhitelistedUsers:f,igWhitelistedUsers:g,isIgRightsManagementEnabled:h,matchRuleID:i,monitoringType:j,ownershipCountries:k,shouldDetectMatches:m,showAttributionSelector:n,showCategoryRequiredError:o,targetID:c||"",rmVersion:a}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerRightsSection.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID},this.state))};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerRightsTabContainer.react",["FluxContainer","React","VideoComposerRightsTabConfig","VideoComposerStores","VideoComposerTabItemContainer.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getUIStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getUIStore(c.videoComposerID).getState();c=a.selectedTab;return{isSelected:c==="rights"}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerTabItemContainer.react"),{videoComposerID:this.props.videoComposerID,isSelected:this.state.isSelected,tabConfig:b("VideoComposerRightsTabConfig")})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerSoundEditorAudioPlayer.react",["ix","cssVar","cx","AudioPlayer.react","FlexLayout.react","Image.react","Link.react","React","VideoComposerSoundEditorActions","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(){!d.props.isPlaying?b("VideoComposerSoundEditorActions").setSoundCollectionIsPlaying(d.props.videoComposerID,!0):b("VideoComposerSoundEditorActions").setSoundCollectionPlayTrack(d.props.videoComposerID,d.props.playTrack)},d.$1=function(){b("VideoComposerSoundEditorActions").setSoundCollectionIsPlaying(d.props.videoComposerID,!1)},d.$4=function(a){b("VideoComposerSoundEditorActions").setAudioPlayerRef(d.props.videoComposerID,a)},d.$3=function(a){b("VideoComposerSoundEditorActions").setSoundCollectionIsPlaying(d.props.videoComposerID,a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.playTrack?this.props.playTrack.downloadLink:"";return a!==""?j.jsx(b("FlexLayout.react"),{align:"center",direction:"vertical",className:"_6dib",justify:"center",children:j.jsxs(b("FlexLayout.react"),{justify:"center",align:"center",children:[j.jsx("div",{className:"_3-9a",children:this.props.isPlaying?j.jsx(b("Link.react"),{href:"#",onClick:this.$1,children:j.jsx(b("Image.react"),{src:g("582331")})}):j.jsx(b("Link.react"),{href:"#",onClick:this.$2,children:j.jsx(b("Image.react"),{src:g("548281")})})}),j.jsx(b("AudioPlayer.react"),{autoplay:!0,iconSize:"LARGE",onTogglePlayPause:this.$3,ref:this.$4,src:a,scrubberBackgroundColor:"#CCD0D5",scrubberHandleColor:"#6EADFF",scrubberLapsedColor:"#6EADFF",simplePlayPauseButton:!1,width:250})]})}):null};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerSoundEditorAudioPlayerContainer.react",["FluxContainer","React","VideoComposerSoundEditorAudioPlayer.react","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getSoundEditorSoundCollectionStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getSoundEditorSoundCollectionStore(c.videoComposerID).getState();c=a.isPlaying;a=a.playTrack;return{isPlaying:c,playTrack:a}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerSoundEditorAudioPlayer.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID},this.state))};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerSoundEditorCancelChangeConfirmDialog.react",["fbt","FDSButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=480;function a(a){return h.jsx(b("FDSModal.react"),{width:i,header:h.jsx(b("FDSModalHeader.react"),{title:g._("Exit Sound Editor without saving?")}),footer:h.jsx(b("FDSModalFooter.react"),{primaryButton:h.jsx(b("FDSButton.react"),{label:g._("Exit"),onClick:a.onConfirm,use:"primary"}),secondaryButton:h.jsx(b("FDSButton.react"),{label:g._("Cancel"),onClick:a.onCancel})}),isShown:a.shown,onHide:a.onCancel,children:h.jsx(b("FDSSection.react"),{children:g._("If you exit, all unsaved changed will be discarded.")})})}e.exports=a}),null);
__d("VideoComposerSoundEditorCancelChangeConfirmDialogContainer.react",["FluxContainer","React","VideoComposerSoundEditorActions","VideoComposerSoundEditorCancelChangeConfirmDialog.react","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("VideoComposerSoundEditorActions").cancelCloseSoundEditor(d.props.videoComposerID)},d.$2=function(){b("VideoComposerSoundEditorActions").confirmCloseSoundEditor(d.props.videoComposerID)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(a){return[b("VideoComposerStores").getSoundEditorStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getSoundEditorStore(c.videoComposerID).getState();c=a.showCancelConfirmDialog;return{shown:c}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerSoundEditorCancelChangeConfirmDialog.react"),{shown:this.state.shown,onCancel:this.$1,onConfirm:this.$2})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerSoundEditorContainer.react",["FluxContainer","React","VideoComposerSlidingDrawer.react","VideoComposerSoundEditor.react","VideoComposerSoundEditorCancelChangeConfirmDialogContainer.react","VideoComposerSoundEditorTrackSelector.react","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getSoundEditorStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getSoundEditorStore(c.videoComposerID).getState();c=a.showEditor;a=a.showTrackSelector;return{showEditor:c,showTrackSelector:a}};var d=c.prototype;d.render=function(){var a=this.state.showTrackSelector?g.jsx(b("VideoComposerSoundEditorTrackSelector.react"),{videoComposerID:this.props.videoComposerID}):g.jsx(b("VideoComposerSoundEditor.react"),{videoComposerID:this.props.videoComposerID});return this.state.showEditor?g.jsxs(b("VideoComposerSlidingDrawer.react"),{children:[a,g.jsx(b("VideoComposerSoundEditorCancelChangeConfirmDialogContainer.react"),{videoComposerID:this.props.videoComposerID})]}):null};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerDragAndDropScrubberConstants",[],(function(a,b,c,d,e,f){"use strict";a={DEFAULT_TRACK_VOLUME:.7,DROP_AREA_TITLE:"DROPAREA",MINIMUM_DURATION_IN_MS:200,SMALLEST_UNIT:.09,TIME_SCALE:1};e.exports=a}),null);
__d("VideoComposerDragAndDropScrubberBackgroundImages.react",["cx","BackgroundImage.react","CancelablePromise","DateConsts","React","VideoComposerDragAndDropScrubberConstants","generateVideoThumbnails","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=50,j=i*16/9,k=3e3,l=50,m=10;a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;b.state={imageURLs:[]};b.$1=null;return b}var d=c.prototype;d.componentDidMount=function(){var a=this,c=this.props,d=c.videoPlayer,e=c.startTimeInMs;c=c.endTimeInMs;if(!d)return;c=Math.max(Math.min((c-e)/k,l),m);this.$1=new(b("CancelablePromise"))(b("generateVideoThumbnails")(d,d.videoWidth,d.videoHeight,c,"contain",e/b("DateConsts").MS_PER_SEC));b("promiseDone")(this.$1.getPromise(),function(b){b=b.thumbnails.map(function(a){return a.getURL()});a.setState({imageURLs:b})},function(b){b.isCanceled||a.setState({imageURLs:[]})})};d.componentWillUnmount=function(){this.$1&&this.$1.cancel()};d.render=function(){var a=this.props,c=a.videoPlayer,d=a.startTimeInMs;a=a.endTimeInMs;if(!c)return null;c=c.duration*b("DateConsts").MS_PER_SEC;var e=this.state.imageURLs;if(e.length===0)return null;var f=0,g=Math.max(f,Math.floor((a-d)/(c-d)*e.length));g=Math.min(e.length-1,g);e=e.reduce(function(a,b,c){c<=g&&a.push(b);return a},[]);e=this.$2(e);f=this.props.width-j;a=e.length;var k=a>1?f/(e.length-1):0;return h.jsxs("div",{children:[e.map(function(a,c){return h.jsx("div",{style:{left:c*k},className:"_6hoj",children:h.jsx(b("BackgroundImage.react"),{width:j,height:i,src:a,backgroundSize:"cover"})},c)}),h.jsx("div",{className:"_6hok",draggable:!1,title:b("VideoComposerDragAndDropScrubberConstants").DROP_AREA_TITLE})]})};d.$2=function(a){var b=j*a.length;if(b>=this.props.width)return a;var c=this.props.width-b,d=Math.ceil(c/b)+1;a=a.reduce(function(a,b){var c=d;while(c-->0)a.push(b);return a},[]);return a};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerDragAndDropScrubberItemAudioPlayer.react",["DateConsts","React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){this.$1=document.createElement("audio"),this.$1.loop=!1,this.$1.autoplay=!1,this.$2(this.props.audioVolume),this.$3()};d.componentWillUnmount=function(){this.$1&&(this.$1.pause(),this.$1.remove())};d.componentDidUpdate=function(a){a.audioURL!=this.props.audioURL&&this.$3(),a.audioVolume!=this.props.audioVolume&&this.$2(this.props.audioVolume),a.isPlaying!=this.props.isPlaying&&(a.isPlaying?this.$4():this.$5())};d.$3=function(){this.$1&&(this.$1.src=this.props.audioURL,this.$1.load())};d.$5=function(){if(this.$1){var a=this.props.playPositionInMs-this.props.videoStartTimeInMs;a=Math.min(this.props.audioStartTimeInMs+a,this.props.audioDurationInMs)/b("DateConsts").MS_PER_SEC;this.$1.currentTime=a;this.$1.play()}};d.$4=function(){this.$1&&this.$1.pause()};d.$2=function(a){this.$1&&(this.$1.volume=a)};d.render=function(){return null};return c}(a.Component);c.defaultProps={audioURL:"",audioVolume:.7};e.exports=c}),null);
__d("VideoComposerDragAndDropScrubberItem.react",["ix","cx","Link.react","React","SoundCollectionHoverIcon.react","TimeFormatUtil","VideoComposerDragAndDropScrubberConstants","VideoComposerDragAndDropScrubberItemAudioPlayer.react","VideoComposerDragAndDropScrubberTypes","asset"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("VideoComposerDragAndDropScrubberTypes").VideoComposerDragAndDropScrubberActionTypes,k=b("VideoComposerDragAndDropScrubberTypes").VideoComposerDragAndDropScrubberItemSourceNumberShapeTypes,l=b("VideoComposerDragAndDropScrubberTypes").VideoComposerDragAndDropScrubberItemSourceTypes;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={dropAreaRightLimit:0,leftLimit:0,movingMiddle:!1,movingMiddleMouseStartX:0,movingMiddleStart:0,rightLimit:0,slidingLeft:!1,slidingRight:!1,start:0,width:0},d.$1=function(a){d.setState({slidingLeft:!0}),window.addEventListener("mousemove",d.$4),window.addEventListener("mouseup",d.$5)},d.$2=function(a){var b=d.state.start;d.setState({movingMiddle:!0,movingMiddleMouseStartX:d.$6(a),movingMiddleStart:b});window.addEventListener("mousemove",d.$4);window.addEventListener("mouseup",d.$5)},d.$3=function(a){d.setState({slidingRight:!0}),window.addEventListener("mousemove",d.$4),window.addEventListener("mouseup",d.$5)},d.$5=function(a){var c=d.state,e=c.movingMiddle,f=c.slidingLeft;c=c.slidingRight;if(e||f||c){d.setState({movingMiddle:!1,slidingLeft:!1,slidingRight:!1});window.removeEventListener("mousemove",d.$4);window.removeEventListener("mouseup",d.$5);if(e&&d.state.movingMiddleMouseStartX===d.$6(a)){d.props.onSelectItem&&d.props.onSelectItem(d.props.index);return}f=e?j.MOVE:j.RESIZE;c=d.state;a=c.start;e=c.width;c=a/b("VideoComposerDragAndDropScrubberConstants").SMALLEST_UNIT;a=c+e/b("VideoComposerDragAndDropScrubberConstants").SMALLEST_UNIT;d.props.onUpdateItem&&d.props.onUpdateItem(f,d.props.index,c,a)}},d.$4=function(a){a=d.$6(a);var c=d.state,e=c.start;c=c.width;if(d.state.slidingLeft){var f=e+c;e=Math.max(a,d.state.leftLimit);e=Math.min(e,f);c=f-e}else if(d.state.slidingRight){f=Math.min(a,d.state.rightLimit);f=Math.max(e,f);e=Math.min(e,f);c=f-e}else if(d.state.movingMiddle){f=d.state;var g=f.movingMiddleMouseStartX;f=f.movingMiddleStart;a=a-g;e=Math.max(0,Math.min(f+a,d.state.dropAreaRightLimit-c))}c>=b("VideoComposerDragAndDropScrubberConstants").MINIMUM_DURATION_IN_MS*b("VideoComposerDragAndDropScrubberConstants").SMALLEST_UNIT&&d.setState({start:e,width:c})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.updateState()};d.componentDidUpdate=function(a){this.props.lastModifiedTimestamp!=a.lastModifiedTimestamp&&this.updateState()};d.updateState=function(){var a=(this.props.minStartTimeInMs?this.props.minStartTimeInMs:0)*b("VideoComposerDragAndDropScrubberConstants").SMALLEST_UNIT,c=(this.props.startTimeInMs-this.props.itemStartTimeInMs)*b("VideoComposerDragAndDropScrubberConstants").SMALLEST_UNIT,d=(this.props.maxEndTimeInMs?this.props.maxEndTimeInMs:this.props.totalDurationInMs)*b("VideoComposerDragAndDropScrubberConstants").SMALLEST_UNIT,e=(this.props.endTimeInMs+this.props.itemDurationInMs-this.props.itemEndTimeInMs)*b("VideoComposerDragAndDropScrubberConstants").SMALLEST_UNIT;this.setState({leftLimit:Math.max(a,c),movingMiddle:!1,rightLimit:Math.min(d,e),slidingLeft:!1,slidingRight:!1,width:(this.props.endTimeInMs-this.props.startTimeInMs)*b("VideoComposerDragAndDropScrubberConstants").SMALLEST_UNIT,start:this.props.startTimeInMs*b("VideoComposerDragAndDropScrubberConstants").SMALLEST_UNIT,dropAreaRightLimit:this.props.totalDurationInMs*b("VideoComposerDragAndDropScrubberConstants").SMALLEST_UNIT})};d.render=function(){var a=this,c=this.state,d=c.start;c=c.width;var e=i.jsx("div",{className:"_6gwc _6gwd",onMouseDown:this.$1,children:i.jsx("div",{className:"_6gwe"})}),f=i.jsx("div",{className:"_6gv0",onMouseDown:this.$2}),h=i.jsx("div",{className:"_6gwc _6gv1",onMouseDown:this.$3,children:i.jsx("div",{className:"_6gwe"})}),j=this.state.slidingLeft?this.state.start/b("VideoComposerDragAndDropScrubberConstants").SMALLEST_UNIT-this.props.startTimeInMs+this.props.itemStartTimeInMs:0,l=this.state.slidingRight?this.props.itemStartTimeInMs+this.state.width/b("VideoComposerDragAndDropScrubberConstants").SMALLEST_UNIT:0;return i.jsxs("div",{className:"_6gv2"+(this.props.isPlaying?" _6ign":""),ref:"node",draggable:!1,style:{left:d,width:c},children:[e,f,h,this.state.slidingLeft?i.jsx("span",{className:"_6hqo",children:b("TimeFormatUtil").formatTime(j)}):null,this.state.slidingRight?i.jsx("span",{className:"_6hqp",children:b("TimeFormatUtil").formatTime(l)}):null,this.props.sourceOrderNumber?i.jsxs("div",{className:"_6hqq",children:[i.jsxs("div",{className:"_6igo",children:[i.jsxs("div",{className:"_6igp",children:[i.jsx("div",{className:"_6igq",children:this.props.sourceTitle}),i.jsx("div",{className:"_6igr",children:this.props.sourceSubtitle})]}),i.jsx("div",{className:"_3-9a _3-90",children:i.jsx(b("Link.react"),{href:"#",onClick:function(){a.props.onDeleteItem&&a.props.onDeleteItem(a.props.index)},children:i.jsx(b("SoundCollectionHoverIcon.react"),{icon:g("515624"),iconHover:g("538586")})})})]}),i.jsx("div",{className:"_6hqr"+(this.props.sourceOrderNumberShape===k.SQUARE?" _6igs":""),children:this.props.sourceOrderNumber})]}):null,i.jsx(m,babelHelpers["extends"]({},this.props))]})};d.$6=function(a){var b=this.props.rootElement;return!b?0:a.pageX-b.getBoundingClientRect().left};return c}(i.PureComponent);a.defaultProps={sourceOrderNumberShape:k.CIRCLE};function m(a){return a.sourceType!==l.AUDIO?null:i.jsx(b("VideoComposerDragAndDropScrubberItemAudioPlayer.react"),{isPlaying:a.isPlaying,playPositionInMs:a.playPositionInMs,audioDurationInMs:a.itemDurationInMs,audioEndTimeInMs:a.itemEndTimeInMs,audioStartTimeInMs:a.itemStartTimeInMs,audioURL:a.sourceURL,audioVolume:a.itemVolume,videoEndTimeInMs:a.endTimeInMs,videoStartTimeInMs:a.startTimeInMs})}e.exports=a}),null);
__d("VideoComposerDragAndDropScrubberPositionTracker",["DateConsts","SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,c,d,e){var f=this;this.$1=null;this.$4=a;this.$2=c;this.onUpdatePlayPosition=d;this.onUpdatePlayState=e;this.$3=new(b("SubscriptionsHandler"))();this.$3.addSubscriptions(this.$4.addListener("pausePlayback",function(){f.$5(),f.onUpdatePlayState&&f.onUpdatePlayState(!1)}),this.$4.addListener("finishPlayback",function(){f.$5(),f.onUpdatePlayState&&f.onUpdatePlayState(!1)}),this.$4.addListener("beginPlayback",function(){f.$6(),f.onUpdatePlayState&&f.onUpdatePlayState(!0)}),this.$4.addListener("seekEnd",function(){f.$7()}))}var c=a.prototype;c.$7=function(){var a=this.$4.getVideoAPI().getCurrentTimePosition()*b("DateConsts").MS_PER_SEC-this.$2;this.onUpdatePlayPosition&&this.onUpdatePlayPosition(a)};c.$6=function(){var a=this;this.$1||(this.$1=setInterval(function(){var c=a.$4.getVideoAPI().getCurrentTimePosition()*b("DateConsts").MS_PER_SEC-a.$2;a.onUpdatePlayPosition&&a.onUpdatePlayPosition(c)},10))};c.$5=function(){this.$8()};c.$8=function(){this.$1!==null&&(clearInterval(this.$1),this.$1=null)};c.release=function(){this.$3.release(),this.$8()};return a}();e.exports=a}),null);
__d("VideoComposerDragAndDropScrubberPlayhead.react",["cx","React","ReactDOM","VideoComposerDragAndDropScrubberConstants","VideoComposerDragAndDropScrubberPositionTracker"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isPlaying:!1,playPositionInMs:0},c.$2=function(a){c.setState({playPositionInMs:a}),c.props.onUpdatePlayPosition&&c.props.onUpdatePlayPosition(a)},c.$3=function(a){c.setState({isPlaying:a}),c.props.onUpdatePlayState&&c.props.onUpdatePlayState(a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){var c=a.startTimeOffsetInMs;a=a.vpc;(c!=this.props.startTimeOffsetInMs||a!=this.props.vpc)&&(this.$1&&this.$1.release(),a&&(this.$1=new(b("VideoComposerDragAndDropScrubberPositionTracker"))(a,c,this.$2,this.$3)))};d.componentDidUpdate=function(a,b){this.state.isPlaying&&this.$4()};d.componentWillUnmount=function(){this.$1&&this.$1.release()};d.render=function(){return h.jsxs("span",{children:[h.jsx("span",{className:"_6f__",style:{left:this.state.playPositionInMs*b("VideoComposerDragAndDropScrubberConstants").SMALLEST_UNIT-4}}),h.jsx("span",{className:"_6f_-",style:{left:this.state.playPositionInMs*b("VideoComposerDragAndDropScrubberConstants").SMALLEST_UNIT}})]})};d.$4=function(){var a=b("ReactDOM").findDOMNode(this);a.scrollIntoView({block:"center",inline:"center"})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerDragAndDropScrubberUtils",["DateConsts","VideoComposerDragAndDropScrubberConstants","VideoInstreamUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}var c=a.prototype;c.getTimeStamp=function(a){a=Math.floor(a/b("DateConsts").MS_PER_SEC);return b("VideoInstreamUtils").convertTimestampToFormattedString(a)};c.getWidth=function(a,c){return a*b("VideoComposerDragAndDropScrubberConstants").SMALLEST_UNIT*c};return a}();e.exports=new a()}),null);
__d("VideoComposerDragAndDropScrubberTimeRuler.react",["cx","DateConsts","React","VideoComposerDragAndDropScrubberConstants","VideoComposerDragAndDropScrubberUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a){var c=d.props.vpc;if(c&&a.target instanceof HTMLElement){var e=a.target.getBoundingClientRect();e=e.left;a=(a.clientX-e)/b("VideoComposerDragAndDropScrubberConstants").SMALLEST_UNIT+d.props.startTimeOffsetInMs;d.$1=c.isState("playing");c.pause("user_initiated");c.seek(a/b("DateConsts").MS_PER_SEC)}},d.$3=function(a){a=d.props.vpc;a&&d.$1&&a.play("user_initiated")},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.shouldComponentUpdate=function(a){return this.props.scale!==a.scale||this.props.durationInMs!==a.durationInMs};d.render=function(){var a=b("VideoComposerDragAndDropScrubberUtils").getWidth(this.props.durationInMs,this.props.scale),c=[],d=0,e=5,f;for(var g=0;g<=this.props.durationInMs;g+=200)d=b("VideoComposerDragAndDropScrubberUtils").getWidth(g,this.props.scale),g%1e3===0?(g===0?f="0%":f="50%",e=10,f=h.jsx("div",{className:"_6f_u",children:h.jsx("div",{style:{right:f,position:"relative"},children:b("VideoComposerDragAndDropScrubberUtils").getTimeStamp(g)})})):(e=5,f=null),c.push(h.jsx("div",{className:"_6f_v",style:{left:d,height:e},children:f},g));return h.jsxs("div",{className:"_6f_w",style:{width:a},onMouseDown:this.$2,onMouseUp:this.$3,children:[c,h.jsx("div",{className:"_6kq7",draggable:!1})]})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerDragAndDropScrubber.react",["cx","DateConsts","React","VideoComposerDragAndDropScrubberBackgroundImages.react","VideoComposerDragAndDropScrubberConstants","VideoComposerDragAndDropScrubberItem.react","VideoComposerDragAndDropScrubberPlayhead.react","VideoComposerDragAndDropScrubberTimeRuler.react","VideoComposerDragAndDropScrubberTypes","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("VideoComposerDragAndDropScrubberTypes").VideoComposerDragAndDropScrubberActionTypes;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={containerRef:null,isPlaying:!1,playPositionInMs:0,dropareaRef:null},d.$3=function(a){d.setState({playPositionInMs:a})},d.$4=function(a){d.setState({isPlaying:a})},d.$2=function(a){a.preventDefault();if(a.target instanceof HTMLElement){if(a.target.title!=b("VideoComposerDragAndDropScrubberConstants").DROP_AREA_TITLE)return;var c=a.target.getBoundingClientRect();c=c.left;var e=a.clientX;a=a.dataTransfer.getData("application/json");if(a)try{a=JSON.parse(a);if(a.action===i.ADD){e=Math.max((e-c-a.offsetX)/b("VideoComposerDragAndDropScrubberConstants").SMALLEST_UNIT,0);c=a.lengthInSec*b("DateConsts").MS_PER_SEC;d.props.onAddItem&&d.props.onAddItem(a.id,e,c)}}catch(a){}}},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.props.onRegisterScrubber&&this.props.onRegisterScrubber(this)};d.render=function(){var a=this,c=this.state,d=c.playPositionInMs,e=c.isPlaying;c=[];c=this.props.items.map(function(c,f){var g=e&&d>=c.startTimeInMs&&d<c.endTimeInMs;return h.jsx(b("VideoComposerDragAndDropScrubberItem.react"),babelHelpers["extends"]({index:f,isPlaying:g,playPositionInMs:g?d:0,rootElement:a.state.dropareaRef,sourceOrderNumber:a.props.getItemOrderLabel?a.props.getItemOrderLabel(c.sourceId,c.id):null,totalDurationInMs:a.props.durationInMs},c,{onDeleteItem:a.props.onDeleteItem,onUpdateItem:a.props.onUpdateItem,onSelectItem:a.props.onSelectItem}),f)});var f=b("VideoComposerDragAndDropScrubberConstants").SMALLEST_UNIT*this.props.durationInMs;return h.jsxs("div",{className:"_6f_x",ref:function(b){return b&&!a.state.containerRef&&a.setState({containerRef:b})},onDragOver:this.$1,onDrop:this.$2,children:[h.jsx(b("VideoComposerDragAndDropScrubberTimeRuler.react"),{durationInMs:this.props.endTimeInMs-this.props.startTimeInMs,scale:this.props.timeScale,startTimeOffsetInMs:this.props.startTimeInMs,vpc:this.props.vpc}),h.jsxs("div",{className:"_6f_y",title:b("VideoComposerDragAndDropScrubberConstants").DROP_AREA_TITLE,ref:function(b){return b&&!a.state.dropareaRef&&a.setState({dropareaRef:b})},style:{width:f},children:[h.jsx(b("VideoComposerDragAndDropScrubberPlayhead.react"),{startTimeOffsetInMs:this.props.startTimeInMs,vpc:this.props.vpc,onUpdatePlayPosition:this.$3,onUpdatePlayState:this.$4}),h.jsxs("div",{className:"_6gwf",title:b("VideoComposerDragAndDropScrubberConstants").DROP_AREA_TITLE,children:[h.jsx(b("VideoComposerDragAndDropScrubberBackgroundImages.react"),{endTimeInMs:this.props.endTimeInMs,startTimeInMs:this.props.startTimeInMs,videoPlayer:this.props.videoPlayer,width:f}),c]})]})]})};d.$1=function(a){a.preventDefault()};d.scrollToTimePosition=function(a){a=b("VideoComposerDragAndDropScrubberConstants").SMALLEST_UNIT*a;var c=this.state.containerRef;c&&(c.scrollLeft=a-c.offsetWidth/2)};return c}(h.Component);a.defaultProps={timeScale:b("VideoComposerDragAndDropScrubberConstants").TIME_SCALE};e.exports=a}),null);
__d("VideoComposerSoundEditorScrubberContainer.react",["cx","DateConsts","FluxContainer","React","VideoComposerDragAndDropScrubber.react","VideoComposerDragAndDropScrubberTypes","VideoComposerSoundEditorActions","VideoComposerSoundEditorConstants","VideoComposerSoundEditorUtils","VideoComposerStores","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("VideoComposerDragAndDropScrubberTypes").VideoComposerDragAndDropScrubberActionTypes;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a){b("VideoComposerSoundEditorActions").registerScrubber(d.props.videoComposerID,a)},d.$3=function(a,c,e){b("VideoComposerSoundEditorActions").addTrackToScrubber(d.props.videoComposerID,a,c,Math.min(c+e,d.state.durationInMs||0));c=b("VideoComposerStores").getSoundEditorStore(d.props.videoComposerID).getEditingTrackData();c&&b("VideoComposerSoundEditorActions").addNestingTrackItemToSelectedList(d.props.videoComposerID,a,c)},d.$4=function(a){var c=d.state.addedTracks.get(a);b("VideoComposerSoundEditorActions").deleteAddedTrack(d.props.videoComposerID,a,c.sourceId,c.id)},d.$5=function(a,c,e,f){var g=d.state.addedTracks.get(c);b("VideoComposerSoundEditorActions").updateAddedTrack(d.props.videoComposerID,a,c,e,f);if(a===i.MOVE){c=g.sourceId;b("VideoComposerSoundEditorActions").updateSelectedTrackNestingItemOrder(d.props.videoComposerID,c)}},d.$6=function(a){b("VideoComposerSoundEditorActions").editAddedTrack(d.props.videoComposerID,d.state.addedTracks.get(a))},d.$1=function(a,c){a=d.state.selectedTracks.get(a);var e=a.nestingItems.valueSeq().findIndex(function(a){return a.id===c});return b("VideoComposerSoundEditorUtils").getTrackOrderLabel(a.orderNumber,e+1)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(a){var c;return[(c=b("VideoComposerStores")).getMetadataStore(a.videoComposerID),c.getSoundEditorStore(a.videoComposerID),c.getSoundEditorSoundCollectionStore(a.videoComposerID),c.getThumbnailsStore(a.videoComposerID)]};c.calculateState=function(a,c){var d=(a=b("VideoComposerStores")).getMetadataStore(c.videoComposerID).getVideoPreviewTimeData(),e=d.videoDuration,f=d.videoEndTime;d=d.videoStartTime;var g=a.getSoundEditorStore(c.videoComposerID).getState(),h=g.draftAddedTracks;g=g.videoPlayerController;var i=a.getSoundEditorSoundCollectionStore(c.videoComposerID).getState();i=i.selectedTracks;a=a.getThumbnailsStore(c.videoComposerID).getState();c=a.videoPlayer;return{addedTracks:h,durationInMs:e?e*b("DateConsts").MS_PER_SEC:null,endTimeInMs:f?f*b("DateConsts").MS_PER_SEC:0,startTimeInMs:d*b("DateConsts").MS_PER_SEC,selectedTracks:i,videoPlayer:c,videoPlayerController:g}};var d=c.prototype;d.render=function(){return this.state.durationInMs!=null||this.state.durationInMs===0?h.jsx("div",{className:"_6f_s",style:{width:b("VideoComposerSoundEditorConstants").PLAYER_WIDTH+"px"},children:h.jsx(b("VideoComposerDragAndDropScrubber.react"),{durationInMs:this.state.durationInMs,endTimeInMs:this.state.endTimeInMs,items:this.state.addedTracks,startTimeInMs:this.state.startTimeInMs,videoPlayer:this.state.videoPlayer,vpc:this.state.videoPlayerController,getItemOrderLabel:this.$1,onRegisterScrubber:this.$2,onAddItem:this.$3,onDeleteItem:this.$4,onUpdateItem:this.$5,onSelectItem:this.$6})}):null};return c}(h.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerSoundEditorSelectedTrackListContainer.react",["FluxContainer","React","VideoComposerSoundEditorTrackList.react","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getSoundEditorSoundCollectionStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getSoundEditorSoundCollectionStore(c.videoComposerID).getState();c=a.playTrack;a=a.selectedTracks;return{playTrack:c,selectedTracks:a.toArray()}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerSoundEditorTrackList.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID,isDraggable:!0,isPlaying:!1},this.state))};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("MediaManagerErrorStateMessage.react",["cx","fbt","ix","CenteredContainer.react","Image.react","React","SUIText.react","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a={tabErrorState:function(a){var c=[h._("There was an issue while loading this Page."),h._("Please refresh and try again.")];a=(a=a==null?void 0:a.messages)!=null?a:c;return j.jsxs(b("CenteredContainer.react"),{className:"_1ld-",vertical:!0,children:[j.jsx(b("Image.react"),{className:"_1ldz",src:i("584093")}),a.map(function(a,b){return j.jsx("div",{children:a},b)})]})},cardErrorState:function(){return j.jsx(b("SUIText.react"),{color:"placeholder",display:"block",margin:"_3-8-",size:"meta1",children:h._("There was an issue while loading this information. Please refresh the Page and try again.")})}};e.exports=a}),null);
__d("SoundCollectionSearchBar.react",["cx","React","SUIMediaManagerTheme","SUISearchInput.react","SUITheme"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=new(b("SUITheme"))({id:"media-manager-sound-collection-search",components:babelHelpers["extends"]({},b("SUIMediaManagerTheme"),{SUITextInput:babelHelpers["extends"]({},b("SUIMediaManagerTheme").SUITextInput,{height:36})})});a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsx("div",{className:"_661x",children:h.jsx(b("SUISearchInput.react"),{placeholder:this.props.placeholder,theme:i,width:this.props.textBarWidth,value:this.props.value?this.props.value:"",onChange:this.props.onChange,onKeyDown:this.props.onSubmit})})};return c}(h.Component);a.defaultProps={textBarWidth:250};e.exports=a}),null);
__d("SoundCollectionFilterSelector",["cssVar","cx","React","SUISelector.react","SUISelectorButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){c.props.onChange(c.props.filterField,a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return i.jsx("div",{className:"_661z",children:i.jsx(b("SUISelector.react"),{maxHeight:200,onChange:this.$1,value:this.props.value,button:i.jsx(b("SUISelectorButton.react"),{style:{backgroundColor:"#F5F6F7",borderColor:"#DADDE1",borderRadius:2,borderWidth:1,height:36,paddingLeft:20,paddingRight:20}}),children:this.props.options})})};return c}(i.Component);e.exports=a}),null);
__d("SoundCollectionTags",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a=[{name:g._("UI"),id:"1826111960817765"},{name:g._("Industry, machinery, tools & offices"),id:"1870755776333952"},{name:g._("Water & underwater"),id:"2255831547821313"},{name:g._("Footsteps"),id:"2408858785798663"},{name:g._("Alarms, bells & sirens"),id:"2659844870754988"},{name:g._("Fabric"),id:"1668604839911166"},{name:g._("Household"),id:"1607085419396586"},{name:g._("Human voices"),id:"1920663291312735"},{name:g._("Cartoon & comedy"),id:"2048241298559689"},{name:g._("Animals"),id:"1832683063434792"},{name:g._("Sci-fi, fantasy, creatures & horror"),id:"1822032747832988"},{name:g._("Transport"),id:"1914522391973321"},{name:g._("Sports"),id:"1543084165815087"},{name:g._("Ambience"),id:"1668596426569779"},{name:g._("Crashes, hits & impacts"),id:"1983784198336473"},{name:g._("Fire"),id:"1899936036706903"},{name:g._("Doors, opens & closes"),id:"1855434201189811"},{name:g._("Ambiences & public spaces"),id:"1833798833400854"},{name:g._("Musical"),id:"1841622295915689"},{name:g._("Buttons, switches & clicks"),id:"1865252493528839"}];b=[{name:g._("Folk"),id:"2099263466771243"},{name:g._("Western classical"),id:"1902862986434857"},{name:g._("Blues"),id:"1760596640705412"},{name:g._("Festive"),id:"2369910986356886"},{name:g._("Middle Eastern"),id:"1411008135668159"},{name:g._("Latin"),id:"1954849687909188"},{name:g._("Jazz"),id:"2453792984645726"},{name:g._("Ambient"),id:"2186447454763123"},{name:g._("Rock"),id:"2372174466142309"},{name:g._("African"),id:"2456189331074805"},{name:g._("R&B and soul"),id:"2375762942466266"},{name:g._("Comedy"),id:"1960792514007548"},{name:g._("Electronic"),id:"1892995627451079"},{name:g._("Children's"),id:"2761206917238038"},{name:g._("Pop"),id:"1748516828590890"},{name:g._("Classical"),id:"1896283090468538"},{name:g._("Indian"),id:"2078200942199830"},{name:g._("Orchestral"),id:"1823348091052631"},{name:g._("Reggae"),id:"1728461497265967"},{name:g._("Japanese"),id:"1411035625664194"},{name:g._("Country"),id:"2275251625849593"},{name:g._("East Asian"),id:"2024937637545812"},{name:g._("Cinematic"),id:"1748398281939147"},{name:g._("Chinese"),id:"1771700322865519"},{name:g._("Novelty"),id:"2163455430340873"},{name:g._("Hip hop"),id:"2209103552497349"},{name:g._("World"),id:"2583544121671809"}];c=[{name:g._("Scary"),id:"2161321257251999"},{name:g._("Dreamy"),id:"2244102132328619"},{name:g._("Bright"),id:"1860854437355482"},{name:g._("Groovy"),id:"2414637978561311"},{name:g._("Happy"),id:"2220492084687628"},{name:g._("Romantic"),id:"1684057541704372"},{name:g._("Aggressive"),id:"1811644588883139"},{name:g._("Glamorous"),id:"1847020012078260"},{name:g._("Peaceful"),id:"1519969001438171"},{name:g._("Sentimental"),id:"2529037093774894"},{name:g._("Funky"),id:"2022352181149247"},{name:g._("Suspense"),id:"2083990171625171"},{name:g._("Sexy"),id:"1923607891053025"},{name:g._("Energetic"),id:"2233982530008128"},{name:g._("Quirky"),id:"2281404455234889"},{name:g._("Inspirational"),id:"1687340358055529"},{name:g._("Dramatic"),id:"1843145709072448"},{name:g._("Upbeat"),id:"1324701624296130"},{name:g._("Driving"),id:"1564834006948607"},{name:g._("Mysterious"),id:"2031660406854857"},{name:g._("Sad"),id:"1871358992953486"},{name:g._("Dark"),id:"1528946987220503"},{name:g._("Jazzy"),id:"1987914691282412"},{name:g._("Angry"),id:"1950005441711770"},{name:g._("Chill"),id:"2148480685186215"}];d=[{name:g._("Ensemble"),id:"1848022958646172"},{name:g._("Has vocals"),id:"2035094319888819"},{name:g._("Male & female"),id:"1713179975428867"},{name:g._("No vocals"),id:"1915533645197483"},{name:g._("Female vocal"),id:"1879199492166566"},{name:g._("Male vocal"),id:"1796164040504522"}];f=[{name:g._("Slow"),id:"1477419455694767"},{name:g._("Medium"),id:"2074670815918380"},{name:g._("Fast"),id:"2216148101759724"}];e.exports={SoundCollectionEffectCategoryTags:a,SoundCollectionGenreTags:b,SoundCollectionMoodTags:c,SoundCollectionVocalTags:d,SoundCollectionTempoTags:f}}),null);
__d("SoundCollectionSoundEffectsFilters.react",["cx","fbt","React","SoundCollectionFilterSelector","SoundCollectionTags","SUISelectorOption.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("SoundCollectionTags").SoundCollectionEffectCategoryTags,k={"< 2s":h._("0-2 secs"),"2-10s":h._("2-10 secs"),"10-30s":h._("10-30 secs"),"30s <":h._("30+ secs")};a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=[i.jsx(b("SUISelectorOption.react"),{value:null,children:h._("All categories")},"null")].concat(j.map(function(a){return i.jsx(b("SUISelectorOption.react"),{value:a.id,children:a.name},a.id)})),c=[i.jsx(b("SUISelectorOption.react"),{value:null,children:h._("All durations")},"null")].concat(this.props.lengthOptions.map(function(a){return i.jsx(b("SUISelectorOption.react"),{value:a,children:k[a]},a)}));return i.jsxs("div",{className:"_661y",children:[i.jsx(b("SoundCollectionFilterSelector"),{filterField:"categorySelected",onChange:this.props.onFilterChange,options:a,value:this.props.categorySelected}),i.jsx(b("SoundCollectionFilterSelector"),{filterField:"lengthSelected",onChange:this.props.onFilterChange,options:c,value:this.props.lengthSelected})]})};return c}(i.Component);e.exports=a}),null);
__d("SoundCollectionSoundTrackFilters.react",["cx","fbt","React","SoundCollectionFilterSelector","SoundCollectionTags","SUISelectorOption.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("SoundCollectionTags").SoundCollectionGenreTags,k=b("SoundCollectionTags").SoundCollectionMoodTags,l=b("SoundCollectionTags").SoundCollectionVocalTags,m={"0-30s":h._("0-30 secs"),"30s-1min":h._("30-60 secs"),"1min-2min":h._("1-2 mins"),"2min+":h._("2+ mins")};a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c,d=[i.jsx(a=b("SUISelectorOption.react"),{value:null,children:h._("All genres")},"null")].concat(j.map(function(a){return i.jsx(b("SUISelectorOption.react"),{value:a.id,children:a.name},a.id)})),e=[i.jsx(a,{value:null,children:h._("All moods")},"null")].concat(k.map(function(a){return i.jsx(b("SUISelectorOption.react"),{value:a.id,children:a.name},a.id)})),f=[i.jsx(a,{value:null,children:h._("All durations")},"null")].concat(this.props.lengthOptions.map(function(a){return i.jsx(b("SUISelectorOption.react"),{value:a,children:m[a]},a)}));a=[i.jsx(a,{value:null,children:h._("All vocals")},"null")].concat(l.map(function(a){return i.jsx(b("SUISelectorOption.react"),{value:a.id,children:a.name},a.id)}));return i.jsxs("div",{className:"_661y",children:[i.jsx(c=b("SoundCollectionFilterSelector"),{filterField:"genreSelected",onChange:this.props.onFilterChange,options:d,value:this.props.genreSelected}),i.jsx(c,{filterField:"moodSelected",onChange:this.props.onFilterChange,options:e,value:this.props.moodSelected}),i.jsx(c,{filterField:"lengthSelected",onChange:this.props.onFilterChange,options:f,value:this.props.lengthSelected}),i.jsx(c,{filterField:"vocalSelected",onChange:this.props.onFilterChange,options:a,value:this.props.vocalSelected})]})};return c}(i.Component);e.exports=a}),null);
__d("SoundCollectionTabStateToStoreKey",[],(function(a,b,c,d,e,f){"use strict";b=(a={},a.sound_tracks="trackTab",a.sound_effects="effectTab",a);e.exports=b}),null);
__d("MediaManagerTableColumnHeader.react",["cx","ClickableAreaButton.react","LineClamp.react","React","SUIText.react","SUITooltip.react","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){var c=h.jsx(b("SUIText.react"),{color:"placeholder",size:"meta1",children:h.jsx(b("LineClamp.react"),{enableTooltipOnOverflow:!a.tooltip,lineHeight:16,lines:1,children:a.text})});a.tooltip!=null&&(c=h.jsx(b("SUITooltip.react"),{tooltip:a.tooltip,children:c}));if(a.onClick){c=h.jsx(b("ClickableAreaButton.react"),{disabled:a.onClick==null,label:"Column Header",onClick:(a=a.onClick)!=null?a:b("emptyFunction"),children:h.jsx("div",{className:"_6ola _7oot",children:c})})}return c}e.exports=a}),null);
__d("VideoComposerSoundEditorSoundCollectionTabTable",["ix","cx","fbt","FBLoadShimmer.react","Link.react","MediaManagerTableColumnHeader.react","React","SoundCollectionHoverIcon.react","SoundCollectionTypedLogger","VideoComposerSoundEditorActions","asset","cxMargin","formatDurationSeconds","intlList"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=10,l=function(a){return j.jsx("div",{className:"_6d32"+(a.isSelected?" _6cuj":"")+(a.playTrackID===a.result.id?" _6cuk":""),children:a.result.artistName})},m=function(a){return j.jsx("div",{className:"_6d32"+(a.isSelected?" _6cuj":"")+(a.playTrackID===a.result.id?" _6cuk":""),children:b("formatDurationSeconds")(a.result.lengthInSec)})},n=function(){return j.jsx(b("FBLoadShimmer.react"),{height:15})},o=function(a){return j.jsx("div",{className:"_6d32"+(a.isSelected?" _6cuj":"")+(a.playTrackID===a.result.id?" _6cuk":""),children:u(a.tagType,a.result)})},p=function(c){babelHelpers.inheritsLoose(a,c);function a(){var a,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(a=d=c.call.apply(c,[this].concat(f))||this,d.$1=function(){d.props.playTrackID===d.props.result.id?b("VideoComposerSoundEditorActions").setSoundCollectionIsPlaying(d.props.videoComposerID,!0):b("VideoComposerSoundEditorActions").setSoundCollectionPlayTrack(d.props.videoComposerID,d.props.result),new(b("SoundCollectionTypedLogger"))().setEvent("play").setSoundCollectionTab(d.props.soundCollectionTab).setAudioID(d.props.result.id).log()},d.$2=function(){b("VideoComposerSoundEditorActions").setSoundCollectionIsPlaying(d.props.videoComposerID,!1)},d.$3=function(){b("VideoComposerSoundEditorActions").soundCollectionSelectTrack(d.props.videoComposerID,d.props.result)},d.$4=function(){b("VideoComposerSoundEditorActions").soundCollectionUnselectTrack(d.props.videoComposerID,d.props.result.id)},a)||babelHelpers.assertThisInitialized(d)}var d=a.prototype;d.render=function(){var a=this.props.playTrackID===this.props.result.id,c=this.props.isPlaying&&a,d=j.jsx(b("SoundCollectionHoverIcon.react"),{icon:g("422765"),iconHover:g("422776")}),e=j.jsx(b("SoundCollectionHoverIcon.react"),{icon:g("358497"),iconHover:g("551456")}),f=j.jsx(b("SoundCollectionHoverIcon.react"),{icon:g("551453"),iconHover:g("551456")}),h=j.jsx(b("SoundCollectionHoverIcon.react"),{icon:g("483322"),iconHover:g("551456")});e=e;a?e=f:this.props.isSelected&&(e=h);f=j.jsx(b("SoundCollectionHoverIcon.react"),{icon:g("500243"),iconHover:g("489390")});h=j.jsx(b("SoundCollectionHoverIcon.react"),{icon:g("391229"),iconHover:g("489390")});var i=j.jsx(b("SoundCollectionHoverIcon.react"),{icon:g("515616"),iconHover:g("538589")}),k=j.jsx(b("SoundCollectionHoverIcon.react"),{icon:g("538585"),iconHover:g("538589")});h=a?h:f;f=a?k:i;return j.jsxs("div",{className:"_6cjx",children:[j.jsx(b("Link.react"),{href:"#",onClick:c?this.$2:this.$1,children:c?d:e}),j.jsx("div",{className:"_3-9a",children:this.props.isSelected?j.jsx(b("Link.react"),{href:"#",onClick:this.$4,children:f}):j.jsx(b("Link.react"),{href:"#",onClick:this.$3,children:h})}),j.jsx("div",{className:"_6cui"+(this.props.isSelected?" _6cuj":"")+(this.props.playTrackID===this.props.result.id?" _6cuk":""),children:this.props.result.title})]})};return a}(j.Component);a=function(a,b){b=b.map(function(a){return{id:a.id,result:a}});if(a)for(var a=0;a<k;a++)b.push({id:String(a),result:null});return b};var q=function(a,b){return{label:a,id:"name",getTitle:function(a){return a.result?a.result.title:""},renderItem:function(a){return a.result?j.jsx(p,{videoComposerID:b.videoComposerID,isPlaying:b.isPlaying,playTrackID:b.playTrackID,result:a.result,soundCollectionTab:b.soundCollectionTab,isSelected:Object.prototype.hasOwnProperty.call(b.selectedTracks,a.result.id)}):j.jsx(n,{})},widthWeight:2}},r=function(a,b){return{label:a,id:"artist",getTitle:function(a){return a.result?a.result.artistName:""},renderItem:function(a){return a.result?j.jsx(l,{playTrackID:b.playTrackID,result:a.result,isSelected:Object.prototype.hasOwnProperty.call(b.selectedTracks,a.result.id)}):j.jsx(n,{})},widthWeight:1}},s=function(a){return{label:j.jsx(b("MediaManagerTableColumnHeader.react"),{text:i._("Length")}),id:"length",getTitle:function(a){return a.result?b("formatDurationSeconds")(a.result.lengthInSec):""},renderItem:function(b){return b.result?j.jsx(m,{playTrackID:a.playTrackID,result:b.result,isSelected:Object.prototype.hasOwnProperty.call(a.selectedTracks,b.result.id)}):j.jsx(n,{})},widthWeight:1}},t=function(a,b,c){return{label:b,id:a,getTitle:function(b){return b.result?u(a,b.result):""},renderItem:function(b){return b.result?j.jsx(o,{playTrackID:c.playTrackID,result:b.result,tagType:a,isSelected:Object.prototype.hasOwnProperty.call(c.selectedTracks,b.result.id)}):j.jsx(n,{})},widthWeight:1}};c=function(a){return[q(j.jsx(b("MediaManagerTableColumnHeader.react"),{text:i._("Track")}),a),r(j.jsx(b("MediaManagerTableColumnHeader.react"),{text:i._("Artist")}),a),t("genre",j.jsx(b("MediaManagerTableColumnHeader.react"),{text:i._("Genre")}),a),s(a)]};d=function(a){return[q(j.jsx(b("MediaManagerTableColumnHeader.react"),{text:i._("Sound Effect")}),a),r(j.jsx(b("MediaManagerTableColumnHeader.react"),{text:i._("Source")}),a),t("sound_effects_category",j.jsx(b("MediaManagerTableColumnHeader.react"),{text:i._("Category")}),a),s(a)]};var u=function(a,c){var d=[];c.mediaTags&&(d=c.mediaTags.filter(function(b){return b.media_tag_type.toLowerCase()===a}).map(function(a){return a.local_name}));return b("intlList")(d)};e.exports={createTracksColumns:c,createEffectsColumns:d,createRows:a}}),null);
__d("VideoComposerSoundEditorSoundCollection.react",["cx","fbt","FlexLayout.react","MediaManagerErrorStateMessage.react","React","ScrollableArea.react","SoundCollectionSearchBar.react","SoundCollectionSoundEffectsFilters.react","SoundCollectionSoundTrackFilters.react","SoundCollectionTabStateToStoreKey","SUIMediaManagerTheme","SUITabGroup.react","SUITableDEPRECATED.react","SUIThemeContainer.react","VideoComposerSoundEditorActions","VideoComposerSoundEditorSoundCollectionTabTable","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=300;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={effectTabSearchString:"",trackTabSearchString:""},d.$2=function(a,c){b("VideoComposerSoundEditorActions").setSoundCollectionFilterSelected(d.props.videoComposerID,a,c)},d.$3=function(a){b("VideoComposerSoundEditorActions").setSoundCollectionTab(d.props.videoComposerID,a)},d.$6=function(a){d.props.selectedTab==="sound_effects"?d.setState({effectTabSearchString:a}):d.setState({trackTabSearchString:a})},d.$7=function(){b("VideoComposerSoundEditorActions").submitSearchString(d.props.videoComposerID,d.props.selectedTab,d.state[b("SoundCollectionTabStateToStoreKey")[d.props.selectedTab]+"SearchString"])},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){b("VideoComposerSoundEditorActions").initSoundCollection(this.props.videoComposerID)};d.render=function(){var a=this,c=this.$1(),d=c.loading,e=c.results,f=c.errorInTab,g=function(){b("VideoComposerSoundEditorActions").loadSoundCollectionNextPage(a.props.videoComposerID)};c=this.props.selectedTab==="sound_tracks"?i.jsx(b("SoundCollectionSoundTrackFilters.react"),babelHelpers["extends"]({},this.props,c,{onFilterChange:this.$2})):i.jsx(b("SoundCollectionSoundEffectsFilters.react"),babelHelpers["extends"]({},this.props,c,{onFilterChange:this.$2}));f=i.jsx(k,{videoComposerID:this.props.videoComposerID,errorStateActive:f,isPlaying:this.props.isPlaying,loading:d,playTrackID:this.props.playTrack?this.props.playTrack.id:null,results:e,selectedTracks:this.props.selectedTracks,soundCollectionTab:this.props.selectedTab});e=i.jsx(b("ScrollableArea.react"),{className:this.props.selectedTab!=="sound_tracks"?"hidden_elem":"","data-testid":void 0,shadow:!1,onEndReached:g,children:f});g=i.jsx(b("ScrollableArea.react"),{className:this.props.selectedTab!=="sound_effects"?"hidden_elem":"","data-testid":void 0,shadow:!1,onEndReached:g,children:f});return i.jsxs(b("SUIThemeContainer.react"),{theme:b("SUIMediaManagerTheme"),children:[i.jsxs(b("FlexLayout.react"),{align:"center",className:"_6f-0",children:[i.jsx("div",{className:"_6bxi",children:i.jsx(b("SUITabGroup.react"),{onChange:this.$3,tabs:[{label:h._("Tracks"),value:"sound_tracks"},{label:h._("Sound Effects"),value:"sound_effects"}],value:this.props.selectedTab})}),i.jsx("div",{className:"_6bxj",children:i.jsx(b("SoundCollectionSearchBar.react"),{disabled:d,placeholder:this.$4(),value:this.$5(),onChange:this.$6,onSubmit:this.$7,textBarWidth:j})})]}),i.jsx("div",{className:"_6f-1",children:c}),i.jsx("div",{className:"_6cg1",children:i.jsxs("div",{className:"_6f-2",children:[e,g]})})]})};d.$4=function(){return this.props.selectedTab==="sound_effects"?h._("Search for a sound"):h._("Search for a track")};d.$5=function(){if(this.props.selectedTab==="sound_effects")return this.state.effectTabSearchString;else return this.state.trackTabSearchString};d.$1=function(){return this.props.trackTab};return c}(i.Component);var k=function(a){var c=i.jsxs("div",{children:[i.jsx("div",{className:"_6624",children:h._("Nothing in the sound collection matches these terms.")}),i.jsx("div",{className:"_6624",children:h._("Please try a different search.")})]});a.errorStateActive&&(c=b("MediaManagerErrorStateMessage.react").tabErrorState());var d=b("VideoComposerSoundEditorSoundCollectionTabTable").createRows(a.loading,a.results);return i.jsx("div",{children:i.jsx(b("SUITableDEPRECATED.react"),{borders:["row"],columns:a.soundCollectionTab==="sound_tracks"?b("VideoComposerSoundEditorSoundCollectionTabTable").createTracksColumns(a):b("VideoComposerSoundEditorSoundCollectionTabTable").createEffectsColumns(a),items:d,noItemsMessage:c,rowHeight:64,totalItemCount:d.length})})};e.exports=a}),null);
__d("VideoComposerSoundEditorSoundCollectionContainer.react",["FluxContainer","React","VideoComposerSoundEditorSoundCollection.react","VideoComposerStores","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getSoundEditorSoundCollectionStore(a.videoComposerID)]};c.calculateState=function(a,c){return b("VideoComposerStores").getSoundEditorSoundCollectionStore(c.videoComposerID).getState().toJS()};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerSoundEditorSoundCollection.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID},this.state))};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerSoundEditorTrackListItemEditorPercentage.react",["cx","fbt","React","SUIBusinessTheme","SUITextInput.react","XUIContextualDialog.react","XUINotice.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=100;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={errorMessage:null,hasChanged:!1,valueText:c.$1(c.props.value).toString()},c.$4=function(a){c.$2(c.state.valueText)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidUpdate=function(a){(a.value!==this.props.value||this.state.hasChanged)&&this.setState({hasChanged:!1,valueText:this.$1(this.props.value).toString()})};d.render=function(){var a=this;return i.jsxs("div",{className:"_6k41",children:[i.jsx("div",{className:"_2pih",children:this.props.label}),i.jsxs("div",{className:"_6k42",ref:"timestampInput",children:[i.jsx(b("SUITextInput.react"),{style:{backgroundColor:"transparent",borderStyle:"none",flexGrow:0,flexShrink:0,width:"40px"},textAlign:"center",theme:b("SUIBusinessTheme"),value:this.state.valueText,onBlur:function(b){return a.$2(a.state.valueText)},onChange:function(b){return a.$3(b)},onEnter:this.$4}),i.jsx("div",{className:"_6k43",children:"%"}),i.jsx(b("XUIContextualDialog.react"),{alignment:"center",contextRef:function(){return a.refs.timestampInput},label:h._("Error"),position:"above",shown:!!this.state.errorMessage,children:this.state.errorMessage})]})]})};d.$2=function(a){this.$5(Number(a)/j)};d.$3=function(a){this.setState({errorMessage:null,valueText:a})};d.$5=function(a){var c=null;if(this.$6(a))this.props.onValueChange(a);else{a=this.props;var d=a.maxValue;a=a.minValue;c=i.jsx(b("XUINotice.react"),{use:"warn",size:"small",children:h._("Valid percentage value input {minimum valid percentage} \u0025 ~ {maximum valid percentage} \u0025",[h._param("minimum valid percentage",this.$1(a)),h._param("maximum valid percentage",this.$1(d))])})}this.setState({errorMessage:c,hasChanged:!0})};d.$6=function(a){var b=this.props,c=b.maxValue;b=b.minValue;return a>=b&&a<=c};d.$1=function(a){return a*j};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerSoundEditorTrackListItemEditorTimestamp.react",["ix","cx","fbt","FlexLayout.react","Image.react","React","SUIBusinessTheme","SUITextInput.react","TimeFormatUtil","XUIContextualDialog.react","XUINotice.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=10,l=100,m=100,n=300,o=2e3;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=null,d.state={errorMessage:null,hasChanged:!1,isDecreasing:!1,isIncreasing:!1,timestampText:b("TimeFormatUtil").formatTime(d.props.timeInMs)},d.$7=function(a){d.$5(d.state.timestampText)},d.$2=function(a){d.$9(k),setTimeout(d.$10,n),setTimeout(d.$10,o),d.setState({isIncreasing:!0})},d.$10=function(){d.state.isIncreasing&&!d.$1?d.$1=setInterval(function(){return d.$9(k)},m):d.state.isIncreasing&&(d.$1&&clearInterval(d.$1),d.$1=setInterval(function(){return d.$9(l)},m))},d.$4=function(a){d.$9(-k),setTimeout(d.$11,n),setTimeout(d.$11,o),d.setState({isDecreasing:!0})},d.$11=function(){d.state.isDecreasing&&!d.$1?d.$1=setInterval(function(){return d.$9(-k)},m):d.state.isDecreasing&&(d.$1&&clearInterval(d.$1),d.$1=setInterval(function(){return d.$9(-l)},m))},d.$3=function(a){d.setState({isDecreasing:!1,isIncreasing:!1}),d.$1&&clearInterval(d.$1),d.$1=null},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidUpdate=function(a){(a.timeInMs!==this.props.timeInMs||this.state.hasChanged)&&this.setState({timestampText:b("TimeFormatUtil").formatTime(this.props.timeInMs),hasChanged:!1})};d.render=function(){var a=this,c=j.jsxs("div",{className:"_6k58",children:[j.jsx("div",{className:"_6k59",onMouseDown:this.$2,onMouseUp:this.$3,children:j.jsx(b("Image.react"),{src:g("515077")})}),j.jsx("div",{className:"_6k59",onMouseDown:this.$4,onMouseUp:this.$3,children:j.jsx(b("Image.react"),{src:g("486559")})})]});return j.jsxs(b("FlexLayout.react"),{align:"center",children:[j.jsx("div",{className:"_2pii",children:this.props.label}),j.jsxs("div",{className:"_6k5a",ref:"timestampInput",children:[j.jsx(b("SUITextInput.react"),{style:{backgroundColor:"transparent",borderStyle:"none",flexGrow:1,width:"74px"},textAlign:"center",theme:b("SUIBusinessTheme"),value:this.state.timestampText,onBlur:function(b){return a.$5(a.state.timestampText)},onChange:function(b){return a.$6(b)},onEnter:this.$7}),c,j.jsx(b("XUIContextualDialog.react"),{alignment:"center",contextRef:function(){return a.refs.timestampInput},label:i._("Error"),position:"above",shown:!!this.state.errorMessage,children:this.state.errorMessage})]})]})};d.$5=function(a){a=b("TimeFormatUtil").parseToTimeInMs(a||"");this.$8(a)};d.$6=function(a){this.setState({errorMessage:null,timestampText:a})};d.$9=function(a){a=this.props.timeInMs+a;this.$8(a)};d.$8=function(a){var c=null;if(this.$12(a))this.props.onTimestampChange(a);else{a=this.props.minTimeInMs||0;var d=this.props.maxTimeInMs;c=j.jsx(b("XUINotice.react"),{use:"warn",size:"small",children:i._("Valid time input {minimum valid time} ~ {maximum valid time}",[i._param("minimum valid time",b("TimeFormatUtil").formatTime(a)),i._param("maximum valid time",b("TimeFormatUtil").formatTime(d))])})}this.setState({errorMessage:c,hasChanged:!0})};d.$12=function(a){var b=this.props,c=b.maxTimeInMs;b=b.minTimeInMs;return a>=b&&a<=c};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerSoundEditorTrackListItemEditor.react",["ix","cx","fbt","FDSText.react","FlexLayout.react","React","SoundCollectionHoverIcon.react","VideoComposerDragAndDropScrubberConstants","VideoComposerDragAndDropScrubberTypes","VideoComposerSoundEditorTrackListItemEditorPercentage.react","VideoComposerSoundEditorTrackListItemEditorTimestamp.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=b("VideoComposerDragAndDropScrubberTypes").VideoComposerDragAndDropScrubberActionTypes,l=1,m=0;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$4=function(a){c.props.onUpdateItemVolume(k.TRACK_VOLUME,a)},c.$1=function(a){var b=c.props.trackData;if(!b)return;var d=b.startTimeInMs;b=b.endTimeInMs;b=b-d;c.props.onUpdateItemTime(k.MOVE,a,a+b)},c.$2=function(a){var b=c.props.trackData;if(!b)return;var d=b.startTimeInMs,e=b.endTimeInMs;b=b.itemStartTimeInMs;a=a-b;c.props.onUpdateItemTime(k.RESIZE,d+a,e)},c.$3=function(a){var b=c.props.trackData;if(!b)return;var d=b.startTimeInMs,e=b.endTimeInMs;b=b.itemEndTimeInMs;a=a-b;c.props.onUpdateItemTime(k.RESIZE,d,e+a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props.trackData,c=a.endTimeInMs,d=a.itemDurationInMs,e=a.itemEndTimeInMs,f=a.itemStartTimeInMs,h=a.itemVolume,k=a.startTimeInMs,n=a.maxEndTimeInMs||this.props.videoDurationInMs;a=a.minStartTimeInMs||0;var o=c-k,p=Math.max(0,f-(k-a));d=Math.min(d,e+(n-c));return j.jsxs("div",{className:"_6k3-",children:[j.jsxs(b("FlexLayout.react"),{direction:"horizontal",children:[j.jsx("div",{className:"_6k3_",children:j.jsx(b("FDSText.react"),{color:"primary",size:"header4",weight:"bold",children:i._("Timecode Editor")})}),j.jsx("div",{className:"_6k40",children:j.jsx(b("SoundCollectionHoverIcon.react"),{icon:g("478812"),iconHover:g("499721")})})]}),j.jsxs("div",{className:"_2pi2 _2pi9",children:[j.jsx("div",{className:"_2pin",children:j.jsx(b("FDSText.react"),{color:"primary",size:"body2",weight:"bold",children:i._("Insert at (Timeline)")})}),j.jsx("div",{className:"_6k52",children:j.jsx(b("VideoComposerSoundEditorTrackListItemEditorTimestamp.react"),{label:j.jsx(b("FDSText.react"),{color:"primary",size:"body2",children:i._("In")}),maxTimeInMs:n-o,minTimeInMs:a,timeInMs:k,onTimestampChange:this.$1})}),j.jsx("div",{className:"_6k53",children:j.jsx(b("FDSText.react"),{color:"primary",size:"body2",weight:"bold",children:i._("Trim (Track)")})}),j.jsxs("div",{className:"_6k52",children:[j.jsx(b("VideoComposerSoundEditorTrackListItemEditorTimestamp.react"),{label:j.jsx(b("FDSText.react"),{color:"primary",size:"body2",children:i._("In")}),maxTimeInMs:e-b("VideoComposerDragAndDropScrubberConstants").MINIMUM_DURATION_IN_MS,minTimeInMs:p,timeInMs:f,onTimestampChange:this.$2}),j.jsx("div",{className:"_3-9a",children:j.jsx(b("VideoComposerSoundEditorTrackListItemEditorTimestamp.react"),{label:j.jsx(b("FDSText.react"),{color:"primary",size:"body2",children:i._("Out")}),maxTimeInMs:d,minTimeInMs:f+b("VideoComposerDragAndDropScrubberConstants").MINIMUM_DURATION_IN_MS,timeInMs:e,onTimestampChange:this.$3})})]}),j.jsx("div",{className:"_6k53",children:j.jsx(b("FDSText.react"),{color:"primary",size:"body2",weight:"bold",children:i._("Volume")})}),j.jsx("div",{className:"_6k52",children:j.jsx(b("VideoComposerSoundEditorTrackListItemEditorPercentage.react"),{label:j.jsx(b("FDSText.react"),{color:"primary",size:"body2",children:i._("Track")}),maxValue:l,minValue:m,value:h,onValueChange:this.$4})})]})]})};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerSoundEditorTrackListItemEditorContainer.react",["DateConsts","FluxContainer","React","VideoComposerSoundEditorActions","VideoComposerSoundEditorTrackListItemEditor.react","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a,c,e){var f=d.state,g=f.trackData;f=f.trackIndex;if(!g||!f&&f!==0)return;b("VideoComposerSoundEditorActions").updateAddedTrack(d.props.videoComposerID,a,f,c,e)},d.$2=function(a,c){var e=d.state,f=e.trackData;e=e.trackIndex;if(!f||!e&&e!==0)return;b("VideoComposerSoundEditorActions").updateAddedTrackVolume(d.props.videoComposerID,a,e,c)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(a){return[b("VideoComposerStores").getMetadataStore(a.videoComposerID),b("VideoComposerStores").getSoundEditorStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getSoundEditorStore(c.videoComposerID).getState();a=a.editingTrackData;var d=a?b("VideoComposerStores").getSoundEditorStore(c.videoComposerID).getAddedTrackIndexById(a.id):null;c=b("VideoComposerStores").getMetadataStore(c.videoComposerID).getVideoPreviewTimeData();c=c.videoDuration;return{videoDurationInMs:c?c*b("DateConsts").MS_PER_SEC:0,trackData:a,trackDataLastModifiedTimestamp:a?a.lastModifiedTimestamp:null,trackIndex:d}};var d=c.prototype;d.render=function(){var a=this.state,c=a.trackData;a=a.videoDurationInMs;var d=this.props,e=d.trackDataId;d=d.trackResultId;return!c||c.sourceId!==d||e!=c.id?null:g.jsx("div",{children:g.jsx(b("VideoComposerSoundEditorTrackListItemEditor.react"),{lastModifiedTimestamp:this.state.trackDataLastModifiedTimestamp,trackData:c,videoDurationInMs:a,onUpdateItemTime:this.$1,onUpdateItemVolume:this.$2})})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerSoundEditorTrackSelectorAudioPlayerContainer.react",["FluxContainer","React","VideoComposerSoundEditorAudioPlayer.react","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getSoundEditorSoundCollectionStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getSoundEditorSoundCollectionStore(c.videoComposerID).getState();c=a.isPlaying;a=a.playTrack;return{isPlaying:c,playTrack:a}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerSoundEditorAudioPlayer.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID},this.state))};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerSoundEditorTrackSelectorTrackListContainer.react",["FluxContainer","React","VideoComposerSoundEditorTrackList.react","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getSoundEditorSoundCollectionStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getSoundEditorSoundCollectionStore(c.videoComposerID).getState();c=a.isPlaying;var d=a.playTrack;a=a.selectedTracks;return{isPlaying:c,playTrack:d,selectedTracks:a.toArray()}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerSoundEditorTrackList.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID},this.state))};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerSoundEditorVideoPlayer.react",["cx","fbt","ix","ErrorBoundary.react","Image.react","React","VideoComponentEmbeddedControls.react","VideoComponentPlayButton.react","VideoComponentScrubberPreview.react","VideoComponentWithLoopingPlayback.react","VideoComponentWithPlayStartEnd.react","VideoComponentWithSpacePlayPause.react","VideoComposerSoundEditorActions","VideoComposerSoundEditorConstants","VideoPlayer.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){b("VideoComposerSoundEditorActions").updateVideoPlayerController(d.props.videoComposerID,a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.videoData;a=a?j.jsxs(b("VideoPlayer.react"),{className:"_6eoq",videoData:a,height:b("VideoComposerSoundEditorConstants").PLAYER_HEIGHT,width:b("VideoComposerSoundEditorConstants").PLAYER_WIDTH,subOrigin:"not_specified_please_fix",onVpcUpdate:this.$1,autoplay:!1,children:[j.jsx(b("VideoComponentPlayButton.react"),{}),j.jsx(b("VideoComponentEmbeddedControls.react"),{showSettingsButton:!0,displayDurationLimit:this.props.videoDuration,displayTimeOffset:this.props.videoStartTime}),j.jsx(b("VideoComponentWithPlayStartEnd.react"),{endTime:this.props.videoEndTime,startTime:this.props.videoStartTime,onEnableVPC:this.props.onEnableVPC,onUpdateCurrentPlayPosition:this.props.onUpdateCurrentPlayPosition,onUpdatePlayerState:this.props.onUpdatePlayerState}),j.jsx(b("VideoComponentWithLoopingPlayback.react"),{}),j.jsx(b("VideoComponentWithSpacePlayPause.react"),{}),j.jsx(b("VideoComponentScrubberPreview.react"),{})]}):null;var c=j.jsxs("div",{className:"_6eor",style:{height:b("VideoComposerSoundEditorConstants").PLAYER_HEIGHT,width:b("VideoComposerSoundEditorConstants").PLAYER_WIDTH},children:[j.jsx(b("Image.react"),{src:i("485937"),className:"_6eos"}),j.jsx("div",{className:"_6eot",children:h._("Video Preview Unavailable")}),j.jsx("div",{className:"_6eou",children:h._("Video preview is not available for this video file")})]});return j.jsx("div",{className:"_6eov",children:j.jsx(b("ErrorBoundary.react"),{children:j.jsx("div",{className:"_6eow"+(a?"":" _6eox"),children:a?a:c})})})};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerSoundEditorVideoPlayerContainer.react",["FluxContainer","React","VideoComposerSoundEditorConstants","VideoComposerSoundEditorVideoPlayer.react","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getMetadataStore(a.videoComposerID),b("VideoComposerStores").getUploadStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getMetadataStore(c.videoComposerID).getVideoPreviewTimeData();var d=a.videoDuration,e=a.videoEndTime;a=a.videoStartTime;c=b("VideoComposerStores").getUploadStore(c.videoComposerID).getState();c=c.videoData;return{videoData:c,videoDuration:d,videoEndTime:e,videoStartTime:a}};var d=c.prototype;d.render=function(){var a=this.state.videoData;return a?g.jsx(b("VideoComposerSoundEditorVideoPlayer.react"),{videoComposerID:this.props.videoComposerID,height:b("VideoComposerSoundEditorConstants").PLAYER_HEIGHT,width:b("VideoComposerSoundEditorConstants").PLAYER_WIDTH,videoData:a,videoDuration:this.state.videoDuration,videoEndTime:this.state.videoEndTime,videoStartTime:this.state.videoStartTime}):null};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerSoundEditorVideoVolumeEditor.react",["ix","cx","fbt","FBSimpleSlider.react","FDSText.react","FlexLayout.react","Image.react","Link.react","React","ShimButton.react","SoundCollectionHoverIcon.react","VideoComposerSoundEditorActions","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=.4,l=.7;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(a){b("VideoComposerSoundEditorActions").setVideoPlayerVolume(d.props.videoComposerID,a)},d.$1=function(){b("VideoComposerSoundEditorActions").showVideoVolumeEditor(d.props.videoComposerID,!0)},d.$2=function(){b("VideoComposerSoundEditorActions").showVideoVolumeEditor(d.props.videoComposerID,!1)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.videoVolume<k?j.jsx(b("Image.react"),{src:g("636092")}):this.props.videoVolume<l?j.jsx(b("Image.react"),{src:g("636094")}):j.jsx(b("Image.react"),{src:g("636087")});return j.jsxs("div",{className:"_2ph-",children:[j.jsx(b("ShimButton.react"),{onClick:this.$1,children:j.jsx("div",{className:"_6n0a",children:j.jsx(b("FDSText.react"),{color:"secondary",size:"header4",weight:"bold",children:i._("Video Volume")})})}),j.jsxs("div",{className:"_6m__"+(this.props.showEditor?" _6n00":""),children:[j.jsxs(b("FlexLayout.react"),{direction:"horizontal",children:[j.jsx("div",{className:"_6n01",children:j.jsx(b("FDSText.react"),{color:"primary",size:"body2",weight:"bold",children:i._("Volume (Entire Video)")})}),j.jsx("div",{className:"_6n02",children:j.jsx(b("Link.react"),{onClick:this.$2,children:j.jsx(b("SoundCollectionHoverIcon.react"),{icon:g("478812"),iconHover:g("499721")})})})]}),j.jsxs(b("FlexLayout.react"),{direction:"horizontal",children:[j.jsx("div",{className:"_6n03",children:a}),j.jsx("div",{className:"_6n04",children:j.jsx(b("FBSimpleSlider.react"),{min:0,max:1,value:this.props.videoVolume,onChange:this.$3})})]})]})]})};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerSoundEditorVideoVolumeEditorContainer.react",["FluxContainer","React","VideoComposerSoundEditorVideoVolumeEditor.react","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getSoundEditorStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getSoundEditorStore(c.videoComposerID).getState();c=a.showVideoVolumeEditor;a=a.videoVolume;return{showVideoVolumeEditor:c,videoVolume:a}};var d=c.prototype;d.render=function(){return this.state.videoVolume==null||this.state.videoVolume===0?null:g.jsx(b("VideoComposerSoundEditorVideoVolumeEditor.react"),{videoComposerID:this.props.videoComposerID,showEditor:this.state.showVideoVolumeEditor,videoVolume:Number(this.state.videoVolume)})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerSphericalDirectorContainer.react",["FluxContainer","FunnelLogger","React","SphericalDirectorFunnelConstants","VideoComposerSphericalDirectorActions","VideoComposerSphericalDirectorSection.react","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){b("VideoComposerSphericalDirectorActions").toggleSpherical(d.props.videoComposerID,a),b("FunnelLogger").appendActionWithTag(b("SphericalDirectorFunnelConstants").FUNNEL_NAME,b("SphericalDirectorFunnelConstants").ACTIONS.TOGGLE_360_MODE_COMPOSER,a?"true":"false")},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(a){var c;return[(c=b("VideoComposerStores")).getSphericalDirectorStore(a.videoComposerID),c.getUploadStore(a.videoComposerID),c.getMetadataStore(a.videoComposerID),c.getPremiereStore(a.videoComposerID)]};c.calculateState=function(a,c){var d=(a=b("VideoComposerStores")).getSphericalDirectorStore(c.videoComposerID).getState(),e=d.contextConfig,f=d.showOmnistabSection;d=d.spherical;var g=a.getUploadStore(c.videoComposerID).getState();g=g.videoFile;var h=a.getMetadataStore(c.videoComposerID).getState(),i=h.dialogMode,j=h.videoAssetID;h=h.videoID;return{contextConfig:e,dialogMode:i,spherical:d,shouldPremiere:a.getPremiereStore(c.videoComposerID).getState().shouldPremiere,showOmnistabSection:f,videoAssetID:j,videoFile:g,videoID:h}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerSphericalDirectorSection.react"),{videoComposerID:this.props.videoComposerID,contextConfig:this.state.contextConfig,dialogMode:this.state.dialogMode,ontoggleSpherical:this.$1,shouldPremiere:this.state.shouldPremiere,showOmnistabSection:this.state.showOmnistabSection,spherical:this.state.spherical,videoAssetID:this.state.videoAssetID,videoFile:this.state.videoFile,videoID:this.state.videoID})};return c}(g.Component);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerSphericalDirectorTabContainer.react",["fbt","FluxContainer","React","VideoComposerSphericalDirectorTabConfig","VideoComposerStores","VideoComposerTabItemContainer.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){var c;return[(c=b("VideoComposerStores")).getUIStore(a.videoComposerID),c.getPremiereStore(a.videoComposerID),c.getTrimmingEditorStore(a.videoComposerID),c.getPollsStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getUIStore(c.videoComposerID).getState();a=a.selectedTab;var d=!1,e=null;b("VideoComposerStores").getTrimmingEditorStore(c.videoComposerID).isVideoTrimmed()?(d=!0,e=g._("360 Director tools are disabled for trimmed videos.")):b("VideoComposerStores").getPremiereStore(c.videoComposerID).getState().shouldPremiere?(d=!0,e=g._("360 Director tools are disabled for the current video publishing options")):b("VideoComposerStores").getPollsStore(c.videoComposerID).getState().polls.size!==0&&(d=!0,e=g._("Polls are no longer available for 360 videos."));return{disabledReason:e,isDisabled:d,isSelected:a==="spherical_director"}};var d=c.prototype;d.render=function(){return h.jsx(b("VideoComposerTabItemContainer.react"),{videoComposerID:this.props.videoComposerID,disabled:this.state.isDisabled,isSelected:this.state.isSelected,tabConfig:b("VideoComposerSphericalDirectorTabConfig"),tooltip:this.state.disabledReason})};return c}(h.Component);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerStarsEditor.react",["cx","React","VideoComposerStarsEditorGoalsFieldContainer.react","VideoComposerStarsEditorStarsEnabledFieldContainer.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){a=a.videoComposerID;return h.jsxs("div",{className:"_8_b8",children:[h.jsx(b("VideoComposerStarsEditorStarsEnabledFieldContainer.react"),{videoComposerID:a}),h.jsx(b("VideoComposerStarsEditorGoalsFieldContainer.react"),{videoComposerID:a})]})}e.exports=a}),null);
__d("VideoComposerStarsEditorGoalsField.react",["cx","fbt","FBLoadShimmer.react","FDSButton.react","FDSDropdownMenu.react","FDSLink.react","React","VideoComposerField.react","XMediaManagerController","cxMargin","immutable","loadObjectComponent"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("XMediaManagerController").getURIBuilder().setString("tab","monetization_stars").getURI().toString(),k=h._("Add Stars goal"),l=h._("Let your fans support you in a more meaningful way by contributing Stars towards a predetermined goal. Select an existing goal to display in this video or {=create a new goal}",[h._param("=create a new goal",i.jsx(b("FDSLink.react"),{target:"_blank",href:j,children:h._("create a new goal")}))]),m=b("loadObjectComponent")({loading:function(){var a;return i.jsx(b("VideoComposerField.react"),{input:i.jsx("div",{className:"_92ba",children:i.jsx(a=b("FBLoadShimmer.react"),{height:28,width:100})}),subtitle:i.jsxs("div",{children:[i.jsx(a,{className:"_3-94",height:14}),i.jsx(a,{className:"_3-94",height:14}),i.jsx(a,{height:14})]}),title:k})},empty:function(a){return i.jsx(b("VideoComposerField.react"),{disabled:a.isDisabled,input:i.jsx("div",{className:"_92ba",children:i.jsx(b("FDSButton.react"),{label:h._("Create a Goal"),href:j,target:"_blank"})}),subtitle:l,title:k})},error:function(){return null},loaded:function(a,c){var d=c.selectedGoal,e=c.onSelectGoal;c=c.isDisabled;a=a.map(function(a){return{type:"item",label:a.title,description:h._("{Top number of a fraction.}\/{Bottom number of a fraction.}",[h._param("Top number of a fraction.",a.currentValue),h._param("Bottom number of a fraction.",a.targetValue)]),onClick:function(){return e(a)}}}).toArray();return i.jsx(b("VideoComposerField.react"),{disabled:c,input:i.jsx("div",{className:"_92ba",children:i.jsx(b("FDSDropdownMenu.react"),{width:260,dropdownWidth:260,items:a,label:d==null?h._("Select a goal"):d.title})}),subtitle:l,title:k})}});function a(a){var b=a.goals;return i.jsx(m,babelHelpers["extends"]({object:b},a))}e.exports=a}),null);
__d("VideoComposerStarsEditorGoalsFieldContainer.react",["FluxContainer","React","VideoComposerStarsActions","VideoComposerStarsEditorGoalsField.react","VideoComposerStores","gkx","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getStarsStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getStarsStore(c.videoComposerID).getState();c=a.goals;var d=a.selectedGoal;a=a.isReceivingStarsEnabled;return{goals:c,selectedGoal:d,isReceivingStarsEnabled:a}};var d=c.prototype;d.render=function(){var a=this.props.videoComposerID,c=this.state,d=c.goals,e=c.selectedGoal;c=c.isReceivingStarsEnabled;return!b("gkx")("1335635")?null:g.jsx(b("VideoComposerStarsEditorGoalsField.react"),{isDisabled:!c,goals:d,selectedGoal:e,onSelectGoal:function(c){return b("VideoComposerStarsActions").updateSelectedGoal(a,c)}})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("StarsHelpCenterLinks",[],(function(a,b,c,d,e,f){"use strict";a={ONBOARDING_LINK:"https://www.facebook.com/help/publisher/1061366960881079",BEST_PRACTICES_LINK:"https://www.facebook.com/help/publisher/2183910241918779"};e.exports=a}),null);
__d("VideoComposerStarsEditorStarsEnabledField.react",["cx","fbt","FDSLink.react","GeoSwitch.react","React","StarsHelpCenterLinks","UserPayStarsStrings","VideoComposerField.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){var c=a.isReceivingStarsEnabled;a=a.onToggleStarsEnabled;c=i.jsx("div",{className:"_3-8- _92ba",children:i.jsx(b("GeoSwitch.react"),{label:c?b("UserPayStarsStrings").STARS_ON:b("UserPayStarsStrings").STARS_OFF,labelPosition:"suffix",value:c,onChange:a})});a=b("UserPayStarsStrings").STARS_TITLE;var d=h._("Enable Stars in this video to earn money. {=Learn More}",[h._param("=Learn More",i.jsx(b("FDSLink.react"),{href:b("StarsHelpCenterLinks").BEST_PRACTICES_LINK,target:"_blank",children:h._("Learn more")}))]);return i.jsx(b("VideoComposerField.react"),{input:c,subtitle:d,title:a,showTopBorder:!1})}e.exports=a}),null);
__d("VideoComposerStarsEditorStarsEnabledFieldContainer.react",["FluxContainer","React","VideoComposerStarsActions","VideoComposerStarsEditorStarsEnabledField.react","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getStarsStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getStarsStore(c.videoComposerID).getState();c=a.isReceivingStarsEnabled;return{isReceivingStarsEnabled:c}};var d=c.prototype;d.render=function(){var a=this.state.isReceivingStarsEnabled,c=this.props.videoComposerID;return g.jsx(b("VideoComposerStarsEditorStarsEnabledField.react"),{isReceivingStarsEnabled:a,onToggleStarsEnabled:function(){return b("VideoComposerStarsActions").toggleStarsEnabled(c)}})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerStarsTabContainer.react",["cx","FluxContainer","React","UserPayStarsStrings","VideoComposerStarsTabConfig","VideoComposerStores","VideoComposerTabItemContainer.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getUIStore(a.videoComposerID),b("VideoComposerStores").getStarsStore(a.videoComposerID)]};c.calculateState=function(a,c){a=c.videoComposerID;c=b("VideoComposerStores").getUIStore(a).getState();c=c.selectedTab;a=b("VideoComposerStores").getStarsStore(a).getState();a=a.isReceivingStarsEnabled;return{isSelected:c==="stars",isReceivingStarsEnabled:a}};var d=c.prototype;d.render=function(){var a=this.state,c=a.isSelected;a=a.isReceivingStarsEnabled;var d=this.props.videoComposerID;a=a?h.jsx("div",{className:"_6er9",children:b("UserPayStarsStrings").STARS_ON}):h.jsx("div",{className:"_6era",children:b("UserPayStarsStrings").STARS_OFF});return h.jsx(b("VideoComposerTabItemContainer.react"),{videoComposerID:d,isSelected:c,tabConfig:b("VideoComposerStarsTabConfig"),badgeStatus:a})};return c}(h.Component);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerThumbnailEditorContainer.react",["cx","FDSCloseButton.react","FluxContainer","React","VideoComposerSlidingDrawer.react","VideoComposerStores","VideoComposerThumbnailActions","VideoComposerThumbnailEditor.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("VideoComposerThumbnailActions").cancelThumbnailEditor(d.props.videoComposerID)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(a){return[b("VideoComposerStores").getThumbnailsStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getThumbnailsStore(c.videoComposerID).getState();c=a.showEditor;return{showEditor:c}};var d=c.prototype;d.render=function(){return this.state.showEditor?h.jsxs(b("VideoComposerSlidingDrawer.react"),{children:[h.jsx("div",{className:"_6ek5",children:h.jsx(b("FDSCloseButton.react"),{onClick:this.$1,size:"large"})}),h.jsx(b("VideoComposerThumbnailEditor.react"),{videoComposerID:this.props.videoComposerID})]}):null};return c}(h.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("FileVideoThumbnail",["Promise","DOM","VideoThumbnail","canvasToBlob","promiseDone"],(function(a,b,c,d,e,f){var g=a.URL||a.webkitURL||{};c=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this,null)||this;c.$FileVideoThumbnail1=b;return c}var d=c.prototype;d.getURL=function(){this.$FileVideoThumbnail2||(this.$FileVideoThumbnail2=g.createObjectURL(this.$FileVideoThumbnail1));return this.$FileVideoThumbnail2};d.getData=function(){return b("Promise").resolve(this.$FileVideoThumbnail1)};d.getFile=function(){return this.$FileVideoThumbnail1};d.getDataWithText=function(a,c,d,e,f,g,h,i,j,k){var l=this,m=b("DOM").create("canvas"),n=m.getContext("2d");m.width=a;m.height=c;return new(b("Promise"))(function(a,c){var o=new Image();o.onload=function(){n.drawImage(o,0,0,m.width,m.height),n=b("VideoThumbnail").addTextToCanvasContext(n,d,e,f,g,h,i,j,k),b("promiseDone")(b("canvasToBlob")(m,"image/jpeg").then(a,c))};o.src=l.$FileVideoThumbnail2})};return c}(b("VideoThumbnail"));e.exports=c}),null);
__d("VideoComposerThumbnailImage.react",["ix","cx","BackgroundImage.react","Image.react","React","VideoComposerDialogConstants","asset","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return i.jsxs("div",{className:b("joinClasses")("_6epp",this.props.className),children:[i.jsx(b("BackgroundImage.react"),{className:"_6epq"+(this.props.isSelected?" _6epr":"")+(this.props.isSelectable?" _6eps":"")+(this.props.isSelectable&&!this.props.isSelected?" _6ept":""),width:this.props.width?this.props.width:b("VideoComposerDialogConstants").THUMBNAIL_WIDTH,height:this.props.height?this.props.height:b("VideoComposerDialogConstants").THUMBNAIL_HEIGHT,backgroundSize:(a=this.props.backgroundSize)!=null?a:"contain",src:this.props.imageURL}),this.props.isSelected?i.jsx("div",{className:"_6epu",children:i.jsx(b("Image.react"),{className:"_6epv",src:g("393776")})}):i.jsx("div",{})]})};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerThumbnailTitleComponent.react",["cx","Image.react","LeftRight.react","React","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsxs(b("LeftRight.react"),{children:[h.jsxs("div",{className:"_6eoa",children:[h.jsx("div",{className:"_3-8x",children:h.jsx(b("Image.react"),{className:"_6eob _3-90",src:this.props.image})}),h.jsxs("div",{className:"_6eoc",children:[h.jsx("div",{className:"_6eod"+(this.props.isSelected?" _6eoe":"")+(this.props.isDisabled?" _6eof":""),children:this.props.title}),h.jsx("div",{className:"_6eog"+(this.props.isDisabled?" _6eoh":""),children:this.props.subTitle})]})]}),this.props.rightComponent]})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerCustomThumbnailSection.react",["ix","cx","fbt","Button.react","FileInput.react","React","VideoComposerThumbnailImage.react","VideoComposerThumbnailTitleComponent.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.customThumbnail,c=i._("Change Image");return j.jsxs("div",{className:"_6ekz _3-8y"+(this.props.isSelected?" _6ek-":"")+(this.props.isSelected?"":" _6ek_"),children:[j.jsx(b("VideoComposerThumbnailTitleComponent.react"),{title:i._("Custom image"),subTitle:i._("Upload a high-resolution image that best represents your video."),isSelected:this.props.isSelected,image:this.props.isSelected?g("416790"):g("416798"),rightComponent:j.jsx(b("FileInput.react"),{accept:"image/*",onChange:this.props.onCustomImageInput,children:j.jsx(b("Button.react"),{className:"_6el0"+(this.props.isSelected?"":" _6el1"),href:{url:"#"},size:"large",label:a!==null?c:i._("Add Image")})})}),this.props.isSelected&&a?j.jsx(b("VideoComposerThumbnailImage.react"),{className:"_3-8-",imageURL:a.getURL(),isSelected:!0}):null]})};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerThumbnailSlider.react",["cx","React","ShimButton.react","VideoComposerDialogConstants","VideoComposerThumbnailActions","VideoComposerThumbnailImage.react","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=22,j=12,k=3,l=635;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){var a=j+b("VideoComposerDialogConstants").THUMBNAIL_WIDTH;a=a*k;a=(l-(j+a))/2;a=i+b("VideoComposerDialogConstants").THUMBNAIL_WIDTH-a;var c=j+b("VideoComposerDialogConstants").THUMBNAIL_WIDTH,d=0;this.props.sliderIndex>=1&&(d=a+c*(this.props.sliderIndex-1));return d};d.$2=function(a){b("VideoComposerThumbnailActions").toggleSelectedGeneratedThumbnail(this.props.videoComposerID,a)};d.render=function(){var a=this,c=this.props.thumbnails.map(function(c,d){return h.jsx(b("ShimButton.react"),{className:"_3-90",tabIndex:"-1",onClick:function(){a.$2(d)},children:h.jsx(b("VideoComposerThumbnailImage.react"),{backgroundSize:a.props.backgroundSize,imageURL:c.getURL(),isSelected:d===a.props.selectedIndex,isSelectable:!0})},d)});return h.jsx("div",{style:{right:this.$1()+"px"},className:"_6ejr",children:c})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerGeneratedThumbnailsSection.react",["ix","cx","fbt","Image.react","React","VideoComposerThumbnailSlider.react","VideoComposerThumbnailTitleComponent.react","XUIButton.react","XUIButtonGroup.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=3;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={sliderIndex:0},c.$1=function(){c.state.sliderIndex>0&&c.setState({sliderIndex:c.state.sliderIndex-1})},c.$2=function(){c.state.sliderIndex<c.props.generatedThumbnails.length-k&&c.setState({sliderIndex:c.state.sliderIndex+1})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props.isDisabled?i._("Automatically generated images are not available."):i._({"*":"Select one of these {thumbnails} images from your video."},[i._param("thumbnails",this.props.generatedThumbnails.length,[0,this.props.generatedThumbnails.length])]);return j.jsxs("div",{className:"_6ekz _3-8-"+(this.props.isDisabled?" _6enl":"")+(this.props.isSelected?" _6ek-":"")+(this.props.isSelected?"":" _6ek_"),children:[j.jsx(b("VideoComposerThumbnailTitleComponent.react"),{title:i._("Auto-generated image"),subTitle:a,isDisabled:this.props.isDisabled,isSelected:this.props.isSelected,image:this.props.isSelected?g("416777"):g("416781"),rightComponent:this.props.isSelected?j.jsxs(b("XUIButtonGroup.react"),{children:[j.jsx(b("XUIButton.react"),{disabled:this.state.sliderIndex<=0,onClick:this.$1,size:"large",image:j.jsx(b("Image.react"),{src:g("406776")}),label:"Previous",labelIsHidden:!0}),j.jsx(b("XUIButton.react"),{disabled:this.state.sliderIndex>=this.props.generatedThumbnails.length-k,onClick:this.$2,size:"large",image:j.jsx(b("Image.react"),{src:g("363528")}),label:"Next",labelIsHidden:!0})]}):j.jsx(b("XUIButton.react"),{className:"_6el0 _6el1",disabled:this.props.isDisabled,size:"large",label:i._("Choose Image")})}),this.props.isSelected&&this.props.generatedThumbnails.length>0?j.jsx(b("VideoComposerThumbnailSlider.react"),{videoComposerID:this.props.videoComposerID,backgroundSize:this.props.backgroundSize,thumbnails:this.props.generatedThumbnails,selectedIndex:this.props.selectedIndex,sliderIndex:this.state.sliderIndex}):null]})};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerThumbnailEditorFooterSection.react",["cx","fbt","FDSButton.react","React","VideoComposerThumbnailActions","cxMargin","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("VideoComposerThumbnailActions").cancelThumbnailEditor(d.props.videoComposerID)},d.$2=function(){b("VideoComposerThumbnailActions").saveThumbnailEditor(d.props.videoComposerID),b("nullthrows")(d.props.videoPreviewController).reset()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return i.jsxs("div",{className:"_6ejs",children:[i.jsx(b("FDSButton.react"),{label:h._("Cancel"),size:"large",onClick:this.$1}),i.jsx("div",{className:"_3-9a",children:i.jsx(b("FDSButton.react"),{label:h._("Save Thumbnail"),use:"primary",size:"large",onClick:this.$2})})]})};return c}(i.Component);e.exports=a}),null);
__d("PlayerBasedVideoThumbnail",["DOM","VideoThumbnail","canvasToBlob"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c,d){var e;e=a.call(this,null)||this;e.$PlayerBasedVideoThumbnail1=c;e.$PlayerBasedVideoThumbnail2=d;e.$PlayerBasedVideoThumbnail3=b("DOM").create("canvas");d=e.$PlayerBasedVideoThumbnail3.getContext("2d");e.$PlayerBasedVideoThumbnail3.width=c.videoWidth;e.$PlayerBasedVideoThumbnail3.height=c.videoHeight;d.drawImage(c,0,0,e.$PlayerBasedVideoThumbnail3.width,e.$PlayerBasedVideoThumbnail3.height);e.$PlayerBasedVideoThumbnail4=e.$PlayerBasedVideoThumbnail3.toDataURL("image/jpeg");return e}var d=c.prototype;d.getTime=function(){return this.$PlayerBasedVideoThumbnail2};d.getURL=function(){return this.$PlayerBasedVideoThumbnail4};d.getData=function(){return b("canvasToBlob")(this.$PlayerBasedVideoThumbnail3,"image/jpeg")};return c}(b("VideoThumbnail"));e.exports=a}),null);
__d("VideoProducerDuration.react",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){var a=this.props,b=a.duration,c=a.className;a=a.showMilliseconds;if(b==null)return null;b=b/1e3;var d=Math.floor((b-Math.floor(b))*1e3);d=(""+d).padStart(3,"0");b=Math.floor(b);var e=(""+b%60).padStart(2,"0");b=Math.floor(b/60);var f=(""+b%60).padStart(2,"0");b=Math.floor(b/60);b=(""+b).padStart(2,"0");b=b+":"+f+":"+e+(a===!0?"."+d:"");return g.jsx("span",{className:c,children:b})};return b}(g.PureComponent);e.exports=a}),null);
__d("ComposerVideoThumbnailScrubber.react",["ix","cx","fbt","Promise","DateConsts","Image.react","PlayerBasedVideoThumbnail","React","Style","UserAgent","VideoComponentSphericalVideoSpatialAudioController.react","VideoPlayer.react","VideoProducerDuration.react","VideoThumbnailUIActionsTypedLogger","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIText.react","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=1e3,l=900,m=15,n=10,o=48,p=45,q=45,r=80,s=15,t=8;a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this,b)||this;c.$8=function(a){a=parseInt(a.target.value,10);c.setState({scrubberValue:a});c.$9(a)};c.$11=function(){c.$4()};var d=new Set();b.scrubbedThumbnail&&d.add(b.scrubbedThumbnail);c.state={scrubberValue:0,maxScrubberValue:k,selectedFrames:d,savedFrame:b.scrubbedThumbnail,buffer:!1,videoDuration:0,vpc:null};return c}var d=c.prototype;d.componentDidUpdate=function(){this.state.buffer&&this.setState({buffer:!1})};d.shouldComponentUpdate=function(a,b){return a.thumbnails!==this.props.thumbnails||a.showThumbnailScrubberDialog!==this.props.showThumbnailScrubberDialog||b!=this.state};d.$1=function(a){var c=this;a=a.sort(function(a,b){return a-b});var d=[],e=0;a.forEach(function(a){a=c.$2(a,o),a-e<m&&(a=e+m),e=a,d.push(a)});var f;if(this.refs.scrubber)f=parseInt(b("Style").get(this.refs.scrubber,"width"),10)+p;else{this.setState({buffer:!0});return[]}f=f;a=a.length-1;while(d[a]-f>0)d[a]=f,f-=m,a--;return d};d.$2=function(a,c){if(this.refs.scrubber){var d=parseInt(b("Style").get(this.refs.scrubber,"width"),10)-t;return Math.floor(a/this.state.maxScrubberValue*d)+c}return c};d.$3=function(a){return this.state.videoDuration*a/this.state.maxScrubberValue};d.$4=function(){this.setState({scrubberValue:0}),this.props.closeDialog()};d.$5=function(){if(this.state.selectedFrames.length!==0&&this.state.vpc!=null){var a=this.state.vpc,c=a.getVideoNode();return b("Promise").resolve({thumbnails:[new(b("PlayerBasedVideoThumbnail"))(c,a.getCurrentTimePosition())]})}return null};d.$6=function(){return this.state.savedFrame?this.$1([this.state.savedFrame])[0]:0};d.$7=function(){return this.state.selectedFrames.size===1?Array.from(this.state.selectedFrames)[0]:0};d.$10=function(a){a&&(this.setState({scrubberValue:a}),this.$9(a))};d.$12=function(){var a=this.$5();this.props.onSelectedThumbnailsFromScrubber&&this.props.onSelectedThumbnailsFromScrubber(a);if(this.state.selectedFrames.size===1){a=this.$7();this.props.onScrubbedThumbnailSave&&this.props.onScrubbedThumbnailSave(a);this.setState({savedFrame:a})}new(b("VideoThumbnailUIActionsTypedLogger"))().setEvent("saved_scrubbed_thumbnail").setEditLocation("upload").setProfileID(this.props.pageID).log();this.$4()};d.$13=function(a){var b=this.state.selectedFrames;b.clear();b.add(a);this.setState({selectedFrames:b})};d.$9=function(a){var b=this.state.vpc;b&&b.seek(this.$3(a))};d.render=function(){var a=this;return!this.props.showThumbnailScrubberDialog?null:j.jsxs(b("XUIDialog.react"),{shown:this.props.showThumbnailScrubberDialog,layerHideOnBlur:!1,onToggle:this.$11,width:l,children:[j.jsx(b("XUIDialogTitle.react"),{children:i._("Choose thumbnail from video")}),j.jsx(b("XUIDialogBody.react"),{children:j.jsxs("div",{children:[j.jsx(b("VideoPlayer.react"),{autoplay:!1,height:450,playerOrigin:"intern",subOrigin:"not_specified_please_fix",ref:"video",videoData:this.props.videoData,startMuted:!0,forceHD:!0,disableClickPlayPause:!0,disableSphericalComponents:!0,onUpdateMetadata:function(b){a.setState({videoDuration:b.getPlaybackDuration(),vpc:b})},children:j.jsx(b("VideoComponentSphericalVideoSpatialAudioController.react"),{})}),j.jsx("div",{style:{paddingLeft:this.$2(this.state.scrubberValue,s)},children:j.jsx(b("VideoProducerDuration.react"),{duration:this.$3(this.state.scrubberValue)*b("DateConsts").MS_PER_SEC})}),this.$14(),j.jsx("input",{className:b("UserAgent").isBrowser("Firefox")?"_eab":"_eac",onChange:this.$8,min:0,max:this.state.maxScrubberValue,ref:"scrubber",type:"range",value:this.state.scrubberValue}),this.$15()]})}),j.jsx(b("XUIDialogFooter.react"),{children:j.jsxs("div",{children:[this.state.savedFrame?j.jsx(b("XUIText.react"),{className:"_61l-",children:i._("Your current thumbnail will be replaced if you save a new one.")}):null,j.jsx(b("XUIButton.react"),{label:i._("Cancel"),onClick:function(){return a.$4()}}),j.jsx(b("XUIButton.react"),{use:"confirm",label:i._("Save Thumbnail"),onClick:function(){a.$13(a.state.scrubberValue),a.$12()}})]})})]})};d.$15=function(){var a=this;if(!this.state.savedFrame)return null;var c=this.$6();c=j.jsx(b("Image.react"),{className:"_ead",onClick:function(){return a.$10(a.state.savedFrame)},style:{left:c},src:g("119370")},c);return j.jsx("div",{className:"_eae",children:c})};d.$14=function(){var a=this.props.thumbnails;if(a.length===0)return j.jsx("div",{className:"_eag _eai",children:"Loading..."});a=a.slice(0,n);a=a.map(function(a,c){return j.jsx(b("Image.react"),{width:r,height:q,src:a.getURL()},c)});return j.jsx("div",{className:"_eai _eaj",children:a})};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerVideoFrameThumbnailSection.react",["ix","cx","fbt","ComposerVideoThumbnailScrubber.react","React","VideoComposerThumbnailActions","VideoComposerThumbnailImage.react","VideoComposerThumbnailTitleComponent.react","XUIButton.react","asset","cxMargin","emptyFunction","promiseDone"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showThumbnailScrubberDialog:!1},d.$1=function(a){a&&b("promiseDone")(a.then(function(a){a=a.thumbnails;a.length===1&&b("VideoComposerThumbnailActions").updateScrubbedThumbnail(d.props.videoComposerID,a[0])}))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){this.props.frameSelectionFlag!==a.frameSelectionFlag&&a.thumbnail===null&&this.setState({showThumbnailScrubberDialog:!0})};d.render=function(){var a=this,c=this.props.thumbnail,d=this.props.isDisabled?i._("Video frames are not available."):i._("Choose any still frame from your video.");return j.jsxs("div",{className:"_6ekz _3-8y"+(this.props.isDisabled?" _6enl":"")+(this.props.isSelected?" _6ek-":"")+(this.props.isSelected?"":" _6ek_"),children:[j.jsx(b("VideoComposerThumbnailTitleComponent.react"),{title:i._("Video frame"),subTitle:d,isDisabled:this.props.isDisabled,isSelected:this.props.isSelected,image:this.props.isSelected?g("416769"):g("416772"),rightComponent:j.jsx(b("XUIButton.react"),{className:"_6el0"+(this.props.isSelected?"":" _6el1"),disabled:this.props.isDisabled,onClick:function(){return a.setState({showThumbnailScrubberDialog:!0})},size:"large",label:this.props.thumbnail===null?i._("Choose Frame"):i._("Change Frame")})}),this.props.isSelected&&c?j.jsx(b("VideoComposerThumbnailImage.react"),{className:"_3-8-",imageURL:c.getURL(),isSelected:!0}):null,j.jsx(b("ComposerVideoThumbnailScrubber.react"),{showThumbnailScrubberDialog:this.state.showThumbnailScrubberDialog,onScrubbedThumbnailSave:b("emptyFunction"),onSelectedThumbnailsFromScrubber:this.$1,videoData:this.props.videoData,pageID:this.props.actorID,scrubbedThumbnail:c?c.getTime():null,thumbnails:this.props.generatedThumbnails,closeDialog:function(){return a.setState({showThumbnailScrubberDialog:!1})}})]})};return c}(j.Component);e.exports=a}),null);
__d("VideoComposerThumbnailEditorLeftSection.react",["cx","fbt","FileInput.react","FileVideoThumbnail","Link.react","React","ShimButton.react","SUIBusinessThemeContainer.react","SUIText.react","VideoComposerCustomThumbnailSection.react","VideoComposerGeneratedThumbnailsSection.react","VideoComposerThumbnailActions","VideoComposerThumbnailEditorFooterSection.react","VideoComposerThumbnailTypes","VideoComposerVideoFrameThumbnailSection.react","XUIGrayText.react","XUINotice.react","XUIText.react","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={frameSelectionFlag:!1},d.$1=function(){!d.props.videoMetadataUnavailable&&d.props.selectedSection!==b("VideoComposerThumbnailTypes").ThumbnailSection.GENERATED&&b("VideoComposerThumbnailActions").selectThumbnailSection(d.props.videoComposerID,b("VideoComposerThumbnailTypes").ThumbnailSection.GENERATED)},d.$2=function(){d.props.selectedSection!==b("VideoComposerThumbnailTypes").ThumbnailSection.CUSTOM&&d.props.customThumbnail!==null&&b("VideoComposerThumbnailActions").selectThumbnailSection(d.props.videoComposerID,b("VideoComposerThumbnailTypes").ThumbnailSection.CUSTOM)},d.$3=function(a){a=a.currentTarget.files;if(!a||a.length!==1)return;else{a=new(b("FileVideoThumbnail"))(a[0]);b("VideoComposerThumbnailActions").selectThumbnailSection(d.props.videoComposerID,b("VideoComposerThumbnailTypes").ThumbnailSection.CUSTOM);b("VideoComposerThumbnailActions").updateCustomThumbnail(d.props.videoComposerID,a)}},d.$4=function(){d.props.selectedSection!==b("VideoComposerThumbnailTypes").ThumbnailSection.VIDEO_FRAME&&d.props.scrubbedThumbnail!==null&&b("VideoComposerThumbnailActions").selectThumbnailSection(d.props.videoComposerID,b("VideoComposerThumbnailTypes").ThumbnailSection.VIDEO_FRAME),d.setState(function(a){return{frameSelectionFlag:!a.frameSelectionFlag}})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidUpdate=function(a){a.scrubbedThumbnail===null&&this.props.scrubbedThumbnail!==null&&b("VideoComposerThumbnailActions").selectThumbnailSection(a.videoComposerID,b("VideoComposerThumbnailTypes").ThumbnailSection.VIDEO_FRAME)};d.render=function(){var a=!this.props.videoMetadataUnavailable&&this.props.showGeneratedSection,c=!this.props.videoMetadataUnavailable&&this.props.showScrubberSection,d=!a&&!c;d=d?i.jsxs(b("XUINotice.react"),{use:"recommend",className:"_3-98",children:[i.jsx(b("XUIText.react"),{weight:"bold",display:"block",className:"_3-95",children:h._("Automatically generated image and image from video frame options are not available.")}),i.jsx(b("XUIGrayText.react"),{display:"block",size:"meta1",children:h._("Add a custom image to represent your video. If you don't have one, an image will be generated for your video once your video has been published.")})]}):null;return i.jsxs("div",{className:"_6emt",children:[i.jsx("div",{className:"_6emu",children:i.jsxs(b("SUIBusinessThemeContainer.react"),{children:[i.jsx(j,{}),i.jsxs("div",{className:"_6emv",children:[d,i.jsx(b("XUIGrayText.react"),{display:"block",size:"meta1"}),a?i.jsx(b("ShimButton.react"),{onClick:this.$1,children:i.jsx(b("VideoComposerGeneratedThumbnailsSection.react"),{videoComposerID:this.props.videoComposerID,backgroundSize:this.props.backgroundSize,generatedThumbnails:this.props.generatedThumbnails,isDisabled:this.props.videoMetadataUnavailable,isSelected:!this.props.videoMetadataUnavailable&&this.props.selectedSection===b("VideoComposerThumbnailTypes").ThumbnailSection.GENERATED,selectedIndex:this.props.selectedGeneratedIndex})}):null,i.jsxs("div",{className:"_6emw",children:[i.jsx(b("ShimButton.react"),{onClick:this.$2,children:i.jsx(b("VideoComposerCustomThumbnailSection.react"),{customThumbnail:this.props.customThumbnail,isSelected:this.props.selectedSection===b("VideoComposerThumbnailTypes").ThumbnailSection.CUSTOM,onCustomImageInput:this.$3})}),this.props.customThumbnail===null?i.jsx(b("FileInput.react"),{containerClassName:"_6emx",accept:"image/*",onChange:this.$3,children:i.jsx(b("Link.react"),{href:"#",label:h._("Image upload")})}):null]}),c&&this.props.videoData?i.jsx(b("ShimButton.react"),{onClick:this.$4,children:i.jsx(b("VideoComposerVideoFrameThumbnailSection.react"),{videoComposerID:this.props.videoComposerID,actorID:this.props.actorID,generatedThumbnails:this.props.generatedThumbnails,isDisabled:this.props.videoMetadataUnavailable,isSelected:this.props.selectedSection===b("VideoComposerThumbnailTypes").ThumbnailSection.VIDEO_FRAME,frameSelectionFlag:this.state.frameSelectionFlag,thumbnail:this.props.scrubbedThumbnail,videoData:this.props.videoData})}):null]})]})}),i.jsx(b("VideoComposerThumbnailEditorFooterSection.react"),{videoComposerID:this.props.videoComposerID,videoPreviewController:this.props.videoPreviewController})]})};return c}(i.Component);function j(a){return i.jsx("div",{className:"_6emy",children:i.jsx(b("SUIText.react"),{color:"primary",size:"header3",weight:"bold",children:h._("Choose thumbnail")})})}e.exports=a}),null);
__d("VideoComposerThumbnailEditorLeftSectionContainer.react",["FluxContainer","React","VideoComposerStores","VideoComposerDialogThumbnailUtils","VideoComposerThumbnailEditorLeftSection.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){var c;return[(c=b("VideoComposerStores")).getThumbnailsStore(a.videoComposerID),c.getMetadataStore(a.videoComposerID),c.getUploadStore(a.videoComposerID),c.getBasicStore(a.videoComposerID)]};c.calculateState=function(a,c){var d=(a=b("VideoComposerStores")).getThumbnailsStore(c.videoComposerID).getState(),e=d.backgroundSize,f=d.customThumbnail,g=d.generatedThumbnails,h=d.scrubbedThumbnail,i=d.selectedGeneratedIndex,j=d.selectedSection;d=d.videoMetadataUnavailable;var k=a.getUploadStore(c.videoComposerID).getState();k=k.videoData;var l=a.getMetadataStore(c.videoComposerID).getState(),m=l.actorID;l=l.dialogMode;a=a.getBasicStore(c.videoComposerID).getState();c=a.videoPreviewController;return{actorID:m?m:"",backgroundSize:e,customThumbnail:f,generatedThumbnails:g,scrubbedThumbnail:h,selectedGeneratedIndex:i,selectedSection:j,showScrubberSection:b("VideoComposerDialogThumbnailUtils").showScrubberSection(l),showGeneratedSection:b("VideoComposerDialogThumbnailUtils").showGeneratedSection(l),videoPreviewController:c,videoMetadataUnavailable:d,videoData:k}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerThumbnailEditorLeftSection.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID},this.state))};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerThumbnailEditorRightSection.react",["ix","cx","fbt","Image.react","React","SUIBusinessThemeContainer.react","SUIText.react","VideoComposerDialogConstants","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=!this.props.videoMetadataUnavailable&&this.props.showScrubberSection;return j.jsx("div",{className:"_6er-",style:{width:b("VideoComposerDialogConstants").RIGHT_SECTION_WIDTH},children:j.jsxs(b("SUIBusinessThemeContainer.react"),{children:[j.jsx(k,{}),j.jsx("div",{className:"_6er_",children:j.jsx(b("SUIText.react"),{color:"secondary",size:"body1",weight:"normal",children:a?i._("Choose a thumbnail to represent your video when it isn't auto-playing. You can select an auto-generated image, upload a custom image or select an image from a video frame."):i._("Choose a thumbnail to represent your video when it isn't auto-playing. You can select an auto-generated image or upload a custom image.")})})]})})};return c}(j.Component);function k(a){return j.jsxs("div",{className:"_6es0",children:[j.jsx(b("Image.react"),{src:g("481019"),className:"_3-90"}),j.jsx(b("SUIText.react"),{color:"primary",size:"header3",weight:"bold",children:i._("Thumbnail info")})]})}e.exports=a}),null);
__d("VideoComposerThumbnailEditorRightSectionContainer.react",["FluxContainer","React","VideoComposerDialogThumbnailUtils","VideoComposerStores","VideoComposerThumbnailEditorRightSection.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getThumbnailsStore(a.videoComposerID),b("VideoComposerStores").getMetadataStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getMetadataStore(c.videoComposerID).getState();a=a.dialogMode;c=b("VideoComposerStores").getThumbnailsStore(c.videoComposerID).getState();c=c.videoMetadataUnavailable;return{showScrubberSection:b("VideoComposerDialogThumbnailUtils").showScrubberSection(a),videoMetadataUnavailable:c}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerThumbnailEditorRightSection.react"),babelHelpers["extends"]({},this.state))};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerThumbnailsSection.react",["cx","fbt","FileInput.react","FileVideoThumbnail","Link.react","React","ShimButton.react","VideoComposerCustomThumbnailSection.react","VideoComposerGeneratedThumbnailsSection.react","VideoComposerThumbnailActions","VideoComposerThumbnailTypes","VideoComposerVideoFrameThumbnailSection.react","XUIGrayText.react","XUINotice.react","XUIText.react","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={frameSelectionFlag:!1},d.$1=function(){!d.props.videoMetadataUnavailable&&d.props.selectedSection!==b("VideoComposerThumbnailTypes").ThumbnailSection.GENERATED&&b("VideoComposerThumbnailActions").selectThumbnailSection(d.props.videoComposerID,b("VideoComposerThumbnailTypes").ThumbnailSection.GENERATED)},d.$2=function(){d.props.selectedSection!==b("VideoComposerThumbnailTypes").ThumbnailSection.CUSTOM&&d.props.customThumbnail!==null&&b("VideoComposerThumbnailActions").selectThumbnailSection(d.props.videoComposerID,b("VideoComposerThumbnailTypes").ThumbnailSection.CUSTOM)},d.$3=function(a){a=a.currentTarget.files;if(!a||a.length!==1)return;else{a=new(b("FileVideoThumbnail"))(a[0]);b("VideoComposerThumbnailActions").selectThumbnailSection(d.props.videoComposerID,b("VideoComposerThumbnailTypes").ThumbnailSection.CUSTOM);b("VideoComposerThumbnailActions").updateCustomThumbnail(d.props.videoComposerID,a)}},d.$4=function(){d.props.selectedSection!==b("VideoComposerThumbnailTypes").ThumbnailSection.VIDEO_FRAME&&d.props.scrubbedThumbnail!==null&&b("VideoComposerThumbnailActions").selectThumbnailSection(d.props.videoComposerID,b("VideoComposerThumbnailTypes").ThumbnailSection.VIDEO_FRAME),d.setState(function(a){return{frameSelectionFlag:!a.frameSelectionFlag}})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){this.props.scrubbedThumbnail===null&&a.scrubbedThumbnail!==null&&b("VideoComposerThumbnailActions").selectThumbnailSection(a.videoComposerID,b("VideoComposerThumbnailTypes").ThumbnailSection.VIDEO_FRAME)};d.render=function(){var a=!this.props.videoMetadataUnavailable&&this.props.showGeneratedSection,c=!this.props.videoMetadataUnavailable&&this.props.showScrubberSection,d=!a&&!c;d=d?i.jsxs(b("XUINotice.react"),{use:"recommend",className:"_3-98",children:[i.jsx(b("XUIText.react"),{weight:"bold",display:"block",className:"_3-95",children:h._("Automatically generated image and image from video frame options are not available.")}),i.jsx(b("XUIGrayText.react"),{display:"block",size:"meta1",children:h._("Add a custom image to represent your video. If you don't have one, an image will be generated for your video once your video has been published.")})]}):null;var e=this.props.showScrubberSection?h._("This image will be displayed when your video isn't auto playing. You can select an auto-generated image, upload a custom image or choose a still frame from your video."):h._("This image will be displayed when your video isn't auto playing. You can select an auto-generated image or upload a custom image.");return i.jsxs("div",{className:"_6emv",children:[d,i.jsx(b("XUIText.react"),{className:"_3-95",display:"block",weight:"bold",children:h._("Choose a thumbnail for your video")}),i.jsx(b("XUIGrayText.react"),{display:"block",size:"meta1",children:e}),a?i.jsx(b("ShimButton.react"),{onClick:this.$1,children:i.jsx(b("VideoComposerGeneratedThumbnailsSection.react"),{videoComposerID:this.props.videoComposerID,backgroundSize:this.props.backgroundSize,generatedThumbnails:this.props.generatedThumbnails,isDisabled:this.props.videoMetadataUnavailable,isSelected:!this.props.videoMetadataUnavailable&&this.props.selectedSection===b("VideoComposerThumbnailTypes").ThumbnailSection.GENERATED,selectedIndex:this.props.selectedGeneratedIndex})}):null,i.jsxs("div",{className:"_6emw",children:[i.jsx(b("ShimButton.react"),{onClick:this.$2,children:i.jsx(b("VideoComposerCustomThumbnailSection.react"),{customThumbnail:this.props.customThumbnail,isSelected:this.props.selectedSection===b("VideoComposerThumbnailTypes").ThumbnailSection.CUSTOM,onCustomImageInput:this.$3})}),this.props.customThumbnail===null?i.jsx(b("FileInput.react"),{containerClassName:"_6emx",accept:"image/*",onChange:this.$3,children:i.jsx(b("Link.react"),{href:"#",label:h._("Image upload")})}):null]}),c&&this.props.videoData!=null?i.jsx(b("ShimButton.react"),{onClick:this.$4,children:i.jsx(b("VideoComposerVideoFrameThumbnailSection.react"),{videoComposerID:this.props.videoComposerID,actorID:this.props.actorID,generatedThumbnails:this.props.generatedThumbnails,isDisabled:this.props.videoMetadataUnavailable,isSelected:this.props.selectedSection===b("VideoComposerThumbnailTypes").ThumbnailSection.VIDEO_FRAME,frameSelectionFlag:this.state.frameSelectionFlag,thumbnail:this.props.scrubbedThumbnail,videoData:this.props.videoData})}):null]})};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerThumbnailsContainer.react",["FluxContainer","React","VideoComposerDialogThumbnailUtils","VideoComposerStores","VideoComposerThumbnailsSection.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getThumbnailsStore(a.videoComposerID),b("VideoComposerStores").getMetadataStore(a.videoComposerID),b("VideoComposerStores").getUploadStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getThumbnailsStore(c.videoComposerID).getState();var d=a.backgroundSize,e=a.customThumbnail,f=a.generatedThumbnails,g=a.scrubbedThumbnail,h=a.selectedGeneratedIndex,i=a.selectedSection;a=a.videoMetadataUnavailable;var j=b("VideoComposerStores").getUploadStore(c.videoComposerID).getState();j=j.videoData;c=b("VideoComposerStores").getMetadataStore(c.videoComposerID).getState();var k=c.actorID,l=c.dialogMode;c=c.videoDataForID;c=l==="video_upload"?j:c;l==="video_edit"&&j!=null&&(c=j);return{actorID:k?k:"",backgroundSize:d,customThumbnail:e,generatedThumbnails:f,scrubbedThumbnail:g,selectedGeneratedIndex:h,selectedSection:i,showScrubberSection:b("VideoComposerDialogThumbnailUtils").showScrubberSection(l),showGeneratedSection:b("VideoComposerDialogThumbnailUtils").showGeneratedSection(l),videoData:c,videoMetadataUnavailable:a}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerThumbnailsSection.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID},this.state))};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerThumbnailsTabContainer.react",["FluxContainer","React","VideoComposerStores","VideoComposerTabItemContainer.react","VideoComposerThumbnailImage.react","VideoComposerThumbnailsTabConfig"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=128,i=72;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getUIStore(a.videoComposerID),b("VideoComposerStores").getThumbnailsStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getUIStore(c.videoComposerID).getState();a=a.selectedTab;c=b("VideoComposerStores").getThumbnailsStore(c.videoComposerID).getState();var d=c.backgroundSize,e=c.improvedThumbnailSelection;c=c.selectedThumbnail;return{backgroundSize:d,improvedThumbnailSelection:e,isSelected:a==="thumbnails",selectedThumbnail:c}};var d=c.prototype;d.render=function(){var a=this.state.selectedThumbnail;return this.state.improvedThumbnailSelection?null:g.jsx(b("VideoComposerTabItemContainer.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID,customDescription:a?g.jsx(b("VideoComposerThumbnailImage.react"),{backgroundSize:this.state.backgroundSize,imageURL:a.getURL(),isSelected:!1,width:h,height:i}):null,tabConfig:b("VideoComposerThumbnailsTabConfig")},this.state))};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerTrackingCustomLabels.react",["cx","fbt","React","SearchableEntry","VideoComposerDialogTrackingUtils","XUITokenizer.react","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={entries:d.props.customLabels.map(function(a){return new(b("SearchableEntry"))({uniqueID:a,title:a})}),queryString:"",searchSource:d.$1.bind(babelHelpers.assertThisInitialized(d))()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$2=function(a){var b=this;this.setState(function(c,d){d=c.entries;c=d.some(function(b){return b.getUniqueID()===a.getUniqueID()});c||d.push(a);b.props.onEntriesChange(d);return{entries:d,queryString:""}})};d.$3=function(a){var b=this;this.setState(function(c,d){d=c.entries;c=d.some(function(b){return b.getUniqueID()===a.getUniqueID()});c&&d.splice(d.indexOf(a),1);b.props.onEntriesChange(d);return{entries:d,queryString:""}})};d.$4=function(a){this.setState({queryString:a.target.value})};d.$1=function(){return b("VideoComposerDialogTrackingUtils").loadCustomLabelsSearchSource(this.props.targetID)};d.render=function(){var a=[],c={},d=this.state.queryString.trim();d&&(a=[new(b("SearchableEntry"))({uniqueID:d,title:d})],c[d]=d);return i.jsx(b("XUITokenizer.react"),{className:b("joinClasses")(this.props.className,"_6elg"),additionalEntries:a,entries:this.state.entries,excludedEntries:c,onQueryStringChange:this.$4.bind(this),onAddEntryAttempt:this.$2.bind(this),onRemoveEntryAttempt:this.$3.bind(this),queryString:this.state.queryString,placeholder:h._("Category, employee name, video type"),searchSource:this.state.searchSource,showEntriesOnFocus:!0})};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerTrackingSection.react",["cx","fbt","React","VideoComposerField.react","VideoComposerTrackingActions","VideoComposerTrackingCustomLabels.react","XUITextInput.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){a=a.target.value;b("VideoComposerTrackingActions").updateUniversalID(d.props.videoComposerID,a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this;return i.jsxs("div",{className:"_6eq0",children:[i.jsx(b("VideoComposerField.react"),{showTopBorder:!1,title:h._("Custom labels"),subtitle:h._("Add labels to help you search for your video. These labels are only visible to Page admins."),input:i.jsx(b("VideoComposerTrackingCustomLabels.react"),{customLabels:this.props.customLabels,targetID:this.props.targetID,onEntriesChange:function(c){return b("VideoComposerTrackingActions").updateCustomLabels(a.props.videoComposerID,c.map(function(a){return a.getUniqueID()}))}})}),i.jsx(b("VideoComposerField.react"),{title:h._("Universal ID"),tooltip:h._("If your video has a unique code in another content management system, you can add it here. This won't affect your post."),input:i.jsx(b("XUITextInput.react"),{className:"_6elg",height:"tall",onChange:this.$1,placeholder:h._("Asset management code (optional)"),value:this.props.universalID})})]})};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerTrackingContainer.react",["FluxContainer","React","VideoComposerStores","VideoComposerTrackingSection.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getTrackingStore(a.videoComposerID),b("VideoComposerStores").getMetadataStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getTrackingStore(c.videoComposerID).getState();var d=a.customLabels;a=a.universalID;c=b("VideoComposerStores").getMetadataStore(c.videoComposerID).getState();c=c.targetID;return{customLabels:d,targetID:c?c:"",universalID:a}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerTrackingSection.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID},this.state))};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerTrackingTabContainer.react",["FluxContainer","React","VideoComposerStores","VideoComposerTabItemContainer.react","VideoComposerTrackingTabConfig"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getUIStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getUIStore(c.videoComposerID).getState();c=a.selectedTab;return{isSelected:c==="tracking"}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerTabItemContainer.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID,tabConfig:b("VideoComposerTrackingTabConfig")},this.state))};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerTrimmingButton.react",["ix","cx","fbt","FDSButton.react","Image.react","React","SUIBusinessTheme","SUITooltip.react","VideoComposerBasicActions","VideoComposerTrimmingActions","VideoComposerTrimmingTypes","asset","intlList"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=b("VideoComposerTrimmingTypes").TrimmingDisableReasons,l=(a={},a[k.ADBREAKS]=i._("In-stream ads"),a[k.CAPTION]=i._("Captions"),a[k.POLLS]=i._("Polls"),a[k.SOUND_OVERLAY]=i._("Music"),a[k.SPHERICAL_DIRECTOR]=i._("360 Director tools"),a[k.PREMIERE]=i._("Premieres"),a);c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={hovering:!1},d.$1=j.createRef(),d.$2=function(){d.props.disableReasons.length===0&&d.setState({hovering:!1})},d.$3=function(){d.props.disableReasons.length===0&&d.setState({hovering:!0})},d.$5=function(){b("VideoComposerBasicActions").pauseVideoPreview(d.props.videoComposerID),b("VideoComposerTrimmingActions").openTrimmingEditor(d.props.videoComposerID)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=i._("Trim"),c=this.props.disableReasons.length>0,d=this.$4(this.props.disableReasons);d=j.jsx(b("SUITooltip.react"),{alignment:"left",offset:35,theme:b("SUIBusinessTheme"),tooltip:d,position:"right",children:j.jsx("div",{style:{backgroundColor:this.state.hovering?"rgba(0, 0, 0, 0.7)":null},children:j.jsx(b("FDSButton.react"),{ref:this.$1,icon:j.jsx(b("Image.react"),{src:g("551662")}),isDisabled:c,use:"flatWhite",label:this.state.hovering?a:"",onClick:this.$5,onMouseEnter:this.$3,onMouseLeave:this.$2})})});return j.jsx("div",{className:"_6er5",children:d})};d.$4=function(a){if(a.length<=0)return null;if(this.props.disableReasons.includes(k.PREMIERE))return i._("Videos that will be premiered or posted as a new release cannot be trimmed.");a=a.map(function(a){return l[a]});a=b("intlList")(a);return i._("Can't trim video while {reasons} are enabled.",[i._param("reasons",a)])};return c}(j.Component);e.exports=c}),null);
__d("VideoComposerTrimmingButtonContainer.react",["FluxContainer","React","VideoComposerPublishingTypes","VideoComposerStores","VideoComposerTrimmingButton.react","VideoComposerTrimmingTypes"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("VideoComposerPublishingTypes").PublishingType,i=b("VideoComposerTrimmingTypes").TrimmingDisableReasons;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){var c;return[(c=b("VideoComposerStores")).getAdBreakStore(a.videoComposerID),c.getCaptionsStore(a.videoComposerID),c.getPollsStore(a.videoComposerID),c.getSoundEditorStore(a.videoComposerID),c.getSphericalDirectorStore(a.videoComposerID),c.getPublishingStore(a.videoComposerID),c.getPremiereStore(a.videoComposerID)]};c.calculateState=function(a,c){a=[];var d=b("VideoComposerStores").getCaptionsStore(c.videoComposerID).getState();(!d.drafts.isEmpty()||d.isAutoGenerating)&&a.push(i.CAPTION);d=b("VideoComposerStores").getPollsStore(c.videoComposerID).getState();d.polls.isEmpty()||a.push(i.POLLS);d=b("VideoComposerStores").getAdBreakStore(c.videoComposerID).getState();d.insertedAdBreaks.isEmpty()||a.push(i.ADBREAKS);d=b("VideoComposerStores").getSoundEditorStore(c.videoComposerID).getState();d.addedTracks.isEmpty()||a.push(i.SOUND_OVERLAY);d=b("VideoComposerStores").getSphericalDirectorStore(c.videoComposerID).getState();d=d.spherical;d&&a.push(i.SPHERICAL_DIRECTOR);d=b("VideoComposerStores").getPublishingStore(c.videoComposerID).getState();d=d.publishingType;c=b("VideoComposerStores").getPremiereStore(c.videoComposerID).getState();c=c.shouldPremiere;(d===h.PREMIERE||c)&&a.push(i.PREMIERE);return{disableReasons:a}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerTrimmingButton.react"),{videoComposerID:this.props.videoComposerID,disableReasons:this.state.disableReasons,isMenuItem:this.props.isMenuItem})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerTrimmingCancelConfirmDialog.react",["fbt","FDSButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","LayerHideOnEscape","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=480;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.onCancel()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return h.jsx(b("FDSModal.react"),{width:i,behaviors:{LayerHideOnEscape:b("LayerHideOnEscape")},header:h.jsx(b("FDSModalHeader.react"),{title:g._("Discard changes?")}),footer:h.jsx(b("FDSModalFooter.react"),{primaryButton:h.jsx(b("FDSButton.react"),{label:g._("Leave"),onClick:this.props.onConfirm,use:"primary"}),secondaryButton:h.jsx(b("FDSButton.react"),{label:g._("Cancel"),onClick:this.props.onCancel})}),isShown:this.props.shown,onHide:this.$1,children:h.jsx(b("FDSSection.react"),{children:g._("If you quit now, you'll lose any changes that you've made to your video.")})})};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerTrimmingCancelConfirmDialogContainer.react",["FluxContainer","React","VideoComposerStores","VideoComposerTrimmingActions","VideoComposerTrimmingCancelConfirmDialog.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getTrimmingEditorStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getTrimmingEditorStore(c.videoComposerID).getState();a=a.showCancelConfirmDialog;var d=function(){b("VideoComposerTrimmingActions").cancelCloseTrimmingEditor(c.videoComposerID)},e=function(){b("VideoComposerTrimmingActions").confirmCloseTrimmingEditor(c.videoComposerID)};return{shown:a,onCancel:d,onConfirm:e}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerTrimmingCancelConfirmDialog.react"),{shown:this.state.shown,onCancel:this.state.onCancel,onConfirm:this.state.onConfirm})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerTrimmingContainer.react",["FluxContainer","React","VideoComposerStores","VideoComposerTrimmingSection.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getMetadataStore(a.videoComposerID),b("VideoComposerStores").getTrimmingEditorStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getMetadataStore(c.videoComposerID).getState();var d=a.videoID,e=a.videoDataForID;a=a.videoDuration;c=b("VideoComposerStores").getTrimmingEditorStore(c.videoComposerID).getState();var f=c.draftEndTime,g=c.draftStartTime;c=c.isWasLiveTrimmed;return{videoID:d,draftStartTime:g||0,draftEndTime:f===null?a:f,videoData:e,videoDuration:a,isWasLiveTrimmed:(d=c)!=null?d:!1}};var d=c.prototype;d.render=function(){var a=this.state.videoID;return a!=null?g.jsx(b("VideoComposerTrimmingSection.react"),{videoComposerID:this.props.videoComposerID,videoID:a,draftStartTime:this.state.draftStartTime,draftEndTime:this.state.draftEndTime,isWasLiveTrimmed:this.state.isWasLiveTrimmed,videoData:this.state.videoData,videoDuration:this.state.videoDuration}):null};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerTrimmingEditorContainer.react",["FluxContainer","React","VideoComposerSlidingDrawer.react","VideoComposerStores","VideoComposerTrimmingEditor.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getTrimmingEditorStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getTrimmingEditorStore(c.videoComposerID).getState();c=a.showEditor;return{showEditor:c}};var d=c.prototype;d.render=function(){return this.state.showEditor?g.jsx(b("VideoComposerSlidingDrawer.react"),{children:g.jsx(b("VideoComposerTrimmingEditor.react"),{videoComposerID:this.props.videoComposerID})}):null};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerTrimmingEditorFooterSectionContainer.react",["FluxContainer","React","VideoComposerStores","VideoComposerTrimmingEditorFooterSection.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getTrimmingEditorStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getTrimmingEditorStore(c.videoComposerID).getState();c=a.draftEndTime;var d=a.draftStartTime,e=a.endTime;a=a.startTime;return{disableTrimmingButton:c===e&&d===a}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerTrimmingEditorFooterSection.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID},this.state))};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("XLiveVideoTrimWasLiveController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video_broadcast/trim/",{video_id:{type:"Int"},new_start_seconds:{type:"Float",defaultValue:0},new_end_seconds:{type:"Float",defaultValue:0},reset_trimming:{type:"Bool",defaultValue:!1}})}),null);
__d("VideoComposerTrimmingSection.react",["cx","fbt","AsyncRequest","FDSGuidanceCard.react","FDSGuidanceCardContent.react","FDSGuidanceCardContentButton.react","FDSGuidanceCardContentText.react","FDSGuidanceCardHeader.react","React","VideoComposerTrimmingActions","VideoComposerTrimmingConstants","VideoComposerTrimmingManualInputSection.react","VideoComposerTrimmingVideoPlayer.react","VideoComposerTrimmingVisualizerContainer.react","XLiveVideoTrimWasLiveController","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={untrimState:"none"},d.$1=function(a){b("VideoComposerTrimmingActions").setVPC(d.props.videoComposerID,a)},d.$5=function(){d.setState({untrimState:"in_progress"}),new(b("AsyncRequest"))(b("XLiveVideoTrimWasLiveController").getURIBuilder().setInt("video_id",d.props.videoID).setBool("reset_trimming",!0).getURI()).setHandler(function(){d.setState({untrimState:"untrimmed_this_session"})}).setErrorHandler(function(){d.setState({untrimState:"failed"})}).send()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$2=function(a){};d.$3=function(a){};d.render=function(){var a=this.props,c=a.videoData;a=a.videoDuration;return!c?i.jsx("div",{}):i.jsxs("div",{children:[i.jsxs("div",{className:this.props.isWasLiveTrimmed?"_7xkx":"",children:[i.jsx("div",{className:"_3-96",children:i.jsx(b("VideoComposerTrimmingVideoPlayer.react"),{height:b("VideoComposerTrimmingConstants").PLAYER_HEIGHT,width:b("VideoComposerTrimmingConstants").PLAYER_WIDTH,videoData:c,videoDuration:a,onEnableVPC:this.$1,onUpdatePlayerState:this.$3,onUpdateCurrentPlayPosition:this.$2})}),i.jsx(b("VideoComposerTrimmingVisualizerContainer.react"),{videoComposerID:this.props.videoComposerID}),i.jsx(b("VideoComposerTrimmingManualInputSection.react"),{videoComposerID:this.props.videoComposerID})]}),this.$4()]})};d.$4=function(){if(!this.props.isWasLiveTrimmed)return null;if(this.state.untrimState==="untrimmed_this_session")return i.jsxs(b("FDSGuidanceCard.react"),{category:"success",children:[i.jsx(b("FDSGuidanceCardHeader.react"),{children:"Your video trimming was successfully removed."}),i.jsx(b("FDSGuidanceCardContent.react"),{children:i.jsx(b("FDSGuidanceCardContentText.react"),{children:"Please refresh the page to trim your video."})})]});var a=this.state.untrimState==="in_progress";return i.jsxs(b("FDSGuidanceCard.react"),{category:"active-feedback",children:[i.jsx(b("FDSGuidanceCardHeader.react"),{children:"Your video was successfully trimmed"}),i.jsxs(b("FDSGuidanceCardContent.react"),{children:[i.jsx(b("FDSGuidanceCardContentText.react"),{children:"Remove your video trimming if you want to make changes"}),i.jsx(b("FDSGuidanceCardContentButton.react"),{onPress:this.$5,isDisabled:a,isLoading:a,label:a?h._("Removing..."):h._("Remove")})]})]})};return c}(i.PureComponent);e.exports=a}),null);
__d("VideoComposerTrimmingTabConfig",["ix","fbt","Promise","VideoComposerStores","VideoComposerTrimmingContainer.react","VideoComposerTrimmingTabContainer.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";a={key:"trimming",glyphSelected:g("532318"),glyphUnselected:g("532319"),title:h._("Video trimming"),defaultDescription:h._("Trim your live video."),tabContainer:b("VideoComposerTrimmingTabContainer.react"),bodyContainer:b("VideoComposerTrimmingContainer.react"),getCrosspostRequestDataToSend:function(a){return b("Promise").resolve()},getEditRequestDataToSend:function(a){return b("VideoComposerStores").getTrimmingEditorStore(a).getPostDataForEdit()},getPostRequestDataToSend:function(a){return b("Promise").resolve()},fetchCrosspostData:function(a,c){return b("Promise").resolve()},fetchEditPostData:function(a,c){return b("VideoComposerStores").getTrimmingEditorStore(a).fetchEditPostDataForWasLiveTrimming(c.videoID,c.common.actorID)}};e.exports=a}),null);
__d("VideoComposerTrimmingTabContainer.react",["FluxContainer","React","VideoComposerStores","VideoComposerTabItemContainer.react","VideoComposerTrimmingTabConfig"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getUIStore(a.videoComposerID),b("VideoComposerStores").getMetadataStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getUIStore(c.videoComposerID).getState();a=a.selectedTab;c=b("VideoComposerStores").getMetadataStore(c.videoComposerID).getState();c=c.dialogMode;return{dialogMode:c,isSelected:a==="trimming"}};var d=c.prototype;d.render=function(){return this.state.dialogMode==="video_edit"?g.jsx(b("VideoComposerTabItemContainer.react"),babelHelpers["extends"]({videoComposerID:this.props.videoComposerID,tabConfig:b("VideoComposerTrimmingTabConfig")},this.state)):null};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerTrimmingTimestampInputItem.react",["ix","cx","fbt","Image.react","React","VideoInstreamUtils","XUIContextualDialog.react","XUINotice.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=1,l=100,m=300,n=2e3;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=null,d.state={hasChanged:!1,isDecreasing:!1,isIncreasing:!1,timeStampText:b("VideoInstreamUtils").convertTimestampToFormattedString(d.props.timestamp)},d.$2=function(){d.props.onBlur&&d.props.onBlur()},d.$6=function(a){a?(d.props.onIncrease(),setTimeout(d.$6,m),setTimeout(d.$6,n),d.setState({isIncreasing:!0})):d.state.isIncreasing&&!d.$1?d.$1=setInterval(d.props.onIncrease,l):d.state.isIncreasing&&(d.$1&&clearInterval(d.$1),d.$1=setInterval(function(){return d.props.onIncrease(k)},l))},d.$8=function(a){a?(d.props.onDecrease(),setTimeout(d.$8,m),setTimeout(d.$8,n),d.setState({isDecreasing:!0})):d.state.isDecreasing&&!d.$1?d.$1=setInterval(d.props.onDecrease,l):d.state.isDecreasing&&(d.$1&&clearInterval(d.$1),d.$1=setInterval(function(){return d.props.onDecrease(k)},l))},d.$7=function(a){d.setState({isDecreasing:!1,isIncreasing:!1}),d.$1&&clearInterval(d.$1),d.$1=null},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidUpdate=function(a){(a.timestamp!==this.props.timestamp||this.state.hasChanged)&&(this.setState({timeStampText:b("VideoInstreamUtils").convertTimestampToFormattedString(this.props.timestamp)}),this.setState({hasChanged:!1}))};d.render=function(){var a=this,c=this.props.errorMessage?j.jsx(b("XUINotice.react"),{use:"warn",size:"small",children:this.props.errorMessage}):null,d=i._("Error");return j.jsxs("div",{className:"_3eh8",onMouseLeave:this.$2,children:[j.jsx("input",{className:"_3eh9",onBlur:function(b){return a.$3(a.state.timeStampText)},onChange:function(b){return a.$4(b.target.value)},ref:"timestamp",type:"text",value:this.state.timeStampText}),this.$5(),j.jsx(b("XUIContextualDialog.react"),{alignment:"center",contextRef:function(){return a.refs.timestamp},label:d,position:"above",shown:!!c,children:c})]})};d.$3=function(a){this.props.onTextChange(a),this.setState({hasChanged:!0})};d.$4=function(a){this.setState({timeStampText:a})};d.$5=function(){return j.jsxs("div",{className:"_3eha",children:[j.jsx("div",{className:"_3ehb",onMouseDown:this.$6,onMouseUp:this.$7,children:j.jsx(b("Image.react"),{src:g("515082")})}),j.jsx("div",{className:"_3ehb",onMouseDown:this.$8,onMouseUp:this.$7,children:j.jsx(b("Image.react"),{src:g("486564")})})]})};d.blur=function(){this.refs.timestamp&&this.refs.timestamp.blur()};return c}(j.Component);a.defaultProps={errorMessage:null};e.exports=a}),null);
__d("VideoComposerTrimmingTimestampInput.react",["fbt","DateConsts","React","VideoComposerTrimmingTimestampInputItem.react","VideoInstreamUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=100/b("DateConsts").MS_PER_SEC;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={errorMessage:null},d.$1=function(){d.setState({errorMessage:null})},d.$2=function(a){a=a?d.props.timestamp-a:d.props.timestamp-i;d.$5(a)},d.$3=function(a){a=a?d.props.timestamp+a:d.props.timestamp+i;d.$5(a)},d.$4=function(a){a=b("VideoInstreamUtils").convertFormattedTimeToSeconds(a||"");d.$5(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return h.jsx(b("VideoComposerTrimmingTimestampInputItem.react"),{errorMessage:this.state.errorMessage,onBlur:this.$1,onDecrease:this.$2,onIncrease:this.$3,onTextChange:this.$4,ref:"timestampItem",timestamp:this.props.timestamp})};d.$5=function(a){if(a!=null&&this.$6(a))this.props.onTimeChange&&this.props.onTimeChange(a),this.setState({errorMessage:null});else{a=this.props.minTime||0;a=g._("Valid time input")+": "+b("VideoInstreamUtils").convertTimestampToFormattedString(a);this.props.maxTime&&(a+=" ~ "+b("VideoInstreamUtils").convertTimestampToFormattedString(this.props.maxTime));this.setState({errorMessage:a})}};d.$6=function(a){var b=this.props.minTime||0,c=this.props.maxTime||Number.MAX_VALUE;return a>=b&&a<=c};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerTrimmingTimestamp.react",["cx","fbt","FDSText.react","React","VideoComposerClippingActions","VideoComposerTrimmingActions","VideoComposerTrimmingTimestampInput.react","VideoComposerTrimmingTypes"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("VideoComposerTrimmingTypes").TimestampTypes;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=this.props,d=c.endTime,e=c.maxTime,f=c.minimumDuration,g=c.minTime;c=c.startTime;return i.jsxs("div",{className:"_2a1q",children:[i.jsx("div",{className:"_2a1r",children:i.jsx(b("FDSText.react"),{color:"primary",size:"header4",weight:"bold",children:h._("From")})}),i.jsx(b("VideoComposerTrimmingTimestampInput.react"),{maxTime:d-f,minTime:g,onTimeChange:function(b){a.$1(b,j.START_TIME)},timestamp:c}),i.jsx("div",{className:"_2a1r _3-99",children:i.jsx(b("FDSText.react"),{color:"primary",size:"header4",weight:"bold",children:h._("To")})}),i.jsx(b("VideoComposerTrimmingTimestampInput.react"),{maxTime:e,minTime:c+f,onTimeChange:function(b){a.$1(b,j.END_TIME)},timestamp:d})]})};d.$1=function(a,c){this.props.isManualInput===!0?c===j.START_TIME?b("VideoComposerClippingActions").setClippingStartTime(this.props.videoComposerID,a):b("VideoComposerClippingActions").setClippingEndTime(this.props.videoComposerID,a):c===j.START_TIME?b("VideoComposerTrimmingActions").setTrimmingStartTime(this.props.videoComposerID,a):b("VideoComposerTrimmingActions").setTrimmingEndTime(this.props.videoComposerID,a)};return c}(i.Component);e.exports=a}),null);
__d("VideoComposerTrimmingTimestampContainer.react",["FluxContainer","React","VideoComposerStores","VideoComposerTrimmingConstants","VideoComposerTrimmingTimestamp.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a){return[b("VideoComposerStores").getMetadataStore(a.videoComposerID),b("VideoComposerStores").getTrimmingEditorStore(a.videoComposerID),b("VideoComposerStores").getClippingStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getMetadataStore(c.videoComposerID).getState();a=a.videoDuration;a=a||0;if(c.isManualInput===!0){var d=b("VideoComposerStores").getClippingStore(c.videoComposerID).getState(),e=d.selectedStartTime;d=d.selectedEndTime;return{endTime:d||a,startTime:e||0,videoDuration:a}}else{d=b("VideoComposerStores").getTrimmingEditorStore(c.videoComposerID).getState();e=d.draftEndTime;c=d.draftStartTime;return{endTime:e||a,startTime:c||0,videoDuration:a}}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerTrimmingTimestamp.react"),{videoComposerID:this.props.videoComposerID,endTime:this.state.endTime,maxTime:this.state.videoDuration,minimumDuration:b("VideoComposerTrimmingConstants").MIN_TRIM_DURATION,minTime:0,startTime:this.state.startTime,isManualInput:this.props.isManualInput})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerTrimmingVideoPlayerContainer.react",["FluxContainer","React","VideoComposerStores","VideoComposerTrimmingActions","VideoComposerTrimmingConstants","VideoComposerTrimmingVideoPlayer.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){b("VideoComposerTrimmingActions").setVPC(d.props.videoComposerID,a)},d.$3=function(a){b("VideoComposerTrimmingActions").setPlayerState(d.props.videoComposerID,a)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(a){return[b("VideoComposerStores").getMetadataStore(a.videoComposerID),b("VideoComposerStores").getUploadStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getMetadataStore(c.videoComposerID).getState();a=a.videoDuration;c=b("VideoComposerStores").getUploadStore(c.videoComposerID).getState();c=c.videoData;return{videoData:c,videoDuration:a}};var d=c.prototype;d.$2=function(a){};d.render=function(){var a=this.state.videoData;return a?g.jsx(b("VideoComposerTrimmingVideoPlayer.react"),{height:b("VideoComposerTrimmingConstants").PLAYER_HEIGHT,width:b("VideoComposerTrimmingConstants").PLAYER_WIDTH,videoData:a,videoDuration:this.state.videoDuration,onEnableVPC:this.$1,onUpdatePlayerState:this.$3,onUpdateCurrentPlayPosition:this.$2}):null};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerTrimmingVisualOverlay.react",["cx","DateConsts","React","VideoComposerTrimmingConstants","VideoComposerTrimmingTypes","VideoInstreamUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("VideoComposerTrimmingTypes").TimestampTypes;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={slidingLeft:!1,slidingMiddle:!1,slidingMiddleLeftX:null,slidingMiddleMouseX:null,slidingMiddleRightX:null,slidingRight:!1},d.$3=function(a){d.setState({slidingLeft:!0}),window.addEventListener("mousemove",d.$7),window.addEventListener("mouseup",d.$8)},d.$5=function(a){d.setState({slidingMiddle:!0}),d.setState({slidingMiddleMouseX:d.$6(a)}),d.setState({slidingMiddleLeftX:d.props.startTime}),d.setState({slidingMiddleRightX:d.props.endTime}),window.addEventListener("mousemove",d.$7),window.addEventListener("mouseup",d.$8)},d.$4=function(a){d.setState({slidingRight:!0}),window.addEventListener("mousemove",d.$7),window.addEventListener("mouseup",d.$8)},d.$8=function(a){if(d.state.slidingMiddle){var b=d.state.slidingMiddleMouseX;a=d.$6(a);b===a&&d.$9()}d.setState({slidingLeft:!1,slidingMiddle:!1,slidingMiddleMouseX:null,slidingMiddleLeftX:null,slidingMiddleRightX:null,slidingRight:!1});window.removeEventListener("mousemove",d.$7);window.removeEventListener("mouseup",d.$8)},d.$7=function(a){var c=d.props.rootElement;if(!c)return;if(d.state.slidingLeft){c=d.$6(a);c=c/b("VideoComposerTrimmingConstants").SCRUBBER_WIDTH*d.props.maxTime;c=Math.max(c,d.props.minTime);c=Math.floor(c*b("DateConsts").MS_PER_SEC)/b("DateConsts").MS_PER_SEC;c=Math.min(c,d.props.endTime-b("VideoComposerTrimmingConstants").MIN_TRIM_DURATION);d.$10(c,i.START_TIME)}if(d.state.slidingMiddle){c=d.state.slidingMiddleMouseX;var e=d.$6(a);if(c==null){d.setState({slidingMiddleMouseX:e});return}e=(e-c)/b("VideoComposerTrimmingConstants").SCRUBBER_WIDTH*d.props.maxTime;c=d.state.slidingMiddleLeftX+e;e=d.state.slidingMiddleRightX+e;c=Math.floor(c*b("DateConsts").MS_PER_SEC)/b("DateConsts").MS_PER_SEC;e=Math.ceil(e*b("DateConsts").MS_PER_SEC)/b("DateConsts").MS_PER_SEC;if(c<d.props.minTime||e>d.props.maxTime)return;d.$10(c,i.START_TIME);d.$10(e,i.END_TIME)}if(d.state.slidingRight){c=d.$6(a);e=c/b("VideoComposerTrimmingConstants").SCRUBBER_WIDTH*d.props.maxTime;a=Math.max(e,d.props.startTime+b("VideoComposerTrimmingConstants").MIN_TRIM_DURATION);a=Math.ceil(a*b("DateConsts").MS_PER_SEC)/b("DateConsts").MS_PER_SEC;a=Math.min(a,d.props.maxTime);d.$10(a,i.END_TIME)}},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props,c=a.endTime,d=a.maxTime,e=a.minTime;a=a.startTime;if(e>=d||d===0)return null;if(!this.$1(c,d,e,a))return null;e=b("VideoComposerTrimmingConstants").SCRUBBER_WIDTH/d;d=e*(c-a);c=e*a;e=this.$2(c,d);return h.jsx("div",{children:e})};d.$2=function(a,c){var d={},e=null;this.state.slidingLeft?(d.left=a-b("VideoComposerTrimmingConstants").SCRUBBER_SLIDER_WIDTH,e=b("VideoInstreamUtils").convertTimestampToFormattedString(this.props.startTime)):this.state.slidingRight&&(d.right=b("VideoComposerTrimmingConstants").SCRUBBER_WIDTH-a-c-b("VideoComposerTrimmingConstants").SCRUBBER_SLIDER_WIDTH,e=b("VideoInstreamUtils").convertTimestampToFormattedString(this.props.endTime));d=h.jsx("div",{className:"_2e_z",style:d,children:e});e=h.jsx("div",{className:"_2e_t",style:{width:c,left:a},children:h.jsx("div",{className:"_2e_s"})});var f=h.jsx("div",{className:"_2e_u _2e_v",style:{left:a-b("VideoComposerTrimmingConstants").SCRUBBER_SLIDER_WIDTH,width:b("VideoComposerTrimmingConstants").SCRUBBER_SLIDER_WIDTH},onMouseDown:this.$3,children:h.jsx("div",{className:"_2e_x"})}),g=h.jsx("div",{className:"_2e_u _2e_w",style:{left:a+c,width:b("VideoComposerTrimmingConstants").SCRUBBER_SLIDER_WIDTH},onMouseDown:this.$4,children:h.jsx("div",{className:"_2e_x"})});a=h.jsx("div",{className:"_2e_u _6agg",style:{left:a,width:c},onMouseDown:this.$5});return h.jsxs("div",{children:[e,f,a,g,d]})};d.$6=function(a){var b=this.props.rootElement;return!b?0:a.pageX-b.getBoundingClientRect().left};d.$1=function(a,c,d,e){return!isNaN(e)&&!isNaN(a)&&a>=0&&a<=c&&e>=0&&e>=d&&e<=a-b("VideoComposerTrimmingConstants").MIN_TRIM_DURATION};d.$9=function(){this.props.onPreview&&this.props.onPreview(this.props.endTime,this.props.startTime)};d.$10=function(a,b){this.props.onTimeChange&&this.props.onTimeChange(a,b)};return c}(h.Component);e.exports=a}),null);
__d("VideoComposerTrimmingVisualizer.react",["cx","BackgroundImage.react","React","VideoComposerTrimmingConstants","VideoComposerTrimmingVisualOverlay.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=48,j=i*16/9;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={rootRef:null},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this;return h.jsx("div",{className:"_6aai",style:{height:i,marginLeft:b("VideoComposerTrimmingConstants").SCRUBBER_SLIDER_WIDTH,marginRight:b("VideoComposerTrimmingConstants").SCRUBBER_SLIDER_WIDTH},children:h.jsxs("div",{className:"_6ju5",ref:function(b){return!a.state.rootRef&&a.setState({rootRef:b})},children:[h.jsx(k,{thumbnailURLs:this.props.thumbnailURLs}),h.jsx(b("VideoComposerTrimmingVisualOverlay.react"),{endTime:this.props.endTime,maxTime:this.props.maxTime,minTime:this.props.minTime,rootElement:this.state.rootRef,onTimeChange:this.props.onTimeChange,onPreview:this.props.onPreview,startTime:this.props.startTime})]})})};return c}(h.Component);function k(a){var c=b("VideoComposerTrimmingConstants").SCRUBBER_WIDTH-j,d=a.thumbnailURLs.length,e=d>1?c/(a.thumbnailURLs.length-1):0;return h.jsxs("div",{className:"_6aaj",children:[a.thumbnailURLs.map(function(a,c){return h.jsx("div",{style:{left:c*e},className:"_6aak",children:h.jsx(b("BackgroundImage.react"),{backgroundSize:"cover",height:i,width:j,src:a})},c)}),h.jsx("div",{className:"_6ju6",draggable:!1})]})}e.exports=a}),null);
__d("VideoComposerTrimmingVisualizerContainer.react",["FluxContainer","React","VideoComposerClippingActions","VideoComposerStores","VideoComposerTrimmingActions","VideoComposerTrimmingTypes","VideoComposerTrimmingVisualizer.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("VideoComposerTrimmingTypes").TimestampTypes;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a,c){d.props.isScrubberInput===!0?c===h.START_TIME?b("VideoComposerClippingActions").setClippingStartTime(d.props.videoComposerID,a):b("VideoComposerClippingActions").setClippingEndTime(d.props.videoComposerID,a):c===h.START_TIME?b("VideoComposerTrimmingActions").setTrimmingStartTime(d.props.videoComposerID,a):b("VideoComposerTrimmingActions").setTrimmingEndTime(d.props.videoComposerID,a)},d.$2=function(a,c){d.props.isScrubberInput===!0?b("VideoComposerClippingActions").previewByStartEndTime(d.props.videoComposerID,a,c):b("VideoComposerTrimmingActions").previewByStartEndTime(d.props.videoComposerID,a,c)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(a){var c;return[(c=b("VideoComposerStores")).getMetadataStore(a.videoComposerID),c.getThumbnailsStore(a.videoComposerID),c.getTrimmingEditorStore(a.videoComposerID),c.getClippingStore(a.videoComposerID)]};c.calculateState=function(a,c){a=b("VideoComposerStores").getMetadataStore(c.videoComposerID).getState();a=a.videoDuration;a=a||0;var d=b("VideoComposerStores").getThumbnailsStore(c.videoComposerID).getState();d=d.originalOrderThumbnails;var e=0;if(c.isScrubberInput===!0){var f=b("VideoComposerStores").getClippingStore(c.videoComposerID).getState(),g=f.selectedEndTime;f=f.selectedStartTime;e=f;f=g}else{g=b("VideoComposerStores").getTrimmingEditorStore(c.videoComposerID).getState();c=g.draftEndTime;g=g.draftStartTime;e=g;f=c}return{endTime:f||a,thumbnailURLs:d.map(function(a){return a.getURL()}),videoDuration:a,startTime:e||0}};var d=c.prototype;d.render=function(){return g.jsx(b("VideoComposerTrimmingVisualizer.react"),{maxTime:this.state.videoDuration,minTime:0,endTime:this.state.endTime,thumbnailURLs:this.state.thumbnailURLs,startTime:this.state.startTime,onPreview:this.$2,onTimeChange:this.$1})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("VideoComposerStoreBase",["invariant","FluxReduceStore","VideoComposerActionTypes"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.reduce=function(a,c){var d=a;switch(c.type){case b("VideoComposerActionTypes").INITIALIZE_UPLOAD_COMPOSER:case b("VideoComposerActionTypes").INITIALIZE_EDIT_COMPOSER:case b("VideoComposerActionTypes").INITIALIZE_CROSSPOST_COMPOSER:case b("VideoComposerActionTypes").INITIALIZE_COMPOSER_PREVIEW:d=a.set("videoComposerID",c.videoComposerID)}return this.reduceImpl(d,c)};d.reduceImpl=function(a,b){g(0,85)};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=a}),null);
__d("VideoComposerAdBreakImageAdsLoggerStoreClass",["ImmutableRecordWithV4Types","VideoComposerActionTypes","VideoComposerAdBreakImageAdsUITypedLogger","VideoComposerDispatchers","VideoComposerStoreBase","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";a=b("ImmutableRecordWithV4Types").Record;var g=a({videoComposerID:""});c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return g()};d.reduceImpl=function(a,c){b("VideoComposerDispatchers").get(a.videoComposerID).waitFor([b("VideoComposerStores").getAdBreakStore(a.videoComposerID).getDispatchToken(),b("VideoComposerStores").getLoggingStore(a.videoComposerID).getDispatchToken()]);switch(c.type){case b("VideoComposerActionTypes").LOG_MID_ROLL_OPT_OUT_EVENT:case b("VideoComposerActionTypes").LOG_SHORTER_CONTENT_MONETIZATION_EVENT:this.logImageAdsEvent(c.event);return a;case b("VideoComposerActionTypes").POST_FINISHED:case b("VideoComposerActionTypes").SAVE_EDITED_VIDEO_SUCCESS:this.logImageAdsEvent("video_saved_successfully");return a;case b("VideoComposerActionTypes").EXIT_DIALOG:this.logImageAdsEvent("composer_exited");return a;case b("VideoComposerActionTypes").POST_FAILED:case b("VideoComposerActionTypes").UPLOAD_FAILED:case b("VideoComposerActionTypes").SAVE_EDITED_VIDEO_FAILURE:this.logImageAdsEvent("video_save_failure");return a;default:return a}};d.logImageAdsEvent=function(a,c){var d=b("VideoComposerStores").getAdBreakStore(this.getState().videoComposerID).getState(),e=d.canUseVODAdBreaks,f=d.isPageMidRollOptOutEnabled;d=d.isShorterContentMonetizationEligible;if(!e||!(d||f))return;this.buildCommonFieldLogger(c).setEvent(a).log()};d.buildCommonFieldLogger=function(a){a=a==null?b("VideoComposerStores").getAdBreakStore(this.getState().videoComposerID).getState():a;var c=a.adBreaksDisabled,d=a.isAdBreakAutoInsertionEnabled,e=a.isPageMidRollOptOutEnabled;a=a.shouldUseImageAds;var f=b("VideoComposerStores").getLoggingStore(this.getState().videoComposerID).getState(),g=f.actorID,h=f.dialogMode,i=f.hasUploadFinished,j=f.videoAssetID;f=f.videoID;return new(b("VideoComposerAdBreakImageAdsUITypedLogger"))().setPageID(g).setVideoAssetID(j).setVideoID(f).setIsVideoAdBreakEnabled(!c).setAutoInsertionFlag(d).setManualAdBreaksFlag(!c&&!d).setImageAdsFlag(a).setIsPageMidRollOptOutEnabled(e).setComposerDialogMode(h).setHasUploadFinished(i).setIsMidRollOptOut(!0)};return c}(b("VideoComposerStoreBase"));e.exports=c}),null);
__d("MediaManagerComposerPanelOptionsConfigUtils",["ix","fbt","VideoComposerDialogAdBreaksTabUtils","VideoComposerPollsConstants","VideoComposerUtils","asset","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";var i;g=b("immutable").Map((i={},i.distribution={glyphHovered:g("566533"),glyphSelected:g("566530"),glyphUnselected:g("601057"),tooltipActive:h._("Choose where your post will appear"),tooltipInactive:h._("Choose where your post will appear")},i.captions={glyphHovered:g("697052"),glyphSelected:g("697049"),glyphUnselected:g("487791"),tooltipActive:h._("Subtitles are on, click to edit"),tooltipInactive:h._("Enable closed captions or subtitles")},i.spherical_director={glyphHovered:g("697066"),glyphSelected:g("697060"),glyphUnselected:g("697065"),tooltipActive:h._("360 view enabled"),tooltipInactive:h._("Add 360 view")},i.polls={glyphHovered:g("584982"),glyphSelected:g("584979"),glyphUnselected:g("524184"),tooltipActive:h._("Poll created, click to edit"),tooltipInactive:h._("Add a poll for viewers")},i.tracking={glyphHovered:g("566651"),glyphSelected:g("566648"),glyphUnselected:g("697080"),tooltipActive:h._("Tracking information added"),tooltipInactive:h._("Add tracking information to your video")},i.ad_breaks={glyphHovered:g("504860"),glyphSelected:g("504857"),glyphUnselected:g("487809"),tooltipActive:h._("In-stream ads enabled"),tooltipInactive:h._("Enable in-stream ads")},i.rights={glyphHovered:g("697058"),glyphSelected:g("697056"),glyphUnselected:g("487799"),tooltipActive:h._("Matching video detection enabled"),tooltipInactive:h._("Enable matching video detection")},i));function a(a,c){return{key:"distribution",isActive:b("VideoComposerUtils").isFromCreatorStudioMultipostPanel(c)&&!a}}function c(a){return{key:"captions",isActive:a}}function d(a){a=a.spherical;return{key:"spherical_director",isActive:a}}function f(a,c){c=c.videoDuration;var d=h._("Videos must be {number of seconds} seconds or longer. Your video is too short to include polls.",[h._param("number of seconds",b("VideoComposerPollsConstants").MIN_POLL_DURATION)]);c=c==null||c<b("VideoComposerPollsConstants").MIN_POLL_DURATION;return{key:"polls",isActive:a.polls.size>0,isDisabled:c,tooltip:c?d:null}}function j(a){var b=a.customLabels;a=a.universalID;b=b.length!==0||a!=="";return{key:"tracking",isActive:b}}function k(a,c,d){var e=a.hasGapRule,f=a.insertedAdBreaks,g=a.isAdBreakComposerOnboardingEligible,h=a.adBreaksOnboardingSurface,i=a.isBrandedContentVideo,j=a.isInstreamSponsorshipVideo,k=a.isPageOnboardingVisible,l=a.serverSideDisabledReasons,m=a.isAdBreakAutoInsertionEnabled,n=a.adBreaksDisabled,o=a.isShorterContentMonetizationEligible;a=a.shouldUseImageAds;c=c.videoDuration;k=b("VideoComposerDialogAdBreaksTabUtils").getTabState(k,l.toArray(),f.toArray(),c,i,j,e,m,n,g,h,d,o,a);return{key:"ad_breaks",isActive:!k.disabled&&!n,isDisabled:k.disabled,tooltip:k.tabTooltip}}function l(a){a=a.shouldDetectMatches;return{key:"rights",isActive:a}}e.exports={TAB_ID_TO_STATIC_DATA:g,getDistributionOptionConfig:a,getCaptionsOptionConfig:c,getSphericalOptionConfig:d,getPollsOptionConfig:f,getTrackingOptionConfig:j,getAdBreaksOptionConfig:k,getRightsOptionConfig:l}}),null);
__d("VideoComposerAdBreakStoreClass",["Promise","DateConsts","ImmutableRecordWithV4Types","MediaManagerComposerPanelOptionsConfigUtils","PagesSettingsInstreamAdsBlockListActions","PagesSettingsInstreamAdsBlockListStore","VideoComposerActionTypes","VideoComposerAdBreakActions","VideoComposerDialogAdBreakUtils","VideoComposerDispatchers","VideoComposerStoreBase","VideoComposerStores","flattenPHPQueryData","generateVideoThumbnails","immutable","promiseDone"],(function(a,b,c,d,e,f){"use strict";a=b("ImmutableRecordWithV4Types").Record;var g=b("MediaManagerComposerPanelOptionsConfigUtils").getAdBreaksOptionConfig,h=b("VideoComposerDialogAdBreakUtils").canShortVideoUseImageAds,i=1e3,j=44,k=60,l=78,m=180,n={videoComposerID:"",adBreakPrereviewStatus:"not_opted_for_prereview",adBreaksDisabled:!1,canUseAdBreaks:!1,currentAdBreakTimeOffset:0,currentPreviewIndex:null,hasGapRule:!0,hasUserSeenAdBreakTab:!1,holdoutTestEnabled:!1,holdoutTestPublicMetadata:{isEligibleCreator:!1,isExpired:!1,isNuxVisible:!1,isStarted:!1},holdoutTestRevenueLossThresholdInCents:1e4,insertedAdBreaks:b("immutable").List(),isAdBreakAutoAdjustmentEnabled:!1,isAdBreakAutoInsertionEnabled:!1,isAdBreakInsertionRedesignV1:!1,isAdBreakInsertionRedesignV2:!1,isAdBreakPrereviewDialogOpen:!1,isAdBreakPrereviewVisible:!1,prereviewDisabledReason:"client_loading",isImageAdsDropdownExpanded:!1,isShorterContentMonetizationEligible:!1,canUseVODAdBreaks:!1,adBreaksOnboardingSurface:null,isAdBreakComposerOnboardingEligible:!1,isCountryRestrictionsEligible:!1,pageOnboardingPending:!1,showOnboardedPageNux:!1,isAutoInsertionEnabledOnProfile:!1,isAdBreakToggleEdited:!1,showAdBreaksUpsellDialog:!1,shouldShowAutoInsertionProfileNux:!1,shouldShowImageAdsModal:!1,shouldShowImageAdsUpsell:!1,shouldUseImageAds:!1,isBrandedContentVideo:!1,isInstreamSponsorshipVideo:!1,isDemonetized:!1,isPageOnboardingVisible:!1,isPageMidRollOptOutEnabled:!1,serverSideDisabledReasons:b("immutable").List(),videoRightsAgreed:!1,vpc:null,isAdBreaksPollCreationEnabled:!1,isNPSEligible:!1},o=a(n);c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return o()};d.reduceImpl=function(a,c){switch(c.type){case b("VideoComposerActionTypes").PREMIERE_REPLACE_FILE:return this.$VideoComposerAdBreakStoreClass1(a);case b("VideoComposerActionTypes").RESET_COMPOSER:return this.$VideoComposerAdBreakStoreClass2();case b("VideoComposerActionTypes").AGREE_VIDEO_RIGHTS:return this.$VideoComposerAdBreakStoreClass3(a);case b("VideoComposerActionTypes").BOOTLOAD_AD_BREAK_PARAMETERS:return this.$VideoComposerAdBreakStoreClass4(a,c.data);case b("VideoComposerActionTypes").DELETE_AD_BREAK:return this.$VideoComposerAdBreakStoreClass5(a,c.adBreakIndex);case b("VideoComposerActionTypes").FETCH_AD_BREAK_EDIT_PARAMETERS:return this.$VideoComposerAdBreakStoreClass6(a,c.data);case b("VideoComposerActionTypes").INSERT_AD_BREAK:return this.$VideoComposerAdBreakStoreClass7(a);case b("VideoComposerActionTypes").SET_CAN_USE_AD_BREAKS:return this.$VideoComposerAdBreakStoreClass8(a,c.canUseAdBreaks);case b("VideoComposerActionTypes").SET_CURRENT_AD_BREAK:return this.$VideoComposerAdBreakStoreClass9(a,c.adBreakTimeOffset);case b("VideoComposerActionTypes").SET_CURRENT_PREVIEW_INDEX:return this.$VideoComposerAdBreakStoreClass10(a,c.currentPreviewIndex);case b("VideoComposerActionTypes").SET_IS_AD_BREAK_AUTO_ADJUSTMENT_ENABLED:return this.$VideoComposerAdBreakStoreClass11(a,c.isAdBreakAutoAdjustmentEnabled);case b("VideoComposerActionTypes").SET_IS_AD_BREAK_AUTO_INSERTION_ENABLED:return this.$VideoComposerAdBreakStoreClass12(a,c.isAdBreakAutoInsertionEnabled);case b("VideoComposerActionTypes").SET_IS_AD_BREAK_TOGGLE_EDITED:return this.$VideoComposerAdBreakStoreClass13(a,c.isAdBreakToggleEdited);case b("VideoComposerActionTypes").SET_IS_BRANDED_CONTENT_VIDEO:return this.$VideoComposerAdBreakStoreClass14(a,c.isBrandedContentVideo);case b("VideoComposerActionTypes").SET_IS_INSTREAM_SPONSORSHIP_VIDEO:return this.$VideoComposerAdBreakStoreClass15(a,c.isInstreamSponsorshipVideo);case b("VideoComposerActionTypes").SET_SHOW_AD_BREAKS_UPSELL_DIALOG:return this.$VideoComposerAdBreakStoreClass16(a,c.showAdBreaksUpsellDialog);case b("VideoComposerActionTypes").START_PAGE_ONBOARDING:return this.$VideoComposerAdBreakStoreClass17(a,c.pageID);case b("VideoComposerActionTypes").SET_PAGE_ONBOARDING_PENDING:return a.set("pageOnboardingPending",c.isPending);case b("VideoComposerActionTypes").SHOW_ONBOARDED_PAGE_NUX:return a.set("showOnboardedPageNux",c.enabled);case b("VideoComposerActionTypes").UPDATE_AD_BREAK_STATUS:return this.$VideoComposerAdBreakStoreClass18(a,c.adBreaksDisabled,c.isMonetizableShortVideo);case b("VideoComposerActionTypes").UPDATE_HOLDOUT_TEST_STATUS:return this.$VideoComposerAdBreakStoreClass19(a,c.enabled);case b("VideoComposerActionTypes").UPDATE_THUMBNAIL_URL:return this.$VideoComposerAdBreakStoreClass20(a,c.adBreakTimeOffset,c.thumbnailURL);case b("VideoComposerActionTypes").UPDATE_VPC:return this.$VideoComposerAdBreakStoreClass21(a,c.vpc);case b("VideoComposerActionTypes").SET_PREREVIEW_DIALOG:return a.set("isAdBreakPrereviewDialogOpen",c.isAdBreakPrereviewDialogOpen);case b("VideoComposerActionTypes").SUBMIT_FOR_PREREVIEW:return a.set("isAdBreakPrereviewDialogOpen",!1);case b("VideoComposerActionTypes").SET_IS_AUTO_INSERTION_PAGE_ENABLED:return this.$VideoComposerAdBreakStoreClass22(a,c.pageID,c.enabled);case b("VideoComposerActionTypes").SET_SHOULD_USE_IMAGE_ADS:return this.$VideoComposerAdBreakStoreClass23(a,c.shouldUseImageAds);case b("VideoComposerActionTypes").SET_IS_IMAGE_ADS_DROPDOWN_EXPANDED:return this.videoIsLessThanThreeMinutes()?a:a.set("isImageAdsDropdownExpanded",c.isImageAdsDropdownExpanded);case b("VideoComposerActionTypes").SET_SHOULD_SHOW_IMAGE_ADS_UPSELL:return this.videoIsLessThanThreeMinutes()?a:a.set("shouldShowImageAdsUpsell",c.shouldShowImageAdsUpsell);case b("VideoComposerActionTypes").SET_SHOULD_SHOW_IMAGE_ADS_MODAL:return this.videoIsLessThanThreeMinutes()?a:a.set("shouldShowImageAdsModal",c.shouldShowImageAdsModal);case b("VideoComposerActionTypes").SET_HAS_USER_SEEN_AD_BREAK_TAB:return a.set("hasUserSeenAdBreakTab",c.hasUserSeenAdBreakTab);case b("VideoComposerActionTypes").OPEN_PUBLISH_DRAWER:b("VideoComposerDispatchers").get(a.videoComposerID).waitFor([b("VideoComposerStores").getUIStore(a.videoComposerID).getDispatchToken()]);this.getShouldIgnorePublishNextStep()&&(a=a.set("shouldShowImageAdsModal",!0));return a;default:return a}};d.getPostRequestDataToSend=function(){var a=this.getState(),c=a.adBreaksDisabled||a.isBrandedContentVideo&&!a.isInstreamSponsorshipVideo,d=a.insertedAdBreaks.map(function(a){return{time_offset:a.timeOffset*b("DateConsts").MS_PER_SEC,status:c?"disabled":"enabled"}}).toArray(),e=b("PagesSettingsInstreamAdsBlockListStore").getComposerBlockListIdsToApply(),f=a.holdoutTestEnabled&&!c&&d.length>0,g={};g.ad_breaks=d;g.ad_breaks_experiment_revenue_loss_threshold=a.holdoutTestRevenueLossThresholdInCents;g.enable_ad_breaks_experiment=f;e&&(g.ad_breaks_block_lists=e,g.has_ad_breaks_block_lists=!0);g.should_auto_adjust_manual_ad_breaks=a.isAdBreakAutoAdjustmentEnabled;g.should_auto_insert_ad_breaks=a.isAdBreakAutoInsertionEnabled&&!a.adBreaksDisabled;g.should_use_image_ads=a.shouldUseImageAds;return b("Promise").resolve(g)};d.getEditRequestDataToSend=function(){var a=this.getPostRequestDataToSend();return a.then(function(a){return b("flattenPHPQueryData")(a)})};d.getIsMidRollOptOutFeatureEnabled=function(){var a=this.getState();a=a.shouldUseImageAds;return a};d.getShouldIgnorePublishNextStep=function(){if(this.videoIsLessThanThreeMinutes())return!1;var a=this.getState(),b=a.adBreaksDisabled,c=a.isPageMidRollOptOutEnabled,d=a.hasUserSeenAdBreakTab;a=a.shouldShowImageAdsModal;return b&&c&&!d&&!a};d.videoIsLessThanThreeMinutes=function(){var a=b("VideoComposerStores").getMetadataStore(this.getState().videoComposerID).getVideoPreviewTimeData();a=a.videoDuration;return(a||0)<m};d.$VideoComposerAdBreakStoreClass23=function(a,c){var d=a.get("shouldUseImageAds")!=c;a=a.set("shouldUseImageAds",c);if(d){d=c?"image_ads_enabled":"image_ads_disabled";b("VideoComposerStores").getAdBreakImageAdsLoggerStore(a.videoComposerID).logImageAdsEvent(d,a)}return a};d.$VideoComposerAdBreakStoreClass1=function(a){return a.merge({adBreaksDisabled:n.adBreaksDisabled,currentAdBreakTimeOffset:n.currentAdBreakTimeOffset,currentPreviewIndex:n.currentPreviewIndex,insertedAdBreaks:n.insertedAdBreaks,videoRightsAgreed:n.videoRightsAgreed||a.isAdBreakInsertionRedesignV2,vpc:n.vpc})};d.$VideoComposerAdBreakStoreClass2=function(){return this.getInitialState()};d.$VideoComposerAdBreakStoreClass3=function(a){a=a.set("videoRightsAgreed",!0);return a};d.$VideoComposerAdBreakStoreClass4=function(a,c,d){d===void 0&&(d=null);b("PagesSettingsInstreamAdsBlockListActions").initializeBlockLists(c.pageID,d?[d]:null);a=a.set("holdoutTestEnabled",c.holdoutTestPublicMetadata.isStarted);a=a.set("holdoutTestPublicMetadata",c.holdoutTestPublicMetadata);a=a.set("serverSideDisabledReasons",b("immutable").List(c.serverSideDisabledReasons));a=a.set("hasGapRule",c.hasGapRule);a=a.set("isAdBreakAutoAdjustmentEnabled",c.isAdBreakInsertionRedesignV1||c.isAdBreakInsertionRedesignV2);a=a.set("isAdBreakAutoInsertionEnabled",c.isAdBreakInsertionRedesignV2);a=a.set("isAdBreaksPollCreationEnabled",c.isAdBreaksPollCreationEnabled);a=a.set("isNPSEligible",c.isNPSEligible);a=a.set("isAdBreakInsertionRedesignV1",c.isAdBreakInsertionRedesignV1);a=a.set("isAdBreakInsertionRedesignV2",c.isAdBreakInsertionRedesignV2);a=a.set("isAdBreakPrereviewVisible",c.isAdBreakPrereviewVisible);a=a.set("prereviewDisabledReason",c.prereviewDisabledReason);a=a.set("canUseVODAdBreaks",c.canUseVODAdBreaks);a=a.set("adBreaksOnboardingSurface",c.adBreaksOnboardingSurface);a=a.set("isAdBreakComposerOnboardingEligible",c.isAdBreakComposerOnboardingEligible);a=a.set("isPageOnboardingVisible",c.isPageOnboardingVisible);a=a.set("isAutoInsertionEnabledOnProfile",c.isAutoInsertionEnabledOnProfile);a=a.set("isShorterContentMonetizationEligible",c.isShorterContentMonetizationEligible);a=a.set("isCountryRestrictionsEligible",c.isCountryRestrictionsEligible);a=a.set("shouldShowAutoInsertionProfileNux",c.shouldShowAutoInsertionProfileNux);a=a.set("videoRightsAgreed",c.isAdBreakInsertionRedesignV2);c.isAdBreakInsertionRedesignV2&&c.isAutoInsertionEnabledOnProfile?a=a.set("adBreaksDisabled",!1):a=a.set("adBreaksDisabled",!0);a=a.set("isPageMidRollOptOutEnabled",c.isPageMidRollOptOutEnabled);d=b("VideoComposerStores").getMetadataStore(a.videoComposerID).getVideoPreviewTimeData();d=d.videoDuration;a=a.set("shouldUseImageAds",c.isAutoInsertionEnabledOnProfile&&h(c.isShorterContentMonetizationEligible,d));d=g(a,b("VideoComposerStores").getMetadataStore(a.videoComposerID).getVideoPreviewTimeData(),b("VideoComposerStores").getTrimmingEditorStore(a.videoComposerID).isVideoTrimmed()).isActive;var e=b("VideoComposerStores").getMetadataStore(a.videoComposerID).getState();e=e.eventCallbacks;e&&e.onAdBreaksBootloaded&&e.onAdBreaksBootloaded(c.canUseVODAdBreaks,d);return a};d.$VideoComposerAdBreakStoreClass5=function(a,b){a=a.set("insertedAdBreaks",a.insertedAdBreaks.splice(b,1));return a};d.$VideoComposerAdBreakStoreClass6=function(a,c){a=this.$VideoComposerAdBreakStoreClass4(a,c,c.videoAssetID);a=a.set("adBreaksDisabled",c.adBreaksDisabled);a=a.set("adBreakPrereviewStatus",c.adBreakPrereviewStatus);a=a.set("insertedAdBreaks",b("immutable").List(c.insertedAdBreaks));a=a.set("isAdBreakAutoAdjustmentEnabled",c.isAdBreakAutoAdjustmentEnabled);a=a.set("isAdBreakAutoInsertionEnabled",c.isAdBreakAutoInsertionEnabled);a=a.set("shouldUseImageAds",c.shouldUseImageAds);a=a.set("isImageAdsDropdownExpanded",c.shouldUseImageAds);a=a.set("isDemonetized",c.isDemonetized);a=a.set("videoRightsAgreed",a.videoRightsAgreed||a.insertedAdBreaks.count()>0);this.$VideoComposerAdBreakStoreClass24(a);return a};d.$VideoComposerAdBreakStoreClass7=function(a){if(a.insertedAdBreaks.findIndex(function(b){return b.timeOffset===a.currentAdBreakTimeOffset})>=0)return a;a=a.set("insertedAdBreaks",a.insertedAdBreaks.push({status:a.adBreaksDisabled?"disabled":"enabled",thumbnailURL:null,timeOffset:a.currentAdBreakTimeOffset}).sort(function(a,b){return a.timeOffset-b.timeOffset}));this.$VideoComposerAdBreakStoreClass24(a);return a};d.$VideoComposerAdBreakStoreClass9=function(a,b){b=Math.round(b*i)/i;a=a.set("currentAdBreakTimeOffset",b);return a};d.$VideoComposerAdBreakStoreClass10=function(a,b){a=a.set("currentPreviewIndex",b);return a};d.$VideoComposerAdBreakStoreClass11=function(a,b){a=a.set("isAdBreakAutoAdjustmentEnabled",b);return a};d.$VideoComposerAdBreakStoreClass12=function(a,b){a=a.set("isAdBreakAutoInsertionEnabled",b);b||(a=a.set("isImageAdsDropdownExpanded",!1),a=this.$VideoComposerAdBreakStoreClass23(a,!1));return a};d.$VideoComposerAdBreakStoreClass13=function(a,b){a=a.set("isAdBreakToggleEdited",b);return a};d.$VideoComposerAdBreakStoreClass8=function(a,b){a=a.set("canUseAdBreaks",b);return a};d.$VideoComposerAdBreakStoreClass14=function(a,b){a=a.set("isBrandedContentVideo",b);return a};d.$VideoComposerAdBreakStoreClass15=function(a,b){a=a.set("isInstreamSponsorshipVideo",b);return a};d.$VideoComposerAdBreakStoreClass17=function(a,c){b("VideoComposerDialogAdBreakUtils").startPageOnboarding(c);return a};d.$VideoComposerAdBreakStoreClass22=function(a,c,d){b("VideoComposerDialogAdBreakUtils").updateInsertionProfileStatus(c,d);return a};d.$VideoComposerAdBreakStoreClass16=function(a,b){a=a.set("showAdBreaksUpsellDialog",b);return a};d.$VideoComposerAdBreakStoreClass18=function(a,b,c){a=a.set("adBreaksDisabled",b);a=a.set("insertedAdBreaks",a.insertedAdBreaks.map(function(a){a.status=b?"disabled":"enabled";return a}));b?(a=a.set("shouldShowImageAdsUpsell",!1).set("isImageAdsDropdownExpanded",!1),a=this.$VideoComposerAdBreakStoreClass23(a,!1)):c&&this.$VideoComposerAdBreakStoreClass25()&&(a=this.$VideoComposerAdBreakStoreClass23(a,!0));return a};d.$VideoComposerAdBreakStoreClass19=function(a,b){a=a.set("holdoutTestEnabled",b);return a};d.$VideoComposerAdBreakStoreClass20=function(a,b,c){var d=a.insertedAdBreaks.findIndex(function(a){return a.timeOffset===b});if(d<0)return a;var e=a.insertedAdBreaks,f=e.get(d);f=babelHelpers["extends"]({},f,{thumbnailURL:c});e=e.set(d,f);return a.set("insertedAdBreaks",e)};d.$VideoComposerAdBreakStoreClass21=function(a,b){a=a.set("vpc",b);this.$VideoComposerAdBreakStoreClass24(a);return a};d.$VideoComposerAdBreakStoreClass24=function(a){var c=a.vpc,d=a.insertedAdBreaks,e=b("VideoComposerStores").getMetadataStore(a.videoComposerID).getVideoPreviewTimeData(),f=e?e.videoStartTime:0;if(c&&c.getVideoNodeNullable()){e=function(e){var g=d.get(e);if(g.thumbnailURL!==null)return"continue";b("promiseDone")(b("generateVideoThumbnails")(c.getVideoNode(),a.isAdBreakInsertionRedesignV2?l:k,a.isAdBreakInsertionRedesignV2?j:k,1,"cover",g.timeOffset+f),function(c){b("VideoComposerAdBreakActions").updateThumbnailURL(a.videoComposerID,g.timeOffset,c.thumbnails[0].getURL())},function(a){})};for(var g=0;g<d.count();g++){var h=e(g);if(h==="continue")continue}}};d.$VideoComposerAdBreakStoreClass25=function(){var a=this.getState(),c=b("VideoComposerStores").getMetadataStore(a.videoComposerID).getVideoPreviewTimeData();c=c.videoDuration;return c!=null?b("VideoComposerDialogAdBreakUtils").canShortVideoUseImageAds(a.isShorterContentMonetizationEligible,c):!1};return c}(b("VideoComposerStoreBase"));e.exports=c}),null);
__d("VideoComposerBasicStoreClass",["fbt","invariant","Promise","AdsCallToActionTypesCond","ComposerVideoPostUtils","EditorState","ImmutableRecordWithV4Types","PageContentTabShowsStore","PagesComposerBoostedPostsStore","ReactComposerMultilingualStatusActions","ReactComposerMultilingualStatusStore","ReactComposerPostDataUtils","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerTargetingUtils","StaticSearchSource","VideoComposerActionTypes","VideoComposerDealUtils","VideoComposerDialogBasicUtils","VideoComposerPublishingTypes","VideoComposerPublishingUtils","VideoComposerStoreBase","VideoComposerStores","VideoComposerTagSuggestionSources","dotAccess","flattenPHPQueryData","getMentionsInputDecorator","getMentionsTextForContentState"],(function(a,b,c,d,e,f,g,h){"use strict";a=b("ImmutableRecordWithV4Types").Record;var i=b("VideoComposerDealUtils").getActiveDeals,j=b("VideoComposerDealUtils").getDeal,k=b("VideoComposerDealUtils").videoRequiresReview,l=b("VideoComposerPublishingTypes").PublishActions,m=a({videoComposerID:"",autoCrosspostToShowParent:!1,bootloaded:!1,canEditShowAndParent:!1,composerConfig:null,contentTags:[],descriptionEditorState:b("EditorState").createEmpty(b("getMentionsInputDecorator")()),fromComposerID:null,fundedContentProgram:0,missingVideoTypeTooltipText:null,missingFundedContentProgramText:null,mentionsSearchSource:new(b("StaticSearchSource"))([]),deal:null,deals:[],playlistIDs:[],playlistOptions:{},seasonIDOld:null,seasonOptionsOld:{},selectedGame:null,showDealSelector:!1,showFundedContentFlag:!1,showMissingFundedContentProgramTooltip:!1,showMissingVideoTypeTooltip:!1,showNewPlaylistSelector:!1,showParentPageName:"",showParentPageProfileURI:"",taggerSearchSource:new(b("StaticSearchSource"))([]),videoPreviewController:null,isRecapSupported:!1,isGamingPage:!1,isExplicitlyTaggedAsGamingVideo:!1,showVideoDetailsLanguageSelector:!1,showMultilingualComposer:!1,showSoundEditor:!1,showTrimmingEditor:!1,enableDonationTagger:!1,browseTags:[],historyTags:[],showTaggingNux:!1,suggestedTags:[],taggingGrowthExperimentEnabled:!1,tagSuggestionSource:b("VideoComposerTagSuggestionSources").BROWSE,isVideoPreviewPaused:!1});c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return m()};d.reduceImpl=function(a,c){switch(c.type){case b("VideoComposerActionTypes").INITIALIZE_UPLOAD_COMPOSER:if(c.clientParams.entryPointRef==="page_content_tab_playlist_details"){var d=b("PageContentTabShowsStore").getVideoListID();a=a.set("playlistIDs",d?[d]:[])}else c.clientParams.entryPointRef==="page_content_tab_season_details"&&(a=a.set("seasonIDOld",b("PageContentTabShowsStore").getVideoListID()||null));c.serverParams.composerID&&(a=a.set("fromComposerID",c.serverParams.composerID));return a;case b("VideoComposerActionTypes").INITIALIZE_EDIT_COMPOSER:if(c.editParams.isVideoShowPage){d=c.editParams.episodeData.get("playlistIDs");var e=c.editParams.episodeData.get("seasonID");d&&(a=a.set("playlistIDs",d));e&&(a=a.set("seasonIDOld",e));a=a.set("isRecapSupported",c.editParams.isRecapSupported||!1);b("VideoComposerDialogBasicUtils").fetchVideoListOptions(c.editParams.common.actorID,c.videoComposerID)}else{d=c.editParams.playlistIDs;a=a.set("playlistIDs",d);b("VideoComposerDialogBasicUtils").fetchVideoListOptions(c.editParams.common.actorID,c.videoComposerID)}a=a.set("isGamingPage",c.editParams.isGamingPage);a=a.set("selectedGame",c.editParams.taggedGame);c.editParams.taggedGame!==null&&(a=a.set("isExplicitlyTaggedAsGamingVideo",!0));return a;case b("VideoComposerActionTypes").BOOTLOAD_DEFAULT_TAB_PARAMETERS:a=this.$VideoComposerBasicStoreClass1(a,c.data);a=a.set("isGamingPage",c.data.isGamingPage);a=a.set("showVideoDetailsLanguageSelector",c.data.showVideoDetailsLanguageSelector);a=a.set("showSoundEditor",c.data.showSoundEditor);a=a.set("showTrimmingEditor",c.data.showTrimmingEditor);a=a.set("taggingGrowthExperimentEnabled",c.data.taggingGrowthExperimentEnabled);a=a.set("showTaggingNux",c.data.showTaggingNux);a=a.set("enableDonationTagger",c.data.enableDonationTagger);a=a.set("showFundedContentFlag",c.data.showFundedContentFlag);a=a.set("showDealSelector",c.data.showDealSelector);a=a.set("deal",c.data.deal);a=a.set("deals",c.data.deals);e=b("VideoComposerStores").getMetadataStore(a.videoComposerID).getState();d=e.isVideoShowPage;d&&(a=a.set("autoCrosspostToShowParent",c.data.canEditShowAndParent),a=a.set("canEditShowAndParent",c.data.canEditShowAndParent),a=a.set("showParentPageName",c.data.showParentPageName),a=a.set("showParentPageProfileURI",c.data.showParentPageProfileURI),a=a.set("isRecapSupported",c.data.isRecapSupported));a=a.set("showNewPlaylistSelector",c.data.showNewPlaylistSelector);return a;case b("VideoComposerActionTypes").BOOTLOAD_CROSSPOST_DEFAULT_TAB:a=this.$VideoComposerBasicStoreClass1(a,c.data);a=a.set("taggingGrowthExperimentEnabled",c.data.taggingGrowthExperimentEnabled);a=a.set("contentTags",b("VideoComposerDialogBasicUtils").convertVideoTagsToEntryArray(c.data.contentTags,c.data.freeFormTags));a=a.set("descriptionEditorState",b("VideoComposerDialogBasicUtils").getEditorStateForText(c.data.description));if(c.data.multilingualData){e=Array.from(c.data.multilingualData).reduce(function(a,b){var c=b[0];b=b[1];return Object.assign(a,(a={},a[c]=b,a))},{});b("ReactComposerMultilingualStatusActions").prefillData(c.data.composerConfig.contextConfig.composerID,e)}c.data.gatingAndTargetingData&&b("ReactComposerTargetingUtils").setData(c.data.composerConfig.contextConfig.composerID,{gating:c.data.gatingAndTargetingData.gating,gatingSentences:b("ReactComposerTargetingUtils").renderSentences(c.data.gatingAndTargetingData.gatingSentences),targeting:c.data.gatingAndTargetingData.targeting,targetingSentences:b("ReactComposerTargetingUtils").renderSentences(c.data.gatingAndTargetingData.targetingSentences)});return a;case b("VideoComposerActionTypes").BOOTLOAD_DEFAULT_EDIT_PARAMS:a=this.$VideoComposerBasicStoreClass1(a,c.data);a=a.set("taggingGrowthExperimentEnabled",c.data.taggingGrowthExperimentEnabled);a=a.set("contentTags",b("VideoComposerDialogBasicUtils").convertVideoTagsToEntryArray(c.data.contentTags,c.data.freeFormTags));a=a.set("descriptionEditorState",b("VideoComposerDialogBasicUtils").getEditorStateForText(c.data.description));a=a.set("fundedContentProgram",c.data.fundedContentProgram);a=a.set("showFundedContentFlag",c.data.showFundedContentFlag);a=a.set("showDealSelector",c.data.showDealSelector);d=c.data.deals;e=j(c.data.dealID,d);a=a.set("deal",e);a=a.set("deals",d);a=a.set("showNewPlaylistSelector",c.data.showNewPlaylistSelector);b("VideoComposerDialogBasicUtils").setComposerTaggerData(c.data.composerConfig.contextConfig.composerID,c.data.tags,c.data.locationEntry,c.data.backdate,{sponsors:c.data.sponsorTags,directShareStatus:c.data.directShareStatus,sponsorRelationship:c.data.sponsorRelationship},c.data.productTags,c.data.composerConfig.contextConfig.actorID,c.data.hasSupportNowCTA);if(c.data.multilingualData){e=Array.from(c.data.multilingualData).reduce(function(a,b){var c=b[0];b=b[1];return Object.assign(a,(a={},a[c]=b,a))},{});b("ReactComposerMultilingualStatusActions").prefillData(c.data.composerConfig.contextConfig.composerID,e)}return a;case b("VideoComposerActionTypes").CHANGE_GAME:a=a.set("selectedGame",c.game);return a;case b("VideoComposerActionTypes").UPDATE_IS_EXPLICITLY_TAGGED_AS_GAMING_VIDEO:return a.set("isExplicitlyTaggedAsGamingVideo",c.isExplicitlyTaggedAsGamingVideo);case b("VideoComposerActionTypes").HIDE_MISSING_FUNDED_CONTENT_PROGRAM_TYPE_TOOLTIP:a=a.set("missingFundedContentProgramText",null);a=a.set("showMissingFundedContentProgramTooltip",!1);return a;case b("VideoComposerActionTypes").HIDE_MISSING_VIDEO_TYPE_TOOLTIP:case b("VideoComposerActionTypes").UPDATE_SHOW_VIDEO_TYPE:a=a.set("showMissingVideoTypeTooltip",!1);return a.set("missingVideoTypeTooltipText",null);case b("VideoComposerActionTypes").HIGHLIGHT_MISSING_FUNDED_CONTENT_PROGRAM_TYPE_TOOLTIP:a=a.set("missingFundedContentProgramText",c.tooltipTextFCF);a=a.set("showMissingFundedContentProgramTooltip",!0);return a;case b("VideoComposerActionTypes").HIGHLIGHT_MISSING_VIDEO_TYPE:a=a.set("showMissingVideoTypeTooltip",!0);return a.set("missingVideoTypeTooltipText",c.tooltipText);case b("VideoComposerActionTypes").PAUSE_VIDEO_PREVIEW:d=a.get("videoPreviewController");if(d){d.pause("user_initiated");return a.set("isVideoPreviewPaused",!0)}return a;case b("VideoComposerActionTypes").TOGGLE_CROSSPOST_TO_PARENT:return a.set("autoCrosspostToShowParent",!a.autoCrosspostToShowParent);case b("VideoComposerActionTypes").UPDATE_CONTENT_TAGS:a=a.set("contentTags",c.tags);return a;case b("VideoComposerActionTypes").APPEND_CONTENT_TAGS:e=this.getState();d=e.contentTags;e=new Set(d.concat(c.tags));a=a.set("contentTags",Array.from(e));return a;case b("VideoComposerActionTypes").UPDATE_BROWSE_TAGS:a=a.set("browseTags",c.tags);return a;case b("VideoComposerActionTypes").UPDATE_HISTORY_TAGS:a=a.set("historyTags",c.tags);return a;case b("VideoComposerActionTypes").UPDATE_SUGGESTED_TAGS:a=a.set("suggestedTags",c.tags);return a;case b("VideoComposerActionTypes").UPDATE_TAG_SUGGESTION_SOURCE:a=a.set("tagSuggestionSource",c.tab);return a;case b("VideoComposerActionTypes").UPDATE_DESCRIPTION_EDITOR_STATE:a=a.set("descriptionEditorState",c.editorState);return a;case b("VideoComposerActionTypes").UPDATE_PLAYLIST_IDS:a=a.set("playlistIDs",c.playlistIDs);return a;case b("VideoComposerActionTypes").UPDATE_SEASON_ID_OLD:a=a.set("seasonIDOld",c.seasonIDOld);return a;case b("VideoComposerActionTypes").UPDATE_VIDEO_LIST_OPTIONS:a=a.set("playlistOptions",c.playlistOptions);a=a.set("seasonOptionsOld",c.seasonOptionsOld);return a;case b("VideoComposerActionTypes").UPDATE_VIDEO_PREVIEW_CONTROLLER:a=a.set("videoPreviewController",c.videoPreviewController);return a;case b("VideoComposerActionTypes").RESET_COMPOSER:a=this.getInitialState();return a;case b("VideoComposerActionTypes").UPDATE_FUNDED_CONTENT_PROGRAM:a=a.set("fundedContentProgram",c.fundedContentProgram);return a;case b("VideoComposerActionTypes").SET_IS_VIDEO_PREVIEW_PAUSED:a=a.set("isVideoPreviewPaused",c.isVideoPreviewPaused);return a;case b("VideoComposerActionTypes").UPDATE_DEAL:a=a.set("deal",c.deal);return a;default:return a}};d.$VideoComposerBasicStoreClass1=function(a,c){a=a.set("composerConfig",c.composerConfig);a=a.set("mentionsSearchSource",c.mentionsSearchSource);a=a.set("taggerSearchSource",c.taggerSearchSource);a=a.set("bootloaded",!0);a=a.set("showMultilingualComposer",c.showMultilingualComposer);var d=this.getState();d=d.fromComposerID;if(d!=null){b("VideoComposerDialogBasicUtils").setComposerTaggerDataFromOriginalComposer(d,c.composerConfig.contextConfig.composerID,[(d=b("ReactComposerTaggerType")).PEOPLE,d.TARGETING,d.LOCATION,d.ACTIVITY,d.SPONSOR,d.FUNDRAISER,d.PRODUCT,d.SUPPORT_NOW])}return a};d.getFundedContentProgramSelectorText=function(){return g._("Is this a funded post? Choose whether or not Facebook should review this video post.")};d.getMissingFundedContentProgramText=function(a){var c=this.getState(),d=c.fundedContentProgram,e=c.showFundedContentFlag,f=c.videoComposerID;c=c.deals;if(!e)return null;if(i(c).length===0)return null;switch(d){case 1:if(a===l.PUBLISH_NOW&&!k(f))return null;if(!(a===l.SAVE_DRAFT||a===l.SCHEDULE||a===l.OPEN_DRAWER))return b("VideoComposerPublishingUtils").fundedContentAllowedActionTypeTooltipText;break;case 0:return this.getFundedContentProgramSelectorText()}return null};d.getPostRequestDataToSend=function(){var a=this.getState(),c=a.bootloaded,d=a.composerConfig,e=a.autoCrosspostToShowParent,f=a.contentTags,g=a.descriptionEditorState,i=a.deal,j=a.fundedContentProgram,k=a.playlistIDs,l=a.seasonIDOld,m=a.selectedGame,n=a.enableDonationTagger,o=a.isExplicitlyTaggedAsGamingVideo;a=a.videoComposerID;var p=b("VideoComposerStores").getMetadataStore(a).getState();p=p.showVideoType;a=b("VideoComposerStores").getDistributionStore(a).getState();a=a.charityData;var q=p==="episode"||p==="recap";p=p==="recap";c&&d||h(0,158);c=b("getMentionsTextForContentState")(g.getCurrentContent());g={isEpisode:q,seasonID:q?l:null,playlistIDs:k,isRecap:p};q=d.taggersConfig;l=q.get(b("ReactComposerTaggerType").TARGETING);p=l?b("dotAccess")(l,"feedTargetingGK"):!1;q=b("ReactComposerPostDataUtils").getPostData({composerID:d.contextConfig.composerID,targetID:parseInt(d.contextConfig.targetID,10),composerConfig:{contextInfo:{}},useHints:p});l=b("ReactComposerTaggerStore").hasMessagingCTA(d.contextConfig.composerID)?b("AdsCallToActionTypesCond").TYPES.MESSAGE_PAGE.name:null;p=b("ReactComposerTaggerStore").getTaggerData(d.contextConfig.composerID,b("ReactComposerTaggerType").GET_SHOWTIMES);var r=b("ReactComposerMultilingualStatusStore").getPostData(d.contextConfig.composerID),s=b("ReactComposerTaggerStore").getTaggerData(d.contextConfig.composerID,b("ReactComposerTaggerType").SUPPORT_NOW),t=b("ReactComposerTaggerStore").getTaggerData(d.contextConfig.composerID,b("ReactComposerTaggerType").STARS).isEnabled===!0,u=null;n&&q.charity_id?u=q.charity_id:a&&(u=a.id);return b("Promise").resolve({action_type_id:q.action_type_id,composertags_place:q.composertags_place,composertags_place_name:q.composertags_place_name,composertags_product_items:q.composertags_product_items,composertags_sponsor:q.composertags_sponsors,composertags_with:q.composertags_with,content_tags:b("VideoComposerDialogBasicUtils").getContentTagEntryIDs(f),cta_type:l,deal_id:i==null?void 0:i.deal_id,direct_share_status:q.direct_share_status,episode_data_json:JSON.stringify(g),external_movie_data:p,feed_targeted_data:q.feed_targeted_data,free_form_tags:b("VideoComposerDialogBasicUtils").getFreeFormContentTags(f),funded_content_program:j,fundraiser_for_story_charity_id:u,game_id:m?m.getUniqueID():"",fan_funding_promotion_metadata:{is_promotional_post:(s==null?void 0:s.hasSupportNowCTA)?!0:"",page_id:d.contextConfig.targetID,payload:s==null?void 0:s.fanFundingPromotionPayload},is_explicitly_tagged_as_gaming_video:o,is_stars_enabled_for_post:t,icon_id:q.icon_id,multilingual_specified_lang:r.multilingual_specified_lang,multilingual_status_langs:r.multilingual_status_langs,multilingual_statuses:r.multilingual_statuses,object_id:q.object_id,object_str:q.object_str,share_to_parent_page_option_selected:e,sponsor_relationship:q.sponsor_relationship,targeted_privacy_data:q.targeted_privacy_data||void 0,branded_content_data:q.branded_content_data||void 0,xhpc_message:c,playlistIDs:k})};d.getCrosspostRequestDataToSend=function(){var a=this.getState(),c=a.composerConfig,d=a.contentTags;a=a.descriptionEditorState;c=(c=c)!=null?(c=c.contextConfig)!=null?c.composerID:c:c;if(!c)return b("Promise").reject();var e={};a=b("getMentionsTextForContentState")(a.getCurrentContent());e.description=a;e.content_tags=b("VideoComposerDialogBasicUtils").getContentTagEntryIDs(d);e.free_form_tags=b("VideoComposerDialogBasicUtils").getFreeFormContentTags(d);a=b("ReactComposerTaggerStore").getTaggerData(c,b("ReactComposerTaggerType").PEOPLE)||[];e.tags=a.map(function(a){return a.getUniqueID()});d=b("ReactComposerTaggerStore").getTaggerData(c,b("ReactComposerTaggerType").LOCATION);d&&d.place&&d.place.getUniqueID&&d.place.getUniqueID()&&(e.place=d.place.getUniqueID());a=b("ReactComposerTaggerStore").getTaggerData(c,b("ReactComposerTaggerType").ACTIVITY);if(a&&a.action&&a.object){d=a.object;e.og_action_type_id=a.action.getUniqueID();a=d.getAuxiliaryData();a&&a.original_id?e.og_object_id=d.getUniqueID():e.og_phrase=d.getTitle()}a=b("ReactComposerTaggerStore").getTaggerData(c,b("ReactComposerTaggerType").TARGETING);d=null;var f=null;a&&(d=a.targeting,f=a.gating,a.woodhengeInfo!==null&&(f||(f={}),f.woodhenge_info=a.woodhengeInfo));a=b("ComposerVideoPostUtils").convertBaseTargeting(d);b("ComposerVideoPostUtils").convertExcludedLocations(f);delete a.zipcodes;e.pages_feed_targeting=a;e.pages_targeting=f;d=b("ReactComposerTaggerStore").getTaggerData(c,b("ReactComposerTaggerType").SPONSOR);if(d){a=(d.sponsors||[]).map(function(a){return a.getUniqueID()});a.length>0&&(e.sponsor_id=a[0],e.direct_share_status=d.directShareStatus,e.sponsor_relationship=d.sponsorRelationship)}f=b("ReactComposerTaggerStore").getTaggerData(c,b("ReactComposerTaggerType").FUNDRAISER);d=(a=f)!=null?a.charityID:a;d&&(e.fundraiser_for_story_charity_id=d);f=b("PagesComposerBoostedPostsStore").getConfig(c);f!==null&&(e.boosted_post=f);e.multilingual_data=b("ReactComposerMultilingualStatusStore").getCrosspostData(c);e.specified_dialect=b("ReactComposerMultilingualStatusStore").getSpecifiedPostLanguage(c);return b("Promise").resolve(b("flattenPHPQueryData")(e))};d.getEditRequestDataToSend=function(){var a=this.getPostRequestDataToSend(),c=this.getState(),d=c.composerConfig,e=c.deal,f=c.fundedContentProgram,g=c.selectedGame,h=c.isExplicitlyTaggedAsGamingVideo;d=(c=d)!=null?(c=c.contextConfig)!=null?c.composerID:c:c;if(!d)return b("Promise").reject();var i=b("VideoComposerDialogBasicUtils").getComposerTaggerData(d);return a.then(function(a){a={deal_id:e==null?void 0:e.deal_id,description:a.xhpc_message,content_tags:a.content_tags,episode_data:a.episode_data_json,free_form_tags:a.free_form_tags,funded_content_program:f,game_id:g?g.getUniqueID():"",is_explicitly_tagged_as_gaming_video:h,multilingual_specified_lang:a.multilingual_specified_lang,multilingual_status_langs:a.multilingual_status_langs,multilingual_statuses:a.multilingual_statuses,playlist_ids:a.playlistIDs};Object.assign(a,i);return b("Promise").resolve(b("flattenPHPQueryData")(a))})};return c}(b("VideoComposerStoreBase"));e.exports=c}),null);
__d("VideoComposerDialogStoreClass",["DOM","ImmutableRecordWithV4Types","React","ReactDOM","VideoComposerActionTypes","VideoComposerDialogContainer.react","VideoComposerStoreBase"],(function(a,b,c,d,e,f){"use strict";a=b("ImmutableRecordWithV4Types").Record;var g=b("React");c={videoComposerID:"",dialogMounted:!1};var h=b("DOM").create("div"),i=a(c);d=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return i()};d.reduceImpl=function(a,c){switch(c.type){case b("VideoComposerActionTypes").MOUNT_COMPOSER_DIALOG:a.dialogMounted||(b("ReactDOM").render(g.jsx(b("VideoComposerDialogContainer.react"),{videoComposerID:a.videoComposerID}),h),a=a.set("dialogMounted",!0));return a;case b("VideoComposerActionTypes").EXIT_DIALOG:case b("VideoComposerActionTypes").CLOSE_PUBLISH_CONFIRM_DIALOG:case b("VideoComposerActionTypes").SAVE_EDITED_VIDEO_SUCCESS:case b("VideoComposerActionTypes").MINIMIZE_DIALOG:b("ReactDOM").unmountComponentAtNode(h);return a.set("dialogMounted",!1);default:return a}};return c}(b("VideoComposerStoreBase"));e.exports=d}),null);
__d("VideoCommentatingPermission",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({UNSET:"unset",ALLOW:"allow",DISALLOW:"disallow"})}),null);
__d("XVideoComposerFetchCrosspostPagesController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/crosspost_pages/",{page_id:{type:"FBID",required:!0}})}),null);
__d("XVideoComposerMatureContentRatingAppealFormController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/mature_content_rating/appeals_form/",{page_id:{type:"FBID"},video_id:{type:"FBID"},original_mature_content_rating:{type:"Enum",enumType:0},expected_mature_content_rating:{type:"Enum",enumType:0},additional_info:{type:"String"}})}),null);
__d("VideoComposerDistributionStoreClass",["Promise","ActorURI","AsyncRequest","ImmutableRecordWithV4Types","ReactComposerAudienceStore","SimpleNUXMessage","SimpleNUXMessageTypes","VideoCommentatingPermission","VideoComposerActions","VideoComposerActionTypes","VideoComposerDialogDistributionUtils","VideoComposerDispatchers","VideoComposerDistributionActions","VideoComposerMatureContentRatingUtils","VideoComposerPostType","VideoComposerPublishingTypes","VideoComposerStoreBase","VideoComposerStores","VideoComposerUtils","VideoEditPublishingAction","XVideoComposerFetchCrosspostPagesController","XVideoComposerMatureContentRatingAppealFormController","flattenPHPQueryData","immutable","keyMirror","setImmediate","setTimeout"],(function(a,b,c,d,e,f){"use strict";a=b("ImmutableRecordWithV4Types").Record;var g=b("VideoComposerMatureContentRatingUtils").MATURE_CONTENT_APPEAL_FORM_STATUS,h=b("VideoComposerPostType").VideoComposerPostTypes,i=b("VideoComposerPublishingTypes").PublishingType,j=b("keyMirror")(b("VideoCommentatingPermission")),k=a({videoComposerID:"",addToPagesStory:!1,displayInWatch:!0,showInNewsFeed:!0,shouldShowIsMonetizable:!1,allowEmbedding:!0,disableEmbeddingOption:!1,allMonetizableSelected:!1,addAsSecretVideo:!1,charityData:null,disableAddAsSecretVideo:!1,disableShowInNewsFeed:!1,disableShowInWatchForSecretVideo:!1,crosspostPages:null,enableCrosspostRefresh:!1,allowGraphicWarningOption:!1,showDisplayInWatchOptionIsToggleEnabled:!1,showGraphicWarning:!1,showFundraiser:!1,showNewTag:!1,showStoriesIntegration:!1,blockSocial:!1,commentatingPermission:"allow",showCommentatingPermissionToggle:!0,canShowMatureContentRating:!1,matureContentAppealFormStatus:g.NOT_INITIATED,allowSettingMatureContentRating:!1,matureContentRating:0,originalMatureContentRating:0,showMatureContentAppealFormEditor:!1,allowSettingDrm:!1,enableDrm:!1,originalCrosspostPages:b("immutable").Map(),reducedCrosspostingPayloadEligible:!1,showMultipostUpsellNux:!1,showID:null,seasonID:null,isShowDraft:!1,isSeasonDraft:!1,isSeriesDogfooded:!1,isSeasonDogfooded:!1,isShowTrailer:!1,seriesOptionsMap:b("immutable").Map(),seriesToSeasonOptionsMap:b("immutable").Map()});c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return k()};d.reduceImpl=function(a,c){var d;switch(c.type){case b("VideoComposerActionTypes").INITIALIZE_UPLOAD_COMPOSER:a=a.set("reducedCrosspostingPayloadEligible",c.serverParams.common.reducedCrosspostingPayloadEligible);c.clientParams.entryPointRef==="cs_content_show_trailer_upload"&&(a=a.set("isShowTrailer",!0));a=a.set("isShowDraft",(d=c.clientParams.isShowDraft)!=null?d:!1);a=a.set("isSeasonDraft",(d=c.clientParams.isSeasonDraft)!=null?d:!1);a=a.set("isSeriesDogfooded",(d=c.clientParams.isSeriesDogfooded)!=null?d:!1);a=a.set("isSeasonDogfooded",(d=c.clientParams.isSeasonDogfooded)!=null?d:!1);return a;case b("VideoComposerActionTypes").INITIALIZE_EDIT_COMPOSER:return a.set("reducedCrosspostingPayloadEligible",c.editParams.common.reducedCrosspostingPayloadEligible);case b("VideoComposerActionTypes").BOOTLOAD_DISTRIBUTION_TAB:return this.$VideoComposerDistributionStoreClass1(a).set("allowGraphicWarningOption",c.data.allowGraphicWarningOption).set("disableEmbeddingOption",c.data.disableEmbeddingOption).set("allowEmbedding",!c.data.disableEmbeddingOption).set("showDisplayInWatchOptionIsToggleEnabled",c.data.showDisplayInWatchOptionIsToggleEnabled).set("showFundraiser",c.data.showFundraiser).set("canShowMatureContentRating",c.data.showMatureContentRating).set("allowSettingMatureContentRating",c.data.allowSettingMatureContentRating).set("showCommentatingPermissionToggle",c.data.showCommentatingPermissionToggle).set("showStoriesIntegration",c.data.showStoriesIntegration).set("allowSettingDrm",c.data.allowSettingDrm).set("showNewTag",this.$VideoComposerDistributionStoreClass2()).set("showMultipostUpsellNux",c.data.showMultipostUpsellNux).set("seriesOptionsMap",b("immutable").Map(c.data.seriesOptionsMap)).set("seriesToSeasonOptionsMap",b("immutable").Map(c.data.seriesToSeasonOptionsMap));case b("VideoComposerActionTypes").BOOTLOAD_DISTRIBUTION_TAB_FOR_EDIT:a=this.$VideoComposerDistributionStoreClass3(c.data.crosspostPages,a);a=a.set("allowEmbedding",c.data.allowEmbedding).set("disableEmbeddingOption",c.data.disableEmbeddingOption).set("canShowMatureContentRating",c.data.showMatureContentRating).set("allowSettingMatureContentRating",c.data.allowSettingMatureContentRating).set("matureContentRating",c.data.matureContentRating).set("originalMatureContentRating",c.data.matureContentRating).set("commentatingPermission",c.data.commentatingPermission).set("showCommentatingPermissionToggle",c.data.showCommentatingPermissionToggle).set("crosspostPages",c.data.crosspostPages).set("showNewTag",this.$VideoComposerDistributionStoreClass2()).set("seriesOptionsMap",b("immutable").Map(c.data.seriesOptionsMap)).set("seriesToSeasonOptionsMap",b("immutable").Map(c.data.seriesToSeasonOptionsMap));if(c.data.showsV2EpisodeData!=null){var e=c.data.showsV2EpisodeData;b("setImmediate")(function(){return b("VideoComposerDistributionActions").updateShowAndSeasonID(a.videoComposerID,String(e.show_id),e.season_id!=null?String(e.season_id):null)});a=a.set("isShowTrailer",(d=e.is_show_trailer)!=null?d:!1)}return a;case b("VideoComposerActionTypes").BOOTLOAD_DISTRIBUTION_TAB_FOR_CROSSPOST:return a.set("showCommentatingPermissionToggle",c.data.showCommentatingPermissionToggle);case b("VideoComposerActionTypes").TOGGLE_ADD_TO_PAGES_STORY:return a.set("addToPagesStory",!a.get("addToPagesStory"));case b("VideoComposerActionTypes").TOGGLE_DISPLAY_IN_WATCH_OPTION:return a.set("displayInWatch",!a.get("displayInWatch"));case b("VideoComposerActionTypes").TOGGLE_NEWS_FEED:return a.set("showInNewsFeed",!a.get("showInNewsFeed"));case b("VideoComposerActionTypes").TOGGLE_EMBEDDING:return a.set("allowEmbedding",!a.get("allowEmbedding"));case b("VideoComposerActionTypes").TOGGLE_SECRET_VIDEO:d=!a.get("addAsSecretVideo");a=a.set("addAsSecretVideo",d);d?(a=a.set("displayInWatch",!1).set("showInNewsFeed",!1),a=this.$VideoComposerDistributionStoreClass4(a),a=a.set("blockSocial",!0)):(a=this.$VideoComposerDistributionStoreClass4(a),a=a.set("blockSocial",!1));return a;case b("VideoComposerActionTypes").SET_PUBLISHING_TYPE:c.publishingType===i.PREMIERE?(a=a.set("showInNewsFeed",!0),a=a.set("addAsSecretVideo",!1),a=a.set("blockSocial",!1)):(c.publishingType===i.PUBLISH_FOR_DOGFOODING||c.publishingType===i.DOGFOOD_WITH_SERIES_OR_SEASON)&&(a=a.set("showInNewsFeed",!1),a=a.set("addAsSecretVideo",!1));a=this.$VideoComposerDistributionStoreClass4(a);return a;case b("VideoComposerActionTypes").SET_POST_TYPE:(c.postType===h.PREMIERE||c.postType===h.VIDEO_UPLOAD_WATCH_PARTY)&&(a=a.set("showInNewsFeed",!0),a=a.set("addAsSecretVideo",!1),a=a.set("blockSocial",!1));a=this.$VideoComposerDistributionStoreClass4(a);return a;case b("VideoComposerActionTypes").SELECT_TAB:d=b("VideoComposerStores").getMetadataStore(a.videoComposerID).getState();d=d.dialogMode;if(c.tab==="distribution"&&d==="video_upload"&&!Array.isArray(a.crosspostPages)){d=b("VideoComposerStores").getMetadataStore(a.videoComposerID).getState();d.targetID&&this.$VideoComposerDistributionStoreClass5(d.targetID)}return a;case b("VideoComposerActionTypes").OPEN_PUBLISH_DRAWER:if(!Array.isArray(a.crosspostPages)){d=b("VideoComposerStores").getMetadataStore(a.videoComposerID).getState();d.targetID&&this.$VideoComposerDistributionStoreClass5(d.targetID)}return a;case b("VideoComposerActionTypes").CROSSPOST_PAGES_FETCHED:a=a.set("shouldShowIsMonetizable",c.shouldShowIsMonetizable);a=this.$VideoComposerDistributionStoreClass3(c.pages,a);return a.set("crosspostPages",c.pages);case b("VideoComposerActionTypes").CROSSPOST_LINK_CLICKED:return a.set("enableCrosspostRefresh",!0);case b("VideoComposerActionTypes").REFRESH_CROSSPOST_PAGES:d=b("VideoComposerStores").getMetadataStore(a.videoComposerID).getState();d.targetID&&(this.$VideoComposerDistributionStoreClass5(d.targetID),a=a.set("crosspostPages",null),a=a.set("originalCrosspostPages",b("immutable").Map()));return a;case b("VideoComposerActionTypes").TOGGLE_CROSSPOST_PAGE:var f=c.pageType==="monetizable_pages",j=a.get("allMonetizableSelected"),k=c.pageID;d=a.get("crosspostPages");d&&(a=a.set("crosspostPages",d.map(function(a){a.id===k&&(a.allow=!a.allow);f&&a.is_monetizable&&(a.allow=!j);return a})));f&&(a=a.set("allMonetizableSelected",!j));return a;case b("VideoComposerActionTypes").TOGGLE_GRAPHIC_WARNING:return a.set("showGraphicWarning",!a.get("showGraphicWarning"));case b("VideoComposerActionTypes").TOGGLE_BLOCK_SOCIAL:return a.set("blockSocial",!a.get("blockSocial"));case b("VideoComposerActionTypes").TOGGLE_COMMENTATING_PERMISSION:return this.$VideoComposerDistributionStoreClass6(a);case b("VideoComposerActionTypes").UPDATE_CHARITY_DATA:return a.set("charityData",c.charityData);case b("VideoComposerActionTypes").UPDATE_MATURE_CONTENT_RATING:return a.set("matureContentRating",c.rating);case b("VideoComposerActionTypes").SHOW_MATURE_CONTENT_APPEAL_FORM:return a.set("showMatureContentAppealFormEditor",!0);case b("VideoComposerActionTypes").HIDE_MATURE_CONTENT_APPEAL_FORM:return a.set("showMatureContentAppealFormEditor",!1);case b("VideoComposerActionTypes").SUBMIT_MATURE_CONTENT_APPEAL_FORM:return this.$VideoComposerDistributionStoreClass7(a,c);case b("VideoComposerActionTypes").SUBMIT_MATURE_CONTENT_APPEAL_FORM_SUCCESS:return a.set("matureContentAppealFormStatus",g.SUBMITTED);case b("VideoComposerActionTypes").RESET_COMPOSER:return this.getInitialState();case b("VideoComposerActionTypes").TOGGLE_DRM:return a.set("enableDrm",!a.get("enableDrm"));case b("VideoComposerActionTypes").UPDATE_SHOW_AND_SEASON_ID:a=a.set("showID",c.showID).set("seasonID",c.seasonID);d=b("VideoComposerStores").getMetadataStore(a.videoComposerID).getState();d=d.composerEntryPointRef;if(b("VideoComposerUtils").isFromCreatorStudioShowsPanel(d))return a;d=this.$VideoComposerDistributionStoreClass8(c.showID);c=this.$VideoComposerDistributionStoreClass9(c.showID,c.seasonID);a=a.set("isShowDraft",d).set("isSeasonDraft",c);var l=b("VideoComposerStores").getPublishingStore(a.videoComposerID).getState();l=l.publishingType;d=d||c;d?l===i.PUBLISH_NOW&&b("setTimeout")(function(){return b("VideoComposerActions").setPublishingType(a.videoComposerID,i.PUBLISH_WITH_SHOW_OR_SEASON)}):l===i.PUBLISH_WITH_SHOW_OR_SEASON&&b("setTimeout")(function(){return b("VideoComposerActions").setPublishingType(a.videoComposerID,i.PUBLISH_NOW)});return a;default:return a}};d.$VideoComposerDistributionStoreClass8=function(a){var b=this.getState();return a!=null?b.seriesOptionsMap.get(a)!=null&&b.seriesOptionsMap.get(a).publishing_status===2:!1};d.$VideoComposerDistributionStoreClass9=function(a,b){var c=this.getState();if(a!=null){c=c.seriesToSeasonOptionsMap.get(a);if(c&&b!=null)return c.get(b).publishing_status===2}return!1};d.$VideoComposerDistributionStoreClass3=function(a,c){var d=b("immutable").Map();a.forEach(function(a){return d=d.set(a.id,a.allow)});return c.set("originalCrosspostPages",d)};d.$VideoComposerDistributionStoreClass6=function(a){return a.get("commentatingPermission")==="disallow"?a.set("commentatingPermission","allow"):a.set("commentatingPermission","disallow")};d.$VideoComposerDistributionStoreClass7=function(a,c){if(c.type!==b("VideoComposerActionTypes").SUBMIT_MATURE_CONTENT_APPEAL_FORM)return a;b("XVideoComposerMatureContentRatingAppealFormController").getURIBuilder().setFBID("page_id",c.pageID).setFBID("video_id",c.videoID).setEnum("original_mature_content_rating",c.originalMatureContentRating).setEnum("expected_mature_content_rating",c.expectedMatureContentRating).setString("additional_info",c.additionalInfo).getRequest_LEGACY_UNTYPED(new(b("AsyncRequest"))().setMethod("POST")).setPayloadHandler(function(c){return b("VideoComposerDistributionActions").submitMatureContentAppealFormSuccess(a.videoComposerID)}).send();return a.set("matureContentAppealFormStatus",g.IN_PROGRESS)};d.$VideoComposerDistributionStoreClass4=function(a){b("VideoComposerDispatchers").get(a.videoComposerID).waitFor([b("VideoComposerStores").getPublishingStore(a.videoComposerID).getDispatchToken()]);var c=b("VideoComposerStores").getPublishingStore(a.videoComposerID).getState();c=c.isComposerPostScheduleRedesign;return c?this.$VideoComposerDistributionStoreClass10(a):this.$VideoComposerDistributionStoreClass11(a)};d.$VideoComposerDistributionStoreClass11=function(a){var c;b("VideoComposerDispatchers").get(a.videoComposerID).waitFor([(c=b("VideoComposerStores")).getPublishingStore(a.videoComposerID).getDispatchToken()]);var d=c.getPublishingStore(a.videoComposerID).getState();d=d.publishingType;b("VideoComposerDispatchers").get(a.videoComposerID).waitFor([c.getPremiereStore(a.videoComposerID).getDispatchToken()]);c=c.getPremiereStore(a.videoComposerID).getState();c=c.shouldPremiere;a=a.set("disableShowInWatchForSecretVideo",a.get("addAsSecretVideo"));if(d===i.PREMIERE||d===i.PUBLISH_FOR_DOGFOODING||d===i.PUBLISH_WITH_SHOW_OR_SEASON||d===i.DOGFOOD_WITH_SERIES_OR_SEASON||c)return a.set("disableShowInNewsFeed",!0).set("disableAddAsSecretVideo",!0);return a.get("addAsSecretVideo")===!0?a.set("disableShowInNewsFeed",!0).set("disableAddAsSecretVideo",!1):a.set("disableShowInNewsFeed",!1).set("disableAddAsSecretVideo",!1)};d.$VideoComposerDistributionStoreClass10=function(a){var c;b("VideoComposerDispatchers").get(a.videoComposerID).waitFor([(c=b("VideoComposerStores")).getPublishingStore(a.videoComposerID).getDispatchToken()]);var d=c.getPublishingStore(a.videoComposerID).getState();d=d.postType;b("VideoComposerDispatchers").get(a.videoComposerID).waitFor([c.getPremiereStore(a.videoComposerID).getDispatchToken()]);c=c.getPremiereStore(a.videoComposerID).getState();c=c.shouldPremiere;var e=a.get("addAsSecretVideo");a=a.set("disableShowInWatchForSecretVideo",e);d=d===h.PREMIERE||d===h.VIDEO_UPLOAD_WATCH_PARTY||c;a=a.set("disableShowInNewsFeed",d||e);a=a.set("disableAddAsSecretVideo",d);return a};d.$VideoComposerDistributionStoreClass1=function(a){var c=b("VideoComposerStores").getBasicStore(a.videoComposerID).getState();c=c.fromComposerID;var d=!1;c&&(d=b("ReactComposerAudienceStore").getStoriesSelected(c));return a.set("addToPagesStory",d)};d.$VideoComposerDistributionStoreClass2=function(){return!b("SimpleNUXMessage").hasUserSeenMessage(b("SimpleNUXMessageTypes").VIDEO_COMPOSER_MATURE_CONTENT_RATING)};d.$VideoComposerDistributionStoreClass5=function(a){var c=this,d=b("XVideoComposerFetchCrosspostPagesController").getURIBuilder().setFBID("page_id",a).getURI();d=b("ActorURI").create(d,a);new(b("AsyncRequest"))().setURI(d).setHandler(function(a){a=a.getPayload();b("VideoComposerDistributionActions").crosspostPagesFetched(c.getState().videoComposerID,a.crosspostPages,a.shouldShowIsMonetizable)}).send()};d.$VideoComposerDistributionStoreClass12=function(){var a=this.getState(),c=b("VideoComposerStores").getPremiereStore(a.videoComposerID).getState();c=c.shouldPremiereWithShowOrSeason;var d=b("VideoComposerStores").getPublishingStore(a.videoComposerID).getState();d=d.publishingType;return{show_id:a.showID,season_id:a.seasonID,publish_with_video_list:d===i.PUBLISH_WITH_SHOW_OR_SEASON||d===i.DOGFOOD_WITH_SERIES_OR_SEASON,should_premiere:c,is_show_trailer:a.isShowTrailer}};d.$VideoComposerDistributionStoreClass13=function(){var a=this.getState(),c=b("VideoComposerStores").getPremiereStore(a.videoComposerID).getState();c=c.shouldPremiereWithShowOrSeason;var d=b("VideoComposerStores").getEditStore(a.videoComposerID).getState();return{show_id:a.showID,season_id:a.seasonID,publish_with_video_list:d.selectedPublishingAction===b("VideoEditPublishingAction").PUBLISH_WITH_SERIES.value||d.selectedPublishingAction===b("VideoEditPublishingAction").PUBLISH_WITH_SEASON.value,should_premiere:c,is_show_trailer:a.isShowTrailer}};d.getCrosspostRequestDataToSend=function(){var a=this.getState();a={no_story:!a.showInNewsFeed,embeddable:a.allowEmbedding,secret:a.addAsSecretVideo,social_actions:!a.blockSocial};this.getShowCommentatingPermissionToggle()&&(a.commentating_permission=this.$VideoComposerDistributionStoreClass14());return b("Promise").resolve(b("flattenPHPQueryData")(a))};d.getEditRequestDataToSend=function(){var a=this.getState(),c=b("VideoComposerStores").getMetadataStore(a.videoComposerID).getState();c=c.isEditModeUpgrade;var d=this.filterCrossposted(a.crosspostPages);d={embeddable:a.allowEmbedding,has_embeddable:!0,crossposting_config:d,shows_v2_episode_data:JSON.stringify(c?this.$VideoComposerDistributionStoreClass12():this.$VideoComposerDistributionStoreClass13())};this.getShowMatureContentRating()&&a.allowSettingMatureContentRating&&(d.mature_content_rating=a.matureContentRating);this.getShowCommentatingPermissionToggle()&&(d.commentating_permission=a.commentatingPermission);return b("Promise").resolve(b("flattenPHPQueryData")(d))};d.getPostRequestDataToSend=function(){var a=this.getState(),c=this.filterCrossposted(a.crosspostPages),d=this.getShowMatureContentRating()&&a.allowSettingMatureContentRating?a.matureContentRating:null,e=this.getShowCommentatingPermissionToggle()?a.commentatingPermission:null,f=!a.showInNewsFeed||b("VideoComposerStores").getPublishingStore(a.videoComposerID).getState().publishingType===i.PUBLISH_WITH_SHOW_OR_SEASON;return b("Promise").resolve({exclude_from_watch:!a.displayInWatch,no_story:f,embeddable:a.allowEmbedding,secret:a.addAsSecretVideo,crossposting_config:c||[],disturbing:a.showGraphicWarning,social_actions:!a.blockSocial,mature_content_rating:d,enable_drm:a.enableDrm,commentating_permission:e,shows_v2_episode_data:JSON.stringify(this.$VideoComposerDistributionStoreClass12())})};d.getIsAllMonetizableClicked=function(){var a=this.getState();a=a.crosspostPages;if(a&&a.length>0){a=a.find(function(a){return a.allow&&a.type==="monetizable_pages"});return!!a}return!1};d.getCrosspostPages=function(){var a=this.getState();a=a.crosspostPages;return this.filterCrossposted(a)};d.filterCrossposted=function(a){if(!a)return null;var b=this.getState();b=b.reducedCrosspostingPayloadEligible;if(!b)return a.filter(function(a){return a.type!=="monetizable_pages"});var c=this.getState().originalCrosspostPages;return a.filter(function(a){return a.type!=="monetizable_pages"&&a.allow!==c.get(a.id)})};d.getShowCommentatingPermissionToggle=function(){var a=this.getState();a=a.showCommentatingPermissionToggle;return a};d.getShowMatureContentRating=function(){var a=this.getState(),c=a.canShowMatureContentRating,d=a.originalMatureContentRating;a=a.videoComposerID;a=b("VideoComposerStores").getMetadataStore(a).getState();var e=a.dialogMode;a=a.showVideoType;var f=!1;e==="video_edit"&&(f=d!==0);return c&&(a==="episode"||f)};d.getShowMatureContentAppealForm=function(){var a=this.getShowMatureContentRating(),b=this.getState(),c=b.allowSettingMatureContentRating;b=b.originalMatureContentRating;return b===0||b===1?!1:a===!0&&c===!1};d.shouldAddToPagesStory=function(){var a=this.getState();a=a.videoComposerID;var c=b("VideoComposerStores").getBasicStore(a).getState();c=c.composerConfig;var d=b("VideoComposerStores").getMetadataStore(a).getState(),e=d.pagesComposerContextConfig;d=d.videoDuration;a=b("VideoComposerStores").getPublishingStore(a).getState();a=a.publishingType;return this.getState().addToPagesStory&&b("VideoComposerDialogDistributionUtils").enableAddToStoriesOption(c,e,d||0,a)};d.$VideoComposerDistributionStoreClass14=function(){var a=this.getState();a=a.commentatingPermission;switch(a){case"allow":return j.ALLOW;case"disallow":return j.DISALLOW;default:return j.UNSET}};return c}(b("VideoComposerStoreBase"));e.exports=c}),null);
__d("VideoComposerEditStoreClass",["ImmutableRecordWithV4Types","VideoComposerActionTypes","VideoComposerDialogEditUtils","VideoComposerStoreBase","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";a=b("ImmutableRecordWithV4Types").Record;var g=a({videoComposerID:"",canMakeFeatured:!1,creationTime:0,downloadGeneratedThumbnailsUrl:null,downloadHDUrl:null,downloadSDUrl:null,editTabsLoaded:!1,embedURL:"",isFeaturedVideo:!1,isSaving:!1,isSavePending:!1,isTitleEmptyInitially:!1,publishingConfig:null,selectedPublishingAction:"",editSource:null,storyDomID:null,timelineIdentifier:null});c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return g()};d.reduceImpl=function(a,c){switch(c.type){case b("VideoComposerActionTypes").INITIALIZE_EDIT_COMPOSER:a=a.set("canMakeFeatured",c.editParams.canMakeFeatured);a=a.set("creationTime",c.editParams.creationTime);a=a.set("downloadGeneratedThumbnailsUrl",c.editParams.downloadGeneratedThumbnailsUrl);a=a.set("downloadHDUrl",c.editParams.downloadHDUrl);a=a.set("downloadSDUrl",c.editParams.downloadSDUrl);a=a.set("editSource",c.editParams.editSource);a=a.set("embedURL",c.editParams.embedURL);a=a.set("isFeaturedVideo",c.editParams.isFeaturedVideo);a=a.set("isTitleEmptyInitially",c.editParams.title==="");a=a.set("publishingConfig",c.editParams.publishingConfig);a=a.set("selectedPublishingAction",c.editParams.publishingConfig.selectedValue);a=a.set("storyDomID",c.editParams.storyDomID);a=a.set("timelineIdentifier",c.editParams.timelineIdentifier);return a;case b("VideoComposerActionTypes").EDIT_TABS_LOADED:var d=b("VideoComposerStores").getMetadataStore(a.videoComposerID).getState().eventCallbacks;d&&d.onAllTabsBootloaded&&d.onAllTabsBootloaded();a=a.set("editTabsLoaded",!0);return a;case b("VideoComposerActionTypes").UPDATE_IS_FEATURED_VIDEO:a=a.set("isFeaturedVideo",!0);return a;case b("VideoComposerActionTypes").UPLOAD_FAILED:a.isSavePending&&(a=a.set("isSavePending",!1));return a;case b("VideoComposerActionTypes").UPLOAD_FINISHED:a.isSavePending&&(a=a.set("isSavePending",!1),a=a.set("isSaving",!0),this.$VideoComposerEditStoreClass1());return a;case b("VideoComposerActionTypes").SAVE_EDITED_VIDEO:d=b("VideoComposerStores").getUploadStore(a.videoComposerID).getState();var e=d.videoUploader;d=d.uploadFinished;if(e&&!d)return a.set("isSavePending",!0);a=a.set("isSaving",!0);this.$VideoComposerEditStoreClass1();return a;case b("VideoComposerActionTypes").SAVE_EDITED_VIDEO_SUCCESS:e=b("VideoComposerStores").getMetadataStore(a.videoComposerID).getState();d=b("VideoComposerStores").getAdBreakStore(a.videoComposerID).getState();d=!d.adBreaksDisabled&&(d.isAdBreakAutoInsertionEnabled||d.insertedAdBreaks.count()>0);b("VideoComposerDialogEditUtils").onSuccessfulSave(a.videoComposerID,e.actorID||"",e.videoID||"",e.videoAssetID||"",e.isOriginalVideo,d,a.timelineIdentifier,a.storyDomID,a.editSource);e.eventCallbacks&&e.eventCallbacks.onSaveEditSuccess&&e.eventCallbacks.onSaveEditSuccess();return a;case b("VideoComposerActionTypes").SAVE_EDITED_VIDEO_FAILURE:d=b("VideoComposerStores").getMetadataStore(a.videoComposerID).getState();d.eventCallbacks&&d.eventCallbacks.onSaveEditFailure&&d.eventCallbacks.onSaveEditFailure(c.errorMessage);a=a.set("isSaving",!1);return a;case b("VideoComposerActionTypes").SELECT_EDITING_PUBLISH_ACTION:a=a.set("selectedPublishingAction",c.publishAction);return a;case b("VideoComposerActionTypes").RESET_COMPOSER:a=this.getInitialState();return a;default:return a}};d.$VideoComposerEditStoreClass1=function(){var a=this.getState();a=a.videoComposerID;var c=b("VideoComposerStores").getMetadataStore(a).getState(),d=c.actorID,e=c.enabledTabs,f=c.videoID;c=c.composerEntryPointRef;d&&f&&b("VideoComposerDialogEditUtils").onSave(a,d,f,e,c)};return c}(b("VideoComposerStoreBase"));e.exports=c}),null);
__d("VideoComposerLoggingStoreClass",["FunnelLogger","ImmutableRecordWithV4Types","PremiereLivingRoomTypedLogger","PremiereVideoTypedLogger","ShowsVideoDataTypedLogger","SphericalDirectorFunnelConstants","SphericalDirectorFunnelUtils","VideoAssetWaterfallTypedLogger","VideoComposerActionTypes","VideoComposerAdBreakEnabledCrosspostingTypedLogger","VideoComposerDialogSphericalDirectorUtils","VideoComposerDialogUITypedLogger","VideoComposerDispatchers","VideoComposerPostType","VideoComposerPublishingTypes","VideoComposerStoreBase","VideoComposerStores","VideoEditTypedLogger","VideoUploadLogger","gkx","uuid","videoComposerGetPremiereDisabledReason"],(function(a,b,c,d,e,f){"use strict";a=b("ImmutableRecordWithV4Types").Record;var g=b("VideoComposerPostType").VideoComposerPostTypes,h=b("VideoComposerPublishingTypes").PublishingType;c={videoComposerID:"",actorID:null,composerEntryPointRef:null,dialogMode:null,hasBeenReset:!1,hasPlayedPreview:!1,hasUploadFinished:!1,isVideoTrimmed:!1,loggedOptOutOfPremiereDefault:!1,postAttemptCount:0,selectedTab:"basic",sessionID:"",uploadAttemptCount:0,videoAssetID:null,videoAssetWaterfallSource:null,videoID:null,webFramework:"BLUE"};var i=a(c);d=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return i()};d.reduceImpl=function(a,c){switch(c.type){case b("VideoComposerActionTypes").LOG_EVENT:this.logEventGeneric(a,c.event);return a;case b("VideoComposerActionTypes").INITIALIZE_UPLOAD_COMPOSER:a=a.set("actorID",c.serverParams.common.actorID);a=a.set("sessionID",b("uuid")());a=a.set("dialogMode","video_upload");var d=c.clientParams.webFramework;d!=null&&(a=a.set("webFramework",d));this.logEventGeneric(a,"dialog_opened");this.$VideoComposerLoggingStoreClass1(a);return a;case b("VideoComposerActionTypes").INITIALIZE_CROSSPOST_COMPOSER:a=a.set("actorID",c.params.common.actorID);a=a.set("dialogMode","video_crosspost");a=a.set("sessionID",b("uuid")());a=a.set("videoAssetID",c.params.videoAssetID);a=a.set("videoAssetWaterfallSource",c.params.videoAssetWaterfallSource);this.logEventGeneric(a,"dialog_opened");this.logVideoAssetWaterfallEvent(a,"ui.new_post_from_asset_start");return a;case b("VideoComposerActionTypes").INITIALIZE_EDIT_COMPOSER:a=a.set("actorID",c.editParams.common.actorID);a=a.set("dialogMode","video_edit");a=a.set("sessionID",b("uuid")());a=a.set("videoID",c.editParams.videoID);this.logEventGeneric(a,"dialog_opened");this.logEditWaterfallEvent(a,"js_loaded");return a;case b("VideoComposerActionTypes").SELECT_TAB:this.logTabSwitchEvent(a,c.tab);a=a.set("selectedTab",c.tab);return a;case b("VideoComposerActionTypes").METADATA_LOADED_FROM_VIDEO_UPLOADER:c.data?this.logEventGeneric(a,"metadata_load_success"):this.logEventGeneric(a,"metadata_load_failed");return a;case b("VideoComposerActionTypes").PAGE_STORY_CREATION_ATTEMPT:this.logEventGeneric(a,"page_story_creation_attempt");return a;case b("VideoComposerActionTypes").PAGE_STORY_CREATION_FAILURE:this.logEventGeneric(a,"page_story_creation_failure",c.error||"");return a;case b("VideoComposerActionTypes").PAGE_STORY_CREATION_SUCCESS:this.logEventGeneric(a,"page_story_creation_success");return a;case b("VideoComposerActionTypes").TAB_BOOTLOAD_ERROR:this.logTabErrorEvent(a,c.tab,c.error);return a;case b("VideoComposerActionTypes").EDIT_TABS_LOADED:this.logEventGeneric(a,"edit_tabs_loaded");return a;case b("VideoComposerActionTypes").UPLOAD_FAILED:this.logEventGeneric(a,"upload_failure",c.errorData.error_description);return a;case b("VideoComposerActionTypes").UPLOAD_FINISHED:b("VideoComposerDispatchers").get(a.videoComposerID).waitFor([b("VideoComposerStores").getMetadataStore(a.videoComposerID).getDispatchToken()]);d=b("VideoComposerStores").getMetadataStore(a.videoComposerID).getState();d=d.videoID;a=a.set("hasUploadFinished",!0);a=a.set("videoID",d);this.logEventGeneric(a,"upload_finished");return a;case b("VideoComposerActionTypes").POST_FAILED:this.logEventGeneric(a,"post_failure",c.errorMessage,a.isVideoTrimmed?{is_trimmed:!0}:{});a.dialogMode==="video_crosspost"&&this.logVideoAssetWaterfallEvent(a,"ui.new_post_from_asset_failure",c.errorMessage);a=a.set("postAttemptCount",a.postAttemptCount+1);b("FunnelLogger").appendActionIfNew(b("SphericalDirectorFunnelConstants").FUNNEL_NAME,b("SphericalDirectorFunnelConstants").ACTIONS.POST_VIDEO_FAILURE_COMPOSER);this.$VideoComposerLoggingStoreClass2(a,"premiere_submit_error","post_premiere_failure");this.$VideoComposerLoggingStoreClass3(a,"create_request_failed");return a;case b("VideoComposerActionTypes").EXIT_DIALOG_REPLACE_FILE:this.logEventGeneric(a,"exit_composer_replace_file");return a;case b("VideoComposerActionTypes").EXIT_DIALOG_SAVE_DRAFT:this.logEventGeneric(a,"exit_composer_save_draft");return a;case b("VideoComposerActionTypes").PREMIERE_REPLACE_FILE:this.logEventGeneric(a,"file_replaced");this.logVideoUploadEvent(b("VideoUploadLogger").EVENT_REPLACE_VIDEO);a=a.set("uploadAttemptCount",a.uploadAttemptCount+1);return a;case b("VideoComposerActionTypes").BACKDATE_CONFIRM:this.logEventGeneric(a,"post_backdate_attempt");return a;case b("VideoComposerActionTypes").NAVIGATED_FROM_PAGE:d=b("VideoComposerStores").getUIStore(a.videoComposerID).getState();d=d.composerShown;d&&this.logEventGeneric(a,"navigated_from_page");return a;case b("VideoComposerActionTypes").UPDATE_PREMIERE_CUSTOM_NAME:this.logEventGeneric(a,"set_living_room_title");return a;case b("VideoComposerActionTypes").SAVE_AS_DRAFT:case b("VideoComposerActionTypes").PUBLISH_POST:d=b("VideoComposerStores").getMetadataStore(a.videoComposerID).getState();d=d.title;if(!d)return a;d=b("VideoComposerStores").getPublishingStore(a.videoComposerID).getState();d=d.isDraft;d&&this.logEventGeneric(a,"post_draft_attempt");this.logEventGeneric(a,"post_publish_attempt");b("VideoComposerDispatchers").get(a.videoComposerID).waitFor([b("VideoComposerStores").getPremiereStore(a.videoComposerID).getDispatchToken()]);d=b("VideoComposerStores").getPremiereStore(a.videoComposerID).getState();b("VideoComposerStores").getPremiereStore(a.videoComposerID).getShouldPremiereOldSchool()?this.logEventGeneric(a,d.premiereDate?"post_premiere_attempt":"post_premiere_now_attempt"):b("VideoComposerStores").getPremiereStore(a.videoComposerID).getShouldPremiereNowInLivingRoom()?this.logEventGeneric(a,"post_premiere_living_room_attempt"):b("VideoComposerStores").getPremiereStore(a.videoComposerID).getShouldPremiereScheduledInLivingRoom()?this.logEventGeneric(a,"post_scheduled_premiere_living_room_attempt"):b("VideoComposerStores").getPublishingStore(a.videoComposerID).getState().scheduleDate&&this.logEventGeneric(a,"post_schedule_attempt");this.$VideoComposerLoggingStoreClass3(a,"create_request_attempted");return a;case b("VideoComposerActionTypes").POST_FINISHED:d=c==null?void 0:(d=c.data)==null?void 0:d.video_asset_id;d&&(a=a.set("videoAssetID",d));this.logEventGeneric(a,"post_success",null,a.isVideoTrimmed?{is_trimmed:!0}:{});a.dialogMode==="video_crosspost"&&this.logVideoAssetWaterfallEvent(a,"ui.new_post_from_asset_finish");this.logShowsVideoData(a);d=b("VideoComposerStores").getDistributionStore(a.videoComposerID).getIsAllMonetizableClicked();this.logMonetizableCrosspostsData(a,d);d&&this.logEventGeneric(a,"crosspost_all_monetizable_clicked");b("VideoComposerStores").getAdBreakStore(a.videoComposerID).getIsMidRollOptOutFeatureEnabled()&&this.logEventGeneric(a,"ad_breaks_mid_roll_opt_out_enabled");a=a.set("postAttemptCount",a.postAttemptCount+1);b("FunnelLogger").appendActionIfNew(b("SphericalDirectorFunnelConstants").FUNNEL_NAME,b("SphericalDirectorFunnelConstants").ACTIONS.POST_VIDEO_SUCCESS_COMPOSER);b("FunnelLogger").endFunnel(b("SphericalDirectorFunnelConstants").FUNNEL_NAME);this.$VideoComposerLoggingStoreClass2(a,"premiere_submit_success","post_premiere_success");this.$VideoComposerLoggingStoreClass3(a,"create_request_completed");return a;case b("VideoComposerActionTypes").CLOSE_PUBLISH_CONFIRM_DIALOG:this.logEventGeneric(a,"confirmation_dialog_close");return a;case b("VideoComposerActionTypes").SAVE_EDITED_VIDEO:this.logEventGeneric(a,"save_edited_video_attempt");this.logEditWaterfallEvent(a,"save_clicked");return a;case b("VideoComposerActionTypes").SAVE_EDITED_VIDEO_SUCCESS:this.logSaveEditedVideoSuccess(a);this.logShowsVideoData(a);b("FunnelLogger").appendActionIfNew(b("SphericalDirectorFunnelConstants").FUNNEL_NAME,b("SphericalDirectorFunnelConstants").ACTIONS.SAVE_VIDEO_SUCCESS_COMPOSER);b("FunnelLogger").endFunnel(b("SphericalDirectorFunnelConstants").FUNNEL_NAME);return a;case b("VideoComposerActionTypes").SAVE_EDITED_VIDEO_FAILURE:this.logEventGeneric(a,"save_edited_video_failure",c.errorMessage?c.errorMessage.toString():null);b("FunnelLogger").appendActionIfNew(b("SphericalDirectorFunnelConstants").FUNNEL_NAME,b("SphericalDirectorFunnelConstants").ACTIONS.SAVE_VIDEO_FAILURE_COMPOSER);return a;case b("VideoComposerActionTypes").SELECT_EDITING_PUBLISH_ACTION:this.logEventGeneric(a,"select_editing_publish_action");return a;case b("VideoComposerActionTypes").EXIT_DIALOG_ATTEMPT:this.logEventGeneric(a,"exit_composer_attempt");return a;case b("VideoComposerActionTypes").CLOSE_CONFIRM_DIALOG:this.logEventGeneric(a,"exit_composer_cancel");return a;case b("VideoComposerActionTypes").EXIT_DIALOG:this.logEventGeneric(a,"exit_composer_confirm",null,a.isVideoTrimmed?{is_trimmed:!0}:{});this.logEditWaterfallEvent(a,"cancel_flow");b("FunnelLogger").appendActionIfNew(b("SphericalDirectorFunnelConstants").FUNNEL_NAME,b("SphericalDirectorFunnelConstants").ACTIONS.EXIT_COMPOSER);b("FunnelLogger").endFunnel(b("SphericalDirectorFunnelConstants").FUNNEL_NAME);return a;case b("VideoComposerActionTypes").USER_PLAYED_VIDEO_PREVIEW:a.hasPlayedPreview||(this.logEventGeneric(a,"user_played_video_preview"),a=a.set("hasPlayedPreview",!0));return a;case b("VideoComposerActionTypes").UPLOAD_LOCAL_CAPTIONS:this.logLocalCaptionsUpload(a,c.captions.length);return a;case b("VideoComposerActionTypes").DELETE_LOCAL_CAPTION_FILE:this.logEventGeneric(a,"captions_local_file_delete");return a;case b("VideoComposerActionTypes").SET_DEFAULT_CAPTION_LOCALE:this.logEventGeneric(a,"captions_default_locale_selected");return a;case b("VideoComposerActionTypes").TOGGLE_ADD_TO_PAGES_STORY:this.logEventGeneric(a,"stories_option_toggled");return a;case b("VideoComposerActionTypes").GENERATED_THUMBNAILS:this.logVideoUploadEvent(b("VideoUploadLogger").EVENT_FINISHED_GENERATE_THUMBNAILS);return a;case b("VideoComposerActionTypes").GENERATED_THUMBNAILS_FAILED:this.logVideoUploadEvent(b("VideoUploadLogger").EVENT_VIDEO_DIMENSIONS_UNREADABLE);return a;case b("VideoComposerActionTypes").GENERATED_THUMBNAILS_STARTED:this.logVideoUploadEvent(b("VideoUploadLogger").EVENT_STARTED_GENERATE_THUMBNAILS);return a;case b("VideoComposerActionTypes").SUBMIT_MATURE_CONTENT_APPEAL_FORM_SUCCESS:this.$VideoComposerLoggingStoreClass4(a);return a;case b("VideoComposerActionTypes").UPDATE_CUSTOM_THUMBNAIL:this.logEventGeneric(a,"custom_thumbnail_selected");this.logVideoUploadEvent(b("VideoUploadLogger").EVENT_SELECTED_CUSTOM_THUMBNAIL);return a;case b("VideoComposerActionTypes").TOGGLE_SELECTED_GENERATED_THUMBNAIL:this.logEventGeneric(a,"generated_thumbnail_selected");return a;case b("VideoComposerActionTypes").UPDATE_SCRUBBED_THUMBNAIL:this.logEventGeneric(a,"scrubbed_thumbnail_selected");return a;case b("VideoComposerActionTypes").TAB_LOAD_ERROR:this.logEventGeneric(a,"tab_load_error",c.error);return a;case b("VideoComposerActionTypes").POST_REQUEST_SENT:this.logPostRequestSentEvent(a,c.postData);return a;case b("VideoComposerActionTypes").OPEN_PUBLISH_DRAWER:this.logEventGeneric(a,"open_publish_drawer");return a;case b("VideoComposerActionTypes").CLOSE_PUBLISH_DRAWER:this.logEventGeneric(a,"close_publish_drawer");return a;case b("VideoComposerActionTypes").RESET_COMPOSER:a=this.getInitialState();a=a.set("hasBeenReset",!0);return a;case b("VideoComposerActionTypes").POST_REQUEST_INVALID:this.logPostRequestInvalidEvent(a,c.invalidationReasons);return a;case b("VideoComposerActionTypes").SENDING_POST_REQUEST:this.logEventGeneric(a,"sending_post_request");return a;case b("VideoComposerActionTypes").OPEN_TRIMMING_EDITOR:this.logEventGeneric(a,"open_trimming_editor");return a;case b("VideoComposerActionTypes").TRIMMING_SAVE_DRAFT:b("VideoComposerDispatchers").get(a.videoComposerID).waitFor([b("VideoComposerStores").getTrimmingEditorStore(a.videoComposerID).getDispatchToken()]);if(b("VideoComposerStores").getTrimmingEditorStore(a.videoComposerID).isVideoTrimmed()){this.logEventGeneric(a,"saved_trimmed_video");return a.set("isVideoTrimmed",!0)}else{this.logEventGeneric(a,"save_untrimmed_video");return a.set("isVideoTrimmed",!1)}case b("VideoComposerActionTypes").CONFIRM_CLOSE_TRIMMING_EDITOR:this.logEventGeneric(a,"abort_trimming");return a;case b("VideoComposerActionTypes").SET_PUBLISHING_TYPE:return!b("VideoComposerStores").getPublishingStore(a.videoComposerID).getState().isComposerPostScheduleRedesign?this.$VideoComposerLoggingStoreClass5(a,c.publishingType===h.PREMIERE):a;case b("VideoComposerActionTypes").SET_POST_TYPE:return b("VideoComposerStores").getPublishingStore(a.videoComposerID).getState().isComposerPostScheduleRedesign?this.$VideoComposerLoggingStoreClass5(a,c.postType===g.PREMIERE):a;default:return a}};d.$VideoComposerLoggingStoreClass4=function(a){this.$VideoComposerLoggingStoreClass6(a).setEvent("submit_mature_content_appeal_form_success").log()};d.logSaveEditedVideoSuccess=function(a,c){var d=b("VideoComposerStores").getMetadataStore(a.videoComposerID).getState();d=d.originalShowVideoType;this.$VideoComposerLoggingStoreClass6(a).setEvent("save_edited_video_success").setOriginalShowVideoType(d).setErrorMessage(c).log()};d.logClickedAddVideoDialog=function(){this.$VideoComposerLoggingStoreClass6(this.getState(),!0).setEvent("clicked_add_videos_dialog").log()};d.logEventGeneric=function(a,b,c,d){d===void 0&&(d={}),this.$VideoComposerLoggingStoreClass6(a).setEvent(b).setErrorMessage(c).updateExtraData(d).log()};d.logPostRequestInvalidEvent=function(a,b){b=b.map(function(a){return a.loggingCode});this.$VideoComposerLoggingStoreClass6(a).setEvent("post_request_invalid").setInvalidationReasons(b).log()};d.logTabErrorEvent=function(a,b,c){this.$VideoComposerLoggingStoreClass6(a).setEvent("tab_bootload_error").setErrorMessage(c).setErrorTab(b).log()};d.logTabSwitchEvent=function(a,c){this.$VideoComposerLoggingStoreClass6(a).setEvent("tab_switched").setNextTab(c).log();if(c==="spherical_director"){c=a.dialogMode;c&&b("SphericalDirectorFunnelUtils").startFunnel(b("VideoComposerDialogSphericalDirectorUtils").getComponentSourceFromDialogMode(c),b("VideoComposerStores").getSphericalDirectorStore(a.videoComposerID).getState().spherical,!1);b("FunnelLogger").appendActionIfNew(b("SphericalDirectorFunnelConstants").FUNNEL_NAME,b("SphericalDirectorFunnelConstants").ACTIONS.OPEN_SPHERICAL_TAB_COMPOSER)}};d.logLocalCaptionsUpload=function(a,b){this.$VideoComposerLoggingStoreClass6(a).setEvent("captions_local_files_upload").setCaptionsNumSelectedFiles(b).log()};d.logPostRequestSentEvent=function(a,b){this.$VideoComposerLoggingStoreClass2(a,null,"post_premiere_attempt"),delete b.access_token,this.$VideoComposerLoggingStoreClass6(a).setEvent("post_request_sent").updateExtraData(b).log()};d.logShowsVideoData=function(a){var c=b("VideoComposerStores").getMetadataStore(a.videoComposerID).getState(),d=c.isVideoShowPage;c=c.showVideoType;if(!d)return;d=b("VideoComposerStores").getBasicStore(a.videoComposerID).getState();var e=d.autoCrosspostToShowParent,f=d.fundedContentProgram,g=d.playlistIDs;d=d.seasonIDOld;var h=b("VideoComposerStores").getDistributionStore(a.videoComposerID).getState();h=h.matureContentRating;c=c==="episode"||c==="recap";var i=a.dialogMode==="video_upload"?"upload":"edit";new(b("ShowsVideoDataTypedLogger"))().setVideoID(a.videoID).setSource(i).setComposerDialogVersion("V2").setFundedContentProgram(f).setIsEpisode(c).setMatureContentRating(h).setSeasonID(d).setPlaylistIds(g).setAutoCrosspostToParent(e).setPageID(a.actorID).log()};d.logMonetizableCrosspostsData=function(a,c){var d=b("VideoComposerStores").getDistributionStore(a.videoComposerID).getCrosspostPages();if(!d||d.length===0)return;var e=d.filter(function(a){return a.is_monetizable}).length,f=d.filter(function(a){return a.is_monetizable&&a.allow}).length;d=d.filter(function(a){return!a.is_monetizable&&a.allow}).length;if(f+d===0||e===0)return;new(b("VideoComposerAdBreakEnabledCrosspostingTypedLogger"))().setTotalMonetizablePages(e).setChosenMonetizablePages(f).setChosenNonMonetizablePages(d).setAllMonetizableClicked(c).setVideoID(a.videoID).setPageID(a.actorID).log()};d.logVideoAssetWaterfallEvent=function(a,c,d){new(b("VideoAssetWaterfallTypedLogger"))().setEvent(c).setComposerDialogVersion("V2").setPageID(a.actorID).setVideoAssetIDOverride(a.videoAssetID).setError(d).setSource(a.videoAssetWaterfallSource).log()};d.logEditWaterfallEvent=function(a,c){if(a.dialogMode!=="video_edit")return;var d=b("VideoComposerStores").getEditStore(a.videoComposerID).getState();d=d.editSource;new(b("VideoEditTypedLogger"))().setEvent(c).setSource(d).setFlow("dialog_v2").setVideoID(a.videoID||0).log()};d.$VideoComposerLoggingStoreClass3=function(a,c){var d=b("VideoComposerStores").getPremiereStore(a.videoComposerID).getState(),e=b("VideoComposerStores").getPremiereStore(a.videoComposerID).getShouldPremiereNowInLivingRoom(),f=b("VideoComposerStores").getPremiereStore(a.videoComposerID).getShouldPremiereScheduledInLivingRoom();if(!e&&!f)return;var g=0,h=0,i=0,j=0,k=0;if(d.premiereLivingRoomVideos&&d.premiereLivingRoomVideos.count()>0){var l=!1;d.premiereLivingRoomVideos.forEach(function(b){if(b.id===a.videoID){k++;if(!l){l=!0;return}}l?(i++,j+=b.playable_duration):(g++,h+=b.playable_duration)})}else k=1;new(b("PremiereLivingRoomTypedLogger"))().setEvent(c).setPremiereVideoID(a.videoID).setPageID(a.actorID).setInitialBeforeVideosCount(g).setInitialBeforeVideosTotalDurationSeconds(Math.round(h)).setInitialAfterVideosCount(i).setInitialAfterVideosTotalDurationSeconds(Math.round(j)).setInitialLoopCount(k).setIsScheduled(f).log()};d.logVideoUploadEvent=function(a){var c=this.getState();c=c.videoComposerID;c=b("VideoComposerStores").getUploadStore(c).getState();c=c.videoUploader;c&&c.getLogger()&&c.getLogger().logEvent(a)};d.$VideoComposerLoggingStoreClass2=function(a,c,d){b("VideoComposerDispatchers").get(a.videoComposerID).waitFor([b("VideoComposerStores").getPremiereStore(a.videoComposerID).getDispatchToken()]);if(b("VideoComposerStores").getPremiereStore(a.videoComposerID).getState().shouldPremiere){c&&this.logEventGeneric(a,c);if(d){c=b("VideoComposerStores").getPremiereStore(a.videoComposerID).getState();c=c.premiereDate;new(b("PremiereVideoTypedLogger"))().setEvent(d).setSourceVideoID(a.videoID).setOwnerID(a.actorID).setPremiereType(c&&c.getTime()?"scheduled":"now").log()}}};d.$VideoComposerLoggingStoreClass1=function(a){b("VideoComposerDispatchers").get(a.videoComposerID).waitFor([b("VideoComposerStores").getMetadataStore(a.videoComposerID).getDispatchToken()]),b("gkx")("678836")&&this.logEventGeneric(a,"premiere_button_rendered")};d.$VideoComposerLoggingStoreClass6=function(a,c){c===void 0&&(c=!1);c||b("VideoComposerDispatchers").get(a.videoComposerID).waitFor([b("VideoComposerStores").getEditStore(a.videoComposerID).getDispatchToken(),b("VideoComposerStores").getMetadataStore(a.videoComposerID).getDispatchToken(),b("VideoComposerStores").getPremiereStore(a.videoComposerID).getDispatchToken()]);c=b("VideoComposerStores").getEditStore(a.videoComposerID).getState();c=c.editSource;var d=b("VideoComposerStores").getMetadataStore(a.videoComposerID).getState(),e=d.composerEntryPointRef,f=d.isVideoShowPage;d=d.showVideoType;var g=b("VideoComposerStores").getPremiereStore(a.videoComposerID).getState(),h=g.premiereCSType;g=g.shouldPremiere;var i=b("VideoComposerStores").getPublishingStore(a.videoComposerID).getState();i=i.isComposerPostScheduleRedesign;var j=b("VideoComposerStores").getUploadStore(a.videoComposerID).getState();j=j.videoUploader;j=j&&j.getLogger()&&j.getLogger().getWaterfallID()||null;return new(b("VideoComposerDialogUITypedLogger"))().setActorID(a.actorID).setComposerDialogVersion("V2").setComposerEntryPoint(e).setCurrentTab(a.selectedTab).setDialogMode(a.dialogMode).setEditSource(c).setHasBeenReset(a.hasBeenReset).setHasUploadFinished(a.hasUploadFinished).setIsPremiere(g).setIsShowPage(f).setIsTwoStepPublish(!0).setPostAttemptCount(a.postAttemptCount).setPremiereContentStrategyCondition(h).setIsComposerPostScheduleRedesign(i).setSessionID(a.sessionID).setShowVideoType(d).setUploadAttemptCount(a.uploadAttemptCount).setVideoAssetID(a.videoAssetID).setVideoAssetWaterfallSource(a.videoAssetWaterfallSource).setVideoID(a.videoID).setWaterfallID(j).setWebFramework(a.webFramework)};d.$VideoComposerLoggingStoreClass5=function(a,c){var d=b("VideoComposerStores").getPremiereStore(a.videoComposerID).getState();if(b("videoComposerGetPremiereDisabledReason")(this.getState().videoComposerID)==null&&d.shouldDefaultToPremiere&&!a.loggedOptOutOfPremiereDefault&&!c){new(b("PremiereVideoTypedLogger"))().setEvent("opted_out_of_premiere_default").setSourceVideoID(a.videoID).setOwnerID(a.actorID).setPremiereDefaultCondition("default").log();return a.set("loggedOptOutOfPremiereDefault",!0)}return a};return c}(b("VideoComposerStoreBase"));e.exports=d}),null);
__d("MediaManagerContentActions",["MediaManagerActionTypes","MediaManagerDispatcher"],(function(a,b,c,d,e,f){"use strict";var g=b("MediaManagerActionTypes").MediaManagerActionTypes;e.exports={selectContentTable:function(a,c){b("MediaManagerDispatcher").dispatch({type:g.SELECT_CONTENT_TABLE,contentTable:a,source:c})},loadMultipleContentTablesStart:function(a){a.forEach(function(a){b("MediaManagerDispatcher").dispatch({type:g.LOAD_CONTENT_TABLE_START,table:a})})},loadContentTableStart:function(a){b("MediaManagerDispatcher").dispatch({type:g.CLEAR_CONTENT_TABLE_FILTERS,table:a}),b("MediaManagerDispatcher").dispatch({type:g.LOAD_CONTENT_TABLE_START,table:a})},clearContentTableSearchString:function(a){b("MediaManagerDispatcher").dispatch({type:g.CLEAR_CONTENT_TABLE_SEARCH_STRING,table:a})},loadContentTableFinished:function(a,c,d,e){b("MediaManagerDispatcher").dispatch({type:g.LOAD_CONTENT_TABLE_FINISHED,table:a,rows:c,nextPagePromise:d,summary:e})},handleSortChanged:function(a,c,d){b("MediaManagerDispatcher").dispatch({type:g.CONTENT_TABLE_SORT_CHANGED,table:a,orderBy:c,defaultOrderDirection:d}),b("MediaManagerDispatcher").dispatch({type:g.LOAD_CONTENT_TABLE_START,table:a})},selectRows:function(a,c){b("MediaManagerDispatcher").dispatch({type:g.CONTENT_TABLE_SELECT_ROWS,table:a,rows:c})},unselectRows:function(a,c){b("MediaManagerDispatcher").dispatch({type:g.CONTENT_TABLE_UNSELECT_ROWS,table:a,rows:c})},refreshRowsStart:function(a,c,d){b("MediaManagerDispatcher").dispatch({type:g.CONTENT_TABLE_REFRESH_ROWS_START,table:a,rows:c,onFulfillHandler:d})},refreshRowsFinished:function(a,c){b("MediaManagerDispatcher").dispatch({type:g.CONTENT_TABLE_REFRESH_ROWS_FINISHED,table:a,rowsByIDs:c})},selectStatusFilterOnly:function(a,c){b("MediaManagerDispatcher").dispatch({type:g.SELECT_CONTENT_STATUS_FILTER,table:a,status:c})},selectStatusFilter:function(a,c){b("MediaManagerDispatcher").dispatch({type:g.SELECT_CONTENT_STATUS_FILTER,table:a,status:c}),b("MediaManagerDispatcher").dispatch({type:g.LOAD_CONTENT_TABLE_START,table:a})},selectWagerStatusFilter:function(a,c){b("MediaManagerDispatcher").dispatch({type:g.SELECT_WAGER_STATUS_FILTER,table:a,status:c}),b("MediaManagerDispatcher").dispatch({type:g.LOAD_CONTENT_TABLE_START,table:a})},selectTypeFilter:function(a,c){b("MediaManagerDispatcher").dispatch({type:g.SELECT_CONTENT_TYPE_FILTER,table:a,contentType:c}),b("MediaManagerDispatcher").dispatch({type:g.LOAD_CONTENT_TABLE_START,table:a})},selectCustomFilter:function(a,c){b("MediaManagerDispatcher").dispatch({type:g.SELECT_CONTENT_CUSTOM_FILTER,table:a,field:c})},selectColumnPreset:function(a,c){b("MediaManagerDispatcher").dispatch({type:g.SELECT_COLUMN_PRESET,table:a,selectedPreset:c})},applyCustomFilter:function(a,c,d){b("MediaManagerDispatcher").dispatch({type:g.APPLY_CONTENT_CUSTOM_FILTER,table:a,filters:c,customFilterActionType:d}),b("MediaManagerDispatcher").dispatch({type:g.LOAD_CONTENT_TABLE_START,table:a})},applyCustomFilterWithOptions:function(a,c){b("MediaManagerDispatcher").dispatch({type:g.APPLY_CONTENT_CUSTOM_FILTER_WITH_OPTIONS,table:a,filter:c}),b("MediaManagerDispatcher").dispatch({type:g.LOAD_CONTENT_TABLE_START,table:a})},selectDateRange:function(a,c){b("MediaManagerDispatcher").dispatch({type:g.SELECT_CONTENT_DATE_RANGE,table:a,dateRange:c}),b("MediaManagerDispatcher").dispatch({type:g.LOAD_CONTENT_TABLE_START,table:a})},setSearchString:function(a,c){b("MediaManagerDispatcher").dispatch({type:g.SET_CONTENT_SEARCH_STRING,table:a,searchString:c}),b("MediaManagerDispatcher").dispatch({type:g.LOAD_CONTENT_TABLE_START,table:a})},enableVideoDetailsExplorer:function(){b("MediaManagerDispatcher").dispatch({type:g.SET_VIDEO_DETAILS_EXPLORER_ROUTING,routing:"enabled"})},loadNextPage:function(a){b("MediaManagerDispatcher").dispatch({type:g.LOAD_CONTENT_TABLE_NEXT_PAGE,table:a})},removeRows:function(a,c){a.forEach(function(a){return b("MediaManagerDispatcher").dispatch({type:g.CONTENT_TABLE_REMOVE_ROWS,table:a,rows:c})})},loadContentTableError:function(a,c){b("MediaManagerDispatcher").dispatch({type:g.LOAD_CONTENT_TABLE_ERROR,table:a,error:c})},prependRowToLoad:function(a,c){b("MediaManagerDispatcher").dispatch({type:g.CONTENT_TABLE_PREPEND_ROWS_TO_LOAD,table:a,rowsToLoad:c})},addRowToRefreshingRows:function(a,c){b("MediaManagerDispatcher").dispatch({type:g.ADD_ROW_TO_REFRESHING_ROWS,table:a,rows:c})},dismissNux:function(){b("MediaManagerDispatcher").dispatch({type:g.CONTENT_DISMISS_NUX})},clearTable:function(a){b("MediaManagerDispatcher").dispatch({type:g.CLEAR_CONTENT_TABLE,table:a})},attemptPublishAllDraftNoStoryPMVs:function(a,c){b("MediaManagerDispatcher").dispatch({type:g.PMV_ATTEMPT_PUBLISH_ALL_NO_STORY_DRAFTS,pageID:c})},confirmPublishAllDraftNoStoryPMVs:function(a){b("MediaManagerDispatcher").dispatch({type:g.PMV_CONFIRM_PUBLISH_ALL_NO_STORY_DRAFTS,pageID:a})}}}),null);
__d("MediaManagerPostStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ALL:"ALL",UNKNOWN:"UNKNOWN",SHARED:"SHARED",ALL_PUBLISHED:"ALL_PUBLISHED",POSTED:"POSTED",LIVE_NOW:"LIVE_NOW",PREMIERE_NOW:"PREMIERE_NOW",SCHEDULED:"SCHEDULED",SCHEDULED_LIVE:"SCHEDULED_LIVE",SCHEDULED_PREMIERE:"SCHEDULED_PREMIERE",DRAFT:"DRAFT",EXPIRING:"EXPIRING",EXPIRED:"EXPIRED",DELETED:"DELETED",PUBLISH_WITH_SERIES:"PUBLISH_WITH_SERIES",PUBLISH_WITH_SEASON:"PUBLISH_WITH_SEASON",PROCESSING:"PROCESSING",CROSSPOSTED_PUBLISHED:"CROSSPOSTED_PUBLISHED",CROSSPOSTED_MIXED:"CROSSPOSTED_MIXED",CROSSPOSTED_EXPIRED:"CROSSPOSTED_EXPIRED",ARCHIVED:"ARCHIVED",LLVC_PLAYING:"LLVC_PLAYING",LLVC_STOPPED:"LLVC_STOPPED",LLVC_CONTENT_ITEM_QUEUED:"LLVC_CONTENT_ITEM_QUEUED",LLVC_CONTENT_ITEM_PLAYING:"LLVC_CONTENT_ITEM_PLAYING",LLVC_CONTENT_ITEM_PLAYED:"LLVC_CONTENT_ITEM_PLAYED"})}),null);
__d("MediaManagerPostType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({EPISODE:"EPISODE",IG_VIDEO:"IG_VIDEO",IG_IMAGE:"IG_IMAGE",IG_CAROUSEL:"IG_CAROUSEL",IG_STORY:"IG_STORY",IGTV:"IGTV",LIVE_EPISODE:"LIVE_EPISODE",LIVE_VIDEO:"LIVE_VIDEO",OTHER:"OTHER",PHOTO:"PHOTO",LIVE_PREMIERE:"LIVE_PREMIERE",TEXT:"TEXT",VIDEO:"VIDEO",LINK:"LINK",PLAYLIST:"PLAYLIST",SHOW:"SHOW",SEASON:"SEASON",WAGER:"WAGER",WAGER_EVENT:"WAGER_EVENT",LIVE_LINEAR_VIDEO_CHANNEL:"LIVE_LINEAR_VIDEO_CHANNEL",LIVE_LINEAR_VIDEO_CHANNEL_CONTENT_ITEM:"LIVE_LINEAR_VIDEO_CHANNEL_CONTENT_ITEM",PREMIUM_MUSIC_VIDEO:"PREMIUM_MUSIC_VIDEO",FB_STORY:"FB_STORY",FB_STORIES_PHOTO:"FB_STORIES_PHOTO",FB_STORIES_SATP:"FB_STORIES_SATP",FB_STORIES_VIDEO:"FB_STORIES_VIDEO",FB_STORIES_LIVE:"FB_STORIES_LIVE"})}),null);
__d("VideoComposerMetadataStoreClass",["Promise","ImmutableRecordWithV4Types","MediaManagerContentActions","MediaManagerPostStatus","MediaManagerPostType","VideoComposerActions","VideoComposerActionTypes","VideoComposerDialogTabUtils","VideoComposerDialogUtils","VideoComposerStoreBase","VideoComposerStores","VideoPlayerMetaData","promiseDone"],(function(a,b,c,d,e,f){"use strict";a=b("ImmutableRecordWithV4Types").Record;var g=720,h=1280;c={videoComposerID:"",accessToken:"",actorID:null,allTabsBootloaded:!1,boostedPostButtonConfig:null,composerEntryPointRef:null,dialogMode:null,enabledTabs:[],eventCallbacks:null,isComposerUpsellEligible:!1,hasAdBreaksBefore:!1,highlightTitleField:!1,showTitleTooltip:!1,isDogfooded:!1,isEditModeUpgrade:!1,isMetadataAvailable:!1,isOriginalVideo:!1,isReplacingPremiere:!1,isSpherical:!1,isTargetFeatureBlocked:!1,isVideoAssetOwner:!0,isVideoHighQuality:!1,isVideoShowPage:!1,minBackdateTime:null,originalShowVideoType:null,pagesComposerContextConfig:null,passesUpsellGK:!1,profileDisplayName:"",profilePictureURI:"",showAddToSeriesNux:!1,showPremiereNowOption:!1,showRightsConfirmationDialog:!1,showVideoType:null,targetID:null,title:"",titleTooltipCaption:null,titleTooltipText:null,unpublishedContentType:null,videoAssetID:null,videoDataForID:null,videoDuration:null,videoEndTime:null,videoHeight:null,videoStartTime:null,videoWidth:null,videoID:null,videoStatus:null,needToUploadThreeMinVideoForBonus:!1};var i=a(c);d=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return i()};d.reduceImpl=function(a,c){switch(c.type){case b("VideoComposerActionTypes").INITIALIZE_COMPOSER_PREVIEW:a=a.set("composerEntryPointRef",c.entryPointRef);a=a.set("dialogMode","video_upload");a=a.set("enabledTabs",["basic","thumbnails","distribution","captions"]);a=a.set("eventCallbacks",c.eventCallbacks);return a;case b("VideoComposerActionTypes").INITIALIZE_UPLOAD_COMPOSER:a=this.$VideoComposerMetadataStoreClass1(a,c.serverParams.common);a=a.set("composerEntryPointRef",c.clientParams.entryPointRef);a=a.set("dialogMode","video_upload");a=a.set("eventCallbacks",c.clientParams.eventCallbacks);a=a.set("isTargetFeatureBlocked",c.serverParams.isTargetFeatureBlocked);a=a.set("isVideoAssetOwner",!0);a=a.set("isVideoShowPage",c.serverParams.isVideoShowPage);a=a.set("pagesComposerContextConfig",c.serverParams.pagesComposerContextConfig);a=a.set("minBackdateTime",c.serverParams.minBackdateTime);a=a.set("needToUploadThreeMinVideoForBonus",c.serverParams.needToUploadThreeMinVideoForBonus);a=a.set("showRightsConfirmationDialog",c.serverParams.showRightsConfirmationDialog);a=a.set("showAddToSeriesNux",c.serverParams.showAddToSeriesNux);if(c.serverParams.isVideoShowPage){var d=b("VideoComposerDialogUtils").getShowVideoTypeFromEntryPoint(c.clientParams.entryPointRef);a=a.set("originalShowVideoType",d).set("showVideoType",d)}a=a.set("targetID",c.serverParams.targetID);b("VideoComposerDialogTabUtils").fetchCreatePostParameters(c.videoComposerID,c.serverParams);return a;case b("VideoComposerActionTypes").INITIALIZE_CROSSPOST_COMPOSER:a=this.$VideoComposerMetadataStoreClass1(a,c.params.common);a=a.set("boostedPostButtonConfig",c.params.boostedPostButtonConfig);a=a.set("isSpherical",c.params.isSpherical);a=a.set("dialogMode","video_crosspost");a=a.set("isVideoAssetOwner",c.params.isVideoAssetOwner);a=a.set("title",c.params.title);a=a.set("videoAssetID",c.params.videoAssetID);b("promiseDone")(b("VideoPlayerMetaData").genVideoData(c.params.videoAssetID).then(function(a){return b("VideoComposerActions").loadVideoDataForID(c.videoComposerID,a)}));b("VideoComposerDialogTabUtils").fetchCrosspostParameters(c.videoComposerID,c.params);return a;case b("VideoComposerActionTypes").INITIALIZE_EDIT_COMPOSER:a=a.set("composerEntryPointRef",c.editParams.composerEntryPointRef);a=this.$VideoComposerMetadataStoreClass1(a,c.editParams.common);a=a.set("hasAdBreaksBefore",c.editParams.hasAdBreaksBefore);a=a.set("eventCallbacks",c.eventCallbacks);a=a.set("targetID",c.editParams.common.actorID);a=a.set("title",c.editParams.title);a=a.set("isOriginalVideo",c.editParams.isOriginalVideo);a=a.set("isVideoAssetOwner",c.editParams.isVideoAssetOwner);a=a.set("showRightsConfirmationDialog",c.editParams.showRightsConfirmationDialog);a=a.set("isVideoShowPage",c.editParams.isVideoShowPage);if(c.editParams.isVideoShowPage){d=c.editParams.episodeData.get("isEpisode")?c.editParams.episodeData.get("isRecap")?"recap":"episode":"basic_video";a=a.set("originalShowVideoType",d).set("showVideoType",d)}a=a.set("unpublishedContentType",c.editParams.unpublishedContentType);a=a.set("videoDuration",c.editParams.videoDuration);a=a.set("videoID",c.editParams.videoID);a=a.set("videoAssetID",c.editParams.videoAssetID);a=a.set("videoStatus",c.editParams.videoStatus);a=a.set("isSpherical",c.editParams.isSpherical);a=a.set("dialogMode","video_edit");a=a.set("isDogfooded",!!c.editParams.isDogfooded);a=a.set("isEditModeUpgrade",c.editParams.isEditModeUpgrade);d=c.editParams.isPremiere&&c.editParams.premiereSourceVideoID?c.editParams.premiereSourceVideoID:c.editParams.videoID;b("promiseDone")(b("VideoPlayerMetaData").genVideoData(d).then(function(a){return b("VideoComposerActions").loadVideoDataForID(c.videoComposerID,a)}));b("VideoComposerDialogTabUtils").fetchEditPostParameters(c.videoComposerID,c.editParams);return a;case b("VideoComposerActionTypes").LOAD_VIDEO_DATA_FOR_ID:a=a.set("videoDataForID",c.videoData);return a;case b("VideoComposerActionTypes").METADATA_LOADED_FROM_HTML_PLAYER:d=c.videoPlayer;var e=d.videoHeight?d.videoHeight:null,f=d.videoWidth?d.videoWidth:null;e>=g&&f>=h&&(a=a.set("isVideoHighQuality",!0));a=a.set("videoDuration",d.duration?d.duration:null);a=a.set("videoHeight",e);a=a.set("videoWidth",f);return a;case b("VideoComposerActionTypes").METADATA_LOADED_FROM_VIDEO_UPLOADER:a=a.set("isMetadataAvailable",!0);d=c.data;if(d&&d.format){e=d.format.isSpherical;a=a.set("isSpherical",e)}return a;case b("VideoComposerActionTypes").UPDATE_SHOW_VIDEO_TYPE:a=a.set("showVideoType",c.showVideoType);return a;case b("VideoComposerActionTypes").UPDATE_TITLE:a=a.set("title",c.title);c.title&&c.title.trim()&&(a=a.set("highlightTitleField",!1),a=a.set("showTitleTooltip",!1));return a;case b("VideoComposerActionTypes").HIGHLIGHT_TITLE_WITH_ERROR_TOOLTIP:a=a.set("highlightTitleField",!0);a=a.set("showTitleTooltip",!0);a=a.set("titleTooltipText",c.tooltipText);a=a.set("titleTooltipCaption",c.tooltipCaption);return a;case b("VideoComposerActionTypes").CLOSE_TITLE_ERROR_TOOLTIP:return a.set("showTitleTooltip",!1);case b("VideoComposerActionTypes").SET_COMPOSER_UPSELL_ELIGIBILITY_STATUS:a=a.set("isComposerUpsellEligible",c.isEligible);return a;case b("VideoComposerActionTypes").SET_PASSES_UPSELL_GK:a=a.set("passesUpsellGK",c.passesUpsellGK);return a;case b("VideoComposerActionTypes").PREMIERE_REPLACE_FILE:return a.set("isReplacingPremiere",!0);case b("VideoComposerActionTypes").UPLOAD_PROGRESSED:case b("VideoComposerActionTypes").UPLOAD_FINISHED:return a.isReplacingPremiere?a:this.$VideoComposerMetadataStoreClass2(a);case b("VideoComposerActionTypes").RESET_COMPOSER:return this.getInitialState();case b("VideoComposerActionTypes").SET_VIDEO_START_END_TIME:a=a.set("videoEndTime",c.endTime);a=a.set("videoStartTime",c.startTime);return a;case b("VideoComposerActionTypes").EXIT_DIALOG:a.eventCallbacks&&a.eventCallbacks.onExitConfirm&&a.eventCallbacks.onExitConfirm();return a;case b("VideoComposerActionTypes").POST_FINISHED:this.$VideoComposerMetadataStoreClass3(a.targetID,a.videoID);a.eventCallbacks&&a.eventCallbacks.onPublishSuccess&&a.eventCallbacks.onPublishSuccess(a.videoID,c.data?c.data.video_asset_id:null);return a;case b("VideoComposerActionTypes").ALL_TABS_BOOTLOADED:a=a.set("allTabsBootloaded",!0);a.eventCallbacks&&a.eventCallbacks.onAllTabsBootloaded&&a.eventCallbacks.onAllTabsBootloaded();return a;default:return a}};d.$VideoComposerMetadataStoreClass2=function(a){var c=b("VideoComposerStores").getUploadStore(a.videoComposerID).getState();if(c.videoUploader){c=c.videoUploader.getUploadSession();var d=this.getState().get("videoID");if(c&&d!==c.getVideoID()){d=c.getVideoID();a=a.set("videoID",d)}}return a};d.$VideoComposerMetadataStoreClass1=function(a,b){a=a.set("accessToken",b.accessToken);a=a.set("actorID",b.actorID);a=a.set("enabledTabs",b.enabledTabs);a=a.set("profileDisplayName",b.profileDisplayName);a=a.set("profilePictureURI",b.profilePictureURI);return a};d.getAccessToken=function(){return this.getState().get("accessToken")};d.getPostRequestDataToSend=function(){var a=this.getState();return b("Promise").resolve({video_title:a.title})};d.getCrosspostRequestDataToSend=function(){var a=this.getState();return b("Promise").resolve({access_token:a.accessToken,title:a.title,video_asset_id:a.videoAssetID})};d.getEditRequestDataToSend=function(){var a=this.getState();return b("Promise").resolve({is_video_composer_v2:!0,title:a.title})};d.getVideoPreviewTimeData=function(){var a=this.getState(),b=a.videoDuration,c=a.videoEndTime;a=a.videoStartTime;c=c||b;a=a||0;b=b?Number(c)-a:b;return{videoDuration:b,videoEndTime:c,videoStartTime:a}};d.getNeedToUploadThreeMinVideoForBonus=function(){var a=this.getState();a=a.needToUploadThreeMinVideoForBonus;return a};d.getVideoDuration=function(){return this.getState().videoDuration};d.$VideoComposerMetadataStoreClass3=function(a,c){a!=null&&c!=null&&b("MediaManagerContentActions").prependRowToLoad("ALL_POSTS",[{attributes:{},id:c,matureContentRating:null,matureContentRatingStatus:null,postType:b("MediaManagerPostType").OTHER,postStatus:b("MediaManagerPostStatus").UNKNOWN,scheduledOrLastAddedTimestamp:0,lastAddedTime:0,pageID:a,pagePicture:"",pageName:"",title:""}])};return c}(b("VideoComposerStoreBase"));e.exports=d}),null);
__d("VideoComposerPremiereStoreClass",["fbt","Promise","Bootloader","ImmutableRecordWithV4Types","LivePremiereConfig","VideoComposerActions","VideoComposerActionTypes","VideoComposerDialogConstants","VideoComposerDispatchers","VideoComposerPostType","VideoComposerPublishingTypes","VideoComposerStoreBase","VideoComposerStores","VideoComposerUtils","immutable","setImmediate","videoComposerGetPremiereDisabledReason"],(function(a,b,c,d,e,f,g){"use strict";a=b("ImmutableRecordWithV4Types").Record;var h=b("VideoComposerPostType").PREMIERE_VIDEO_MAX_DURATION,i=b("VideoComposerPostType").PREMIERE_VIDEO_MIN_DURATION,j=b("VideoComposerPostType").VideoComposerPostTypes,k=b("VideoComposerPublishingTypes").PublishingType;c={videoComposerID:"",customAnnouncementThumbnail:null,customProfileImage:null,customProfileImageFocus:null,feedBackgroundImage:null,feedBackgroundFocus:null,hasReplacedFile:!1,isPremierePreLive:!0,premiereBroadcastID:null,premiereCSType:"premiere",premiereCustomName:null,premiereDate:null,premiereLivingRoomVideos:b("immutable").List(),premiereSourceEditWindowConfig:null,premiereSourceVideoID:null,shouldPremiere:!1,shouldPremiereWithShowOrSeason:!1,showPremiereAudience:!1,wasLastUploadNewRelease:!1,premiereAudience:"ANYONE",canCreateMultiVideoPremiereLivingRoom:!1,canCreateSingleVideoPremiereLivingRoom:!1,canCreateSingleVideoScheduledPremiereLivingRoom:!1,shouldDefaultToNewRelease:!1,canOptOutOfNewReleaseDefault:!1,minimumDurationForNewReleaseDefaultEligibilitySeconds:0,shouldDefaultToPremiere:!1,premiereFromDraftGK:!1};var l=60*60*1e3,m=a(c);d=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return m()};d.reduceImpl=function(a,c){switch(c.type){case b("VideoComposerActionTypes").INITIALIZE_UPLOAD_COMPOSER:c.clientParams.entryPointRef==="page_content_tab_video_library_premiere"&&window.setTimeout(function(){return b("VideoComposerActions").setPublishingType(c.videoComposerID,k.PREMIERE)},0);a=a.set("shouldDefaultToPremiere",c.serverParams.shouldDefaultToPremiere);a=a.set("premiereCSType",c.serverParams.premiereCSType);a=a.set("showPremiereAudience",c.serverParams.showPremiereAudience);a=a.set("premiereAudience",c.serverParams.premiereAudience);a=a.set("canCreateMultiVideoPremiereLivingRoom",c.serverParams.canCreateMultiVideoPremiereLivingRoom);a=a.set("canCreateSingleVideoPremiereLivingRoom",c.serverParams.canCreateSingleVideoPremiereLivingRoom);a=a.set("canCreateSingleVideoScheduledPremiereLivingRoom",c.serverParams.canCreateSingleVideoScheduledPremiereLivingRoom);return a;case b("VideoComposerActionTypes").OPEN_PUBLISH_DRAWER:var d=b("VideoComposerStores").getMetadataStore(a.videoComposerID).getState();d=d.composerEntryPointRef;var e=b("VideoComposerStores").getDistributionStore(a.videoComposerID).getState(),f=e.isShowDraft;e=e.isSeasonDraft;d=b("VideoComposerUtils").isFromCreatorStudioShowsPanel(d)&&(f||e);this.$VideoComposerPremiereStoreClass1()&&!d&&b("setImmediate")(function(){b("VideoComposerStores").getPublishingStore(a.videoComposerID).getState().isComposerPostScheduleRedesign&&b("VideoComposerActions").setPostType(a.videoComposerID,j.PREMIERE),b("VideoComposerActions").setPublishingType(a.videoComposerID,k.PREMIERE),b("VideoComposerActions").setPremiereDate(a.videoComposerID,new Date(Date.now()+l))});return a;case b("VideoComposerActionTypes").UPDATE_PREMIERE_DATA:a=a.set("shouldPremiere",!0);a=a.set("premiereDate",c.scheduleDate);a=a.set("customProfileImage",c.customProfileImage);a=a.set("customProfileImageFocus",c.customProfileImageFocus);c.feedBackgroundImage!==null&&(a=a.set("feedBackgroundImage",c.feedBackgroundImage));a=a.set("feedBackgroundFocus",c.feedBackgroundFocus);c.customAnnouncementThumbnail!=null&&(a=a.set("customAnnouncementThumbnail",c.customAnnouncementThumbnail));return a;case b("VideoComposerActionTypes").INITIALIZE_EDIT_COMPOSER:a=a.set("shouldPremiere",c.editParams.isPremiere);a=a.set("premiereBroadcastID",c.editParams.premiereBroadcastID);a=a.set("premiereDate",c.editParams.premiereDate?new Date(c.editParams.premiereDate):null);a=a.set("isPremierePreLive",c.editParams.isPremierePreLive);a=a.set("premiereSourceEditWindowConfig",c.editParams.premiereSourceEditWindowConfig);a=a.set("premiereSourceVideoID",c.editParams.premiereSourceVideoID);a=a.set("premiereFromDraftGK",c.editParams.premiereFromDraftGK);return a;case b("VideoComposerActionTypes").PREMIERE_REPLACE_FILE:return a.set("hasReplacedFile",!0);case b("VideoComposerActionTypes").SET_PREMIERE_DATE:return a.set("premiereDate",c.premiereDate);case b("VideoComposerActionTypes").SET_PREMIERE_FEED_BACKGROUND_IMAGE:return a.set("feedBackgroundImage",c.image);case b("VideoComposerActionTypes").SET_PUBLISHING_TYPE:f=c.publishingType===k.PREMIERE;a=a.set("shouldPremiere",f);f&&a.premiereDate===null&&(a=a.set("premiereDate",new Date(Date.now()+b("LivePremiereConfig").defaultScheduledTimeDeltaMS)));c.publishingType===k.SAVE_AS_DRAFT&&(a=this.$VideoComposerPremiereStoreClass2(a));return a.set("shouldPremiereWithShowOrSeason",!1);case b("VideoComposerActionTypes").SAVE_AS_DRAFT_CONFIRM:return this.$VideoComposerPremiereStoreClass2(a);case b("VideoComposerActionTypes").SET_POST_TYPE:if(b("VideoComposerStores").getPublishingStore(a.videoComposerID).getState().isComposerPostScheduleRedesign)switch(c.postType){case j.PREMIERE:b("VideoComposerDispatchers").get(a.videoComposerID).waitFor([b("VideoComposerStores").getPublishingStore(a.videoComposerID).getDispatchToken()]);e=b("VideoComposerStores").getPublishingStore(a.videoComposerID).getState();d=e.scheduleDate;a=a.set("shouldPremiere",!0);a=a.set("premiereDate",d);break;case j.VIDEO_UPLOAD_WATCH_PARTY:a=a.set("shouldPremiere",!0);a=a.set("premiereDate",null);break;case j.VIDEO_UPLOAD:a=a.set("shouldPremiere",!1);a=a.set("premiereDate",null);break;default:break}return a;case b("VideoComposerActionTypes").EDIT_SCHEDULED_TIME:b("VideoComposerStores").getPublishingStore(a.videoComposerID).getState().isComposerPostScheduleRedesign&&(a=a.set("premiereDate",c.scheduleDate));return a;case b("VideoComposerActionTypes").TOGGLE_PREMIERE_WITH_SHOW_OR_SEASON:a=a.set("shouldPremiereWithShowOrSeason",!a.shouldPremiereWithShowOrSeason);a=a.set("premiereDate",null);return a;case b("VideoComposerActionTypes").RESET_COMPOSER:return this.getInitialState();case b("VideoComposerActionTypes").UPDATE_SHOULD_PREMIERE:a=a.set("shouldPremiere",c.shouldPremiere);return a;case b("VideoComposerActionTypes").UPDATE_CUSTOM_THUMBNAIL:a.feedBackgroundImage==null&&c.thumbnail&&(a=a.set("feedBackgroundImage",c.thumbnail.getFile()));return a;case b("VideoComposerActionTypes").UPDATE_PREMIERE_AUDIENCE:a=a.set("premiereAudience",c.premiereAudience);return a;case b("VideoComposerActionTypes").UPDATE_PREMIERE_LIVING_ROOM_REMOVE_UNOWNED_VIDEOS:var g=c.ownerID;a=a.set("premiereLivingRoomVideos",a.get("premiereLivingRoomVideos").filter(function(a){return a.owner.id===g}));return a;case b("VideoComposerActionTypes").UPDATE_PREMIERE_LIVING_ROOM_VIDEOS:a=a.set("premiereLivingRoomVideos",c.premiereLivingRoomVideos);return a;case b("VideoComposerActionTypes").UPDATE_PREMIERE_CUSTOM_NAME:a=a.set("premiereCustomName",c.name);return a;case b("VideoComposerActionTypes").PUBLISH_POST:if(!a.shouldPremiere)return a;b("Bootloader").loadModules(["MediaManagerPostCreationStore","CreatorStudioTopPriorityTipUtils"],function(a,c){a=a.getState();a=a.entryPoint;a==="PREMIERE_PROMOTION_TO_VIDEO_UPLOAD"&&c.creatorStudioTopPriorityTipLogEvents("conversion",b("VideoComposerDialogConstants").PREMIERE_PROMOTION_TO_VIDEO_UPLOAD_ID,b("VideoComposerDialogConstants").CREATOR_STUDIO_ANNOUNCEMENT_CARD_CHANNEL_ID)},"VideoComposerPremiereStoreClass");return a;default:return a}};d.$VideoComposerPremiereStoreClass2=function(a){return a.set("premiereDate",null).set("shouldPremiere",!1).set("shouldPremiereWithShowOrSeason",!1)};d.$VideoComposerPremiereStoreClass1=function(){return b("videoComposerGetPremiereDisabledReason")(this.getState().videoComposerID)!=null?!1:!!this.getState().shouldDefaultToPremiere};d.getShouldShowReplacePremiereSection=function(a){var b;return!!((b=this.getState().premiereSourceEditWindowConfig)!=null?b.isInWindow:b)&&a==="video_edit"&&this.getState().isPremierePreLive};d.getPremiereAudience=function(){return this.getState().premiereAudience};d.getShouldPremiereNowInLivingRoom=function(){var a=this.getState();if(!a.shouldPremiere)return!1;return a.premiereDate?!1:a.canCreateSingleVideoPremiereLivingRoom&&a.premiereLivingRoomVideos.count()<=1||a.canCreateMultiVideoPremiereLivingRoom&&a.premiereLivingRoomVideos.count()>1};d.getShouldPremiereScheduledInLivingRoom=function(){var a=this.getState();if(!a.shouldPremiere)return!1;return!a.premiereDate?!1:a.canCreateSingleVideoScheduledPremiereLivingRoom};d.getShouldPremiereOldSchool=function(){var a=this.getState();return this.getShouldPremiereNowInLivingRoom()||this.getShouldPremiereScheduledInLivingRoom()?!1:a.shouldPremiere};d.getPostRequestDataToSend=function(){var a=this.getState(),c=b("VideoComposerStores").getMetadataStore(a.videoComposerID).getState(),d=c.dialogMode,e=c.isSpherical;c=c.title;d=d==="video_upload"&&e;e=this.getShouldPremiereOldSchool();var f=this.getShouldPremiereNowInLivingRoom(),g=this.getShouldPremiereScheduledInLivingRoom(),h=f||g;if(!h&&!e||d)return b("Promise").resolve({should_premiere:!1});d=[];f?d=a.premiereLivingRoomVideos?a.premiereLivingRoomVideos.toArray().map(function(a){return a.id}):[]:g&&(d=[b("VideoComposerStores").getUploadStore(a.videoComposerID).getUploaderVideoID()]);f={premiere_time_ms:a.premiereDate&&a.premiereDate.getTime(),should_premiere:e,premiere_in_living_room_video_ids:h?d.length?d:[b("VideoComposerStores").getUploadStore(a.videoComposerID).getUploaderVideoID()]:[],premiere_in_living_room_custom_name:h?a.premiereCustomName||c:null,premiere_custom_profile_image_focus:a.customProfileImageFocus,feed_background_focus:a.feedBackgroundFocus,premiere_audience:a.premiereAudience};a.customProfileImage&&(f.schedule_custom_profile_image=a.customProfileImage);a.feedBackgroundImage&&(f.schedule_feed_background_image=a.feedBackgroundImage);a.customAnnouncementThumbnail&&(f.schedule_custom_background_image=a.customAnnouncementThumbnail);return b("Promise").resolve(f)};d.getEditRequestDataToSend=function(){var a=this.getState(),c={should_premiere:a.shouldPremiere};if(!a.shouldPremiere)return b("Promise").resolve(c);a.premiereDate&&(c.premiere_time_ms=a.premiereDate.getTime());a.customProfileImageFocus&&(c.premiere_custom_profile_image_focus_x=a.customProfileImageFocus.x,c.premiere_custom_profile_image_focus_y=a.customProfileImageFocus.y);a.feedBackgroundFocus&&(c.feed_background_image_focus_x=a.feedBackgroundFocus.x,c.feed_background_image_focus_y=a.feedBackgroundFocus.y);a.customProfileImage&&(c.schedule_custom_profile_image=a.customProfileImage);a.feedBackgroundImage&&(c.schedule_feed_background_image=a.feedBackgroundImage);a.customAnnouncementThumbnail&&(c.schedule_custom_background_image=a.customAnnouncementThumbnail);a.hasReplacedFile&&(b("VideoComposerStores").getUploadStore(a.videoComposerID).isUploading()||(c.premiere_replace_video_id=b("VideoComposerStores").getUploadStore(a.videoComposerID).getUploaderVideoID()));return b("Promise").resolve(c)};d.premieresVideoDurationIsInvalid=function(a){return this.$VideoComposerPremiereStoreClass1()?a==null||a>=h:a==null||a<i||a>=h};d.hasReplacedPremieresVideoFile=function(){return this.getState().hasReplacedFile};d.getInvalidationCheckers=function(){var a=g._("There was an error while saving your premiere");return[function(b){return b.shouldPremiere&&b.futureDate?{userMessage:a,loggingCode:"PREMIERE_AND_SCHEDULED"}:null},function(b){return b.shouldPremiere&&b.shouldPremiereInLivingRoom?{userMessage:a,loggingCode:"PREMIERE_AND_LIVING_ROOM_PREMIERE"}:null}]};return c}(b("VideoComposerStoreBase"));e.exports=d}),null);
__d("VideoComposerPublishingStoreClass",["invariant","Promise","ExpirationTypeToExpirationTypeApiMap","ImmutableRecordWithV4Types","LiftTimeUtils","ReactComposerPostUtilsCore","SimpleNUXMessage","SimpleNUXMessageTypes.bs","VideoComposerActions","VideoComposerActionTypes","VideoComposerAdBreakActions","VideoComposerBasicActions","VideoComposerDialogCrosspostUtils","VideoComposerDialogEditUtils","VideoComposerDialogUtils","VideoComposerDispatchers","VideoComposerPostType","VideoComposerPublishingDataValidator","VideoComposerPublishingTypes","VideoComposerPublishingUtils","VideoComposerScheduleType","VideoComposerStoreBase","VideoComposerStores","VideoComposerUtils","VideoEditPublishingStatus","flattenPHPQueryData","setImmediate","setTimeout","videoComposerDialogUploadDoPost","videoComposerValidatePublishAction"],(function(a,b,c,d,e,f,g){"use strict";a=b("ImmutableRecordWithV4Types").Record;var h=b("LiftTimeUtils").MS_IN_SEC,i=b("VideoComposerPostType").VideoComposerPostTypes,j=b("VideoComposerPublishingDataValidator").validatePublishingData,k=b("VideoComposerPublishingDataValidator").validatePublishingRedesignData,l=b("VideoComposerPublishingTypes").PublishActions,m=b("VideoComposerPublishingTypes").PublishingType,n=b("VideoComposerPublishingUtils").getDefaultScheduleDate;c=b("VideoComposerScheduleType").DEFAULT_DISABLED_SCHEDULE_TYPES;var o=b("VideoComposerScheduleType").VideoComposerScheduleTypes;d={videoComposerID:"",backdateYear:null,backdateMonth:null,backdateDay:null,canPublish:!0,cannotPublishReason:null,canDraft:!0,disablePublish:!1,disabledScheduleTypesMap:c,editToExpired:!1,editToPublished:!1,hasAttemptedPublish:!1,uploadErrorData:null,hideFromNewsFeed:!1,isAdBreakPrereview:!1,isPosting:!1,isPostPending:!1,isDraft:!1,isDogfoodingPost:!1,isReviewableBrandedContent:!1,publishingType:m.PUBLISH_NOW,scheduleDate:null,originalScheduleDate:null,expireDate:null,originalExpireDate:null,expireType:0,originalExpireType:0,postEndDate:null,saveVideosInPagesComposer:!1,showBestPracticesChecklist:!1,showBestPracticesChecklistHDVideo:!1,postData:null,isComposerPostScheduleRedesign:!1,postType:i.VIDEO_UPLOAD,scheduleType:o.PUBLISH_NOW};var p=a(d);f=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return p()};d.reduceImpl=function(a,c){var d=this,e=b("VideoComposerStores").getMetadataStore(a.videoComposerID).getState(),f=e.dialogMode;switch(c.type){case b("VideoComposerActionTypes").INITIALIZE_UPLOAD_COMPOSER:a=a.set("saveVideosInPagesComposer",!!c.serverParams.saveVideosInPagesComposer).set("showBestPracticesChecklist",c.serverParams.showBestPracticesChecklist).set("showBestPracticesChecklistHDVideo",c.serverParams.showBestPracticesChecklistHDVideo).set("isComposerPostScheduleRedesign",c.serverParams.common.isComposerPostScheduleRedesign);return a;case b("VideoComposerActionTypes").INITIALIZE_EDIT_COMPOSER:a=a.set("expireDate",new Date(c.editParams.publishingConfig.expirationTime));a=a.set("originalExpireDate",new Date(c.editParams.publishingConfig.expirationTime));a=a.set("expireType",c.editParams.publishingConfig.expirationType);a=a.set("originalExpireType",c.editParams.publishingConfig.expirationType);a=a.set("scheduleDate",new Date(c.editParams.publishingConfig.scheduledPublishTime));a=a.set("originalScheduleDate",new Date(c.editParams.publishingConfig.scheduledPublishTime)).set("isComposerPostScheduleRedesign",c.editParams.common.isComposerPostScheduleRedesign);if(c.editParams.isEditModeUpgrade)if(a.isComposerPostScheduleRedesign){var g=this.$VideoComposerPublishingStoreClass1(c.editParams.publishingConfig.selectedValue);b("setImmediate")(function(){b("VideoComposerActions").setPostType(a.videoComposerID,i.VIDEO_UPLOAD),b("VideoComposerActions").setScheduleType(a.videoComposerID,g)})}else{var h=this.$VideoComposerPublishingStoreClass2(c.editParams.publishingConfig.selectedValue);b("setImmediate")(function(){return b("VideoComposerActions").setPublishingType(a.videoComposerID,h)})}return a;case b("VideoComposerActionTypes").INIT_VIDEO_UPLOADER:case b("VideoComposerActionTypes").PREMIERE_REPLACE_FILE:a=a.set("disablePublish",!1);a=a.set("uploadErrorData",null);return a;case b("VideoComposerActionTypes").TOGGLE_NEWS_FEED:return a.set("postEndDate",null);case b("VideoComposerActionTypes").TOGGLE_SECRET_VIDEO:return a.set("postEndDate",null);case b("VideoComposerActionTypes").EDIT_EXPIRATION:a=a.set("expireDate",c.expirationTime);a=a.set("expireType",c.expirationType);a=this.$VideoComposerPublishingStoreClass3(a);return a;case b("VideoComposerActionTypes").EDIT_SCHEDULED_TIME:a=a.set("scheduleDate",c.scheduleDate);a=this.$VideoComposerPublishingStoreClass3(a);return a;case b("VideoComposerActionTypes").EDIT_POST_END_TIME:a=a.set("postEndDate",c.postEndDate);a=this.$VideoComposerPublishingStoreClass3(a);return a;case b("VideoComposerActionTypes").EDIT_SHOULD_EXPIRE:a=a.set("editToExpired",c.expire);return a;case b("VideoComposerActionTypes").EDIT_SHOULD_PUBLISH:a=a.set("editToPublished",c.publish);return a;case b("VideoComposerActionTypes").BACKDATE_CONFIRM:a=a.set("backdateYear",c.year);a=a.set("backdateMonth",c.month);a=a.set("backdateDay",c.day);a=a.set("hideFromNewsFeed",c.hideFromNewsFeed);b("setTimeout")(function(){return b("VideoComposerActions").publishPost(a.videoComposerID)},1);return a;case b("VideoComposerActionTypes").SET_BACKDATE_DATE:a=a.set("backdateYear",c.date.year);a=a.set("backdateMonth",c.date.month);a=a.set("backdateDay",c.date.day);a=this.$VideoComposerPublishingStoreClass3(a);return a;case b("VideoComposerActionTypes").SET_BACKDATE_HIDE_FROM_NEWS_FEED:a=a.set("hideFromNewsFeed",c.hideFromNewsFeed);return a;case b("VideoComposerActionTypes").SET_PREMIERE_DATE:a=this.$VideoComposerPublishingStoreClass3(a);return a;case b("VideoComposerActionTypes").POST_FAILED:e=b("VideoComposerStores").getMetadataStore(a.videoComposerID).getState();var j=e.videoID;e=e.eventCallbacks;a=this.$VideoComposerPublishingStoreClass4(a);a=a.set("isPosting",!1);a=a.set("isPostPending",!1);e&&e.onPublishFailure&&e.onPublishFailure(c.errorMessage,j);return a;case b("VideoComposerActionTypes").POST_FINISHED:e=b("VideoComposerStores").getUploadStore(a.videoComposerID).getState();j=e.composerID;a.saveVideosInPagesComposer&&!!j&&b("ReactComposerPostUtilsCore").handlePostSucceeded(j);return a;case b("VideoComposerActionTypes").PUBLISH_POST:return this.$VideoComposerPublishingStoreClass5(a,f);case b("VideoComposerActionTypes").UPLOAD_FAILED:e=b("VideoComposerStores").getMetadataStore(a.videoComposerID).getState();j=e.eventCallbacks;j&&j.onUploadFailure&&j.onUploadFailure(c.errorData);a=this.$VideoComposerPublishingStoreClass4(a);a=a.set("uploadErrorData",c.errorData);a=a.set("disablePublish",!0);a=a.set("isPostPending",!1);return a;case b("VideoComposerActionTypes").UPLOAD_FINISHED:a.isPostPending&&(a=a.set("isPostPending",!1),a=a.set("isPosting",!0),this.$VideoComposerPublishingStoreClass6());return a;case b("VideoComposerActionTypes").SAVE_POST_DATA_FOR_PAGES_COMPOSER:return a.set("postData",c.postData);case b("VideoComposerActionTypes").SCHEDULE_CONFIRM:c.scheduleDate&&(a=a.set("scheduleDate",c.scheduleDate));c.expireDate&&(a=a.set("expireDate",c.expireDate),a=a.set("expireType",c.expirationType));c.postEndDate&&(a=a.set("postEndDate",c.postEndDate));b("setTimeout")(function(){return b("VideoComposerActions").publishPost(a.videoComposerID)},1);return a;case b("VideoComposerActionTypes").EXIT_DIALOG_SAVE_DRAFT:case b("VideoComposerActionTypes").SAVE_AS_DRAFT_CONFIRM:a=this.$VideoComposerPublishingStoreClass7(a);b("setTimeout")(function(){return b("VideoComposerActions").publishPost(a.videoComposerID)},1);return a;case b("VideoComposerActionTypes").SUBMIT_FOR_PREREVIEW:a=a.set("isAdBreakPrereview",!0);b("setTimeout")(function(){return b("VideoComposerActions").publishPost(a.videoComposerID)},1);return a;case b("VideoComposerActionTypes").CANCEL_UPLOAD:a=this.$VideoComposerPublishingStoreClass4(a);a=a.set("isPostPending",!1).set("isPosting",!1);return a;case b("VideoComposerActionTypes").MARK_AS_REVIEWABLE_BRANDED_CONTENT:case b("VideoComposerActionTypes").CONFIRM_REVIEWABLE_BRANDED_CONTENT:a=a.set("isReviewableBrandedContent",!0);return a;case b("VideoComposerActionTypes").RESET_COMPOSER:a=this.getInitialState();return a;case b("VideoComposerActionTypes").SET_PUBLISHING_TYPE:a=a.set("publishingType",c.publishingType);c.publishingType!==m.PUBLISH_FOR_DOGFOODING&&c.publishingType!==m.DOGFOOD_WITH_SERIES_OR_SEASON&&(a=a.set("isDogfoodingPost",!1));c.publishingType!==m.SAVE_AS_DRAFT&&c.publishingType!==m.PUBLISH_WITH_SHOW_OR_SEASON&&(a=a.set("isDraft",!1));a=this.$VideoComposerPublishingStoreClass8(a);c.publishingType===m.SAVE_AS_DRAFT||c.publishingType===m.PUBLISH_WITH_SHOW_OR_SEASON?a=this.$VideoComposerPublishingStoreClass7(a):c.publishingType===m.PUBLISH_FOR_DOGFOODING||c.publishingType===m.DOGFOOD_WITH_SERIES_OR_SEASON?a=this.$VideoComposerPublishingStoreClass9(a):c.publishingType===m.SCHEDULE?a.scheduleDate===null&&(a=a.set("scheduleDate",n())):(a=a.set("scheduleDate",null),a=a.set("expireDate",null),a=a.set("expireType",0));a=this.$VideoComposerPublishingStoreClass3(a);return a;case b("VideoComposerActionTypes").SAVE_AS_DRAFT:a=a.set("isDraft",!0);b("setImmediate")(function(){f==="video_edit"?b("VideoComposerActions").saveEditedVideo(a.videoComposerID):b("VideoComposerActions").publishPost(a.videoComposerID)});return a;case b("VideoComposerActionTypes").SET_POST_TYPE:a=a.set("postType",c.postType);var k;switch(c.postType){case i.PREMIERE:k={PUBLISH_NOW:!0,BACKDATE:!0,SCHEDULE:!1};a=this.$VideoComposerPublishingStoreClass10(a,o.SCHEDULE);a=a.set("expireDate",null);a=a.set("expireType",0);break;case i.VIDEO_UPLOAD:k={PUBLISH_NOW:!1,BACKDATE:!1,SCHEDULE:!1};break;case i.VIDEO_UPLOAD_WATCH_PARTY:k={PUBLISH_NOW:!1,BACKDATE:!0,SCHEDULE:!0};a=this.$VideoComposerPublishingStoreClass10(a,o.PUBLISH_NOW);break;default:k={PUBLISH_NOW:!0,BACKDATE:!0,SCHEDULE:!0};break}a=a.set("disabledScheduleTypesMap",k);a=a.set("canDraft",a.postType===i.VIDEO_UPLOAD&&a.scheduleType===o.PUBLISH_NOW);return a;case b("VideoComposerActionTypes").SET_SCHEDULE_TYPE:a=this.$VideoComposerPublishingStoreClass10(a,c.scheduleType);a=this.$VideoComposerPublishingStoreClass3(a);return a;case b("VideoComposerActionTypes").FIRST_STEP_FOOTER_NEXT_BUTTON_CLICKED:e=b("VideoComposerStores").getBasicStore(a.videoComposerID).getState();var p=e.fundedContentProgram;b("setImmediate")(function(){return d.$VideoComposerPublishingStoreClass11(l.OPEN_DRAWER,function(){b("VideoComposerActions").openPublishDrawer(a.videoComposerID),p===1&&b("VideoComposerActions").setPublishingType(a.videoComposerID,m.SCHEDULE)})});return a;case b("VideoComposerActionTypes").FIRST_STEP_FOOTER_AD_BREAK_SUBMIT_FOR_REVIEW:b("setImmediate")(function(){return d.$VideoComposerPublishingStoreClass11(l.AD_BREAK_SUBMIT_FOR_REVIEW,function(){d.$VideoComposerPublishingStoreClass12(a.videoComposerID)})});return a;default:return a}};d.$VideoComposerPublishingStoreClass10=function(a,b){a=a.set("scheduleType",b);switch(b){case o.SCHEDULE:a=this.$VideoComposerPublishingStoreClass8(a);a.scheduleDate===null&&(a=a.set("scheduleDate",n()));break;case o.BACKDATE:a=this.$VideoComposerPublishingStoreClass13(a);break;case o.PUBLISH_NOW:a=this.$VideoComposerPublishingStoreClass8(a);a=this.$VideoComposerPublishingStoreClass13(a);break}a=a.set("canDraft",a.postType===i.VIDEO_UPLOAD&&a.scheduleType===o.PUBLISH_NOW);return a};d.$VideoComposerPublishingStoreClass5=function(a,c){var d=b("VideoComposerStores").getUploadStore(a.videoComposerID).getState(),e=d.videoUploader;d=d.uploadFinished;var f=b("VideoComposerStores").getMetadataStore(a.videoComposerID).getState();f=f.title;this.assertNonEmptyTitle(f);c==="video_crosspost"?(a=a.set("isPosting",!0),this.$VideoComposerPublishingStoreClass14(a)):(e&&!a.saveVideosInPagesComposer&&e.postUserRequest(),d?(a=a.set("isPosting",!0),this.$VideoComposerPublishingStoreClass6()):a=a.set("isPostPending",!0));a=a.set("uploadErrorData",null);a=a.set("hasAttemptedPublish",!0);return a};d.$VideoComposerPublishingStoreClass4=function(a){a=this.$VideoComposerPublishingStoreClass8(a);a=this.$VideoComposerPublishingStoreClass13(a);a=a.set("publishingType",m.PUBLISH_NOW);a=a.set("isDraft",!1);a=a.set("isDogfoodingPost",!1);a=a.set("isReviewableBrandedContent",!1);return a};d.$VideoComposerPublishingStoreClass13=function(a){a=a.set("scheduleDate",null);a=a.set("expireDate",null);a=a.set("expireType",0);a=a.set("postEndDate",null);return a};d.$VideoComposerPublishingStoreClass8=function(a){a=a.set("backdateYear",null);a=a.set("backdateMonth",null);a=a.set("backdateDay",null);a=a.set("hideFromNewsFeed",!1);return a};d.$VideoComposerPublishingStoreClass12=function(a){!b("SimpleNUXMessage").hasUserSeenMessage(b("SimpleNUXMessageTypes.bs").AD_BREAK_PREREVIEW_DIALOG)?b("VideoComposerAdBreakActions").setPrereviewDialog(this.getState().videoComposerID,!0):b("VideoComposerActions").submitForPrereview(this.getState().videoComposerID)};d.$VideoComposerPublishingStoreClass11=function(a,c){var d=this,e=b("VideoComposerStores").getMetadataStore(this.getState().videoComposerID).getState(),f=e.composerEntryPointRef,g=e.isVideoShowPage,h=e.showVideoType,i=e.title;e=e.videoDuration;var j=b("VideoComposerStores").getDistributionStore(this.getState().videoComposerID).getState();j=j.showInNewsFeed;if(a===l.OPEN_DRAWER&&(b("VideoComposerUtils").isFromCreatorStudioMultipostPanel(f)||b("VideoComposerUtils").isFromCreatorStudioBulkUploadPanel(f))){c();return}f=g&&h===null;b("videoComposerValidatePublishAction")(this.getState().videoComposerID,a,i,f,j,e,function(a){return b("VideoComposerBasicActions").highlightMissingFundedContentProgram(d.getState().videoComposerID,a)},c)};d.$VideoComposerPublishingStoreClass3=function(a){var c,d=null,e=a,f=e.expireDate,g=e.scheduleDate;e=e.postEndDate;var h=b("VideoComposerStores").getMetadataStore(a.videoComposerID).getState(),i=h.composerEntryPointRef;h=h.videoDuration;b("VideoComposerDispatchers").get(a.videoComposerID).waitFor([b("VideoComposerStores").getPremiereStore(a.videoComposerID).getDispatchToken()]);var l=b("VideoComposerStores").getPremiereStore(a.videoComposerID).getState(),m=l.premiereDate;l=l.shouldPremiere;if(a.isComposerPostScheduleRedesign){var n={postType:a.postType,scheduleType:a.scheduleType,shouldPremiere:l,expireDate:f,scheduleDate:g,backdateYear:a.backdateYear,backdateMonth:a.backdateMonth,backdateDay:a.backdateDay,premiereDate:m,postEndDate:e,videoDuration:h};n=k(a.videoComposerID,n,i);c=n.canPublish;d=n.cannotPublishReason}else{n={publishingType:a.publishingType,shouldPremiere:l,expireDate:f,scheduleDate:g,backdateYear:a.backdateYear,backdateMonth:a.backdateMonth,backdateDay:a.backdateDay,premiereDate:m,postEndDate:e,videoDuration:h};l=j(a.videoComposerID,n,i);c=l.canPublish;d=l.cannotPublishReason}a=a.set("canPublish",c);a=a.set("cannotPublishReason",d);return a};d.$VideoComposerPublishingStoreClass6=function(){var a=this.getState(),c=a.saveVideosInPagesComposer;a=a.videoComposerID;var d=b("VideoComposerStores").getMetadataStore(a).getState();d=d.enabledTabs;var e=b("VideoComposerStores").getUploadStore(a).getState();e=e.videoUploader;b("videoComposerDialogUploadDoPost")(a,e,d,c)};d.$VideoComposerPublishingStoreClass14=function(a){b("VideoComposerDialogCrosspostUtils").createCrosspost(a.videoComposerID)};d.$VideoComposerPublishingStoreClass9=function(a){a=this.$VideoComposerPublishingStoreClass13(a);a=this.$VideoComposerPublishingStoreClass8(a);a=a.set("isDraft",!1).set("isDogfoodingPost",!0);return a};d.$VideoComposerPublishingStoreClass7=function(a){a=this.$VideoComposerPublishingStoreClass13(a);a=this.$VideoComposerPublishingStoreClass8(a);a=a.set("isDraft",!0);a=a.set("isDogfoodingPost",!1);return a};d.$VideoComposerPublishingStoreClass1=function(a){switch(a){case b("VideoEditPublishingStatus").DRAFT.value:return o.PUBLISH_NOW;case b("VideoEditPublishingStatus").SCHEDULED.value:return o.SCHEDULE;case b("VideoEditPublishingStatus").PUBLISH_WITH_SERIES.value:case b("VideoEditPublishingStatus").PUBLISH_WITH_SEASON.value:return o.PUBLISH_NOW;default:throw new Error("Unhandled edit status")}};d.$VideoComposerPublishingStoreClass2=function(a){switch(a){case b("VideoEditPublishingStatus").DRAFT.value:return m.SAVE_AS_DRAFT;case b("VideoEditPublishingStatus").SCHEDULED.value:return m.SCHEDULE;case b("VideoEditPublishingStatus").PUBLISH_WITH_SERIES.value:case b("VideoEditPublishingStatus").PUBLISH_WITH_SEASON.value:return m.PUBLISH_WITH_SHOW_OR_SEASON;default:throw new Error("Unhandled edit status")}};d.assertNonEmptyTitle=function(a){!a&&g(0,2870)};d.getCrosspostRequestDataToSend=function(){var a=this.getState(),c={published:!0};a.isDraft&&(c.published=!1,c.unpublished_content_type="DRAFT");a.scheduleDate&&(c.published=!1,c.unpublished_content_type="SCHEDULED",c.scheduled_publish_time=Math.floor(a.scheduleDate.getTime()/h));a.expireDate&&(c.expiration={time:Math.floor(a.expireDate.getTime()/h),type:b("ExpirationTypeToExpirationTypeApiMap")[a.expireType||0]});a.backdateYear&&(c.backdated_post={backdated_time:Math.floor(new Date(a.backdateYear||0,(a.backdateMonth||0)-1,a.backdateDay||0).getTime()/h),backdated_time_granularity:"day",hide_from_newsfeed:a.hideFromNewsFeed});return b("Promise").resolve(b("flattenPHPQueryData")(c))};d.getEditRequestDataToSend=function(){var a=this.getState(),c={},d=b("VideoComposerStores").getMetadataStore(a.videoComposerID).getState();d=d.isEditModeUpgrade;if(d){a.isComposerPostScheduleRedesign?d=!a.isDraft&&a.postType===i.VIDEO_UPLOAD&&a.scheduleType===o.PUBLISH_NOW:d=a.publishingType===m.PUBLISH_NOW;d&&(c.publish=!0)}else a.editToPublished&&(c.publish=!0),a.editToExpired&&(c.expire=!0);d=a.originalScheduleDate;var e=(!a.isComposerPostScheduleRedesign||a.isComposerPostScheduleRedesign&&a.postType===i.VIDEO_UPLOAD)&&a.scheduleDate||new Date(0);if(d&&e){d=Math.floor(d.getTime()/h);e=Math.floor(e.getTime()/h);d!==e&&!b("VideoComposerDialogEditUtils").areTwoTimesAlmostTheSame(d,e)&&(c.scheduled_publish_time=e)}d=a.originalExpireDate;e=a.expireDate||new Date(0);if(d&&e){d=Math.floor(d.getTime()/h);e=Math.floor(e.getTime()/h);d!==e&&!b("VideoComposerDialogEditUtils").areTwoTimesAlmostTheSame(d,e)&&(c.expiration_time=e)}a.originalExpireType!==a.expireType&&(c.expiration_type=a.expireType);return b("Promise").resolve(c)};d.getPostRequestDataToSend=function(){var a=this.getState(),c={dogfooding:a.isDogfoodingPost,draft:a.isDraft,ad_break_prereview:a.isAdBreakPrereview,is_reviewable_branded_content:a.isReviewableBrandedContent};if(a.scheduleDate!=null&&(!a.isComposerPostScheduleRedesign||a.isComposerPostScheduleRedesign&&a.postType===i.VIDEO_UPLOAD)){var d=b("VideoComposerDialogUtils").formatDateAndTime(a.scheduleDate),e=d.dateStr;d=d.timeSec;c.scheduled=!0;c.future_date=e;c.future_time=d}a.expireDate&&(c.expiring=!0,c.expire_type=a.expireType,c.expire_time=a.expireDate&&a.expireDate.getTime()/h);if(a.postEndDate){e=b("VideoComposerDialogUtils").formatDateAndTime(a.postEndDate);d=e.dateStr;e=e.timeSec;c["feed_targeted_data[relevant-until-date]"]=d;c["feed_targeted_data[relevant-until-time]"]=e}a.backdateYear&&(c["backdated_date[year]"]=a.backdateYear,c["backdated_date[month]"]=a.backdateMonth,c["backdated_date[day]"]=a.backdateDay,c.hide_from_newsfeed=a.hideFromNewsFeed);return b("Promise").resolve(c)};return c}(b("VideoComposerStoreBase"));e.exports=f}),null);
__d("VideoComposerRightsStoreClass",["fbt","Promise","ImmutableRecordWithV4Types","VideoComposerActions","VideoComposerActionTypes","VideoComposerRightsActions","VideoComposerRightsUtil","VideoComposerStoreBase","VideoComposerStores","VideoCopyrightAPI","VideoCopyrightMonitoringType","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";a=b("ImmutableRecordWithV4Types").Record;var h=b("VideoComposerRightsUtil").errorMessageMissingMediaCategory;c={videoComposerID:"",areCountriesIncluded:!0,attributionID:null,category:null,copyrightID:null,fbWhitelistedUsers:[],igWhitelistedUsers:[],isIgRightsManagementEnabled:!1,matchRuleID:null,monitoringType:b("VideoCopyrightMonitoringType").VIDEO_ONLY.value,ownershipCountries:[],shouldDetectMatches:!1,showAttributionSelector:!1,showCategoryRequiredError:!1,rmVersion:null};var i=a(c);d=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return i()};d.reduceImpl=function(a,c){switch(c.type){case b("VideoComposerActionTypes").BOOTLOAD_RIGHTS_PARAMETERS:a=a.set("isIgRightsManagementEnabled",c.data.isIgRightsManagementEnabled).set("rmVersion",c.data.rmVersion).set("showAttributionSelector",c.data.showAttributionSelector);var d=c.data.defaultSettings;d&&d.use_custom_copyright_settings&&(a=a.set("monitoringType",d.copyright_monitoring_type).set("matchRuleID",d.copyright_match_rule_id).set("ownershipCountries",d.copyright_ownership_countries).set("areCountriesIncluded",d.are_countries_included).set("attributionID",d.copyright_attribution_id));return a;case b("VideoComposerActionTypes").BOOTLOAD_EDIT_RIGHTS_PARAMETERS:a=a.set("isIgRightsManagementEnabled",c.data.isIgRightsManagementEnabled).set("showAttributionSelector",c.data.showAttributionSelector).set("rmVersion",c.data.rmVersion).set("shouldDetectMatches",c.data.shouldDetectMatches);return c.data.shouldDetectMatches?a.set("areCountriesIncluded",c.data.areCountriesIncluded).set("attributionID",c.data.attributionID).set("category",c.data.category).set("copyrightID",c.data.copyrightID).set("fbWhitelistedUsers",c.data.fbWhitelistedUsers).set("igWhitelistedUsers",c.data.igWhitelistedUsers).set("matchRuleID",c.data.matchRuleID).set("monitoringType",c.data.monitoringType).set("ownershipCountries",c.data.ownershipCountries):a;case b("VideoComposerActionTypes").UPDATE_MONITORING_TYPE:a=a.set("monitoringType",c.monitoringType);return a;case b("VideoComposerActionTypes").UPDATE_CATEGORY:a=a.set("category",c.category).set("showCategoryRequiredError",!c.category);return a;case b("VideoComposerActionTypes").UPDATE_CATEGORY_REQUIRED_ERROR:a=a.set("showCategoryRequiredError",!0);return a;case b("VideoComposerActionTypes").UPDATE_OWNERSHIP_COUNTRIES:a=a.set("ownershipCountries",c.ownershipCountries).set("areCountriesIncluded",c.areCountriesIncluded);return a;case b("VideoComposerActionTypes").UPDATE_SHOULD_DETECT_MATCHES:a=a.set("shouldDetectMatches",c.shouldDetectMatches);a=a.set("showCategoryRequiredError",!this.$VideoComposerRightsStoreClass1(a));return a;case b("VideoComposerActionTypes").UPDATE_MATCH_RULE:a=a.set("matchRuleID",c.matchRuleID);return a;case b("VideoComposerActionTypes").UPDATE_ATTRIBUTION:a=a.set("attributionID",c.attributionID);return a;case b("VideoComposerActionTypes").UPDATE_FB_WHITELISTED_USERS:a=a.set("fbWhitelistedUsers",c.fbWhitelistedUsers);return a;case b("VideoComposerActionTypes").UPDATE_IG_WHITELISTED_USERS:a=a.set("igWhitelistedUsers",c.igWhitelistedUsers);return a;case b("VideoComposerActionTypes").RESET_COMPOSER:a=this.getInitialState();return a;default:return a}};d.$VideoComposerRightsStoreClass1=function(a){a===void 0&&(a=this.getState());a=a;var b=a.category,c=a.shouldDetectMatches;a=a.rmVersion;return!c||b!==null||a==="LITE"};d.getPostRequestDataToSend=function(){var a=this.getState(),c=a.attributionID,d=a.category,e=a.copyrightID,f=a.monitoringType,i=a.ownershipCountries,j=a.areCountriesIncluded,k=a.shouldDetectMatches,l=a.matchRuleID,m=a.fbWhitelistedUsers,n=a.igWhitelistedUsers,o=a.videoComposerID;if(!e&&!k)return b("Promise").resolve({});if(!this.$VideoComposerRightsStoreClass1()){b("setTimeout")(function(){b("VideoComposerRightsActions").updateShowCategoryRequiredError(o),b("VideoComposerActions").selectTab(o,"rights")},1);return b("Promise").reject(h)}a=b("VideoComposerStores").getMetadataStore(o).getState();var p=a.accessToken,q=a.targetID;a=a.videoID;if(!q||!a)return b("Promise").reject(g._("Monitoring matches failed"));j={areCopyrightCountriesIncluded:j,copyrightAttributionID:c,copyrightRuleID:l,copyrightMonitoringType:f,copyrightOwnershipCountries:i,copyrightWhitelistedIGUserNames:n,copyrightWhitelistedFBUsers:m,selectedCategory:d};e&&!k?c=b("VideoCopyrightAPI").uncopyrightVideo(p,q,a,e,j,"video_edit_dialog"):e&&k?c=b("VideoCopyrightAPI").editVideoCopyright(p,q,a,e,j,"video_edit_dialog"):c=b("VideoCopyrightAPI").copyrightVideo(p,q,a,j,"video_upload_composer");return c.then(function(a){return{}},function(a){return b("Promise").reject(a.error_user_title)})};return c}(b("VideoComposerStoreBase"));e.exports=d}),null);
__d("VideoComposerQEStoreClass",["ImmutableRecordWithV4Types","VideoComposerActionTypes","VideoComposerStoreBase"],(function(a,b,c,d,e,f){"use strict";a=b("ImmutableRecordWithV4Types").Record;var g=a({videoComposerID:"",gameTaggingAlwaysShowGenericTagging:!1,gameTaggingToggle:!0,gameTaggingNewTypeahead:!1});c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return g()};d.reduceImpl=function(a,c){switch(c.type){case b("VideoComposerActionTypes").BOOTLOAD_DEFAULT_TAB_PARAMETERS:a=a.set("gameTaggingAlwaysShowGenericTagging",c.data.gameTaggingAlwaysShowGenericTagging);a=a.set("gameTaggingToggle",c.data.gameTaggingToggle);a=a.set("gameTaggingNewTypeahead",c.data.gameTaggingNewTypeahead);return a;case b("VideoComposerActionTypes").INITIALIZE_EDIT_COMPOSER:a=a.set("gameTaggingAlwaysShowGenericTagging",c.editParams.gameTaggingAlwaysShowGenericTagging);a=a.set("gameTaggingToggle",c.editParams.gameTaggingToggle);a=a.set("gameTaggingNewTypeahead",c.editParams.gameTaggingNewTypeahead);return a;default:return a}};return c}(b("VideoComposerStoreBase"));e.exports=c}),null);
__d("SphericalMetadata",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({fbSpatialAudioMetadata:void 0,ytSpatialAudioMetadata:void 0,guideData:void 0,mayHaveSpatialAudio:void 0,initialPitch:void 0,initialYaw:void 0,initialFOV:void 0,projectionType:void 0,spherical:void 0,stereoMode:void 0,stitched:void 0,stitchingSoftware:void 0,extraTagXML:void 0,used360Director:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("VideoSphericalMetadataGatherer",["regeneratorRuntime","ISOVideoBoxConstants","VideoSphericalMetadataUtil","checkForSphericalTag"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$5=a,this.$1=null,this.$2=null,this.$3=null,this.$4=null,this.$6=!1,this.$7=!1,this.$8=0}var c=a.prototype;c.gatherRawSphericalMetadata=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(this.$9());case 2:this.$10(),this.$11(),this.$7=!0;case 5:case"end":return a.stop()}},null,this)};c.getRawSphericalMetadata=function(){if(!this.$7)throw new Error("spherical metadata has not been gathered yet");var a={isSpherical:this.$6,numAudioTracks:this.$8};this.$3&&(this.$3="<fb360_spatial_audio>"+this.$3+"</fb360_spatial_audio>");this.$1!==null&&(a.FBSphericalMetadataXML=this.$1);this.$2!==null&&(a.GSphericalMetadataXML=this.$2);this.$3!==null&&(a.FBSpatialAudioMetadataXML=this.$3);this.$4!==null&&(a.YTSA3DMetadataJSON=this.$4);return a};c.hasGathered=function(){return this.$7};c.$9=function(){var a,c,d,e,f,g;return b("regeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:a=this.$5.findBoxes("uuid"),(c=a,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]());case 2:if(!d){h.next=8;break}if(!(e>=c.length)){h.next=5;break}return h.abrupt("break",17);case 5:f=c[e++];h.next=12;break;case 8:e=c.next();if(!e.done){h.next=11;break}return h.abrupt("break",17);case 11:f=e.value;case 12:g=f;h.next=15;return b("regeneratorRuntime").awrap(this.$12(g));case 15:h.next=2;break;case 17:case"end":return h.stop()}},null,this)};c.$12=function(a){var c,d,e,f,g;return b("regeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:c=b("VideoSphericalMetadataUtil").uuidArrayEquals(a.getExtraFields().usertype,b("ISOVideoBoxConstants").GSPHERICAL_UUID);d=b("VideoSphericalMetadataUtil").uuidArrayEquals(a.getExtraFields().usertype,b("ISOVideoBoxConstants").FBSPHERICAL_UUID);if(!(c||d)){h.next=11;break}h.t0=Uint8Array;h.next=6;return b("regeneratorRuntime").awrap(a.getBuffer("data"));case 6:h.t1=h.sent;e=new h.t0(h.t1);f="";for(g=0;g<e.length;g++)f+=String.fromCharCode(e[g]);b("checkForSphericalTag")(f)&&(this.$6=!0,d&&(this.$1=f),c&&(this.$2=f));case 11:case"end":return h.stop()}},null,this)};c.$10=function(){var a=this.$5.findBoxes("meta");for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;this.$13(d)}};c.$13=function(a){var b=a.getChildren(),c=null,d=null;for(var b=b,e=Array.isArray(b),f=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;g.getBoxtype()==="hdlr"&&(c=g);g.getBoxtype()==="xml "&&(d=g)}if(c===null||d===null||c.getExtraFields().handler_type!=="face")return;g=d.getExtraFields().xml_string;f=null;e=null;b=a.getParent();if(b&&b.getBoxtype()==="trak"){for(var c=b.getChildren(),d=Array.isArray(c),a=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(a>=c.length)break;b=c[a++]}else{a=c.next();if(a.done)break;b=a.value}b=b;b.getBoxtype()==="tkhd"&&(f=b)}f!==null&&(e=f.getExtraFields().track_id,this.$8++)}this.$3||(this.$3="");e!==null?this.$3+='<track id="'+e.toString()+'">'+g+"</track>":this.$3+="<spatial_audio_formatting>"+g+"</spatial_audio_formatting>"};c.$11=function(){var a=this.$5.findBoxes("SA3D");for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;this.$14(d)}};c.$14=function(a){if(this.$4!==null)return;a=JSON.stringify(a.getExtraFields());this.$4=a};return a}();e.exports=a}),null);
__d("FBGuideMetadata",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({keyframes:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("FBSpatialAudioMetadata",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({encoderMetadata:null,focusData:null,headlockedData:null,spatialData:null,trackData:null});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("YTSpatialAudioMetadata",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({ambisonic_channel_ordering:-1,ambisonic_normalization:-1,ambisonic_order:-1,ambisonic_type:-1,channel_map:[],num_channels:-1,version:-1});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("VideoSphericalMetadataReader",["FBGuideMetadata","FBSpatialAudioMetadata","VideoSphericalMetadataUtil","YTSpatialAudioMetadata"],(function(a,b,c,d,e,f){"use strict";a={parseGSphericalMetadataXML:function(a,c){a=b("VideoSphericalMetadataUtil").parseXMLToDocument(a);if(!a)return c;var d=b("VideoSphericalMetadataUtil").getUnsupportedGSphericalTagsXML(a),e=a.getElementsByTagNameNS("*","Spherical")[0],f=a.getElementsByTagNameNS("*","InitialViewHeadingDegrees")[0],g=a.getElementsByTagNameNS("*","InitialViewPitchDegrees")[0],h=a.getElementsByTagNameNS("*","Stitched")[0],i=a.getElementsByTagNameNS("*","StitchingSoftware")[0],j=a.getElementsByTagNameNS("*","StereoMode")[0],k=a.getElementsByTagNameNS("*","ProjectionType")[0],l=a.getElementsByTagNameNS("*","CroppedAreaImageWidthPixels")[0],m=a.getElementsByTagNameNS("*","CroppedAreaImageHeightPixels")[0],n=a.getElementsByTagNameNS("*","FullPanoWidthPixels")[0];a=a.getElementsByTagNameNS("*","FullPanoHeightPixels")[0];var o=null;if(f){f=parseInt(f.childNodes[0].nodeValue,10);isNaN(f)||(o=f)}f=null;if(g){g=parseInt(g.childNodes[0].nodeValue,10);isNaN(g)||(f=g)}g=e?e.childNodes[0].nodeValue.toLowerCase()==="true":null;e=h?h.childNodes[0].nodeValue.toLowerCase()==="true":null;h=i?i.childNodes[0].nodeValue:null;i=j?b("VideoSphericalMetadataUtil").stringToStereoMode(j.childNodes[0].nodeValue):null;j=k?b("VideoSphericalMetadataUtil").stringToProjectionType(k.childNodes[0].nodeValue):null;k=l?l.childNodes[0].nodeValue:null;l=m?m.childNodes[0].nodeValue:null;m=n?n.childNodes[0].nodeValue:null;n=a?a.childNodes[0].nodeValue:null;o!==null&&(c=c.set("initialYaw",o));f!==null&&(c=c.set("initialPitch",f));e!==null&&(c=c.set("stitched",e));h!==null&&(c=c.set("stitchingSoftware",h));g&&(c=c.set("spherical",g));i&&(c=c.set("stereoMode",i));j&&(c=c.set("projectionType",j));d&&(c=c.set("extraTagXML",d));a=b("VideoSphericalMetadataUtil").isGoogleVR180(c,k,l,m,n);a&&(c=c.set("projectionType","half_equirectangular"));return c},parseFBSphericalMetadataXML:function(a,c){a=b("VideoSphericalMetadataUtil").parseXMLToDocument(a);if(!a)return c;var d=null,e=null,f=null,g=a.getElementsByTagNameNS("*","InitialVerticalFOVDegrees")[0];if(g){g=parseInt(g.childNodes[0].nodeValue,10);isNaN(g)||(d=g)}g=a.getElementsByTagNameNS("*","Used360Director")[0];g&&(f=g.childNodes[0].nodeValue==="true");g=a.getElementsByTagNameNS("*","Guide")[0];if(g){a=g.getElementsByTagName("Keyframe");var h=function(){if(j){if(k>=i.length)return"break";a=i[k++]}else{k=i.next();if(k.done)return"break";a=k.value}var c=a,d=c.getElementsByTagName("pitch"),f=c.getElementsByTagName("yaw"),a=c.getElementsByTagName("fov");c=c.getElementsByTagName("timestamp");var h=void 0;if(d.length>0){d=parseFloat(d[0].textContent);isNaN(d)||(h=d)}var l=void 0;if(f.length>0){d=parseFloat(f[0].textContent);isNaN(d)||(l=d)}var m=void 0;if(a.length>0){f=parseInt(a[0].textContent,10);isNaN(f)||(m=f)}var n=void 0;if(c.length>0){d=parseInt(c[0].textContent,10);isNaN(d)||(n=d)}if(h==null||l==null||m==null||n==null)return"continue";e||(e=new(b("FBGuideMetadata"))({keyframes:[]}));e=e.update("keyframes",function(a){return a.concat([{pitch:h,yaw:l,fov:m,timestamp:n}])})};_loop:for(var i=a,j=Array.isArray(i),k=0,i=j?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){a=h();switch(a){case"break":break _loop;case"continue":continue}}}(d||e||f)&&(d!==null&&(c=c.set("initialFOV",d)),e!==null&&(c=c.set("guideData",e)),f!==null&&(c=c.set("used360Director",f)));return c},parseFBSpatialAudioXML:function(a){a=b("VideoSphericalMetadataUtil").parseXMLToDocument(a);if(!a)return null;var c=a.getElementsByTagName("encoder_metadata")[0],d=a.getElementsByTagName("spatial")[0],e=a.getElementsByTagName("headlocked")[0],f=a.getElementsByTagName("focus")[0];a=a.getElementsByTagName("track");var g=new(b("FBSpatialAudioMetadata"))();c&&(g=g.set("encoderMetadata",{gitCommitDate:c.getAttribute("git_commit_date"),gitHash:c.getAttribute("git_hash"),is64Bit:c.getAttribute("is64bit")==="yes",name:c.getAttribute("name"),osName:c.getAttribute("osName"),version:c.getAttribute("version")}));if(d){c=d.getAttribute("format");var h=d.getAttribute("channel_map"),i=[];if(h){h=h.split(" ");for(var h=h,j=Array.isArray(h),k=0,h=j?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(j){if(k>=h.length)break;l=h[k++]}else{k=h.next();if(k.done)break;l=k.value}l=l;i.push(parseInt(l,10))}}g=g.set("spatialData",{bitDepth:parseInt(d.getAttribute("bit_depth"),10),channelMap:i,format:c?c:"",sampleRate:parseInt(d.getAttribute("sample_rate"),10)})}e&&(g=g.set("headlockedData",{bitDepth:parseInt(d.getAttribute("bit_depth"),10),sampleRate:parseInt(d.getAttribute("sample_rate"),10)}));if(f){l=f.getAttribute("schemeIdUri");g=g.set("focusData",{enabled:f.getAttribute("enabled")==="true",focusWidthDegrees:parseFloat(f.getAttribute("focusWidthDegrees")),offFocusLevel:parseFloat(f.getAttribute("offFocusLevel")),offFocusLevelDB:parseFloat(f.getAttribute("offFocusLevelDB")),schemeIDUri:l?l:""})}if(a){k=[];for(var j=a,h=Array.isArray(j),i=0,j=h?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(h){if(i>=j.length)break;c=j[i++]}else{i=j.next();if(i.done)break;c=i.value}e=c;d=e.getElementsByTagName("AudioChannelConfiguration");f=void 0;d.length>1?f=d[1]:f=d[0];l=f.getAttribute("schemeIdUri");a=f.getAttribute("value");k.push({schemeIDUri:l?l:"",trackID:parseInt(e.getAttribute("id"),10),value:a?a:""})}g=g.set("trackData",k)}return g},parseYTSpatialAudioJSON:function(a){a=JSON.parse(a);var c=a.ambisonic_channel_ordering,d=a.ambisonic_normalization,e=a.ambisonic_order,f=a.ambisonic_type,g=a.channel_map,h=a.num_channels;a=a.version;return new(b("YTSpatialAudioMetadata"))({ambisonic_channel_ordering:c,ambisonic_normalization:d,ambisonic_order:e,ambisonic_type:f,channel_map:g,num_channels:h,version:a})}};e.exports=a}),null);
__d("VideoSphericalMetadataReaderController",["regeneratorRuntime","SphericalMetadata","VideoSphericalMetadataGatherer","VideoSphericalMetadataReader"],(function(a,b,c,d,e,f){"use strict";var g=3;a=function(){function a(a){this.$2=new(b("SphericalMetadata"))();this.$3=!1;switch(a.sourceType){case"fileObject":this.$5=a.fileObject;this.$4=new(b("VideoSphericalMetadataGatherer"))(this.$5);break;case"metadata":this.$1=a.metadata;break;default:throw new Error("Unrecognized source type")}}var c=a.prototype;c.$6=function(){if(!this.$1)return;if(!this.$1.isSpherical)return;this.$1.GSphericalMetadataXML&&(this.$2=b("VideoSphericalMetadataReader").parseGSphericalMetadataXML(this.$1.GSphericalMetadataXML,this.$2));this.$1.FBSphericalMetadataXML&&(this.$2=b("VideoSphericalMetadataReader").parseFBSphericalMetadataXML(this.$1.FBSphericalMetadataXML,this.$2));if(this.$1.FBSpatialAudioMetadataXML){var a=b("VideoSphericalMetadataReader").parseFBSpatialAudioXML(this.$1.FBSpatialAudioMetadataXML);a&&(this.$2=this.$2.set("fbSpatialAudioMetadata",a))}if(this.$1.YTSA3DMetadataJSON){a=b("VideoSphericalMetadataReader").parseYTSpatialAudioJSON(this.$1.YTSA3DMetadataJSON);this.$2=this.$2.set("ytSpatialAudioMetadata",a)}this.$2=this.$2.set("mayHaveSpatialAudio",this.$1.numAudioTracks===g);this.$3=!0};a.objectToRawSphericalMetadata=function(a){var b,c=a.streams.numAudioTracks;b=!!((b=a)!=null?(b=b.format)!=null?b.isSpherical:b:b);c={isSpherical:b,numAudioTracks:c};if(!b)return c;b=(b=a)!=null?(b=b.metadata)!=null?b.sphericalMetadataXml:b:b;b&&(c.GSphericalMetadataXML=b);b=(b=a)!=null?(b=b.metadata)!=null?b.FBSphericalMetadataXML:b:b;b&&(c.FBSphericalMetadataXML=b);b=(b=a)!=null?(b=b.metadata)!=null?b.fbSpatialAudioMetadataXml:b:b;b&&(c.FBSpatialAudioMetadataXML=b);a=(b=a)!=null?(b=b.metadata)!=null?b.ytSa3dMetadataJson:b:b;a&&(c.YTSA3DMetadataJSON=a);return c};c.getFileMetadata=function(){var a;return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:if(this.$3){c.next=15;break}if(this.$1){c.next=14;break}c.prev=2;a=this.$4;if(!a){c.next=9;break}if(a.hasGathered()){c.next=8;break}c.next=8;return b("regeneratorRuntime").awrap(a.gatherRawSphericalMetadata());case 8:this.$1=a.getRawSphericalMetadata();case 9:c.next=14;break;case 11:c.prev=11;c.t0=c["catch"](2);return c.abrupt("return",this.$2);case 14:this.$6();case 15:return c.abrupt("return",this.$2);case 16:case"end":return c.stop()}},null,this,[[2,11]])};return a}();e.exports=a}),null);
__d("UserPayStarsGoalsStoresUtils",["RelayFBEnvironment","RelayModern","UserPayStarsGoalsStoresUtilsQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").fetchQuery;b("RelayModern").graphql;var i=g!==void 0?g:g=b("UserPayStarsGoalsStoresUtilsQuery.graphql");function a(a){return h(b("RelayFBEnvironment"),i,{pageID:String(a)},{force:!0})}e.exports={fetchGoals:a}}),null);
__d("VideoComposerStarsStoreClass",["Promise","ImmutableRecordWithV4Types","LoadObject","UserPayStarsGoalsStoresUtils","VideoComposerActionTypes","VideoComposerStarsActions","VideoComposerStoreBase","immutable","promiseDone"],(function(a,b,c,d,e,f){"use strict";a=b("ImmutableRecordWithV4Types").Record;var g=b("UserPayStarsGoalsStoresUtils").fetchGoals;c={videoComposerID:"",actorID:"",isReceivingStarsEnabled:!0,goals:b("LoadObject").loading(),selectedGoal:null};var h=a(c),i=function(a){a=b("immutable").List(((a=a==null?void 0:(a=a.page)==null?void 0:(a=a.gaming_video_creator_settings)==null?void 0:(a=a.goals_settings)==null?void 0:(a=a.gaming_video_goals)==null?void 0:a.nodes)!=null?a:[]).filter(function(a){var b;return a.gaming_video_goal_type==="STARS"&&((b=a.current_goal_value)!=null?b:0)<((b=a.target_value)!=null?b:0)&&a.id!=null&&a.title_string!=null}).map(function(a){var b;return{id:(b=a.id)!=null?b:"",title:(b=a.title_string)!=null?b:"",currentValue:(b=a.current_goal_value)!=null?b:0,targetValue:(b=a.target_value)!=null?b:0}}));return a.isEmpty()?b("LoadObject").empty():b("LoadObject").withValue(a)};d=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return h()};d.reduceImpl=function(a,c){switch(c.type){case b("VideoComposerActionTypes").RESET_COMPOSER:return h();case b("VideoComposerActionTypes").INITIALIZE_UPLOAD_COMPOSER:var d=c.serverParams.common.actorID;this.__load(d);return a.set("actorID",d);case b("VideoComposerActionTypes").INITIALIZE_EDIT_COMPOSER:d=c.editParams.common.actorID;this.__load(d);return a.set("actorID",d);case b("VideoComposerActionTypes").STARS_BOOTLOAD_EDIT:d=c.isReceivingStarsEnabled;var e=c.selectedGoal;return a.set("isReceivingStarsEnabled",(d=d)!=null?d:!0).set("selectedGoal",e);case b("VideoComposerActionTypes").STARS_EDITOR_TOGGLE_STARS_ENABLED:return a.set("isReceivingStarsEnabled",!a.isReceivingStarsEnabled);case b("VideoComposerActionTypes").STARS_EDITOR_DATA_RECEIVED:return a.set("goals",c.goals);case b("VideoComposerActionTypes").STARS_EDITOR_UPDATE_SELECTED_GOAL:return a.set("selectedGoal",c.goal);default:return a}};d.getEditRequestDataToSend=function(){var a=this.getState(),c=a.isReceivingStarsEnabled;a=a.selectedGoal;return b("Promise").resolve({is_receiving_stars_enabled:c,stars_goal_id:a==null?void 0:a.id})};d.getPostRequestDataToSend=function(){var a=this.getState(),c=a.isReceivingStarsEnabled;a=a.selectedGoal;return b("Promise").resolve({is_receiving_stars_enabled:c,stars_goal_id:a==null?void 0:a.id})};d.getCrosspostRequestDataToSend=function(){var a=this.getState(),c=a.isReceivingStarsEnabled;a=a.selectedGoal;return b("Promise").resolve({is_receiving_stars_enabled:c,stars_goal_id:a==null?void 0:a.id})};d.__load=function(a){var c=this.getState(),d=c.videoComposerID;b("promiseDone")(g(a),function(a){b("VideoComposerStarsActions").dataFetched(d,i(a))},function(a){})};return c}(b("VideoComposerStoreBase"));e.exports=d}),null);
__d("VideoComposerStoreKeys",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({AD_BREAK:"",BASIC:"",CAPTIONS:"",CAPTION_EDITOR:"",CLIPPING:"",DIALOG:"",DISTRIBUTION:"",EDIT:"",LOGGING:"",METADATA:"",POLLS:"",PREMIERE:"",PUBLISHING:"",QES:"",QUESTIONS:"",RIGHTS:"",SOUND_EDITOR:"",SOUND_EDITOR_SOUND_COLLECTION:"",SPHERICAL_DIRECTOR:"",STARS:"",THUMBNAILS:"",TRACKING:"",TRIMMING_EDITOR:"",UI:"",UPLOAD:"",AD_BREAK_IMAGE_ADS_LOGGING:""});e.exports=a}),null);
__d("VideoComposerTrackingStoreClass",["Promise","ImmutableRecordWithV4Types","VideoComposerActionTypes","VideoComposerStoreBase","flattenPHPQueryData"],(function(a,b,c,d,e,f){"use strict";a=b("ImmutableRecordWithV4Types").Record;var g=a({videoComposerID:"",customLabels:[],universalID:""});c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return g()};d.reduceImpl=function(a,c){switch(c.type){case b("VideoComposerActionTypes").APPEND_CUSTOM_LABELS:var d=this.getState();d=d.customLabels;d=new Set(d.concat(c.customLabels));a=a.set("customLabels",Array.from(d));return a;case b("VideoComposerActionTypes").BOOTLOAD_TRACKING_EDIT_PARAMS:a=a.set("customLabels",c.data.customLabels);a=a.set("universalID",c.data.universalID);return a;case b("VideoComposerActionTypes").UPDATE_CUSTOM_LABELS:a=a.set("customLabels",c.customLabels);return a;case b("VideoComposerActionTypes").UPDATE_UNIVERSAL_ID:a=a.set("universalID",c.universalID);return a;case b("VideoComposerActionTypes").RESET_COMPOSER:a=this.getInitialState();return a;default:return a}};d.getPostRequestDataToSend=function(){var a=this.getState(),c=a.customLabels;a=a.universalID;return b("Promise").resolve({custom_labels:c,external_video_id:a})};d.getEditRequestDataToSend=function(){return this.getPostRequestDataToSend().then(function(a){return b("Promise").resolve(b("flattenPHPQueryData")(a))})};return c}(b("VideoComposerStoreBase"));e.exports=c}),null);
__d("VideoComposerStores",["VideoComposerAdBreakImageAdsLoggerStoreClass","VideoComposerAdBreakStoreClass","VideoComposerBasicStoreClass","VideoComposerCaptionEditorStoreClass","VideoComposerCaptionsStoreClass","VideoComposerClippingStoreClass","VideoComposerDialogStoreClass","VideoComposerDispatchers","VideoComposerDistributionStoreClass","VideoComposerEditStoreClass","VideoComposerLoggingStoreClass","VideoComposerMetadataStoreClass","VideoComposerPollsStoreClass","VideoComposerPremiereStoreClass","VideoComposerPublishingStoreClass","VideoComposerQEStoreClass","VideoComposerQuestionsStoreClass","VideoComposerRightsStoreClass","VideoComposerSoundEditorSoundCollectionStoreClass","VideoComposerSoundEditorStoreClass","VideoComposerSphericalDirectorStoreClass","VideoComposerStarsStoreClass","VideoComposerStoreKeys","VideoComposerThumbnailsStoreClass","VideoComposerTrackingStoreClass","VideoComposerTrimmingEditorStoreClass","VideoComposerUIStoreClass","VideoComposerUploadStoreClass"],(function(a,b,c,d,e,f){"use strict";var g,h,i=b("VideoComposerDispatchers").DEFAULT_VIDEO_COMPOSER_ID,j={};function a(a,b){if(j[a]!=null)return;var c={};Object.keys(K).forEach(function(a){c[a]=new K[a](b)});j[a]=c}function c(){j={}}function d(a){return j[a]}function k(a){return a!=null&&a.trim()!==""?a:i}function f(a){a=k(a);return j[a][b("VideoComposerStoreKeys").AD_BREAK]}function l(a){a=k(a);return j[a][b("VideoComposerStoreKeys").BASIC]}function m(a){a=k(a);return j[a][b("VideoComposerStoreKeys").CAPTIONS]}function n(a){a=k(a);return j[a][b("VideoComposerStoreKeys").CAPTION_EDITOR]}function o(a){a=k(a);return j[a][b("VideoComposerStoreKeys").CLIPPING]}function p(a){a=k(a);return j[a][b("VideoComposerStoreKeys").DIALOG]}function q(a){a=k(a);return j[a][b("VideoComposerStoreKeys").DISTRIBUTION]}function r(a){a=k(a);return j[a][b("VideoComposerStoreKeys").EDIT]}function s(a){a=k(a);return j[a][b("VideoComposerStoreKeys").LOGGING]}function t(a){a=k(a);return j[a][b("VideoComposerStoreKeys").METADATA]}function u(a){a=k(a);return j[a][b("VideoComposerStoreKeys").POLLS]}function v(a){a=k(a);return j[a][b("VideoComposerStoreKeys").PREMIERE]}function w(a){a=k(a);return j[a][b("VideoComposerStoreKeys").PUBLISHING]}function x(a){a=k(a);return j[a][b("VideoComposerStoreKeys").QES]}function y(a){a=k(a);return j[a][b("VideoComposerStoreKeys").QUESTIONS]}function z(a){a=k(a);return j[a][b("VideoComposerStoreKeys").RIGHTS]}function A(a){a=k(a);return j[a][b("VideoComposerStoreKeys").SOUND_EDITOR]}function B(a){a=k(a);return j[a][b("VideoComposerStoreKeys").SOUND_EDITOR_SOUND_COLLECTION]}function C(a){a=k(a);return j[a][b("VideoComposerStoreKeys").SPHERICAL_DIRECTOR]}function D(a){a=k(a);return j[a][b("VideoComposerStoreKeys").STARS]}function E(a){a=k(a);return j[a][b("VideoComposerStoreKeys").THUMBNAILS]}function F(a){a=k(a);return j[a][b("VideoComposerStoreKeys").TRACKING]}function G(a){a=k(a);return j[a][b("VideoComposerStoreKeys").TRIMMING_EDITOR]}function H(a){a=k(a);return j[a][b("VideoComposerStoreKeys").UI]}function I(a){a=k(a);return j[a][b("VideoComposerStoreKeys").UPLOAD]}function J(a){a=k(a);return j[a][b("VideoComposerStoreKeys").AD_BREAK_IMAGE_ADS_LOGGING]}var K=(g={},g[(h=b("VideoComposerStoreKeys")).AD_BREAK]=b("VideoComposerAdBreakStoreClass"),g[h.BASIC]=b("VideoComposerBasicStoreClass"),g[h.CAPTIONS]=b("VideoComposerCaptionsStoreClass"),g[h.CAPTION_EDITOR]=b("VideoComposerCaptionEditorStoreClass"),g[h.CLIPPING]=b("VideoComposerClippingStoreClass"),g[h.DIALOG]=b("VideoComposerDialogStoreClass"),g[h.DISTRIBUTION]=b("VideoComposerDistributionStoreClass"),g[h.EDIT]=b("VideoComposerEditStoreClass"),g[h.LOGGING]=b("VideoComposerLoggingStoreClass"),g[h.METADATA]=b("VideoComposerMetadataStoreClass"),g[h.POLLS]=b("VideoComposerPollsStoreClass"),g[h.PREMIERE]=b("VideoComposerPremiereStoreClass"),g[h.PUBLISHING]=b("VideoComposerPublishingStoreClass"),g[h.QES]=b("VideoComposerQEStoreClass"),g[h.QUESTIONS]=b("VideoComposerQuestionsStoreClass"),g[h.RIGHTS]=b("VideoComposerRightsStoreClass"),g[h.SOUND_EDITOR]=b("VideoComposerSoundEditorStoreClass"),g[h.SOUND_EDITOR_SOUND_COLLECTION]=b("VideoComposerSoundEditorSoundCollectionStoreClass"),g[h.SPHERICAL_DIRECTOR]=b("VideoComposerSphericalDirectorStoreClass"),g[h.STARS]=b("VideoComposerStarsStoreClass"),g[h.THUMBNAILS]=b("VideoComposerThumbnailsStoreClass"),g[h.TRACKING]=b("VideoComposerTrackingStoreClass"),g[h.TRIMMING_EDITOR]=b("VideoComposerTrimmingEditorStoreClass"),g[h.UI]=b("VideoComposerUIStoreClass"),g[h.UPLOAD]=b("VideoComposerUploadStoreClass"),g[h.AD_BREAK_IMAGE_ADS_LOGGING]=b("VideoComposerAdBreakImageAdsLoggerStoreClass"),g);a(i,b("VideoComposerDispatchers").get(i));e.exports={createNewStores:a,getAllStores:d,clearAll:c,getAdBreakStore:f,getBasicStore:l,getCaptionsStore:m,getCaptionEditorStore:n,getClippingStore:o,getDialogStore:p,getDistributionStore:q,getEditStore:r,getLoggingStore:s,getMetadataStore:t,getPollsStore:u,getPremiereStore:v,getPublishingStore:w,getQEStore:x,getQuestionsStore:y,getRightsStore:z,getSoundEditorStore:A,getSoundEditorSoundCollectionStore:B,getSphericalDirectorStore:C,getStarsStore:D,getThumbnailsStore:E,getTrackingStore:F,getTrimmingEditorStore:G,getUIStore:H,getUploadStore:I,getAdBreakImageAdsLoggerStore:J}}),null);
__d("URLVideoThumbnail",["VideoThumbnail"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("VideoThumbnail"));e.exports=a}),null);
__d("VideoComposerThumbnailsStoreClass",["Promise","FileVideoThumbnail","ImmutableRecordWithV4Types","SphericalDirectorStore","URLVideoThumbnail","VideoComposerActionTypes","VideoComposerDialogThumbnailUtils","VideoComposerDialogUtils","VideoComposerStoreBase","VideoComposerStores","VideoComposerThumbnailTypes"],(function(a,b,c,d,e,f){"use strict";a=b("ImmutableRecordWithV4Types").Record;var g=10,h=a({videoComposerID:"",backgroundSize:"contain",customThumbnail:null,displayOrder:[],generatedThumbnails:[],hasSelectedGeneratedThumb:!1,improvedThumbnailSelection:!1,newFileAdded:!1,originalOrderThumbnails:[],previousCustomThumbnail:null,previousHasSelectedGeneratedThumb:!1,previousScrubbedThumbnail:null,previousSelectedGeneratedIndex:0,previousSelectedThumbnail:null,previousSelectedSection:b("VideoComposerThumbnailTypes").ThumbnailSection.GENERATED,scrubbedThumbnail:null,selectedGeneratedIndex:0,selectedSection:b("VideoComposerThumbnailTypes").ThumbnailSection.GENERATED,selectedThumbnail:null,showEditor:!1,showThumbnailPreview:!1,videoMetadataUnavailable:!1,videoPlayer:null});c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return h()};d.reduceImpl=function(a,c){var d=this.getState(),e=d.customThumbnail,f=d.generatedThumbnails,g=d.scrubbedThumbnail;d=d.selectedGeneratedIndex;var h=b("VideoComposerStores").getMetadataStore(a.videoComposerID).getState();h=h.eventCallbacks;switch(c.type){case b("VideoComposerActionTypes").THUMBNAIL_PREVIEW_HIDE:a=a.set("showThumbnailPreview",!1);return a;case b("VideoComposerActionTypes").THUMBNAIL_EDITOR_CANCEL:a=a.set("customThumbnail",a.previousCustomThumbnail);a=a.set("selectedThumbnail",a.previousSelectedThumbnail);a=a.set("scrubbedThumbnail",a.previousScrubbedThumbnail);a=a.set("hasSelectedGeneratedThumb",a.previousHasSelectedGeneratedThumb);a=a.set("selectedGeneratedIndex",a.previousSelectedGeneratedIndex);a=a.set("selectedSection",a.previousSelectedSection);a=a.set("showEditor",!1);return a;case b("VideoComposerActionTypes").THUMBNAIL_EDITOR_OPEN:a=a.set("previousCustomThumbnail",a.customThumbnail);a=a.set("previousSelectedThumbnail",a.selectedThumbnail);a=a.set("previousScrubbedThumbnail",a.scrubbedThumbnail);a=a.set("previousHasSelectedGeneratedThumb",a.hasSelectedGeneratedThumb);a=a.set("previousSelectedGeneratedIndex",a.selectedGeneratedIndex);a=a.set("previousSelectedSection",a.selectedSection);a=a.set("showEditor",!0);return a;case b("VideoComposerActionTypes").THUMBNAIL_EDITOR_SAVE:a=a.set("showEditor",!1);a=a.set("showThumbnailPreview",!0);return a;case b("VideoComposerActionTypes").INITIALIZE_UPLOAD_COMPOSER:a=a.set("improvedThumbnailSelection",c.serverParams.common.improvedThumbnailSelection);return a;case b("VideoComposerActionTypes").INITIALIZE_EDIT_COMPOSER:a=a.set("improvedThumbnailSelection",c.editParams.common.improvedThumbnailSelection);return a;case b("VideoComposerActionTypes").INITIALIZE_CROSSPOST_COMPOSER:a=a.set("improvedThumbnailSelection",c.params.common.improvedThumbnailSelection);return a;case b("VideoComposerActionTypes").BOOTLOAD_CROSSPOST_THUMBNAILS:case b("VideoComposerActionTypes").BOOTLOAD_THUMBNAILS_FOR_EDIT:a=this.$VideoComposerThumbnailsStoreClass1(a,c.data.selectedThumbnail,c.data.thumbnails);return a;case b("VideoComposerActionTypes").GENERATED_THUMBNAILS:var i=c.data.selectedThumbnail,j=c.data.thumbnails,k=j.slice(0),l=j.findIndex(function(a){return a.getURL()===i.getURL()})||0;l>0&&(j.splice(l,1),j.unshift(i));a=a.set("selectedThumbnail",i);a=a.set("generatedThumbnails",j);a=a.set("originalOrderThumbnails",k);a=a.set("showThumbnailPreview",!0);h&&h.onThumbnailsGenerationDone&&h.onThumbnailsGenerationDone(j);return a;case b("VideoComposerActionTypes").METADATA_LOADED_FROM_HTML_PLAYER:if(a.generatedThumbnails.length===0||a.newFileAdded){a=a.set("newFileAdded",!1).set("videoPlayer",c.videoPlayer);l=b("VideoComposerStores").getMetadataStore(a.videoComposerID).getState();k=l.isMetadataAvailable;j=l.isSpherical;l=b("SphericalDirectorStore").getState().get("originalSphericalMetadata");var m=Object.keys(l).length===0;(k&&!j||j&&!m)&&b("VideoComposerDialogThumbnailUtils").onMetadataLoaded(a.videoComposerID,c.videoPlayer,l)}return a;case b("VideoComposerActionTypes").METADATA_LOADED_FROM_VIDEO_UPLOADER:if(c.data){a=a.set("videoMetadataUnavailable",!1);k=b("VideoComposerDialogUtils").isVideoSpherical(c.data);a.videoPlayer&&!k&&b("VideoComposerDialogThumbnailUtils").onMetadataLoaded(a.videoComposerID,a.videoPlayer,null)}else a=a.set("videoMetadataUnavailable",!0).set("selectedThumbnail",null);h&&h.onVideoMetadataLoaded&&h.onVideoMetadataLoaded(!!c.data);return a;case b("VideoComposerActionTypes").SPHERICAL_METADATA_PARSED:j=b("VideoComposerDialogThumbnailUtils").getThumbnailBackgroundSize(c.sphericalMetadata);a=a.set("backgroundSize",j);a.videoPlayer&&b("VideoComposerDialogThumbnailUtils").onMetadataLoaded(a.videoComposerID,a.videoPlayer,c.sphericalMetadata);return a;case b("VideoComposerActionTypes").PREMIERE_REPLACE_FILE:a=a.set("newFileAdded",!0);a=a.set("scrubbedThumbnail",null);return a;case b("VideoComposerActionTypes").SELECT_SECTION:a=a.set("selectedSection",c.section);switch(c.section){case b("VideoComposerThumbnailTypes").ThumbnailSection.GENERATED:a=a.set("selectedThumbnail",f[d]);break;case b("VideoComposerThumbnailTypes").ThumbnailSection.CUSTOM:e!==null&&(a=a.set("selectedThumbnail",e));break;case b("VideoComposerThumbnailTypes").ThumbnailSection.VIDEO_FRAME:g!==null&&(a=a.set("selectedThumbnail",g));break;default:break}return a;case b("VideoComposerActionTypes").TOGGLE_SELECTED_GENERATED_THUMBNAIL:a=a.set("hasSelectedGeneratedThumb",!0);a=a.set("selectedGeneratedIndex",c.index);a=a.set("selectedThumbnail",f[c.index]);return a;case b("VideoComposerActionTypes").UPDATE_CUSTOM_THUMBNAIL:a=a.set("customThumbnail",c.thumbnail);a=a.set("selectedThumbnail",c.thumbnail);return a;case b("VideoComposerActionTypes").UPDATE_SCRUBBED_THUMBNAIL:a=a.set("scrubbedThumbnail",c.thumbnail);a=a.set("selectedThumbnail",c.thumbnail);return a;case b("VideoComposerActionTypes").UPDATE_SELECTED_THUMBNAIL:a=a.set("selectedThumbnail",c.thumbnail);return a;case b("VideoComposerActionTypes").RESET_COMPOSER:a=this.getInitialState();return a;default:return a}};d.$VideoComposerThumbnailsStoreClass1=function(a,c,d){a=a.set("originalOrderThumbnails",d.map(function(a){return new(b("URLVideoThumbnail"))(a)}));var e=[],f=[];for(var h=d.length-1;h>=g;h--)e.push(h),f.push(d[h]);for(var h=0;h<Math.min(d.length,g);h++)e.push(h),f.push(d[h]);a=a.set("displayOrder",e);a=a.set("generatedThumbnails",f.map(function(a){return new(b("URLVideoThumbnail"))(a)}));a=a.set("selectedThumbnail",new(b("URLVideoThumbnail"))(c));a=a.set("selectedGeneratedIndex",f.findIndex(function(a){return a===c}));return a};d.getPostRequestDataToSend=function(){var a=this.getState(),c=a.hasSelectedGeneratedThumb,d=a.scrubbedThumbnail;a=a.selectedThumbnail;var e={};if(a){a instanceof b("FileVideoThumbnail")?e.thumbnail_type="custom":d!==null&&d===a?(e.thumbnail_type="scrubber_selected",e.user_scrubbed_thumbnail_timestamp=a.getTime()):e.thumbnail_type=c?"generated_selected":"generated_default";return a.getData().then(function(a){e.thumb=a;return e})}return b("Promise").resolve(e)};d.getCrosspostRequestDataToSend=function(){return this.$VideoComposerThumbnailsStoreClass2("thumb")};d.getEditRequestDataToSend=function(){return this.$VideoComposerThumbnailsStoreClass2("custom_thumbnail")};d.$VideoComposerThumbnailsStoreClass2=function(a){var c=this.getState(),d=c.generatedThumbnails,e=c.selectedThumbnail,f=c.displayOrder;c=c.scrubbedThumbnail;var g={},h=-1;e instanceof b("URLVideoThumbnail")&&(d.forEach(function(a,b){a.getURL()===e.getURL()&&(h=b)}),h!=-1&&Object.assign(g,{preferred_thumbnail_index:f[h]+1}));if(e instanceof b("FileVideoThumbnail")){f=e.getData();Object.assign(g,{preferred_thumbnail_index:d.length+1});return f.then(function(b){b&&(g[a]=b);return g})}if(e!=null&&c===e){Object.assign(g,{preferred_thumbnail_index:d.length+1});return e.getData().then(function(b){g[a]=b;return g})}return b("Promise").resolve(g)};return c}(b("VideoComposerStoreBase"));e.exports=c}),null);
__d("VideoComposerUIStoreClass",["ComposerXVideoUploadDialogController_DEPRECATED","ImmutableRecordWithV4Types","VideoComposerActions","VideoComposerActionTypes","VideoComposerStoreBase","VideoComposerStores","setImmediate","setTimeout"],(function(a,b,c,d,e,f){"use strict";a=b("ImmutableRecordWithV4Types").Record;c={videoComposerID:"",composerShown:!1,isPreviewMode:!1,selectedTab:"basic",showExitConfirmDialog:!1,previewDialogShown:!1,primaryActionErrorDialogShown:!1,primaryActionErrorMessage:null,publishConfirmDialogShown:!1,publishConfirmDialogData:null,publishDrawerShown:!1,rightsConfirmDialogShown:!1,showReviewableBrandedContentConfirmationDialog:!1,navigatedAwayFromLoadedTab:!1};var g=a(c);d=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return g()};d.reduceImpl=function(a,c){switch(c.type){case b("VideoComposerActionTypes").INITIALIZE_COMPOSER_PREVIEW:a=a.set("composerShown",!0).set("isPreviewMode",!0);return a;case b("VideoComposerActionTypes").INITIALIZE_UPLOAD_COMPOSER:return a.set("composerShown",!0).set("isPreviewMode",!1);case b("VideoComposerActionTypes").INITIALIZE_CROSSPOST_COMPOSER:case b("VideoComposerActionTypes").INITIALIZE_EDIT_COMPOSER:return a.set("composerShown",!0).set("isPreviewMode",!1);case b("VideoComposerActionTypes").MINIMIZE_DIALOG:return a.set("composerShown",!1);case b("VideoComposerActionTypes").SET_COMPOSER_SHOWN:return a.set("composerShown",c.composerShown);case b("VideoComposerActionTypes").POST_FINISHED:a=a.set("publishConfirmDialogShown",!0);a=a.set("showExitConfirmDialog",!1);a=a.set("composerShown",!1);return a;case b("VideoComposerActionTypes").POST_FAILED:a=a.set("primaryActionErrorDialogShown",!0);a=a.set("primaryActionErrorMessage",c.errorMessage);return a;case b("VideoComposerActionTypes").EXIT_DIALOG:a=a.set("showExitConfirmDialog",!1);a=a.set("composerShown",!1);this.$VideoComposerUIStoreClass1();return a;case b("VideoComposerActionTypes").EXIT_DIALOG_ATTEMPT:a=a.set("showExitConfirmDialog",!0);return a;case b("VideoComposerActionTypes").CLOSE_PRIMARY_ERROR_DIALOG:a=a.set("primaryActionErrorDialogShown",!1);a=a.set("primaryActionErrorMessage",null);return a;case b("VideoComposerActionTypes").POST_REQUEST_INVALID:b("setImmediate")(function(){return b("VideoComposerActions").postFailed(a.videoComposerID,{},{error_summary:c.invalidationReasons[0].userMessage,error_description:""})});return a;case b("VideoComposerActionTypes").EXIT_DIALOG_REPLACE_FILE:case b("VideoComposerActionTypes").EXIT_DIALOG_SAVE_DRAFT:case b("VideoComposerActionTypes").CLOSE_CONFIRM_DIALOG:a=a.set("showExitConfirmDialog",!1);return a;case b("VideoComposerActionTypes").CLOSE_PUBLISH_CONFIRM_DIALOG:a=a.set("publishConfirmDialogShown",!1);this.$VideoComposerUIStoreClass1();return a;case b("VideoComposerActionTypes").SELECT_TAB:a=a.set("selectedTab",c.tab);a=a.set("navigatedAwayFromLoadedTab",!0);return a;case b("VideoComposerActionTypes").HIGHLIGHT_TITLE_WITH_ERROR_TOOLTIP:return a.set("selectedTab","basic");case b("VideoComposerActionTypes").SAVE_EDITED_VIDEO_SUCCESS:a=a.set("showExitConfirmDialog",!1);a=a.set("composerShown",!1);this.$VideoComposerUIStoreClass1();return a;case b("VideoComposerActionTypes").SAVE_EDITED_VIDEO_FAILURE:a=a.set("primaryActionErrorDialogShown",!0);a=a.set("primaryActionErrorMessage",c.errorMessage);return a;case b("VideoComposerActionTypes").RESET_COMPOSER:b("ComposerXVideoUploadDialogController_DEPRECATED").clearInstances();return this.getInitialState();case b("VideoComposerActionTypes").SHOW_RIGHTS_CONFIRM_DIALOG:a=a.set("rightsConfirmDialogShown",!0);return a;case b("VideoComposerActionTypes").HIDE_RIGHTS_CONFIRM_DIALOG:a=a.set("rightsConfirmDialogShown",!1);return a;case b("VideoComposerActionTypes").SHOW_REVIEWABLE_BRANDED_CONTENT_CONFIRMATION:a=a.set("showReviewableBrandedContentConfirmationDialog",!0);return a;case b("VideoComposerActionTypes").HIDE_REVIEWABLE_BRANDED_CONTENT_CONFIRMATION:a=a.set("showReviewableBrandedContentConfirmationDialog",!1);return a;case b("VideoComposerActionTypes").CONFIRM_REVIEWABLE_BRANDED_CONTENT:a=a.set("showReviewableBrandedContentConfirmationDialog",!1);b("setTimeout")(function(){return b("VideoComposerActions").publishPost(a.videoComposerID)},1);return a;case b("VideoComposerActionTypes").OPEN_PUBLISH_DRAWER:b("VideoComposerStores").getAdBreakStore(a.videoComposerID).getShouldIgnorePublishNextStep()||(a=a.set("publishDrawerShown",!0));return a;case b("VideoComposerActionTypes").CLOSE_PUBLISH_DRAWER:a=a.set("publishDrawerShown",!1);return a;case b("VideoComposerActionTypes").OPEN_PREVIEW_DIALOG:a=a.set("previewDialogShown",!0);return a;case b("VideoComposerActionTypes").CLOSE_PREVIEW_DIALOG:a=a.set("previewDialogShown",!1);return a;default:return a}};d.$VideoComposerUIStoreClass1=function(){var a=this;b("setTimeout")(function(){return b("VideoComposerActions").resetComposer(a.getState().videoComposerID)},1)};return c}(b("VideoComposerStoreBase"));e.exports=d}),null);
__d("videoComposerDialogUploadAddUploadSubscriptions",["VideoComposerActions","setTimeout"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){c.addSubscriptions(d.subscribe("upload-finished",function(){return b("VideoComposerActions").uploadFinished(a)}),d.subscribe("upload-failed",function(c){b("setTimeout")(function(){return b("VideoComposerActions").uploadFailed(a,c)},0)}),d.subscribe("upload-progressed",function(c,d){return b("VideoComposerActions").uploadProgressed(a,c,d)}),d.subscribe("post-failed",function(c,d){return b("VideoComposerActions").postFailed(a,c,d)}),d.subscribe("post-finished",function(c,d){return b("VideoComposerActions").postFinished(a,c,d)}),d.subscribe("metadata-parsed",function(c,d){b("setTimeout")(function(){return b("VideoComposerActions").metadataLoadedFromVideoUploader(a,d)},0)}))}e.exports=a}),null);
__d("videoComposerDialogUploadCreateVideoData",["React","VideoComposerDialogConstants","VideoData"],(function(a,b,c,d,e,f){"use strict";b("React");function c(c,d){d===void 0&&(d=null);c=a.URL.createObjectURL(c);c={aspect_ratio:b("VideoComposerDialogConstants").SIXTEEN_NINE,original_height:b("VideoComposerDialogConstants").PLAYER_HEIGHT,original_width:b("VideoComposerDialogConstants").PLAYER_WIDTH,player_version_overwrite:"pleasantville",sd_src:c,stream_type:"progressive",video_id:""};if(d){d=d;var e=d.projectionType,f=d.stereoMode,g=d.initialFOV,h=d.initialYaw,i=d.initialPitch,j=d.mayHaveSpatialAudio,k=d.fbSpatialAudioMetadata;d=d.ytSpatialAudioMetadata;e={projectionType:e?e:"equirectangular",stereoFormat:f?f:"mono",fieldOfView:g?g:60,initialHeading:h?h:0,initialPitch:i?i:0,hasSpatialAudio:j?j:!1,expansionCoef:1.01};k&&(e.fbSpatialAudioMetadata=k);d&&(e.ytSpatialAudioMetadata=d);return new(b("VideoData"))(babelHelpers["extends"]({},c,{is_spherical:!0,spherical_config:e}))}return new(b("VideoData"))(c)}e.exports=c}),null);
__d("XVideoComposerInitUploadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/init_upload/",{target_id:{type:"FBID",required:!0},composer_entry_point_ref:{type:"Enum",required:!0,enumType:1},video_publisher_action_source:{type:"StringToNullableStringDict"}})}),null);
__d("videoComposerDialogUploadLoadVideoUploader",["ActorURI","AsyncRequest","VideoComposerActions","VideoUploader","XVideoComposerInitUploadController"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f){d=b("XVideoComposerInitUploadController").getURIBuilder().setFBID("target_id",d).setEnum("composer_entry_point_ref",e).setStringToNullableStringDict("video_publisher_action_source",f).getURI();e=b("ActorURI").create(d,c);new(b("AsyncRequest"))(e).setHandler(function(c){b("VideoComposerActions").initVideoUploader(a,new(b("VideoUploader"))(c.payload.videoUploader[0]))}).setErrorHandler(function(c){b("VideoComposerActions").uploadFailed(a,{error_summary:c.errorSummary,error_description:c.errorDescription})}).send()}e.exports=a}),null);
__d("VideoComposerUploadStoreClass",["cx","Arbiter","DOM","EventListener","ImmutableRecordWithV4Types","React","ReactDOM","SubscriptionsHandler","VideoComposerActions","VideoComposerActionTypes","VideoComposerDialogUtils","VideoComposerStoreBase","VideoComposerStores","VideoUploadFile","videoComposerDialogUploadAddUploadSubscriptions","videoComposerDialogUploadCreateVideoData","videoComposerDialogUploadLoadVideoUploader","videoComposerDialogUploadPostFinished"],(function(a,b,c,d,e,f,g){"use strict";c=b("ImmutableRecordWithV4Types").Record;var h=b("React");d={videoComposerID:"",composerID:"",hasFileBeenReplaced:!1,hasReplacedPremiere:!1,subscriptionsHandler:new(b("SubscriptionsHandler"))(),videoData:null,videoFile:null,videoMetadata:null,videoSize:null,videoUploader:null,uploadFinished:!1,uploadProgress:0};var i=c(d);f=function(c){babelHelpers.inheritsLoose(d,c);function d(){return c.apply(this,arguments)||this}var e=d.prototype;e.getInitialState=function(){return i()};e.reduceImpl=function(a,c){var d=b("VideoComposerStores").getMetadataStore(a.videoComposerID).getState(),e=d.actorID,f=d.composerEntryPointRef,g=d.targetID;d=d.dialogMode;var h=this.getState();h=h.videoUploader;switch(c.type){case b("VideoComposerActionTypes").INITIALIZE_COMPOSER_PREVIEW:return this.setFileData(a,c.file);case b("VideoComposerActionTypes").INITIALIZE_UPLOAD_COMPOSER:a=this.setFileData(a,c.clientParams.file);a=a.set("composerID",c.serverParams.composerID);c.clientParams.skipVideoUploaderInit!==!0&&b("videoComposerDialogUploadLoadVideoUploader")(c.videoComposerID,c.serverParams.common.actorID,c.serverParams.targetID,c.clientParams.entryPointRef,c.clientParams.videoPublisherActionSource);var i=a.videoFile;i&&this.$VideoComposerUploadStoreClass1(c.videoComposerID,i);return a;case b("VideoComposerActionTypes").PREMIERE_REPLACE_FILE:a=a.set("hasReplacedPremiere",!0);h&&(a=a.set("hasFileBeenReplaced",!0),h.cancel());this.$VideoComposerUploadStoreClass2(a);a=a.set("uploadProgress",0);a=a.set("videoFile",c.file);a=a.set("videoSize",c.file.size);e&&g&&f&&b("videoComposerDialogUploadLoadVideoUploader")(a.videoComposerID,e,g,f,null);i=a.videoFile;i&&this.$VideoComposerUploadStoreClass1(a.videoComposerID,i);return a;case b("VideoComposerActionTypes").INIT_VIDEO_UPLOADER:c.videoUploader.setHasFileBeenReplaced(a.hasFileBeenReplaced);a=a.set("videoUploader",c.videoUploader);a=a.set("subscriptionsHandler",new(b("SubscriptionsHandler"))());b("videoComposerDialogUploadAddUploadSubscriptions")(a.videoComposerID,a.subscriptionsHandler,c.videoUploader);e=a.videoFile;e&&c.videoUploader.upload(b("VideoUploadFile").fromFile(e));return a;case b("VideoComposerActionTypes").SET_VIDEO_START_END_TIME:g=a;f=g.videoMetadata;if(f&&f.format&&c.endTime){i=c.startTime||0;f.format.duration=c.endTime-i;a=a.set("videoMetadata",f)}return a;case b("VideoComposerActionTypes").METADATA_LOADED_FROM_VIDEO_UPLOADER:a=a.set("videoMetadata",c.data);e=b("VideoComposerDialogUtils").isVideoSpherical(c.data);g=a.videoFile;!e&&g&&(a=a.set("videoData",b("videoComposerDialogUploadCreateVideoData")(g,null)));return a;case b("VideoComposerActionTypes").SPHERICAL_METADATA_PARSED:i=a.videoFile;i&&(a=a.set("videoData",b("videoComposerDialogUploadCreateVideoData")(i,c.sphericalMetadata)));return a;case b("VideoComposerActionTypes").NAVIGATED_FROM_PAGE:h&&h.abandon();return a;case b("VideoComposerActionTypes").UPLOAD_FINISHED:f=b("VideoComposerStores").getMetadataStore(a.videoComposerID).getState();e=f.eventCallbacks;e&&e.onUploadProgress&&e.onUploadProgress(a.uploadProgress,!0);a=a.set("uploadFinished",!0);return a;case b("VideoComposerActionTypes").POST_FINISHED:d==="video_upload"&&b("videoComposerDialogUploadPostFinished")(a.videoComposerID,c.data||{},a.composerID);return a;case b("VideoComposerActionTypes").UPLOAD_PROGRESSED:g=b("VideoComposerStores").getMetadataStore(a.videoComposerID).getState();i=g.eventCallbacks;a=a.set("uploadProgress",c.progress);i&&i.onUploadProgress&&i.onUploadProgress(c.progress,a.uploadFinished);return a;case b("VideoComposerActionTypes").EXIT_DIALOG:b("Arbiter").inform("videoUpload/cancel",{composerID:a.composerID});h&&h.cancel();return a;case b("VideoComposerActionTypes").RESET_COMPOSER:this.$VideoComposerUploadStoreClass2(a);a=this.getInitialState();return a;default:return a}};e.isUploading=function(){var a=this.getState(),c=a.videoUploader,d=a.uploadFinished;a=a.videoComposerID;a=b("VideoComposerStores").getMetadataStore(a).getState();a=a.dialogMode;return a==="video_upload"&&!!c&&!d};e.getUploaderVideoID=function(){var a=this.getState();return a.videoUploader?a.videoUploader.getVideoID():null};e.getVideoSize=function(){return this.getState().videoSize};e.fetchUploadDataForMediaStore=function(){var a=this.getState();return{composerID:a.composerID,videoFile:a.videoFile,videoMetadata:a.videoMetadata}};e.setFileData=function(a,b){a=a.set("videoFile",b);a=a.set("videoSize",b.size);return a};e.$VideoComposerUploadStoreClass2=function(a){var b=a.videoUploader;b&&(a.hasReplacedPremiere?b.reset():b.abandon());a.subscriptionsHandler.release()};e.$VideoComposerUploadStoreClass1=function(c,d){d=a.URL.createObjectURL(d);var e;d=h.jsx("video",{ref:function(a){return e=a},className:"_6eji",src:d});b("ReactDOM").render(d,b("DOM").create("div"),function(){e&&b("EventListener").listen(e,"loadedmetadata",function(){return e&&b("VideoComposerActions").metadataLoadedFromHTMLPlayer(c,e)})})};return d}(b("VideoComposerStoreBase"));e.exports=f}),null);
__d("VideoComposerCaptionEditorStoreClass",["DateConsts","ImmutableObject","VideoCaptionEditorLanguages","VideoCaptionEditorLogger","VideoCaptionEditorStateEnums","VideoComposerActionTypes","VideoComposerCaptionEditorActions","VideoComposerCaptionsTabActions","VideoComposerDialogCaptionEditorConstants","VideoComposerDialogCaptionEditorUtils","VideoComposerStoreBase","VideoComposerStores","WebApiApplication","immutable","nullthrows","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g=b("VideoCaptionEditorStateEnums").EditorStateEnum,h=1e3,i=-1;c={videoComposerID:"",captions:(a=b("immutable")).List(),language:b("VideoComposerDialogCaptionEditorConstants").NO_LANGUAGE_SELECTED,locale:b("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE,availableLanguages:a.List(b("VideoCaptionEditorLanguages").languagesInEnglish),captionsChangeSet:a.List(),captionID:"",captionLocale:b("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE,editorState:g.INIT,editSectionState:{selected:-1},previewEntry:null,captionSelected:i,nextEntryIdx:0,videoID:"",vpc:null,videoDuration:0,currentPlayPositionInMs:0,shouldShowExitDialog:!1,captionFile:null,isPlaying:!1,isAutoCaption:!1};var j=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(a.Record(c));d=function(a){babelHelpers.inheritsLoose(c,a);function c(c){c=a.call(this,c)||this;c.$VideoComposerCaptionEditorStoreClass1=new(b("VideoCaptionEditorLogger"))();return c}var d=c.prototype;d.getInitialState=function(){return new j()};d.reduceImpl=function(a,c){var d=null;switch(c.type){case b("VideoComposerActionTypes").RESET_CAPTION_EDITOR:return this.getInitialState();case b("VideoComposerActionTypes").SET_CAPTIONS:a=this.$VideoComposerCaptionEditorStoreClass4(a,c);break;case b("VideoComposerActionTypes").EDIT_CAPTION_ENTRY:a=this.$VideoComposerCaptionEditorStoreClass5(a,c);break;case b("VideoComposerActionTypes").REMOVE_CAPTION_ENTRY:a=this.$VideoComposerCaptionEditorStoreClass6(a,c);break;case b("VideoComposerActionTypes").ADD_CAPTION_ENTRY:a=this.$VideoComposerCaptionEditorStoreClass7(a,c);break;case b("VideoComposerActionTypes").RESET_PLAYER:a=a.set("previewEntry",null).set("captionSelected",i).set("nextEntryIdx",0).set("videoDuration",null).set("currentPlayPositionInMs",0);break;case b("VideoComposerActionTypes").SET_DURATION:a=a.set("videoDuration",c.duration);break;case b("VideoComposerActionTypes").SET_PLAYER_STATE:a=a.set("isPlaying",c.isPlaying);break;case b("VideoComposerActionTypes").SET_PREVIEW_ENTRY:a=a.set("captionSelected",c.idx);c.idx===i?a=a.set("previewEntry",null):a=a.set("previewEntry",new(b("ImmutableObject"))(this.getCaptions().get(c.idx)));a=a.set("nextEntryIdx",(c.idx+1)%a.captions.size);break;case b("VideoComposerActionTypes").SET_EDITOR_LANGUAGE:a.get("captionID")&&(a=a.set("editorState",g.UNSAVED));a=a.set("language",c.language);this.$VideoComposerCaptionEditorStoreClass8("caption_editor_set_language");break;case b("VideoComposerActionTypes").SET_EDITOR_LOCALE:a.get("captionID")&&(a=a.set("editorState",g.UNSAVED));a=a.set("locale",c.locale);break;case b("VideoComposerActionTypes").INITIALIZE_EDITOR_LANGUAGE:d=b("VideoComposerStores").getCaptionsStore(a.videoComposerID).getState().get("selectedCaption");d&&(a=a.set("language",d.language).set("locale",d.locale));break;case b("VideoComposerActionTypes").INITIALIZE_IS_AUTO_CAPTION:a=a.set("isAutoCaption",c.isAutoCaption);break;case b("VideoComposerActionTypes").PLAY_PREVIEW_ENTRY:a=this.$VideoComposerCaptionEditorStoreClass9(a,c);break;case b("VideoComposerActionTypes").SET_NEXT_ENTRY:a=a.set("nextEntryIdx",c.idx);break;case b("VideoComposerActionTypes").SET_VPC:a=a.set("vpc",c.vpc);break;case b("VideoComposerActionTypes").SET_CURRENT_PLAY_POSITION:a=a.set("currentPlayPositionInMs",c.position);break;case b("VideoComposerActionTypes").CONFIRM_CLOSE_DIALOG:a=a.set("editorState",g.EXIT);a=a.set("shouldShowExitDialog",!1);this.$VideoComposerCaptionEditorStoreClass8("caption_editor_close");break;case b("VideoComposerActionTypes").CANCEL_CLOSE_DIALOG:a=a.set("shouldShowExitDialog",!1);break;case b("VideoComposerActionTypes").SHOW_EXIT_DIALOG:a=a.set("shouldShowExitDialog",!0);break;case b("VideoComposerActionTypes").START_SAVE_CAPTION_CHANGESET:a=a.set("editorState",g.SAVING);d=a.get("locale");if(b("VideoComposerDialogCaptionEditorUtils").isLanguageDefaultOrEmpty(d)){c=b("VideoComposerStores").getCaptionsStore(a.videoComposerID).getState().get("selectedCaption");c!==null&&!b("VideoComposerDialogCaptionEditorUtils").isLanguageDefaultOrEmpty(b("nullthrows")(c).locale)&&(d=b("nullthrows")(c).locale,a.set("locale",d))}b("promiseDone")(b("VideoComposerDialogCaptionEditorUtils").saveCaptionChangeset(a.get("captionID"),a.get("captions"),a.get("captionsChangeSet"),d,b("VideoComposerStores").getCaptionsStore(a.videoComposerID).getState().get("pageID")).then(function(c){b("VideoComposerCaptionEditorActions").finishSaveCaptionChangeset(a.videoComposerID),b("VideoComposerCaptionEditorActions").confirmCloseDialog(a.videoComposerID),b("VideoComposerCaptionsTabActions").updateCaptionFiles(a.videoComposerID),b("VideoComposerCaptionEditorActions").resetCaptionEditor(a.videoComposerID)}));this.$VideoComposerCaptionEditorStoreClass8("caption_editor_save");break;case b("VideoComposerActionTypes").FINISH_SAVE_CAPTION_CHANGESET:a=this.$VideoComposerCaptionEditorStoreClass10(a);break}return a};d.$VideoComposerCaptionEditorStoreClass8=function(a,c,d){b("VideoComposerStores").getCaptionsStore(this.getState().videoComposerID).getLogger().setEvent(a).setError(d).setSubtitleID(this.getState().get("captionID")).setIsCaptionEditor(!0).updateExtraData({language:this.getLanguage()}).log()};d.$VideoComposerCaptionEditorStoreClass4=function(a,c){var d=c.captions,e=c.captionsChangeSet;d.size===0&&(d=b("immutable").List([{node:{text:" ",start_time_in_ms:0,duration_in_ms:h,confidence:1,left:0,width:h*b("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT}}]));a=a.set("captions",d).set("captionsChangeSet",e);d=!b("VideoComposerDialogCaptionEditorUtils").areHeadLocalesEqual(a.get("locale"),c.captionLocale);d&&(a=a.set("editorState",g.UNSAVED));this.$VideoComposerCaptionEditorStoreClass2=c.appID||b("WebApiApplication").getClientID();this.$VideoComposerCaptionEditorStoreClass3=c.placement;return a.merge({captionID:c.captionID,captionLocale:c.captionLocale,videoID:c.videoID})};d.$VideoComposerCaptionEditorStoreClass10=function(a){a=a.set("editorState",g.SAVED).set("captionLocale",a.get("locale"));var c=a.get("locale"),d=c!==b("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE&&c!==b("VideoComposerDialogCaptionEditorConstants").INITIAL_SPOKEN_LOCALE;if(!d)return a;d=b("VideoComposerDialogCaptionEditorUtils").makeNewCaptionFile(a.get("captions"),b("VideoComposerDialogCaptionEditorUtils").getHeadLocale(c),a.get("language"),a.get("isAutoCaption")===!0);return a.set("captionFile",d)};d.$VideoComposerCaptionEditorStoreClass5=function(a,b){var c=a.get("captions");c=c.splice(b.idx,1,b.caption);b=a.get("captionsChangeSet").splice(b.idx,1,b.caption);a=a.set("captions",c).set("captionsChangeSet",b);return a.set("editorState",g.UNSAVED)};d.$VideoComposerCaptionEditorStoreClass6=function(a,b){var c=a.get("captions"),d=c.get(b.idx);c=c["delete"](b.idx);var e=a.get("captionsChangeSet")["delete"](b.idx);d&&d.node&&(e=e.push({node:{id:d.node.id}}));a=a.set("captions",c).set("captionsChangeSet",e);d=a.get("previewEntry");d&&a.get("captionSelected")===b.idx&&(a=a.set("previewEntry",null));return a.set("editorState",g.UNSAVED)};d.$VideoComposerCaptionEditorStoreClass7=function(a,b){var c=a.get("captions").splice(b.idx,0,b.caption);b=a.get("captionsChangeSet").splice(b.idx,0,b.caption);a=a.set("captions",c).set("captionsChangeSet",b);return a.set("editorState",g.UNSAVED)};d.$VideoComposerCaptionEditorStoreClass9=function(a,c){a=a.set("captionSelected",c.idx);c.idx===i?a=a.set("previewEntry",null):(a=a.set("previewEntry",new(b("ImmutableObject"))(this.getCaptions().get(c.idx))),a=a.set("nextEntryIdx",(c.idx+1)%a.captions.size));c=a.get("vpc");if(c){var d=a.get("previewEntry"),e=(d?d.node.start_time_in_ms:0)/b("DateConsts").MS_PER_SEC;d=((d?d.node.start_time_in_ms+d.node.duration_in_ms:a.videoDuration)-b("VideoComposerDialogCaptionEditorConstants").PREVIEW_END_TIME_OFFSET_IN_MS)/b("DateConsts").MS_PER_SEC;c.emit("previewByStartEndTime",{startTime:e,endTime:d})}a=a.set("isPlaying",!0);return a};d.getLanguage=function(){return this.getState().get("language")};d.getCaptions=function(){return this.getState().get("captions")};d.getLanguages=function(){return this.getState().get("availableLanguages")};d.getVPC=function(){return this.getState().get("vpc")};return c}(b("VideoComposerStoreBase"));e.exports=d}),null);
__d("EntVideoCaptionsErrorTypes",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({INVALID_LOCALE:"invalid_locale",AUTOGENERATION_FAILED:"autogeneration_failed"})}),null);
__d("XVideoCaptionSpeechDetectionAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/captioneditor/speechnonspeech/getresults/",{video_id:{type:"Int",required:!0},locale:{type:"String",defaultValue:""}})}),null);
__d("XVideoCaptionUploadAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/captioneditor/captionupload/",{video_id:{type:"Int",required:!0},set_immediate_publish:{type:"Bool",defaultValue:!1},work_shared_draft_mode:{type:"Enum",enumType:1}})}),null);
__d("SoundCollectionConstants",[],(function(a,b,c,d,e,f){"use strict";a=["trackTab","effectTab"];c=(b={},b.sound_tracks={"0-30s":[0,3e4],"30s-1min":[3e4,6e4],"1min-2min":[6e4,12e4],"2min+":[12e4,Number.MAX_SAFE_INTEGER]},b.sound_effects={"< 2s":[0,2e3],"2-10s":[2e3,1e4],"10-30s":[1e4,3e4],"30s <":[3e4,Number.MAX_SAFE_INTEGER]},b);e.exports={TAB_KEYS:a,TAB_TIME_DICT:c}}),null);
__d("SoundCollectionTabState",["immutable"],(function(a,b,c,d,e,f){"use strict";a={loading:!1,results:[],totalResultsCount:0,lengthOptions:[],lengthSelected:null,searchString:"",nextPagePromise:null,errorInTab:!1,currentPromise:null,type:"sound_tracks"};var g=(c={},c.sound_tracks={type:"sound_tracks",lengthOptions:["0-30s","30s-1min","1min-2min","2min+"]},c.sound_effects={type:"sound_effects",lengthOptions:["< 2s","2-10s","10-30s","30s <"]},c);d=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b?b=a.call(this,g[b])||this:b=a.call(this)||this;return babelHelpers.assertThisInitialized(b)}return b}(b("immutable").Record(a));e.exports=d}),null);
__d("XVideoComposerWasLiveTrimmingTabController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/edit/was_live_trimming/",{video_id:{type:"FBID",required:!0}})}),null);
__d("WoodhengeCreatorOnboardingAssets",["ix","asset"],(function(a,b,c,d,e,f,g){"use strict";a={PITCH_VIDEO_BACKGROUND:g("625359"),PROMO_VIDEO_BACKGROUND:g("791297"),THANK_YOU_VIDEO_BACKGROUND:g("791302"),PROMO_VIDEO_ACTION_BACKGROUND:g("793470"),THANK_YOU_VIDEO_ACTION_BACKGROUND:g("793471"),PROMO_POST_GENERIC:g("731504"),STICKER_UPLOADER_GENERIC:g("1000607"),GAB_TIP_ICON:g("1063264"),STATUS_UNDER_REVIEW:g("791301"),STATUS_APPROVED:g("791299"),STATUS_REJECTED:g("791300"),STATUS_ACTIVE:g("791298"),POST_PREVIEW_GLOBE:g("820203"),POST_PREVIEW_SUPPORTER_BADGE:g("823292"),POST_PREVIEW_UFI:g("820205"),GET_HELP_QUESTION_CIRCLE:g("569582"),PREVIEW_SUBSCRIPTION_EYE:g("544734"),STICKER_GLYPH:g("615796"),EDIT_BENEFITS_BADGE_HEART:g("546504"),EDIT_VIDEOS_VIDEO:g("495343"),VIDEO_UPLOADER_TIP_ICON:g("550107"),SUBSCRIPTION_ACTION_TIP_DOLLAR_CIRCLE:g("615737"),SUBSCRIPTION_ACTION_TIP_HEART:g("725800"),SUBSCRIPTION_ACTION_TIP_VIDEO:g("486700"),SUBSCRIPTION_ACTION_TIP_NEWS_FEED:g("607155"),SUBSCRIPTION_ACTION_TIP_MEGAPHONE:g("486805"),EDUCATION_TIP_COMPOSER:g("492261"),EDUCATION_TIP_LINE_CHART:g("548066"),EDUCATION_TIP_MEGAPHONE:g("486804"),VIDEO_UPLOADER_ERROR_ICON:g("494555"),PAYMENT_REVIEW_ICON:g("480632"),SUBMITTED_ICON:g("485261"),POST_PREVIEW_DOTS:g("496430"),BADGE_DISABLED_PREVIEW:g("957729")};e.exports=a}),null);
__d("VideoComposerDialogCrosspostUtils",["Promise","Arbiter","ErrorUtils","GraphAPI","VideoComposerActions","VideoComposerCrosspostCaptionsUploadUtils","VideoComposerStores","VideoComposerTabs","WoodhengeCreatorOnboardingActions","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g,h=b("VideoComposerCrosspostCaptionsUploadUtils").postCaptionsFilesAndSubtitles;a=function(a){var c,d=(c=b("VideoComposerStores")).getMetadataStore(a).getState(),f=d.enabledTabs,g=d.accessToken,i=d.actorID,l=d.videoAssetID;d=c.getCaptionsStore(a).getState();var m=d.captionsFeaturesMode,n=f.map(function(c){return b("VideoComposerTabs").get(c).getCrosspostRequestDataToSend(a)});[c.getMetadataStore(a),c.getPublishingStore(a)].forEach(function(a){n.push(a.getCrosspostRequestDataToSend())});f.includes("distribution")||n.push(b("VideoComposerStores").getDistributionStore(a).getCrosspostRequestDataToSend());b("promiseDone")(b("Promise").all(n).then(function(c){var d={};c.forEach(function(a){return d=babelHelpers["extends"]({},d,a)});var f=new FormData();Object.keys(d).forEach(function(a){f.append(a,d[a])});delete d.video_asset_id;b("VideoComposerActions").postRequestSent(a,d);return b("GraphAPI")("2.12",e.id).object("page",i||"").edge("videos").post(f)}),function(c){var d=b("VideoComposerStores").getCaptionsStore(a).getState();d=d.localCaptionFiles;d=d.toArray();i&&l&&h(a,c,g,i,l,d,m,j,k)},function(a){k(i||"",a)})};var i=function(a,c,d){b("Arbiter").inform("video/newPost"+a,{videoAssetID:d,videoID:c})},j=function(a,c,d,e){b("VideoComposerActions").crosspostFinished(a),i(c,d,e),b("WoodhengeCreatorOnboardingActions").crosspostFinished(c)},k=function(a,c,d){b("VideoComposerActions").crosspostFailed(a,(g||(g=b("ErrorUtils"))).normalizeError(d)),b("WoodhengeCreatorOnboardingActions").crosspostFailed(d,c)};e.exports={createCrosspost:a}}),null);
__d("AdBreakCreatorPerformanceLoggingUtils",["AdBreakCreatorPerformanceTypedLogger"],(function(a,b,c,d,e,f){"use strict";function a(a,c){new(b("AdBreakCreatorPerformanceTypedLogger"))().setPageIds([a]).setVideoAssetIds([c]).setSurface("VIDEO_COMPOSER").setSignal("AD_BREAKS_TAB").setEvent("MANUALLY_EDIT_AD_PLACEMENT").log()}e.exports={logAdBreakEditActionOnCrosspost:a}}),null);
__d("VideoComposerDialogEditUtils",["fbt","invariant","Promise","ActorURI","AdBreakCreatorPerformanceLoggingUtils","Arbiter","AsyncRequest","DOM","FbtResultBase","PageContentTabConfig","PostExpireDialog.react","PostScheduleDialog.react","React","ReactDOM","ReloadPage","UserAgent","VideoComposerActions","VideoComposerStores","VideoEditPublishingAction","VideoEditPublishingStatus","VideoEditTypedLogger","XVideoEditDialogSaveController","XVideoEditMakeFeaturedController","XVideoGenerateStoryController","ge","pagesComposerReplaceByID","promiseDone","videoComposerDialogEditGetPostDataPromises"],(function(a,b,c,d,e,f,g,h){"use strict";var i=this,j=b("AdBreakCreatorPerformanceLoggingUtils").logAdBreakEditActionOnCrosspost,k=b("React"),l=1e3,m=60*l;a=function(a,b){if(!a)return!1;var c=a-m;a=a+m;return b>c&&b<a};var n=function(a){var c=b("DOM").create("a");c.download="";c.href=a;c.target="_blank";c.click()};c=function(a){return b("UserAgent").isBrowser("Firefox")?{href:a,target:"_blank"}:{onclick:n.bind(i,a)}};d=function(a,c,d){a=b("XVideoEditMakeFeaturedController").getURIBuilder().setFBID("v",a).setBool("is_videos_tab",b("ge")("video_hub_featured_video_container")!=null).getURI();c&&(a=b("ActorURI").create(a,c));new(b("AsyncRequest"))(a).setHandler(function(a){d(a.payload)}).send()};f=function(a,c,d){c=c.value;c===b("VideoEditPublishingAction").MAKE_DRAFT.value||c===b("VideoEditPublishingAction").PUBLISH_WITH_SERIES.value||c===b("VideoEditPublishingAction").PUBLISH_WITH_SEASON.value?o(a):c===b("VideoEditPublishingAction").PUBLISH.value?p(a):c===b("VideoEditPublishingStatus").SCHEDULED.value?q(a,d):c===b("VideoEditPublishingStatus").DRAFT.value?r(a):c===b("VideoEditPublishingAction").EXPIRE.value?s(a):c===b("VideoEditPublishingStatus").PUBLISHED.value?t(a):c===b("VideoEditPublishingAction").SCHEDULE_PUBLISH.value?v(a):c===b("VideoEditPublishingAction").CANCEL_EXPIRATION.value?x(a):c===b("VideoEditPublishingStatus").EXPIRING.value?y(a,d):c===b("VideoEditPublishingAction").REPUBLISH.value?z(a):c===b("VideoEditPublishingStatus").EXPIRED.value?A(a,d):c===b("VideoEditPublishingAction").SCHEDULE_EXPIRATION.value?B(a,d):c===b("VideoEditPublishingStatus").UNPUBLISHED.value&&u(a);b("VideoComposerActions").selectEditPublishAction(a,c)};var o=function(a){b("VideoComposerActions").editShouldPublish(a,!1),b("VideoComposerActions").editScheduledTime(a,new Date(0))},p=function(a){b("VideoComposerActions").editShouldPublish(a,!0)},q=function(a,c){c=c.scheduledPublishTime;b("VideoComposerActions").editScheduledTime(a,new Date(c));b("VideoComposerActions").editShouldPublish(a,!1)},r=function(a){b("VideoComposerActions").editScheduledTime(a,new Date(0)),b("VideoComposerActions").editShouldPublish(a,!1)},s=function(a){b("VideoComposerActions").editShouldExpire(a,!0)},t=function(a){b("VideoComposerActions").editShouldExpire(a,!1),b("VideoComposerActions").editExpiration(a,new Date(0),0)},u=function(a){b("VideoComposerActions").editShouldPublish(a,!1)},v=function(a){var c=g._("OK");c=k.jsx(b("PostScheduleDialog.react"),{timezoneStr:b("PageContentTabConfig").timezone_str,onSubmit:function(b){return w(a,b)},submitLabel:c});c=b("ReactDOM").render(c,b("DOM").create("div"));c.show()},w=function(a,c){b("VideoComposerActions").editScheduledTime(a,c),b("VideoComposerActions").editShouldPublish(a,!1)},x=function(a){b("VideoComposerActions").editShouldExpire(a,!1),b("VideoComposerActions").editExpiration(a,new Date(0),0)},y=function(a,c){var d=c.expirationTime;c=c.expirationType;b("VideoComposerActions").editShouldExpire(a,!1);b("VideoComposerActions").editExpiration(a,new Date(d),c)},z=function(a){b("VideoComposerActions").editShouldExpire(a,!1),b("VideoComposerActions").editExpiration(a,new Date(0),0)},A=function(a,c){var d=c.expirationTime;c=c.expirationType;b("VideoComposerActions").editExpiration(a,new Date(d),c)},B=function(a,c){var d=g._("OK"),e=k.jsx(b("PostExpireDialog.react"),{timezone:b("PageContentTabConfig").timezone_str,hideExpirationToggle:!0,onSubmit:function(d,f){C(a,c,d,f),e instanceof b("PostExpireDialog.react")||h(0,1818),e.hide()},submitLabel:d});e=b("ReactDOM").render(e,b("DOM").create("div"));e.show()},C=function(a,c,d,e){d?d*=l:d=c.expirationTime,b("VideoComposerActions").editExpiration(a,new Date(d),e)},D=function(a,c,d,e,f){e=b("videoComposerDialogEditGetPostDataPromises")(a,e);var g=e[0],h=e[1];b("promiseDone")(b("Promise").all(g),function(){h.append("edit_flow","dialog_v2"),f!=null&&h.append("composer_entry_point_ref",f),I(a,c,d,h)},function(c){b("VideoComposerActions").saveEditedVideoFailure(a,c instanceof b("FbtResultBase")||typeof c==="string"?c:F())})},E=function(a,c,d,e,f,g,h,i,k){if(k==="permalink"){b("ReloadPage").now();return}a=b("VideoComposerStores").getMetadataStore(a).getState();a=a.hasAdBreaksBefore;!f&&!a&&g&&j(c,e);if(k==="timeline"&&c&&i){f=b("XVideoGenerateStoryController").getURIBuilder().getURI();a={video_id:d,feed_location:36};h&&(a.timeline_identifier=h);H("new_story_requested",k,d);new(b("AsyncRequest"))().setURI(f).setData(a).setHandler(function(a){G(a,i,k,d)}).setErrorHandler(function(a){H("error_no_new_story",k,d)}).send();return}if(k==="library"||k==="video_page_spotlight_selector"||k==="media_manager_content_library"){g={id:d,videoID:d};e&&(g.videoAssetID=e);b("Arbiter").inform("video/edited"+c,g)}},F=function(){return g._("Sorry, something went wrong. Please try again later.")},G=function(a,c,d,e){a=a.payload;a?(H("new_story_received",d,e),b("pagesComposerReplaceByID")(c,a),H("old_story_replaced",d,e)):H("error_no_new_story",d,e)},H=function(a,c,d){new(b("VideoEditTypedLogger"))().setEvent(a).setSource(c).setFlow("dialog_v2").setVideoID(d).log()},I=function(a,c,d,e){d=b("XVideoEditDialogSaveController").getURIBuilder().setInt("v",d).getURI();d=b("ActorURI").create(d,c);new(b("AsyncRequest"))(d).setRawData(e).setHandler(function(c){var d=c.payload.error;!d?b("VideoComposerActions").saveEditedVideoSuccess(a):b("VideoComposerActions").saveEditedVideoFailure(a,c.payload.unknownError?F():c.payload.errorMessage)}).setErrorHandler(function(c){b("VideoComposerActions").saveEditedVideoFailure(a,c.errorDescription)}).send()};e.exports={areTwoTimesAlmostTheSame:a,getDownloadMenuItemProps:c,onMakeFeaturedVideo:d,onPublishingChange:f,onSave:D,onSuccessfulSave:E}}),null);
__d("VideoComposerDialogTabUtils",["Promise","VideoComposerActions","VideoComposerDistributionTabConfig","VideoComposerTabs","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g=function(a){return a.code+": "+a.summary.toString()+":"+a.descriptionString},h=function(a){return a.error!==0?g(a.toError()):"Errored while loading tab"};a=function(a,c){var d=c.common.enabledTabs.map(function(d){return b("VideoComposerTabs").get(d).fetchCrosspostData(a,c).then(function(){},function(c){b("VideoComposerActions").tabBootloadError(a,d,h(c))})});c.common.enabledTabs.includes("distribution")||d.push(b("VideoComposerTabs").get("distribution").fetchCrosspostData(a,c).then(function(){},function(c){b("VideoComposerActions").tabBootloadError(a,"distribution",h(c))}));b("promiseDone")(b("Promise").all(d),function(){b("VideoComposerActions").allTabsBootloaded(a),(function(){b("VideoComposerActions").allTabsBootloaded(a)})})};c=function(a,c){var d=c.common.enabledTabs.map(function(d){return b("VideoComposerTabs").get(d).fetchEditPostData(a,c).then(function(){},function(c){b("VideoComposerActions").tabBootloadError(a,d,h(c))})});b("promiseDone")(b("Promise").all(d),function(){b("VideoComposerActions").editTabsLoaded(a)},function(){b("VideoComposerActions").editTabsLoaded(a)})};d=function(a,c){var d=[],e=function(){if(g){if(i>=f.length)return"break";j=f[i++]}else{i=f.next();if(i.done)return"break";j=i.value}var e=j,k=b("VideoComposerTabs").get(e).fetchCreatePostData;k&&d.push(k(a,c).then(function(){},function(c){b("VideoComposerActions").tabBootloadError(a,e,h(c))}))};for(var f=c.common.enabledTabs,g=Array.isArray(f),i=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j,k=e();if(k==="break")break}!c.common.enabledTabs.includes("distribution")&&b("VideoComposerDistributionTabConfig").fetchCreatePostData&&d.push(b("VideoComposerDistributionTabConfig").fetchCreatePostData(a,c).then(function(){},function(c){b("VideoComposerActions").tabBootloadError(a,"distribution",h(c))}));b("promiseDone")(b("Promise").all(d),function(){b("VideoComposerActions").allTabsBootloaded(a)},function(){b("VideoComposerActions").allTabsBootloaded(a)})};e.exports={fetchCreatePostParameters:d,fetchCrosspostParameters:a,fetchEditPostParameters:c}}),null);
__d("XVideoComposerCrosspostBootloadThumbnailsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/crosspost/bootload_thumbnails/",{video_asset_id:{type:"FBID",required:!0}})}),null);
__d("XVideoComposerEditThumbnailsTabController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/edit/thumbnails/",{video_id:{type:"FBID",required:!0}})}),null);
__d("VideoComposerDialogThumbnailUtils",["regeneratorRuntime","Promise","ActorURI","AsyncRequest","AudioContextSingleton","Bootloader","EventListener","FBLogger","SphericalDirectorSpatialAudioUtils","UserAgent","VideoComposerDialogConstants","VideoComposerThumbnailActions","XVideoComposerCrosspostBootloadThumbnailsController","XVideoComposerEditThumbnailsTabController","generateVideoThumbnails"],(function(a,b,c,d,e,f){"use strict";a=function(a,c,d){var e,f,g;return b("regeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:if(h("video_upload")){i.next=2;break}return i.abrupt("return",b("Promise").resolve());case 2:i.prev=2;if(!b("SphericalDirectorSpatialAudioUtils").getShouldUseSpatialAudioController()){i.next=6;break}i.next=6;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(a,d){b("Bootloader").loadModules(["SphericalVideoSpatialAudioController","Audio360"],function(d,e){var f=b("SphericalDirectorSpatialAudioUtils").getAudioChannelLayout(),g=b("SphericalDirectorSpatialAudioUtils").getRemapChannelsForSevenPointOne(),h=b("SphericalDirectorSpatialAudioUtils").getCanUseSpatialAudio();d=d.getChannelAndHeadlockedMap(f,g);f=d.channelMap;g=d.headlockedMap;new e(c,b("AudioContextSingleton").get(),f,g,h);c.load();b("EventListener").listen(c,"loadedmetadata",function(){a()})},"VideoComposerDialogThumbnailUtils")}));case 6:b("VideoComposerThumbnailActions").generatedThumbnailsStarted;i.next=9;return b("regeneratorRuntime").awrap(b("generateVideoThumbnails")(c,c.videoWidth?c.videoWidth:0,c.videoHeight?c.videoHeight:0,b("VideoComposerDialogConstants").GENERATED_THUMBNAILS,"contain",0,d));case 9:e=i.sent;f=e.thumbnails;g=e.selectedThumbnail;return i.abrupt("return",b("VideoComposerThumbnailActions").generatedThumbnails(a,{thumbnails:f,selectedThumbnail:g}));case 15:i.prev=15;i.t0=i["catch"](2);b("FBLogger").error(i.t0);return i.abrupt("return",b("VideoComposerThumbnailActions").generatedThumbnailsFailed(a));case 19:case"end":return i.stop()}},null,this,[[2,15]])};c=function(a,c,d){d=b("XVideoComposerCrosspostBootloadThumbnailsController").getURIBuilder().setFBID("video_asset_id",d).getURI();d=b("ActorURI").create(d,c);return new(b("AsyncRequest"))().setURI(d).exec().then(function(c){b("VideoComposerThumbnailActions").bootloadCrosspostThumbnails(a,c.payload)})};d=function(a,c,d){d=b("XVideoComposerEditThumbnailsTabController").getURIBuilder().setFBID("video_id",d).getURI();d=b("ActorURI").create(d,c);return new(b("AsyncRequest"))().setURI(d).exec().then(function(c){b("VideoComposerThumbnailActions").bootloadThumbnailsForEdit(a,c.payload)})};var g=function(){return b("UserAgent").isBrowser("Firefox >= 14")||b("UserAgent").isBrowser("Chrome")};f=function(a){return g()};var h=function(a){return a==="video_upload"?g():!0},i=function(a){if(a.spherical){var b=a.projectionType;a=a.stereoMode;if(a==="left-right"||a==="top-bottom"||b==="cubemap")return"cover"}return"contain"};e.exports={beginBootloadingCrosspostThumbnailsTab:c,beginBootloadingEditThumbnailsTab:d,getThumbnailBackgroundSize:i,onMetadataLoaded:a,showGeneratedSection:h,showScrubberSection:f}}),null);
__d("VideoComposerPublishingDataValidator",["fbt","VideoComposerPostType","VideoComposerPremiereUtils","VideoComposerPublishingTypes","VideoComposerPublishingUtils","VideoComposerScheduleType","VideoComposerStores","isFalsey"],(function(a,b,c,d,e,f,g){"use strict";var h=b("VideoComposerPostType").VideoComposerPostTypes,i=b("VideoComposerPublishingTypes").PublishingType,j=b("VideoComposerScheduleType").VideoComposerScheduleTypes,k=function(a,c){return a&&a.getTime()&&!b("VideoComposerPublishingUtils").isPostEndDateValid(a,c)?{canPublish:!1,cannotPublishReason:b("VideoComposerPublishingUtils").invalidMessagePostEndDate}:{canPublish:!0,cannotPublishReason:null}},l=function(a,c){if(c&&c.getTime()&&!b("VideoComposerPublishingUtils").isScheduleDateValid(c))return{canPublish:!1,cannotPublishReason:b("VideoComposerPublishingUtils").invalidMessageScheduleDate};return a&&a.getTime()&&!b("VideoComposerPublishingUtils").isExpireDateValid(a,c)?{canPublish:!1,cannotPublishReason:b("VideoComposerPublishingUtils").invalidMessageExpireDate}:{canPublish:!0,cannotPublishReason:null}},m=function(a,c,d){if(b("VideoComposerStores").getPremiereStore(a).premieresVideoDurationIsInvalid(d))return{canPublish:!1,cannotPublishReason:b("VideoComposerPremiereUtils").INVALID_DURATION_MESSAGE};return!b("VideoComposerPremiereUtils").isPublishTimeValid(c)?{canPublish:!1,cannotPublishReason:b("VideoComposerPremiereUtils").getScheduledLiveInvalidTimeNotice(!0)}:{canPublish:!0,cannotPublishReason:null}},n=function(a,c,d){return b("isFalsey")(a)||c==null||c===0||d==null||d===0?{canPublish:!1,cannotPublishReason:g._("Please select a date to continue with backdated publishing")}:{canPublish:!0,cannotPublishReason:null}};c=function(a,b,c){c=!0;var d=null,e=b.publishingType,f=b.expireDate,g=b.postEndDate,h=b.premiereDate,j=b.scheduleDate,o=!!(f&&f.getTime()),p=!!(j&&j.getTime()),q=!!(g&&g.getTime());if(e===i.BACKDATE){var r=n(b.backdateYear,b.backdateMonth,b.backdateDay);c=r.canPublish;d=r.cannotPublishReason}else if(e===i.PREMIERE||b.shouldPremiere&&e===i.SCHEDULE){r=m(a,h,b.videoDuration);c=r.canPublish;d=r.cannotPublishReason}else if(o||p){e=l(f,j);c=e.canPublish;d=e.cannotPublishReason}if(q&&c){a=k(g,j);c=a.canPublish;d=a.cannotPublishReason}return{canPublish:c,cannotPublishReason:d}};function a(a,b,c){c={canPublish:!0,cannotPublishReason:null};var d=b.postType,e=b.scheduleType,f=b.expireDate,g=b.postEndDate,i=b.premiereDate,o=b.scheduleDate,p=f!==null,q=o!==null,r=g!==null;d===h.VIDEO_UPLOAD&&(e===j.BACKDATE?c=n(b.backdateYear,b.backdateMonth,b.backdateDay):(p||q)&&(c=l(f,o)),r&&c.canPublish&&(c=k(g,o)));(d===h.PREMIERE||b.shouldPremiere&&e===j.SCHEDULE)&&(c=m(a,i,b.videoDuration));return c}d={validatePublishingData:c,validatePublishingRedesignData:a};e.exports=d}),null);
__d("VideoComposerSoundEditorUtils",["GraphAPI","GraphAPIFieldUtils","MediaManagerUtils","SoundCollectionConfig","SoundCollectionConstants","VideoComposerSoundEditorActions","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";var g=b("SoundCollectionConstants").TAB_TIME_DICT;a=function(a){b("VideoComposerStores").getSoundEditorStore(a).hasUnsavedDraftChanges()?b("VideoComposerSoundEditorActions").attemptCloseSoundEditor(a):b("VideoComposerSoundEditorActions").confirmCloseSoundEditor(a)};var h=function(){return["title","display_artist",b("GraphAPIFieldUtils").getFieldWithSubfields("artist_page",["picture.type(normal)",b("GraphAPIFieldUtils").getFieldWithSubfields("cover",["source"]),"about","fan_count","website","category","name","link","username","id"]),b("GraphAPIFieldUtils").getFieldWithSubfields("media_tags.limit(100)",["local_name","media_tag_type"]),"duration_in_ms","download_hd_url"]};c=function(a,c,d,f,i){var j=i.lengthSelected,k=i.type,l=g[k]||{},m=null,n=null;j&&l[j]&&(m=l[j][0],n=l[j][1]);l={access_token:a,audio_type:k,fields:h(),title_or_artist:i.searchString,time_min:m,time_max:n,limit:b("SoundCollectionConfig").rowsPerPage,summary:["total_count"]};j="SOUND_COLLECTION_TRACKS";var o=null;switch(k){case"sound_tracks":l=babelHelpers["extends"]({},l,{genre:f.genre,mood:f.mood,vocal:f.vocal});j="SOUND_COLLECTION_TRACKS";o=new Error("Failed to get sound tracks data");break;case"sound_effects":l=babelHelpers["extends"]({},l,{sound_effects_category:f.category});j="SOUND_COLLECTION_EFFECTS";o=new Error("Failed to get sound effects data");break}return b("MediaManagerUtils").makeCancelablePromise(d,b("GraphAPI")("2.10",e.id).root("sound_collection").edge("audio_assets").get(l),j,c.bind(null,[],k),function(a){a={error:o,fbtrace:a.fbtrace_id};throw a},[])};d=function(a,b){if(a.startTimeInMs<b.startTimeInMs)return-1;return a.startTimeInMs>b.startTimeInMs?1:0};f=function(a,b){var c=[];b=b;while(b)c.push(String.fromCharCode(96+b%26)),b=Math.floor(b/26);c.push(a.toString());return c.reverse().join("")};e.exports={closeSoundEditor:a,compareSelectedTracks:d,getSoundCollectionTabQueryPromise:c,getTrackOrderLabel:f}}),null);
__d("VideoCaptionURL",["VideoCaption"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(b,c,d){c=a.call(this,c,d)||this;c.$VideoCaptionURL1=b;return c}var c=b.prototype;c.getURL=function(){return this.$VideoCaptionURL1};return b}(b("VideoCaption"));e.exports=a}),null);
__d("VideoCaptionEditorURL",["VideoCaptionURL"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e){b=a.call(this,b,c,d)||this;b.$VideoCaptionEditorURL1=e;return b}var c=b.prototype;c.getPublishState=function(){return this.$VideoCaptionEditorURL1};c.setPublishState=function(a){this.$VideoCaptionEditorURL1=a};return b}(b("VideoCaptionURL"));e.exports=a}),null);
__d("VideoCaptionsErrorsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"4002132399812783"};b.getQueryID=function(){return"2553234348293855"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("VideoSubtitlesCaptionsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1777591518965546"};b.getQueryID=function(){return"1764678470258992"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("VideoSubtitlesDetailQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1464334463602332"};b.getQueryID=function(){return"1972054256453533"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("XVideoCaptionDeleteAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/captioneditor/delete/",{video_id:{type:"Int",required:!0},subtitle_id:{type:"Int",required:!0},work_shared_draft_mode:{type:"Enum",enumType:1}})}),null);
__d("XVideoCaptionPublishedStateUpdateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/captioneditor/publishedstate/update/",{video_id:{type:"Int",required:!0},subtitles_id:{type:"Int",required:!0},new_published_state:{type:"Enum",required:!0,enumType:0}})}),null);
__d("XVideoCaptionSaveAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/videos/captioneditor/save/",{caption_id:{type:"Int",required:!0},caption:{type:"String"},caption_changeset:{type:"String"},source_app_id:{type:"FBID"},locale:{type:"String"},placement:{type:"Enum",enumType:0}})}),null);
__d("XVideoComposerCaptionsTabBootloadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/captions_tab/bootload_params/",{})}),null);
__d("XVideoComposerCrosspostCaptionEditorTabController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/crosspost/caption_editor/",{video_asset_id:{type:"FBID",required:!0}})}),null);
__d("XVideoComposerEditCaptionsTabController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/edit/captions/",{video_id:{type:"FBID",required:!0}})}),null);
__d("VideoComposerDialogCaptionEditorUtils",["fbt","Promise","ActorURI","AsyncRequest","VideoCaptionEditorURL","VideoCaptionFile","VideoCaptionsErrorsQueryWebGraphQLQuery","VideoCaptionUtil","VideoComposerCaptionEditorActions","VideoComposerCaptionsTabActions","VideoComposerDialogCaptionEditorConstants","VideoComposerDialogCaptionEditorPublishStateEnum","VideoComposerStores","VideoSubtitlePublishedStatusType","VideoSubtitlesCaptionsQueryWebGraphQLQuery","VideoSubtitlesDetailQueryWebGraphQLQuery","WebGraphQL","XVideoCaptionDeleteAsyncController","XVideoCaptionPublishedStateUpdateController","XVideoCaptionSaveAsyncController","XVideoComposerCaptionsTabBootloadController","XVideoComposerCrosspostCaptionEditorTabController","XVideoComposerEditCaptionsTabController","immutable","moment.instagram","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var c=a.prototype;c.saveCaptionChangeset=function(a,c,d,e,f){if(!this.$1(c))return b("Promise").resolve();a=b("XVideoCaptionSaveAsyncController").getURIBuilder().setInt("caption_id",a).setString("locale",e).getURI();e=b("ActorURI").create(a,f);return new(b("AsyncRequest"))(e).setMethod("POST").setData({caption:JSON.stringify(c.toArray()),caption_changeset:JSON.stringify(d.toArray())}).exec()};c.$1=function(a){return a.size>=0};c.getTimeStamp=function(a){var c=Math.floor(a/1e3);c=c>=3599?"hh:mm:ss:SSS":"mm:ss:SS";return b("moment.instagram").utc(a).format(c)};c.getWidth=function(a,c){return a*b("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT*c};c.fetchCaptions=function(a,c,d){b("promiseDone")(b("WebGraphQL").exec(new(b("VideoSubtitlesCaptionsQueryWebGraphQLQuery"))({video_id:a})),c,d)};c.fetchCaptionsErrors=function(a,c,d){b("promiseDone")(b("WebGraphQL").exec(new(b("VideoCaptionsErrorsQueryWebGraphQLQuery"))({video_id:a})),c,d)};c.makeNewCaptionFile=function(a,c,d,e){if(a.size===0)return null;var f=a.filter(function(a){return a.node.text!==b("VideoComposerDialogCaptionEditorConstants").EMPTY_CAPTION_TEXT});if(f.size===0)return null;f=b("VideoCaptionUtil").saveToFile(a.toArray(),c,e);return f?new(b("VideoCaptionFile"))(f,c,d):null};c.finishCaptionsFetch=function(a,c,d){b("VideoComposerCaptionsTabActions").finishedFetchDrafts(a,b("immutable").List(c),d)};c.fetchCaptionedLocales=function(a,b,c,d){var e=this;if(!b)return;this.fetchCaptions(b,function(f){e.convertFetchToObject(a,b,c,f,d)})};c.convertFetchToObject=function(a,c,d,e,f){var g=this,h=e&&e.video&&e.video.video_subtitles;if(h){var i=b("VideoComposerStores").getCaptionsStore(a).getState();h=e.video.video_subtitles;var j=new(b("immutable").List)(e.video.video_captions_locales),k=e.video.default_video_caption_locale,l=[];h.forEach(function(a,e){e={id:a.id,locale:a.locale,language:a.display_language,creationMethod:a.subtitle_creation_method,publishedState:a.published_state,isDefault:a.locale===k};if(d&&e.locale===b("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE)g.silentlyDeleteSubtitle(c,e,i.get("pageID"));else{l.push(e);a=j.indexOf(e.locale);a>=0&&(j=j.remove(a))}});f(l,j)}};c.fetchCaptionByID=function(a,c){if(!a)return;b("promiseDone")(b("WebGraphQL").exec(new(b("VideoSubtitlesDetailQueryWebGraphQLQuery"))({subtitles_id:a})),c)};c.findAutoGeneratedCaption=function(a){return a.find(function(a){return a.creationMethod===b("VideoComposerDialogCaptionEditorConstants").AUTO_GENERATED})};c.findSRTUploadCaption=function(a,c){return a.find(function(a){return a.locale===c&&a.creationMethod===b("VideoComposerDialogCaptionEditorConstants").SRT_UPLOAD})};c.getCaptionErrorMessage=function(a,b){switch(a){case"caption_error_wrong_format":return g._("You uploaded a .SRT file with an incorrect file name. Please use this format: filename{suffix}",[g._param("suffix",".en_US.srt")]);case"caption_error_duplicate_locale":return g._("You have already added a caption file for {language}. Please remove the older caption file before adding a new one.",[g._param("language",b)]);case"caption_error_generate_duplicate_locale":return g._("You have already added a caption file for {language}. Please remove the older caption file before auto-generating a new one.",[g._param("language",b)]);case"caption_error_generate_fail":return b==null?g._("The caption generation has failed."):g._("We're unable to auto-generate captions for {language}. You can still write them yourself or upload a file.",[g._param("language",b)]);case"caption_error_create_fail":return g._("The caption creation has failed.");case"caption_error_delete_fail":return g._("The caption deletion has failed.");case"auto_generate_fail_retry":return g._("The caption generation has failed. Retrying to generate.");default:return g._("There was an error uploading your caption file.")}};c.isAutoGenerateable=function(a,c,d,e){c=this.getHeadLocale(c);return(b("VideoComposerStores").getCaptionsStore(a).getAutogeneratableHeadLocales().has(c)||b("VideoComposerStores").getCaptionsStore(a).getHideLanguageSelectorForAutocaption())&&!this.isVideoTooLong(d)&&!e};c.isVideoTooLong=function(a){return a?a>=b("VideoComposerDialogCaptionEditorConstants").AUTO_GENERATION_MAX_DURATION_SUPPORTED_IN_SEC:!1};c.getHeadLocale=function(a){if(a.slice(3,5)!=="XX")return a;a=b("VideoComposerDialogCaptionEditorConstants").GENERAL_LOCALES_TO_HEAD.get(a);return a?a:""};c.areHeadLocalesEqual=function(a,b){return this.getHeadLocale(a)===this.getHeadLocale(b)};c.getGenericLocale=function(a){var c=b("VideoComposerDialogCaptionEditorConstants").HEAD_TO_GENERAL_LOCALES.get(a);return c?c:a};c.makeSRTCaptionPromises=function(a,c){var d=this,e=[];a.forEach(function(a,f){e.push(new(b("Promise"))(function(b,e){e=d.findSRTUploadCaption(c,a.getLocale());var f=e!==-1;if(!f){b();return}d.srtSubtitleIDToSubtitles(e.id,e.locale,e.publishedState,!1,e.creationMethod,b)}))});return e};c.makeAllSRTCaptionPromises=function(a){var c=this,d=[];a.forEach(function(a){d.push(new(b("Promise"))(function(b,d){c.srtSubtitleIDToSubtitles(a.id,a.locale,a.publishedState,a.isDefault,a.creationMethod,b)}))});return d};c.srtSubtitleIDToSubtitles=function(a,b,c,d,e,f){this.fetchCaptionByID(a,function(g){var h=g&&g.video_subtitle&&g.video_subtitle.captions&&g.video_subtitle.captions.edges;if(h){h=g.video_subtitle.captions.edges;f({captions:h,locale:b,publishedState:c,subtitlesID:a,isDefault:d,creationMethod:e})}else f()})};c.shouldRetryAutoGeneration=function(a,c){a=a*b("VideoComposerDialogCaptionEditorConstants").GENERATION_RETRY_THRESHOLD.PCT/100;var d=b("VideoComposerDialogCaptionEditorConstants").GENERATION_RETRY_THRESHOLD.TIME_S;return c>Math.max(a,d)};c.deleteSubtitles=function(a,c,d,e,f,g){var h=this;f=b("XVideoCaptionDeleteAsyncController").getURIBuilder().setInt("video_id",c).setInt("subtitle_id",d.id).getURI();c=b("ActorURI").create(f,e);new(b("AsyncRequest"))(c).setMethod("POST").setHandler(function(c){var d=c.payload;d&&d.success===!0&&d.error===""&&b("VideoComposerCaptionsTabActions").deleteSubtitlesSuccess(a);g(c)}).setErrorHandler(function(c){c=h.getCaptionErrorMessage("caption_error_delete_fail");b("VideoComposerCaptionsTabActions").updateErrorState(a,b("immutable").List([c]));b("VideoComposerCaptionsTabActions").deleteSubtitlesFailure(a)}).send()};c.silentlyDeleteSubtitle=function(a,c,d){a=b("XVideoCaptionDeleteAsyncController").getURIBuilder().setInt("video_id",a).setInt("subtitle_id",c.id).getURI();c=b("ActorURI").create(a,d);new(b("AsyncRequest"))(c).setMethod("POST").send()};c.beginBootloadingCaptionsTab=function(a,c){var d=b("XVideoComposerCaptionsTabBootloadController").getURIBuilder().getURI(),e=b("ActorURI").create(d,c);return new(b("Promise"))(function(c,d){new(b("AsyncRequest"))(e).setHandler(function(d){b("VideoComposerCaptionsTabActions").bootloadParametersCaptionsTab(a,d.payload),c(d)}).setErrorHandler(function(a){d(a)}).send()})};c.getUpdatedPublishState=function(a){if(a===b("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISHED||a===b("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISH_PENDING)return b("VideoComposerDialogCaptionEditorPublishStateEnum").DRAFT;else return b("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISH_PENDING};c.updateToChangesetValues=function(a,c){var d=a.toArray();for(var e=0;e<a.size;e++){var f=a.get(e),g=c.get(f.id);g!==void 0&&(f.publishedState=g,d[e]=f)}return b("immutable").List(d)};c.getPublishedStateForServer=function(a){switch(a){case b("VideoComposerDialogCaptionEditorPublishStateEnum").DRAFT:return b("VideoSubtitlePublishedStatusType")[a];default:return b("VideoSubtitlePublishedStatusType")[b("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISHED]}};c.updatePublishedStatesOnServer=function(a,c,d,e){var f=this,g=!1;e.forEach(function(e,h){var i=b("VideoSubtitlePublishedStatusType")[e]!==void 0;if(!i)return;i=b("XVideoCaptionPublishedStateUpdateController").getURIBuilder().setInt("video_id",c).setInt("subtitles_id",h).setEnum("new_published_state",f.getPublishedStateForServer(e));h=i.getURI();e=b("ActorURI").create(h,String(d));new(b("AsyncRequest"))(e).setMethod("POST").setHandler(function(c){c=c.payload&&c.payload.success;c&&!g&&(b("VideoComposerCaptionsTabActions").changePublishedStatePendingToPublished(a),g=!0)}).send()})};c.changeAllPendingToPublished=function(a){var c=a.toArray();for(var d=0;d<a.size;d++)c[d]=this.changeOnePendingToPublished(a.get(d));return b("immutable").List(c)};c.changeOnePendingToPublished=function(a){var c=a.publishedState===b("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISH_PENDING;c&&(a.publishedState=b("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISHED);return a};c.subtitlesListToMap=function(a){var c=this,d={};a.forEach(function(a){var b=c.getHeadLocale(a.locale);d[b]=a});return b("immutable").Map(d)};c.getPublishedCaptionFiles=function(a,c){var d=this.subtitlesListToMap(c);return a.filter(function(a,c){a=d.get(c);return a&&a.publishedState!==b("VideoComposerDialogCaptionEditorPublishStateEnum").DRAFT})};c.getPublishedCaptionFilesForEdit=function(a,c){var d={},e=0;this.getPublishedCaptionFiles(a,c).forEach(function(a,b){a.getIsDefault()&&(d.default_captions_locale=b),d["captions_auto"+e]=a.getFile(),e++});return b("immutable").Map(d)};c.addLocaleAsPublishPending=function(a,c){return a.set(c,b("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISH_PENDING)};c.filterOutDeletions=function(a,c){var d=b("immutable").List();a.forEach(function(a){c.has(a.id)||(d=d.push(a))});return d};c.filterOutAutoGeneratedCaptions=function(a){return a.filter(function(a){return a.creationMethod!==b("VideoComposerDialogCaptionEditorConstants").AUTO_GENERATED})};c.fetchCrosspostData=function(a,c){var d=b("XVideoComposerCrosspostCaptionEditorTabController").getURIBuilder().setFBID("video_asset_id",c.videoAssetID).getURI(),e=b("ActorURI").create(d,c.common.actorID);return new(b("Promise"))(function(a,c){new(b("AsyncRequest"))(e).setHandler(function(b){a(b)}).setErrorHandler(function(a){c(a)}).send()}).then(function(c){b("VideoComposerCaptionEditorActions").fetchCrosspostParams(a,c.payload)})};c.fetchEditData=function(a,c){var d=b("XVideoComposerEditCaptionsTabController").getURIBuilder().setFBID("video_id",c.videoID).getURI(),e=b("ActorURI").create(d,c.common.actorID);return new(b("Promise"))(function(d,f){new(b("AsyncRequest"))(e).setHandler(function(e){e.payload.captionsFeaturesMode!=="old_data_model"?b("VideoComposerStores").getCaptionsStore(a).initialize(b("VideoComposerStores").getCaptionsStore(a).getState(),null,c.videoID,c.common.accessToken,null,"",null,"video_edit",!1):b("VideoComposerCaptionEditorActions").editParamsFetched(a,e.payload);return d()}).setErrorHandler(function(a){f(a)}).send()})};c.getOldCaptionsDataModelForEdit=function(a,c){var d={},e=[],f=null;a.forEach(function(a,c){if(a instanceof b("VideoCaptionFile")){var e;c=a.getIsDefault()?"captions_default":a.getIsAutoGenerated()?"captions_auto"+c:"captions_file"+c;Object.assign(d,(e={},e[c]=a.getFile(),e))}a.getIsDefault()&&(f=a.getLocale())});f&&Object.assign(d,{default_captions_locale:f});c.forEach(function(a){e.push(a.getLocale())});e.forEach(function(a,b){var c;b="remove_caption["+b+"]";Object.assign(d,(c={},c[b]=a,c))});return d};c.getConvertedCaptionURLs=function(a){a=b("immutable").List(a).map(function(a){var c=new(b("VideoCaptionEditorURL"))(a.uri,a.locale,a.locale_name,b("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISH_PENDING);a.is_default&&c.setIsDefault(!0);a.is_auto_generated&&c.setIsAutoGenerated(!0);return c});return a};c.isLanguageDefaultOrEmpty=function(a){return a===b("VideoComposerDialogCaptionEditorConstants").NO_LANGUAGE_SELECTED||a===b("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE};c.isCaptionSubtitleDraftState=function(a,c){var d=this;c=c.filter(function(b){return b.locale===a.getLocale()||b.locale===d.getGenericLocale(a.getLocale())});return c.size>0&&c.first().publishedState===b("VideoComposerDialogCaptionEditorPublishStateEnum").DRAFT};return a}();e.exports=new a()}),null);
__d("getVideoPublishingDataFromStores",["VideoComposerDealUtils","VideoComposerPostType","VideoComposerStores","videoComposerGetPremiereDisabledReason"],(function(a,b,c,d,e,f){"use strict";var g=b("VideoComposerDealUtils").videoRequiresReview,h=b("VideoComposerPostType").VideoComposerPostTypes;a=function(a,c,d,e,f){d=(c=b("VideoComposerStores")).getBasicStore(a).getState();e=d.fundedContentProgram;f=c.getMetadataStore(a).getState();d=f.dialogMode;var i=f.minBackdateTime;f=f.isEditModeUpgrade;var j=c.getPremiereStore(a).getState(),k=j.canCreateMultiVideoPremiereLivingRoom,l=j.canCreateSingleVideoPremiereLivingRoom,m=j.canCreateSingleVideoScheduledPremiereLivingRoom,n=j.feedBackgroundImage,o=j.premiereCSType,p=j.premiereDate,q=j.shouldPremiere,r=j.shouldPremiereWithShowOrSeason,s=j.showPremiereAudience,t=j.premiereAudience;j=j.premiereFromDraftGK;var u=c.getPublishingStore(a).getState(),v=u.backdateDay,w=u.backdateMonth,x=u.backdateYear,y=u.expireDate,z=u.expireType,A=u.hideFromNewsFeed,B=u.isComposerPostScheduleRedesign,C=u.scheduleDate,D=u.showBestPracticesChecklist;u=u.disabledScheduleTypesMap;var E=c.getPublishingStore(a).getState();E=E.publishingType;c=c.getPublishingStore(a).getState();var F=c.postType;c=c.scheduleType;var G=!!(y&&y.getTime()),H=!!(C&&C.getTime()),I=b("videoComposerGetPremiereDisabledReason")(a);a=g(a);var J=d==="video_upload",K=d==="video_edit";d={dialogMode:d,backdateDay:v,backdateMonth:w,backdateYear:x,canCreateMultiVideoPremiereLivingRoom:k,canCreateSingleVideoPremiereLivingRoom:l,canCreateSingleVideoScheduledPremiereLivingRoom:m,disabledScheduleTypesMap:u,expireDate:G?y:null,expireType:z!==null&&z!==void 0?z:0,isFundedContent:e===1,isUsingLivingRoomPlayer:F===h.VIDEO_UPLOAD_WATCH_PARTY,hasFundedContentReviews:a,publishingType:E,postType:F,minBackdateTime:i!==null&&i!==void 0?i:0,hideFromNewsFeed:A,premiereCSType:o,premiereDate:p,premiereFeedBackgroundImageURL:n!==void 0&&n!==null?URL.createObjectURL(n):null,scheduleDate:H?C:null,scheduleType:c,shouldPremiere:I===null&&q,showBackdateOption:!K,showPublishForDogfoodingOption:!K,showPremiereOption:J||K&&f&&j,showPremiereAudience:s,premiereAudience:t,showBestPracticesChecklist:D,shouldPremiereWithShowOrSeason:r,isComposerPostScheduleRedesign:B};I!==null&&(d.premiereDisabledReason=I);return d};e.exports=a}),null);
__d("XVideoComposerBootloadSphericalDirectorCrosspostTabController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/crosspost/bootload_spherical_director/",{video_asset_id:{type:"FBID",required:!0}})}),null);
__d("XVideoComposerBootloadSphericalDirectorEditTabController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/bootload_spherical_director_edit/",{video_id:{type:"FBID",required:!0}})}),null);
__d("XVideoComposerBootloadSphericalDirectorUploadTabController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/composer/bootload_spherical_director_upload/",{target_id:{type:"FBID",required:!0},video_composer_id:{type:"String",defaultValue:""}})}),null);
__d("VideoComposerDialogSphericalDirectorUtils",["ActorURI","AsyncRequest","SphericalDirectorComponentSources","SphericalDirectorErrorUtils","VideoComposerSphericalDirectorActions","VideoComposerStores","XVideoComposerBootloadSphericalDirectorCrosspostTabController","XVideoComposerBootloadSphericalDirectorEditTabController","XVideoComposerBootloadSphericalDirectorUploadTabController"],(function(a,b,c,d,e,f){"use strict";var g=15,h=200,i=1024*1024,j=8;a=function(a,c,d){a=b("XVideoComposerBootloadSphericalDirectorCrosspostTabController").getURIBuilder().setFBID("video_asset_id",d).getURI();d=b("ActorURI").create(a,c);return new(b("AsyncRequest"))(d).exec()};c=function(a,c,d){a=b("XVideoComposerBootloadSphericalDirectorEditTabController").getURIBuilder().setFBID("video_id",d).getURI();d=b("ActorURI").create(a,c);return new(b("AsyncRequest"))(d).exec()};d=function(a,c){a=b("XVideoComposerBootloadSphericalDirectorUploadTabController").getURIBuilder().setFBID("target_id",c).setString("video_composer_id",a).getURI();a=b("ActorURI").create(a,c);return new(b("AsyncRequest"))(a).exec()};f=function(a){switch(a){case"video_upload":return b("SphericalDirectorComponentSources").PAGE_COMPOSER_V2;case"video_edit":return b("SphericalDirectorComponentSources").EDIT_DIALOG_V2;case"video_crosspost":return b("SphericalDirectorComponentSources").CROSSPOST_DIALOG_V2;default:return b("SphericalDirectorComponentSources").UNKNOWN}};var k=function(a){if(!b("VideoComposerStores").getSphericalDirectorStore(a).getSpherical())return!1;var c=b("VideoComposerStores").getUploadStore(a).getVideoSize();a=b("VideoComposerStores").getMetadataStore(a).getVideoDuration();if(typeof c==="number"&&c>g*1073741824){b("SphericalDirectorErrorUtils").showFileSizeTooLargeComposerDialog(g);return!0}if(typeof c==="number"&&typeof a==="number"&&c/a*j>h*i){b("SphericalDirectorErrorUtils").showBitrateTooHighDialog(h);return!0}return!1};e.exports={beginBootloadingSphericalDirectorCrosspostTab:a,beginBootloadingSphericalDirectorEditTab:c,beginBootloadingSphericalDirectorUploadTab:d,bootloadSphericalDirectorUploadTab:function(a){b("VideoComposerSphericalDirectorActions").bootloadUploadParameters(a.videoComposerID,a)},getComponentSourceFromDialogMode:f,maybeShowValidationError:k}}),null);
__d("videoComposerDialogEditGetPostDataPromises",["VideoComposerStores","VideoComposerTabs","objectKeys"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=new FormData(),e=[];for(var c=c,f=Array.isArray(c),g=0,c=f?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=c.length)break;h=c[g++]}else{g=c.next();if(g.done)break;h=g.value}h=h;e.push(b("VideoComposerTabs").get(h).getEditRequestDataToSend(a).then(function(a){a&&b("objectKeys")(a).forEach(function(b){a&&d.append(b,a[b])})}))}[b("VideoComposerStores").getMetadataStore(a).getEditRequestDataToSend(),b("VideoComposerStores").getPublishingStore(a).getEditRequestDataToSend(),b("VideoComposerStores").getPremiereStore(a).getEditRequestDataToSend()].forEach(function(a){return e.push(a.then(function(a){a&&b("objectKeys")(a).forEach(function(b){d.append(b,a[b])})}))});return[e,d]}e.exports=a}),null);
__d("videoComposerDialogUploadDoPost",["fbt","Promise","ComposerPublisher","VideoComposerActions","VideoComposerInterceptCheckers","VideoComposerStores","promiseDone","videoComposerDialogUploadGetInvalidationReasons","videoComposerDialogUploadGetPostDataPromises","videoComposerDialogUploadSaveVideoInPagesComposer"],(function(a,b,c,d,e,f,g){"use strict";var h=b("VideoComposerInterceptCheckers").brandedContentInterceptChecker;function i(a,c){b("VideoComposerActions").createPageStoryAttempt(a);var d=b("VideoComposerStores").getBasicStore(a).getState().composerConfig,e=d?d.contextConfig:{};d=b("VideoComposerStores").getMetadataStore(a).getState();var f=d.videoID;return!f?b("Promise").resolve(!1):new(b("Promise"))(function(d,g){b("ComposerPublisher").publish(babelHelpers["extends"]({},e,{onPostSuccess:function(){b("VideoComposerActions").createPageStorySuccess(a),d(!0)},onPostFailure:function(c){b("VideoComposerActions").createPageStoryFailure(a,c.getErrorDescriptionString()),d(!1)}}),babelHelpers["extends"]({},c,{composer_session_id:e.composerID,composer_unpublished_photo:[f],is_also_posting_video_to_feed:!c.no_story,xhpc_targetid:e.actorID}),{type:"STORIES"})})}function a(a,c,d,e){e===void 0&&(e=!1);var f={};d=b("videoComposerDialogUploadGetPostDataPromises")(a,f,d);b("promiseDone")(b("Promise").all(d).then(function(){return h(c,f)}),function(d){var g=b("videoComposerDialogUploadGetInvalidationReasons")(a,f);if(g.length!==0){b("VideoComposerActions").postRequestInvalid(a,f,g);return}if(d)j(a,f);else if(e)b("videoComposerDialogUploadSaveVideoInPagesComposer")(a,f);else{g=b("VideoComposerStores").getDistributionStore(a).shouldAddToPagesStory();d=b("Promise").resolve(!1);g&&(d=i(a,f));b("promiseDone")(d,function(){b("VideoComposerActions").sendingPostRequest(a),c.post(f),b("VideoComposerActions").postRequestSent(a,f)})}},function(c){b("VideoComposerActions").cancelUpload(a)})}function j(a,c){b("VideoComposerActions").cancelUpload(a),c.scheduled?b("VideoComposerActions").postFailed(a,{},{error_summary:g._("Your tagged business partner requires creators to be on their approved list to tag them in branded content posts. You cannot schedule a post with this business partner until they have approved you."),error_description:""}):b("VideoComposerActions").showReviewableBrandedContentConfirmation(a)}e.exports=a}),null);
__d("videoComposerDialogUploadGetInvalidationCheckers",["VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";function a(a){return[].concat(b("VideoComposerStores").getPremiereStore(a).getInvalidationCheckers())}e.exports=a}),null);
__d("videoComposerDialogUploadGetInvalidationReasons",["videoComposerDialogUploadGetInvalidationCheckers"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("videoComposerDialogUploadGetInvalidationCheckers")(a).map(function(a){return a(c)}).filter(Boolean)}e.exports=a}),null);
__d("videoComposerDialogUploadGetPostDataPromises",["Promise","DateConsts","React","VideoComposerStores","VideoComposerTabs","immutable"],(function(a,b,c,d,e,f){"use strict";b("React");function a(a,c,d){var e=[];for(var f=d,h=Array.isArray(f),i=0,f=h?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=f.length)break;j=f[i++]}else{i=f.next();if(i.done)break;j=i.value}j=j;e.push(b("VideoComposerTabs").get(j).getPostRequestDataToSend(a).then(function(a){Object.assign(c,a)}))}j=b("immutable").List([b("VideoComposerStores").getMetadataStore(a).getPostRequestDataToSend(),b("VideoComposerStores").getPublishingStore(a).getPostRequestDataToSend(),b("VideoComposerStores").getPremiereStore(a).getPostRequestDataToSend(),g(a)]);d.includes("distribution")||(j=j.push(b("VideoComposerTabs").get("distribution").getPostRequestDataToSend(a)));j.forEach(function(a){return e.push(a.then(function(a){Object.assign(c,a)}))});return e}function g(a){var c=b("VideoComposerStores").getTrimmingEditorStore(a).getVideoEditorConfigData();a=b("VideoComposerStores").getSoundEditorStore(a).getVideoEditorConfigData();var d={},e={};c&&(d.trim_before_start=c.trim_before_start,d.trim_after_end=c.trim_after_end);a&&(a.videoVolume!=null&&(d.video_volume=a.videoVolume),a.addedTracks!=null&&(d.audio_overlay_params=a.addedTracks.map(function(a){return{audio_asset_id:a.sourceId,audio_start_time:a.itemStartTimeInMs/b("DateConsts").MS_PER_SEC,audio_duration:(a.itemEndTimeInMs-a.itemStartTimeInMs)/b("DateConsts").MS_PER_SEC,audio_volume:a.itemVolume,video_start_time:a.startTimeInMs}}).toArray()));Object.keys(d).length!==0&&(e.video_editor_config_json=JSON.stringify(d));return b("Promise").resolve(e)}e.exports=a}),null);
__d("NPSSurveyContent",["fbt"],(function(a,b,c,d,e,f,g){a={CONTENT_V1:{headerText:g._("Tell us what you think"),numberBarText:g._("How likely are you to recommend in-stream ads to a friend or colleague who creates video content?"),freeformText:g._("Tell us more about your experience with in-stream ads, including what you like or if there's anything we can improve."),thankYouHeaderText:g._("Your feedback makes a difference"),thankYouBodyText:g._("We value your time and use your input to improve our products and services."),freeformPlaceholderText:g._("Please include detailed feedback and any relevant examples.")}};e.exports={npsContent:a}}),null);
__d("NPSSurveyDialog.react",["cx","fbt","FDSButton.react","FDSCancelButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSText.react","FDSTextArea.react","FDSToggleButtonGroup.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=508;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={shown:!1,thankYouState:!1,numericScore:"",freeformResponse:"",scores:Array.from(Array(10).keys())},c.$1=function(){c.state.numericScore===""&&c.props.onDismiss(c.props.pageID),c.setState({shown:!1})},c.$2=function(){c.props.onSubmit(c.props.pageID,parseInt(c.state.numericScore,10),c.state.freeformResponse),c.setState({thankYouState:!0})},c.$3=function(a){c.setState({numericScore:a})},c.$4=function(a){c.setState({freeformResponse:a})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.show=function(){this.setState({shown:!0})};d.render=function(){var a=i.jsx(b("FDSModalFooter.react"),{primaryButton:i.jsx(b("FDSButton.react"),{label:h._("Submit"),isDisabled:this.state.numericScore==="",onClick:this.$2,use:"primary"}),secondaryButton:i.jsx(b("FDSCancelButton.react"),{})}),c=i.jsx(b("FDSModalHeader.react"),{title:this.props.headerText}),d=i.jsxs(b("FDSSection.react"),{children:[this.props.numberBarText,i.jsx("div",{className:"_7qka",children:i.jsx(b("FDSToggleButtonGroup.react"),{onChange:this.$3,value:this.state.numericScore,use:"primary",children:this.state.scores.map(function(a){return i.jsx(b("FDSButton.react"),{label:h._("{selectable number}",[h._param("selectable number",a+1)]),size:"large",value:a})})})}),i.jsxs("div",{className:"_7qju",children:[i.jsx(b("FDSText.react"),{color:"primary",palette:"dark",children:h._("Not at all likely")}),i.jsx(b("FDSText.react"),{color:"primary",palette:"dark",children:h._("Extremely likely")})]}),i.jsx(b("FDSTextArea.react"),{label:this.props.freeformText,onChange:this.$4,placeholder:this.props.freeformPlaceholderText,value:this.state.freeformResponse})]});this.state.thankYouState&&(a=i.jsx(b("FDSModalFooter.react"),{primaryButton:i.jsx(b("FDSButton.react"),{label:h._("Close"),onClick:this.$1,use:"primary"})}),c=i.jsx(b("FDSModalHeader.react"),{title:this.props.thankYouHeaderText}),d=i.jsx(b("FDSSection.react"),{children:this.props.thankYouBodyText}));return i.jsx(b("FDSModal.react"),{footer:a,header:c,isShown:this.state.shown,onHide:this.$1,width:j,children:d})};return c}(i.Component);e.exports=a}),null);
__d("XVideoCreatorNPSSurveyResponseController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video_creator/NPS/",{})}),null);
__d("AdBreaksNPSSurveyUtils",["AdBreaksNPSSurveyTypedLogger","AsyncRequest","DOM","NPSSurveyContent","NPSSurveyDialog.react","React","ReactDOM","XVideoCreatorNPSSurveyResponseController"],(function(a,b,c,d,e,f){"use strict";var g=b("NPSSurveyContent").npsContent,h=b("React");function a(a){var c=h.jsx(b("NPSSurveyDialog.react"),{pageID:a,headerText:g.CONTENT_V1.headerText,numberBarText:g.CONTENT_V1.numberBarText,onSubmit:i,onDismiss:j,freeformText:g.CONTENT_V1.freeformText,thankYouHeaderText:g.CONTENT_V1.thankYouHeaderText,thankYouBodyText:g.CONTENT_V1.thankYouBodyText,freeformPlaceholderText:g.CONTENT_V1.freeformPlaceholderText});c=b("ReactDOM").render(c,b("DOM").create("div"));c.show();new(b("AdBreaksNPSSurveyTypedLogger"))().setEntryPoint("VIDEO_COMPOSER").setEvent("EXPOSURE").setPageID(a).log()}function i(a,c,d){var e=b("XVideoCreatorNPSSurveyResponseController").getURIBuilder().getURI();new(b("AsyncRequest"))(e).setData({was_dismissed:!1,page_id:a,score:c,written_response:d,content_version:1}).setErrorHandler(function(c){new(b("AdBreaksNPSSurveyTypedLogger"))().setEntryPoint("VIDEO_COMPOSER").setEvent("ERROR").setPageID(a).log()}).send();new(b("AdBreaksNPSSurveyTypedLogger"))().setEntryPoint("VIDEO_COMPOSER").setEvent("RESPONSE").setPageID(a).setScore(c).setWrittenResponse(d).log()}function j(a){var c=b("XVideoCreatorNPSSurveyResponseController").getURIBuilder().getURI();new(b("AsyncRequest"))(c).setData({was_dismissed:!0,page_id:a,content_version:1}).setErrorHandler(function(c){new(b("AdBreaksNPSSurveyTypedLogger"))().setEntryPoint("VIDEO_COMPOSER").setEvent("ERROR").setPageID(a).log()}).send();new(b("AdBreaksNPSSurveyTypedLogger"))().setEntryPoint("VIDEO_COMPOSER").setEvent("DISMISSAL").setPageID(a).log()}e.exports={renderAdBreaksNPSSurveyV1:a}}),null);
__d("videoComposerDialogUploadPostFinished",["AdBreaksNPSSurveyUtils","Arbiter","React","SimpleNUXMessage","SimpleNUXMessageTypes","VideoComposerStores"],(function(a,b,c,d,e,f){"use strict";var g=b("AdBreaksNPSSurveyUtils").renderAdBreaksNPSSurveyV1;b("React");function a(a,c,d){var e=c.premiere_destination_video_id?c.premiere_destination_video_id:c.video_id,f=b("VideoComposerStores").getMetadataStore(a).getState(),h=f.actorID,i=f.profileDisplayName;f=f.profilePictureURI;b("Arbiter").inform("videoUpload/complete",{videoID:e,containerType:c.video_container,copyrighted:c.copyrighted,videoAssetID:c.video_asset_id,videoTitle:c.video_title,videoDescription:c.xhpc_message||c.xhpc_message_text,videoThumbnailBlob:c.thumb,isScheduledPost:!!c.scheduled,isHiddenFromTimeline:c.no_story,isSecret:c.secret,isDraft:c.draft=="true",isPageToPage:!0,isPremiere:c.should_premiere,isPremiereLivingRoom:!!((e=c.premiere_in_living_room_video_ids)==null?void 0:e.length),originalComposerID:d,pageID:h,premiereTimeMs:c.premiere_time_ms,isEpisode:c.episode_data_json!==null&&c.episode_data_json!==void 0&&JSON.parse(c.episode_data_json).isEpisode,userDisplayName:i,userProfilePictureURI:f});b("Arbiter").inform("videoUpload/"+d+"/done");b("Arbiter").inform("Pages/composeFinished",{composerID:d});e=b("VideoComposerStores").getAdBreakStore(a).getState();c=e.adBreaksDisabled;i=e.insertedAdBreaks;f=e.isAdBreakAutoInsertionEnabled;d=e.isNPSEligible;d&&!c&&h!=null&&(f||!i.isEmpty())&&!b("SimpleNUXMessage").hasUserSeenMessage(b("SimpleNUXMessageTypes").AD_BREAKS_NPS)&&g(h)}e.exports=a}),null);
__d("videoComposerDialogUploadValidateAction",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b=[].concat(b);var c=b.map(function(b){if(a[b]===void 0)throw new Error("Action missing field: "+b);return a[b]});return b.length===1?c[0]:c}e.exports=a}),null);
__d("videoComposerDialogUploadSaveVideoInPagesComposer",["PhotosUploadID","ReactComposerAudienceActions","ReactComposerMediaUploadActions","ReactComposerMediaUploadStore","ReactComposerMediaUploadType","ReactComposerStatusActions","VideoComposerActions","VideoComposerStores","videoComposerDialogUploadValidateAction"],(function(a,b,c,d,e,f){"use strict";function a(a,c){b("VideoComposerActions").savePostDataForPagesComposer(a,c);c=b("VideoComposerStores").getMetadataStore(a).getState();c=c.videoID;if(!c)return;var d=b("VideoComposerStores").getUploadStore(a).fetchUploadDataForMediaStore();d=b("videoComposerDialogUploadValidateAction")(d,["composerID","videoFile","videoMetadata"]);var e=d[0],f=d[1];d=d[2];var g=b("ReactComposerMediaUploadStore").getUploads(e);b("ReactComposerMediaUploadActions").removeAllPhotoUploads(e,g);f.uploadID=b("PhotosUploadID").getNewID();b("ReactComposerAudienceActions").setStoriesSelected(e,b("VideoComposerStores").getDistributionStore(a).shouldAddToPagesStory());b("ReactComposerMediaUploadActions").saveVideoInPagesComposer(e,c,f.uploadID,f.name,d,0,b("ReactComposerMediaUploadType").VIDEO,URL.createObjectURL(f));b("VideoComposerActions").minimizeDialog(a);g=b("VideoComposerStores").getBasicStore(a).getState();c=g.descriptionEditorState;b("ReactComposerStatusActions").setEditorState(e,c)}e.exports=a}),null);
__d("videoComposerGetPremiereDisabledReason",["fbt","VideoComposerStores"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){var c=b("VideoComposerStores").getMetadataStore(a).getState(),d=c.dialogMode;c=c.isSpherical;var e=b("VideoComposerStores").getSphericalDirectorStore(a).getSpherical();if(d==="video_upload"&&(c||e))return g._("360 videos are not supported as premieres.");return b("VideoComposerStores").getTrimmingEditorStore(a).isVideoTrimmed()?g._("Premieres are disabled for trimmed videos."):null};e.exports=a}),null);
__d("videoComposerValidatePublishAction",["fbt","VideoComposerActions","VideoComposerDialogConstants","VideoComposerDialogSphericalDirectorUtils","VideoComposerDialogUtils","VideoComposerPublishingTypes","VideoComposerStores"],(function(a,b,c,d,e,f,g){"use strict";var h=b("VideoComposerPublishingTypes").PublishActions,i=g._("Missing title"),j=g._("To save your video, select a video type"),k=g._("To publish your video, select a video type"),l=g._("To save as draft, select a video type"),m=g._("To submit for review, select a video type"),n=g._("To save your video, give it a title"),o=g._("To publish your video, give it a title"),p=g._("To save as draft, give it a title"),q=g._("To submit this for review, give it a title"),r=g._("Premieres must be distributed in News Feed"),s=g._("To create a premiere, select \"News Feed\" in the Distribution tab");a=function(a,c,d,e,f,g,t,u){var v,w;switch(c){case h.BACKDATE:case h.OPEN_DRAWER:case h.PUBLISH_NOW:case h.PREMIERE:case h.PREVIEW:case h.SCHEDULE:v=k;w=o;break;case h.SAVE_DRAFT:v=l;w=p;break;case h.SAVE_TO_COMPOSER:v=j;w=n;break;case h.AD_BREAK_SUBMIT_FOR_REVIEW:v=m;w=q;break;case h.CANCEL:u();return;default:throw new Error("New footer action type not handled here!")}if(d.trim()===""){b("VideoComposerActions").highlightTitleWithErrorTooltip(a,i,w);return}if(b("VideoComposerDialogUtils").byteLength(d.trim())>b("VideoComposerDialogConstants").MAX_TITLE_LENGTH){b("VideoComposerActions").highlightTitleTooLong(a);return}if(e){b("VideoComposerActions").highlightMissingVideoType(a,v);return}if(c===h.PREMIERE&&!f){b("VideoComposerActions").highlightTitleWithErrorTooltip(a,r,s);return}d=b("VideoComposerStores").getBasicStore(a).getMissingFundedContentProgramText(c);if(d!==null&&d!==void 0){t(d);return}if(c===h.PREMIERE&&b("VideoComposerStores").getPremiereStore(a).premieresVideoDurationIsInvalid(g)){b("VideoComposerActions").highlightPremiereVideoDurationIsInvalid(a);return}e=b("VideoComposerDialogSphericalDirectorUtils").maybeShowValidationError(a);if(e)return;u()};e.exports=a}),null);
__d("AudioChannelLayout",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({UNKNOWN:"unknown",MONO:"mono",STEREO:"stereo",TBE_8:"tbe_8",TBE_8_2:"tbe_8.2",TBE_6_2:"tbe_6.2",AMBIX_4:"ambiX_4",AMBIX_4_2:"ambiX_4.2",AMBIX_9:"ambiX_9",AMBIX_9_2:"ambiX_9.2",AMBIX_16:"ambiX_16",AMBIX_16_2:"ambiX_16.2",HEADLOCKED:"headlocked",BINAURAL:"binaural",TBE_8A:"tbe_8a",TBE_8B:"tbe_8b",TBE_4:"tbe_4"})}),null);
__d("SphericalDirectorSpatialAudioUtils",["AudioChannelLayout","SphericalDirectorStore","VideoComposerDispatchers","VideoComposerStores","VideoUploadFile","gkx","objectValues"],(function(a,b,c,d,e,f){"use strict";var g=b("VideoComposerDispatchers").DEFAULT_VIDEO_COMPOSER_ID,h=2048,i=2048;a={getBufferParams:function(){return{blockSize:h,latencySamples:i}},getCanUseSpatialAudio:function(){return b("gkx")("845747")},getFocusEnabled:function(){var a=b("SphericalDirectorStore").getState().fbSpatialAudioMetadata;return(a==null?void 0:(a=a.focusData)==null?void 0:a.enabled)===!0},getOffFocusLevelDB:function(){var a=b("SphericalDirectorStore").getState().fbSpatialAudioMetadata;return(a=a==null?void 0:(a=a.focusData)==null?void 0:a.offFocusLevelDB)!=null?a:0},getFocusWidth:function(){var a=b("SphericalDirectorStore").getState().fbSpatialAudioMetadata;return(a=a==null?void 0:(a=a.focusData)==null?void 0:a.focusWidthDegrees)!=null?a:0},getRemapChannelsForSevenPointOne:function(){return b("gkx")("845748")},getUseWebAudioImplementation:function(){return!1},getUseNewAudio360Renderer:function(){return!1},getAudioChannelLayout:function(){var a=b("SphericalDirectorStore").getState().fbSpatialAudioMetadata;a=a==null?void 0:a.trackData;if(a&&a.length>0){var c=a[0].value;return b("objectValues")(b("AudioChannelLayout")).find(function(a){return a===c})}return null},getShouldUseSpatialAudioController:function(){var a;a=(a=(a=b("VideoComposerStores").getUploadStore(g).getState().videoFile)==null?void 0:a.name)!=null?a:"";return b("gkx")("816873")&&b("VideoUploadFile").getExtensionFromFileName(a)==="mkv"&&b("SphericalDirectorStore").getState().fbSpatialAudioMetadata!==null}};e.exports=a}),null);
__d("ComposerVideoAdBreakActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({DELETE_AD_BREAK:"",INSERT_CURRENT_AD_BREAK:"",SET_AD_BREAKS_EXPERIMENT_ENABLED:"",SET_AD_BREAKS_EXPERIMENT_REVENUE_LOSS_THRESHOLD:"",SET_CURRENT_AD_BREAK:"",SET_EXISTING_AD_BREAKS:"",SET_IS_AD_BREAK_AUTO_ADJUSTMENT_ENABLED:"",SET_IS_AD_BREAK_AUTO_INSERTION_ENABLED:"",SET_THUMBNAIL_URL_FOR_AD_BREAK:"",SET_RIGHT_AGREEMENT:"",SET_VIDEO_DURATION:"",UPDATE_AD_BREAKS_STATUS:""});e.exports=a}),null);
__d("AdBreakStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ENABLED:"enabled",DELETED:"deleted",DISABLED:"disabled"})}),null);
__d("ComposerVideoAdBreakStore",["AdBreakStatus","ComposerVideoAdBreakActionTypes","DateConsts","ReactComposerStoreBase","ReactComposerTaggerActionType","VideoInstreamUtils"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;c=a.call(this,function(){return{adBreaksDisabled:!1,adBreaksExperimentEnabled:!1,adBreaksExperimentRevenueLossThreshold:0,currentAdBreak:0,insertedAdBreaks:[],isAdBreakAutoAdjustmentEnabled:!1,isAdBreakAutoInsertionEnabled:!1,isBrandedContentVideo:!1,lastInsertedAdBreak:null,videoDuration:0,videoRightsAgreed:!1}},function(a){switch(a.type){case b("ComposerVideoAdBreakActionTypes").DELETE_AD_BREAK:d&&d.$ComposerVideoAdBreakStore1(a);break;case b("ComposerVideoAdBreakActionTypes").UPDATE_AD_BREAKS_STATUS:d&&d.$ComposerVideoAdBreakStore2(a);break;case b("ComposerVideoAdBreakActionTypes").INSERT_CURRENT_AD_BREAK:d&&d.$ComposerVideoAdBreakStore3(a);break;case b("ComposerVideoAdBreakActionTypes").SET_AD_BREAKS_EXPERIMENT_ENABLED:d&&d.$ComposerVideoAdBreakStore4(a);break;case b("ComposerVideoAdBreakActionTypes").SET_AD_BREAKS_EXPERIMENT_REVENUE_LOSS_THRESHOLD:d&&d.$ComposerVideoAdBreakStore5(a);break;case b("ComposerVideoAdBreakActionTypes").SET_CURRENT_AD_BREAK:d&&d.$ComposerVideoAdBreakStore6(a);break;case b("ComposerVideoAdBreakActionTypes").SET_EXISTING_AD_BREAKS:d&&d.$ComposerVideoAdBreakStore7(a);break;case b("ComposerVideoAdBreakActionTypes").SET_IS_AD_BREAK_AUTO_ADJUSTMENT_ENABLED:d&&d.$ComposerVideoAdBreakStore8(a);break;case b("ComposerVideoAdBreakActionTypes").SET_IS_AD_BREAK_AUTO_INSERTION_ENABLED:d&&d.$ComposerVideoAdBreakStore9(a);break;case b("ComposerVideoAdBreakActionTypes").SET_THUMBNAIL_URL_FOR_AD_BREAK:d&&d.$ComposerVideoAdBreakStore10(a);break;case b("ComposerVideoAdBreakActionTypes").SET_VIDEO_DURATION:d&&d.$ComposerVideoAdBreakStore11(a);break;case b("ComposerVideoAdBreakActionTypes").SET_RIGHT_AGREEMENT:d&&d.$ComposerVideoAdBreakStore12(a);break;case b("ReactComposerTaggerActionType").SET_IS_BRANDED_CONTENT_VIDEO:d&&d.$ComposerVideoAdBreakStore13(a);break}})||this;d=babelHelpers.assertThisInitialized(c);return c}var d=c.prototype;d.clearComposerData=function(b){a.prototype.clearComposerData.call(this,b),this.emitChange(b)};d.getAdBreaksExperimentEnabled=function(a){return this.getComposerData(a).adBreaksExperimentEnabled};d.getAdBreaksExperimentRevenueLossThreshold=function(a){return this.getComposerData(a).adBreaksExperimentRevenueLossThreshold};d.getAdBreaksStatus=function(a){return this.getComposerData(a).adBreaksDisabled};d.getCurrentAdBreak=function(a){return this.getComposerData(a).currentAdBreak};d.getInsertedAdBreaks=function(a){return this.getComposerData(a).insertedAdBreaks};d.getLastInsertedAdBreak=function(a){return this.getComposerData(a).lastInsertedAdBreak};d.getIsAdBreakAutoAdjustmentEnabled=function(a){return this.getComposerData(a).isAdBreakAutoAdjustmentEnabled};d.getIsAdBreakAutoInsertionEnabled=function(a){return this.getComposerData(a).isAdBreakAutoInsertionEnabled};d.getIsBrandedContentVideo=function(a){return this.getComposerData(a).isBrandedContentVideo};d.getVideoDuration=function(a){return this.getComposerData(a).videoDuration};d.getVideoRightsAgreed=function(a){return this.getComposerData(a).videoRightsAgreed};d.getAdBreakTabState=function(a,c,d){return b("VideoInstreamUtils").getAdBreakTabState(c,this.getIsBrandedContentVideo(a),this.getVideoDuration(a),d)};d.getShouldDisableAdBreakInsertion=function(a,b,c){return this.getAdBreakTabState(a,b,c).disabled};d.getHasAdBreaksInserted=function(a){var b=this.getInsertedAdBreaks(a);a=this.getAdBreaksStatus(a);return b.length!==0&&!a};d.getPostData=function(a){var c=this.getAdBreaksStatus(a),d=this.getIsBrandedContentVideo(a),e=c||d?b("AdBreakStatus").DISABLED:b("AdBreakStatus").ENABLED;d=this.getInsertedAdBreaks(a);d=d.map(function(a){return{time_offset:a.timeOffset*b("DateConsts").MS_PER_SEC,status:e}});var f=this.getAdBreaksExperimentEnabled(a),g=this.getAdBreaksExperimentRevenueLossThreshold(a),h=this.getIsAdBreakAutoAdjustmentEnabled(a);a=this.getIsAdBreakAutoInsertionEnabled(a);d={ad_breaks:d,ad_breaks_experiment_revenue_loss_threshold:g,enable_ad_breaks_experiment:f,should_auto_adjust_manual_ad_breaks:h,should_auto_insert_ad_breaks:a&&!c};return d};d.$ComposerVideoAdBreakStore11=function(a){var b=this.getComposerData(a.composerID);b.videoDuration=a.duration;this.emitChange(a.composerID)};d.$ComposerVideoAdBreakStore7=function(a){var c=this.getComposerData(a.composerID);c.currentAdBreak=null;var d=a.existingAdBreaks.map(function(a){return{timeOffset:a.time_offset/b("DateConsts").MS_PER_SEC,thumbnailURL:null}});d.sort(function(a,b){return a.timeOffset-b.timeOffset});c.insertedAdBreaks=d;c.videoRightsAgreed=c.videoRightsAgreed||d.length>0;this.emitChange(a.composerID)};d.$ComposerVideoAdBreakStore8=function(a){var b=this.getComposerData(a.composerID);b.isAdBreakAutoAdjustmentEnabled=a.enabled;this.emitChange(a.composerID)};d.$ComposerVideoAdBreakStore9=function(a){var b=this.getComposerData(a.composerID);b.isAdBreakAutoInsertionEnabled=a.enabled;b.videoRightsAgreed=b.videoRightsAgreed||b.isAdBreakAutoInsertionEnabled;this.emitChange(a.composerID)};d.$ComposerVideoAdBreakStore10=function(a){var b=this.getComposerData(a.composerID),c=this.getInsertedAdBreaks(a.composerID);c=c.map(function(b){a.adBreaks.forEach(function(a){b.timeOffset===a.timeOffset&&(b.thumbnailURL=a.thumbnailURL)});return Object.assign({},b)});b.insertedAdBreaks=c;this.emitChange(a.composerID)};d.$ComposerVideoAdBreakStore1=function(a){var b=this.getComposerData(a.composerID);b.lastInsertedAdBreak=null;var c=b.insertedAdBreaks;c.splice(a.adBreakIndex,1);c=c.map(function(a){return Object.assign({},a)});b.insertedAdBreaks=c;this.emitChange(a.composerID)};d.$ComposerVideoAdBreakStore2=function(a){var b=this.getComposerData(a.composerID);b.adBreaksDisabled=a.adBreaksDisabled;this.emitChange(a.composerID)};d.$ComposerVideoAdBreakStore3=function(a){var b=this.getComposerData(a.composerID),c=this.getCurrentAdBreak(a.composerID),d=this.getInsertedAdBreaks(a.composerID);if(c===null)return;if(d.findIndex(function(a){return a.timeOffset===c})>=0)return;c=Number(c);var e=this.$ComposerVideoAdBreakStore14(d,c),f={timeOffset:c,thumbnailURL:null};b.lastInsertedAdBreak=f;d.splice(e,0,f);e=d.map(function(a){return Object.assign({},a)});b.insertedAdBreaks=e;this.emitChange(a.composerID)};d.$ComposerVideoAdBreakStore6=function(a){var b=this.getComposerData(a.composerID);b.currentAdBreak=a.adBreak;b.lastInsertedAdBreak=null;this.emitChange(a.composerID)};d.$ComposerVideoAdBreakStore13=function(a){var b=this.getComposerData(a.composerID);b.isBrandedContentVideo=a.isBrandedContentVideo;this.emitChange(a.composerID)};d.$ComposerVideoAdBreakStore4=function(a){var b=this.getComposerData(a.composerID);b.adBreaksExperimentEnabled=a.adBreaksExperimentEnabled;this.emitChange(a.composerID)};d.$ComposerVideoAdBreakStore5=function(a){var b=this.getComposerData(a.composerID);b.adBreaksExperimentRevenueLossThreshold=a.adBreaksExperimentRevenueLossThreshold;this.emitChange(a.composerID)};d.$ComposerVideoAdBreakStore12=function(a){var b=this.getComposerData(a.composerID);b.videoRightsAgreed=a.agree;this.emitChange(a.composerID)};d.$ComposerVideoAdBreakStore14=function(a,b){var c;for(c=0;c<a.length;c++)if(a[c].timeOffset>b)break;return c};return c}(b("ReactComposerStoreBase"));e.exports=new a()}),null);
__d("ComposerVideoAdBreakActions",["ComposerVideoAdBreakActionTypes","ReactComposerDispatcher","ComposerVideoAdBreakStore"],(function(a,b,c,d,e,f){"use strict";b("ComposerVideoAdBreakStore");a={deleteAdBreak:function(a,c){b("ReactComposerDispatcher").dispatch({type:b("ComposerVideoAdBreakActionTypes").DELETE_AD_BREAK,composerID:a,adBreakIndex:c})},setAdBreaksExperimentEnabled:function(a,c){b("ReactComposerDispatcher").dispatch({type:b("ComposerVideoAdBreakActionTypes").SET_AD_BREAKS_EXPERIMENT_ENABLED,composerID:a,adBreaksExperimentEnabled:c})},setAdBreaksExperimentRevenueLossThreshold:function(a,c){b("ReactComposerDispatcher").dispatch({type:b("ComposerVideoAdBreakActionTypes").SET_AD_BREAKS_EXPERIMENT_REVENUE_LOSS_THRESHOLD,composerID:a,adBreaksExperimentRevenueLossThreshold:c})},updateAdBreaksStatus:function(a,c){b("ReactComposerDispatcher").dispatch({type:b("ComposerVideoAdBreakActionTypes").UPDATE_AD_BREAKS_STATUS,composerID:a,adBreaksDisabled:c})},setIsAdBreakAutoAdjustmentEnabled:function(a,c){b("ReactComposerDispatcher").dispatch({type:b("ComposerVideoAdBreakActionTypes").SET_IS_AD_BREAK_AUTO_ADJUSTMENT_ENABLED,composerID:a,enabled:c})},setIsAdBreakAutoInsertionEnabled:function(a,c){b("ReactComposerDispatcher").dispatch({type:b("ComposerVideoAdBreakActionTypes").SET_IS_AD_BREAK_AUTO_INSERTION_ENABLED,composerID:a,enabled:c})},insertCurrentAdBreak:function(a){b("ReactComposerDispatcher").dispatch({type:b("ComposerVideoAdBreakActionTypes").INSERT_CURRENT_AD_BREAK,composerID:a})},setCurrentAdBreak:function(a,c){b("ReactComposerDispatcher").dispatch({type:b("ComposerVideoAdBreakActionTypes").SET_CURRENT_AD_BREAK,composerID:a,adBreak:c})},setExistingAdBreaks:function(a,c){b("ReactComposerDispatcher").dispatch({type:b("ComposerVideoAdBreakActionTypes").SET_EXISTING_AD_BREAKS,composerID:a,existingAdBreaks:c})},setThumbnailURLForAdBreak:function(a,c){b("ReactComposerDispatcher").dispatch({type:b("ComposerVideoAdBreakActionTypes").SET_THUMBNAIL_URL_FOR_AD_BREAK,composerID:a,adBreaks:c})},setVideoDuration:function(a,c){b("ReactComposerDispatcher").dispatch({type:b("ComposerVideoAdBreakActionTypes").SET_VIDEO_DURATION,composerID:a,duration:c})},setVideoRightsAgreed:function(a,c){b("ReactComposerDispatcher").dispatch({type:b("ComposerVideoAdBreakActionTypes").SET_RIGHT_AGREEMENT,composerID:a,agree:c})}};e.exports=a}),null);
__d("ComposerVideoShowsActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({SET_IS_EPISODE:"",SET_PLAYLISTS:"",SET_SEASON:"",SET_SERIES:"",SET_SERIES_AND_SEASON_OPTIONS:"",SET_PLAYLIST_OPTIONS:"",SET_SEASON_OPTIONS:"",REQUEST_SHOWS_V2_VIDEO_DATA:"",REQUEST_VIDEO_LIST_OPTIONS:"",INITIALIZE:"",LOAD_EPISODE_DATA:""});e.exports=a}),null);
__d("ComposerVideoShowsDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;babelHelpers.assertThisInitialized(b).dispatch=b.dispatch.bind(babelHelpers.assertThisInitialized(b));return b}return b}(b("ExplicitRegistrationReactDispatcher"));e.exports=new a({strict:!0})}),null);
__d("ComposerVideoShowsActions",["ComposerVideoShowsActionTypes","ComposerVideoShowsDispatcher","immutable"],(function(a,b,c,d,e,f){"use strict";a={initialize:function(a,c,d){b("ComposerVideoShowsDispatcher").dispatch({type:b("ComposerVideoShowsActionTypes").INITIALIZE,composerID:a,composerEntryPoint:c,isEditing:d})},setIsEpisode:function(a){b("ComposerVideoShowsDispatcher").dispatch({type:b("ComposerVideoShowsActionTypes").SET_IS_EPISODE,isEpisode:a})},setPlaylists:function(a){b("ComposerVideoShowsDispatcher").dispatch({type:b("ComposerVideoShowsActionTypes").SET_PLAYLISTS,playlistIDs:a})},setSeason:function(a){b("ComposerVideoShowsDispatcher").dispatch({type:b("ComposerVideoShowsActionTypes").SET_SEASON,seasonID:a})},setSeries:function(a){b("ComposerVideoShowsDispatcher").dispatch({type:b("ComposerVideoShowsActionTypes").SET_SERIES,seriesID:a})},setPlaylistOptions:function(a){b("ComposerVideoShowsDispatcher").dispatch({type:b("ComposerVideoShowsActionTypes").SET_PLAYLIST_OPTIONS,value:a})},setSeasonOptions:function(a){b("ComposerVideoShowsDispatcher").dispatch({type:b("ComposerVideoShowsActionTypes").SET_SEASON_OPTIONS,value:a})},setSeriesAndSeasonOptions:function(a,c){b("ComposerVideoShowsDispatcher").dispatch({type:b("ComposerVideoShowsActionTypes").SET_SERIES_AND_SEASON_OPTIONS,seriesOptionsMap:a,seriesToSeasonOptionsMap:c})},requestVideoListOptions:function(a){b("ComposerVideoShowsDispatcher").dispatch({type:b("ComposerVideoShowsActionTypes").REQUEST_VIDEO_LIST_OPTIONS,pageID:a})},requestShowsV2VideoData:function(a){b("ComposerVideoShowsDispatcher").dispatch({type:b("ComposerVideoShowsActionTypes").REQUEST_SHOWS_V2_VIDEO_DATA,videoID:a})},loadEpisodeData:function(a,c){b("ComposerVideoShowsDispatcher").dispatch({type:b("ComposerVideoShowsActionTypes").LOAD_EPISODE_DATA,composerID:a,isEpisode:c.isEpisode,seasonID:c.seasonID,playlistIDs:c.playlistIDs})}};e.exports=a}),null);
__d("XSphericalMediaNUXController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/spherical_media/show_nux/",{})}),null);
__d("ComposerVideoPostUtils",["Promise","regeneratorRuntime","AsyncRequest","BasicVector","ComposerVideoAdBreakActions","ComposerVideoAdBreakStore","ComposerVideoShowsActions","ComposerVideoUploadActions","ComposerVideoUploadStore","FileVideoThumbnail","PagesSettingsInstreamAdsBlockListStore","ReactComposerTaggerActions","ReactComposerTaggerStore","ReactComposerTaggerType","SearchableEntry","ShowsVideoDataTypedLogger","SphericalDirectorAction","SphericalDirectorGuideKeyframeData","SphericalDirectorStore","VideoCaptionFile","VideoComposerDialogCaptionEditorConstants","VideoComposerDispatchers","VideoComposerStores","VideoContentCategoryType","VideoCopyrightUtils","VideoUploadSphericalLogger","XSphericalMediaNUXController","flattenPHPQueryData","immutable","isEmpty","promiseDone"],(function(a,b,c,d,e,f){var g,h=b("VideoComposerDispatchers").DEFAULT_VIDEO_COMPOSER_ID,i=b("immutable").List,j=1e3,k=60*j,l={updateStore:function(a,c){var d=c.locationEntry?new(b("SearchableEntry"))(c.locationEntry):null;d=d?{place:d,implicitLocation:{}}:null;b("ComposerVideoUploadActions").updateTitle(a,c.title);b("ComposerVideoUploadActions").updateDescription(a,c.description);b("ComposerVideoUploadActions").updateFeedType(a,c.feedType);b("ComposerVideoUploadActions").updateCategory(a,c.category);b("ComposerVideoUploadActions").updateContentTags(a,c.contentTags);b("ComposerVideoUploadActions").updateThumbnail(a,c.thumbnail);b("ComposerVideoUploadActions").updateCaptions(a,c.captions);b("ComposerVideoUploadActions").updateLiveCaptions(a,c.liveCaptions);b("ComposerVideoUploadActions").updateSpherical(a,c.isSpherical);b("ComposerVideoUploadActions").updateExpiration(a,c.expirationTime,c.expirationType);b("ComposerVideoUploadActions").updatePublish(a,!1);b("ComposerVideoUploadActions").updateExpire(a,!1);b("ComposerVideoUploadActions").updateScheduledPublishTime(a,c.scheduledPublishTime);b("ReactComposerTaggerActions").setTaggerDataWithoutLogging(a,b("ReactComposerTaggerType").PEOPLE,c.tags);c.sponsorData&&b("ReactComposerTaggerActions").setTaggerDataWithoutLogging(a,b("ReactComposerTaggerType").SPONSOR,c.sponsorData);d&&b("ReactComposerTaggerActions").setTaggerDataWithoutLogging(a,b("ReactComposerTaggerType").LOCATION,d);c.productTags&&b("ReactComposerTaggerActions").setTaggerDataWithoutLogging(a,b("ReactComposerTaggerType").PRODUCT,c.productTags);c.backdate&&b("ReactComposerTaggerActions").setTaggerDataWithoutLogging(a,b("ReactComposerTaggerType").BACKDATE,c.backdate);c.episodeData&&c.isShowPage&&b("ComposerVideoShowsActions").loadEpisodeData(a,c.episodeData);b("ReactComposerTaggerActions").setTaggerDataWithoutLogging(a,b("ReactComposerTaggerType").OG,null);b("ComposerVideoUploadActions").updateEmbeddable(a,c.embeddable);b("ComposerVideoUploadActions").updateIsFeaturedVideo(a,c.isFeaturedVideo?c.isFeaturedVideo:!1);b("ComposerVideoUploadActions").updateCopyrighted(a,c.isCopyrighted?c.isCopyrighted:!1);b("ComposerVideoUploadActions").updateCopyrightOwnershipCountries(a,c.ownershipCountries||[],!!c.areCountriesIncluded);b("ComposerVideoUploadActions").updateCopyrightAttributionID(a,c.attributionID);b("ComposerVideoUploadActions").updateCopyrightWhitelistedFBUsers(a,c.whitelistedFBUsers||[]);b("ComposerVideoUploadActions").updateCopyrightWhitelistedIGUserNames(a,c.whitelistedIGUserNames||[]);b("ComposerVideoUploadActions").updateCopyrightRuleID(a,c.ruleIDs&&c.ruleIDs.length?c.ruleIDs[0].toString():null);b("ComposerVideoUploadActions").updateCopyrightMonitoringType(a,c.monitoringType||b("VideoCopyrightUtils").DEFAULT_MONITORING_TYPE);b("ComposerVideoUploadActions").updateCopyrightReferenceCategory(a,c.selectedCategory);b("ComposerVideoUploadActions").updateInternalVideoSettings(a,c.isInternalVideo);b("ComposerVideoUploadActions").updateFTEOnly(a,c.isFTEOnly);b("ComposerVideoUploadActions").updatePermissions(a,c.permissions);b("ComposerVideoUploadActions").updateExternalVideoID(a,c.externalVideoID);b("ComposerVideoUploadActions").updateCustomLabels(a,c.customLabels);b("ComposerVideoUploadActions").updateVideoDurationInSec(a,c.duration);b("SphericalDirectorAction").clearSphericalDirector();b("SphericalDirectorAction").updateEnableOmnistab(c.enableOmnistab);b("SphericalDirectorAction").updateFOV(c.fov);b("SphericalDirectorAction").updateCurrentViewport(c.initialPitch,c.initialHeading);b("SphericalDirectorAction").updateGuideEnabled(c.guideEnabled);b("SphericalDirectorAction").updateProjection(c.projection);b("SphericalDirectorAction").updateStereoMode(c.stereoMode);b("SphericalDirectorAction").updateHasSpatialAudio(c.hasSpatialAudio);d=[[0,c.initialPitch,c.initialHeading]].concat(c.guideKeyframes).map(function(a){return b("SphericalDirectorGuideKeyframeData").getFromLegacyParams(a)});b("SphericalDirectorAction").updateGuideKeyframes(i(d));b("ComposerVideoAdBreakStore").clearComposerData(a);c.existingAdBreaks&&b("ComposerVideoAdBreakActions").setExistingAdBreaks(a,c.existingAdBreaks);b("ComposerVideoAdBreakActions").updateAdBreaksStatus(a,c.adBreaksDisabled);b("ComposerVideoAdBreakActions").setAdBreaksExperimentEnabled(a,c.enableAdBreaksExperiment);b("ComposerVideoAdBreakActions").setAdBreaksExperimentRevenueLossThreshold(a,c.adBreaksExperimentRevenueLossThreshold);b("ComposerVideoAdBreakActions").setIsAdBreakAutoAdjustmentEnabled(a,c.isAdBreakAutoAdjustmentEnabled);b("ComposerVideoAdBreakActions").setIsAdBreakAutoInsertionEnabled(a,c.isAdBreakAutoInsertionEnabled)},getDetailsFromStore:function(a){var c,d=(c=b("ComposerVideoUploadStore")).getTitle(a),e=c.getExternalVideoID(a),f=c.getCustomLabels(a),g=c.getFeedType(a),h=c.getCallToAction(a),i=c.getCategory(a),j=c.getContentTags(a),k=c.getThumbnail(a);c=c.getDescription(a);var l=b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").PEOPLE)||[],m=b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").LOCATION)||{};m=m?m.place:{};var n=b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").BACKDATE);l=l.map(function(a){return a.getUniqueID()});var o=b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").ACTIVITY),p=b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").TARGETING),q=b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").SPONSOR)||{},r={directShareStatus:q.directShareStatus,sponsorRelationship:q.sponsorRelationship,sponsors:[]};(q.sponsors||[]).map(function(a){r.sponsors.push(a.getUniqueID())});q=b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").PRODUCT)||[];q=q.map(function(a){return a.getUniqueID()});var s=b("ComposerVideoUploadStore").getCaptions(a),t=b("ComposerVideoUploadStore").getLiveCaptions(a),u=b("ComposerVideoUploadStore").getExpirationTime(a),v=b("ComposerVideoUploadStore").getExpirationType(a),w=b("ComposerVideoUploadStore").getScheduledPublishTime(a),x=b("ComposerVideoUploadStore").getPublish(a),y=b("ComposerVideoUploadStore").getSpherical(a),z=b("SphericalDirectorStore").getPostData()||{},A=z.initialHeading,B=z.initialPitch,C=z.fov,D=z.guide_enabled,E=z.guide_keyframes;z=z.enable_omnistab;var F=b("ComposerVideoUploadStore").getExpire(a),G=b("ComposerVideoUploadStore").getEmbeddable(a),H=b("ComposerVideoUploadStore").getExcludeNewsfeed(a),I=b("ComposerVideoUploadStore").getIsSecretVideo(a),J=b("ComposerVideoUploadStore").getBlockSocialActions(a),K=b("ComposerVideoUploadStore").getCopyrighted(a),L=b("ComposerVideoUploadStore").getCopyrightMonitoringType(a),M=b("ComposerVideoUploadStore").getCopyrightRuleID(a),N=b("ComposerVideoUploadStore").getCopyrightOwnershipCountries(a),O=b("ComposerVideoUploadStore").getAreCopyrightCountriesIncluded(a),P=b("ComposerVideoUploadStore").getCopyrightWhitelistedFBUsers(a),Q=b("ComposerVideoUploadStore").getCopyrightWhitelistedIGUserNames(a),R=b("ComposerVideoUploadStore").getCopyrightAttributionID(a),S=b("ComposerVideoUploadStore").getCopyrightReferenceCategory(a),T=b("ComposerVideoUploadStore").getInternalSetting(a),U=b("ComposerVideoUploadStore").getFteOnly(a),V=b("ComposerVideoUploadStore").getPermissions(a),W=b("ComposerVideoUploadStore").getEpisodeData(a),X=b("ComposerVideoUploadStore").getSquareThumbnailDimensions(a),Y=b("ComposerVideoAdBreakStore").getPostData(a)||{},Z=Y.ad_breaks,$=Y.ad_breaks_experiment_revenue_loss_threshold,aa=Y.enable_ad_breaks_experiment,ba=Y.should_auto_adjust_manual_ad_breaks;Y=Y.should_auto_insert_ad_breaks;var ca=b("PagesSettingsInstreamAdsBlockListStore").getComposerBlockListIdsToApply();a=b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").FUNDRAISER);a=(a=a)!=null?a.charityID:a;return{adBreaks:Z,adBreaksBlockListsToApply:ca,title:d,externalVideoID:e,callToAction:h,captions:s,customLabels:f,enableAdBreaksExperiment:aa,adBreaksExperimentRevenueLossThreshold:$,isAdBreakAutoAdjustmentEnabled:ba,isAdBreakAutoInsertionEnabled:Y,liveCaptions:t,category:i,contentTags:j,isCopyrighted:K,copyrightMonitoringType:L,copyrightRuleID:M,copyrightAttributionID:R,copyrightOwnershipCountries:N,copyrightWhitelistedFBUsers:P,copyrightWhitelistedIGUserNames:Q,areCopyrightCountriesIncluded:O,thumbnail:k,description:c,guideEnabled:D,guideKeyframes:E,backdate:n,feedType:g,fov:C,initialHeading:A,initialPitch:B,isSpherical:y,locationEntry:m,expirationTime:u,expirationType:v,scheduledPublishTime:w,selectedCategory:S,sponsorData:r,tags:l,productTags:q,activity:o,targeting:p,publish:x,expire:F,embeddable:G,noStory:H,isSecret:I,blockSocialActions:J,isInternalVideo:T,isFTEOnly:U,permissions:V,enableOmnistab:z,episodeData:W,squareThumbnailDimensions:X,charityID:a}},logSphericalComposerDataIfNeeded:function(a,c){c===void 0&&(c=!1);a=l.getDetailsFromStore(a);var d=a.isSpherical;a=a.guideKeyframes;if(d){d=c?"upload":"save_edits";c=a.length>0;b("VideoUploadSphericalLogger").setUserAction(d).setFinalGuideEnabled(c).setFinalNumGuidePoints(a.length).log()}},logShowsVideoData:function(a,c,d,e){var f=b("ComposerVideoUploadStore").getEpisodeData(a),g=JSON.stringify(this.calculateSquareThumbnailDimensions(b("ComposerVideoUploadStore").getSquareThumbnailDimensions(a)));if(f){a=f.isEpisode&&d==="upload"?b("ComposerVideoUploadStore").getShareToParentPageOptionSelected(a):!1;new(b("ShowsVideoDataTypedLogger"))().setVideoID(c).setSource(d).setComposerDialogVersion("V1").setIsEpisode(f.isEpisode).setSeasonID(f.seasonID).setPlaylistIds(f.playlistIDs).setSquareThumbnailDimensions(g).setAutoCrosspostToParent(a).setPageID(e).log()}},createFormData:function(a,c,d,e,f,g,i,j,k,l,m,n,o){var p=a.thumbnail,q=new FormData();q.append("edit_flow","dialog");var r=b("flattenPHPQueryData")({ad_breaks:a.adBreaks});Object.keys(r).forEach(function(a){q.append(a,r[a])});a.adBreaksBlockListsToApply!==null&&(q.append("has_ad_breaks_block_lists","true"),q.append("ad_breaks_block_lists",a.adBreaksBlockListsToApply));q.append("content_category",a.category);q.append("content_tags",this.getContentTagEntryIDs(a.contentTags));q.append("free_form_tags",this.getFreeFormContentTags(a.contentTags));q.append("description",a.description);q.append("tags",a.tags);q.append("title",a.title);q.append("external_video_id",a.externalVideoID);q.append("custom_labels",a.customLabels);q.append("enable_ad_breaks_experiment",a.enableAdBreaksExperiment);q.append("ad_breaks_experiment_revenue_loss_threshold",a.adBreaksExperimentRevenueLossThreshold);q.append("should_auto_adjust_manual_ad_breaks",a.isAdBreakAutoAdjustmentEnabled);q.append("should_auto_insert_ad_breaks",a.isAdBreakAutoInsertionEnabled);q.append("feed_type",a.feedType);var s=a.locationEntry?a.locationEntry.getUniqueID():null,t=a.locationEntry&&!a.locationEntry.getUniqueID()?a.locationEntry.getTitle():null;s?q.append("place_id",s):t&&q.append("place_name",t);a.sponsorData&&a.sponsorData.sponsors&&(q.append("sponsor_tags",a.sponsorData.sponsors),q.append("direct_share_status",a.sponsorData.directShareStatus),q.append("sponsor_relationship",a.sponsorData.sponsorRelationship));a.productTags&&q.append("product_tags",a.productTags);a.backdate.year&&q.append("backtime_year",a.backdate.year);a.backdate.month&&q.append("backtime_month",a.backdate.month);a.backdate.day&&q.append("backtime_day",a.backdate.day);a.backdate.hour&&q.append("backtime_hour",a.backdate.hour);a.backdate.minute&&q.append("backtime_minute",a.backdate.minute);a.expire&&q.append("expire",a.expire);a.publish&&q.append("publish",a.publish);s=d.scheduledPublishTime;t=a.scheduledPublishTime;if(t!==s){s=this._isTwoTimesAlmostTheSame(s,t);s||q.append("scheduled_publish_time",String(t/1e3))}s=d.expirationTime;t=d.expirationType;d=a.expirationTime;var u=a.expirationType;this._isTwoTimesAlmostTheSame(s,d);if(s!==d){s=this._isTwoTimesAlmostTheSame(s,d);s||q.append("expiration_time",String(d/1e3))}t!==u&&q.append("expiration_type",u);s=a.embeddable;g!=s&&(q.append("has_embeddable","true"),q.append("embeddable",s));d=a.permissions;if(d&&d.length===1){t=d[0];u=t.allow;l!=u&&(q.append("has_shared_with_business","true"),q.append("shared_with_business",u))}if(n&&d&&d.length>0){var v=b("flattenPHPQueryData")({crossposting_config:d});Object.keys(v).forEach(function(a){q.append(a,v[a])})}var w=a.captions.concat(a.liveCaptions),x=[];g=null;w&&w.forEach(function(a,c){if(a instanceof b("VideoCaptionFile")){c=a.getIsDefault()?"captions_default":a.getIsAutoGenerated()?"captions_auto"+c:"captions_file"+c;q.append(c,a.getFile())}a.getIsDefault()&&(g=a.getLocale())});g&&q.append("default_captions_locale",g);f&&f.forEach(function(a){w.indexOf(a)==-1&&x.push(a.getLocale())});x.forEach(function(a,b){q.append("remove_caption["+b+"]",a)});if(a.isSpherical){q.append("spherical",a.isSpherical);q.append("initial_heading",a.initialHeading);q.append("initial_pitch",a.initialPitch);q.append("fov",a.fov);q.append("guide_enabled",!!a.guideEnabled);var y=b("flattenPHPQueryData")({guide_keyframes:a.guideKeyframes});Object.keys(y).forEach(function(a){q.append(a,y[a])});q.append("enable_omnistab",a.enableOmnistab)}a.episodeData&&q.append("episode_data",JSON.stringify(a.episodeData));a.squareThumbnailDimensions&&q.append("square_thumb_dimensions",JSON.stringify(this.calculateSquareThumbnailDimensions(a.squareThumbnailDimensions)));j&&q.append("source",j);q.append("copyrighted",a.isCopyrighted);a.copyrightMonitoringType&&q.append("monitoring_type",a.copyrightMonitoringType);a.selectedCategory&&q.append("video_copyright_content_category",a.selectedCategory);i!=a.isFTEOnly&&(q.append("has_fte_only","true"),q.append("fte_only",a.isFTEOnly));s=c.multilingual_specified_lang;s&&q.append("multilingual_specified_lang",s);t=c.multilingual_statuses;t&&t.forEach(function(a,b){q.append("multilingual_statuses["+b+"]",a)});l=c.multilingual_status_langs;l&&l.forEach(function(a,b){q.append("multilingual_status_langs["+b+"]",a)});u=b("Promise").resolve(null);if(k){n=e.indexOf(p);n!=-1&&q.append("preferred_thumbnail_index",n+1);p instanceof b("FileVideoThumbnail")&&(u=p.getData(),q.append("preferred_thumbnail_index",e.length+1))}d=a.spokenLocale;d||(d=b("VideoComposerStores").getCaptionsStore(h).getSpokenLocale());d&&d!==b("VideoComposerDialogCaptionEditorConstants").INITIAL_SPOKEN_LOCALE&&q.append("spoken_locale",d);q.append("autopublish_captions",String(b("VideoComposerStores").getCaptionsStore(h).getShouldAutopublishCaptions()));b("promiseDone")(u.then(function(b){b&&q.append("custom_thumbnail",b);b=m&&m(a);b?b.done(function(){return o(q)},function(a){}):o(q)}))},getContentCategory:function(a){var c=Object.keys(b("VideoContentCategoryType"));for(var d=0;d<c.length;d++)if(b("VideoContentCategoryType")[c[d]].value===a)return c[d];return""},getContentTagEntryIDs:function(a){return!a||a.length<=0?[]:a.filter(function(a){return!a.getAuxiliaryData().isFreeForm}).map(function(a){return a.getUniqueID()})},getFreeFormContentTags:function(a){return!a||a.length<=0?[]:a.filter(function(a){return a.getAuxiliaryData().isFreeForm}).map(function(a){return a.getUniqueID()})},getVideoTJAppID:function(a){return!a?null:a.getUniqueID()},getAttributionTagID:function(a){return!a?null:a.getUniqueID()},getGameID:function(a){return!a?null:a.getUniqueID()},getGroupIDs:function(a){return!a||a.size<=0?[]:a.map(function(a){return a.getUniqueID()}).toArray()},convertContentTagToEntryArray:function(a){var c=[];if(a&&!(g||(g=b("isEmpty")))(a))for(var d in a)c.push(a[d]);return c},convertFreeFormTagsToEntryArray:function(a){return a&&!(g||(g=b("isEmpty")))(a)?a.map(function(a){return new(b("SearchableEntry"))({uniqueID:a,title:a,auxiliaryData:{isFreeForm:!0}})}):[]},hasInvalidBackdate:function(a,b){a=new Date(a.year,a.month-1,a.day,a.hour,a.minute);b=new Date(b*j);return b.getTime()<a.getTime()},calculateSquareThumbnailDimensions:function(a){if(!a)return null;var c=a.getArea(),d=a.getPosition();d=new(b("BasicVector"))(d.width,d.height).div(a.getZoom());return{width:c.width/d.x,height:c.height/d.y,left:c.x/d.x,top:c.y/d.y}},_isTwoTimesAlmostTheSame:function(a,b){if(!a)return!1;var c=a-k;a=a+k;return b>c&&b<a},convertBaseTargeting:function(a){if(!a)return{};var b={};a.age_min&&(b.age_min=a.age_min);a.age_max&&(b.age_max=a.age_max);a.fan_of&&(b.interests=a.fan_of.map(function(a){return a.id}));a.genders&&(b.genders=a.genders);if(a.geo_locations){var c=a.geo_locations;c.countries&&(b.countries=c.countries);c.cities&&(b.cities=c.cities);c.regions&&(b.regions=c.regions);c.zips&&(b.zipcodes=c.zips)}a.locales&&(b.locales=a.locales);a.relationship_statuses&&(b.relationship_statuses=a.relationship_statuses);a.education_statuses&&(b.education_statuses=a.education_statuses);return b},convertExcludedLocations:function(a){if(a&&a.excluded_geo_locations){var b=a.excluded_geo_locations;b.countries&&(a.excluded_countries=b.countries);b.cities&&(a.excluded_cities=b.cities.map(function(a){return a.key}));b.regions&&(a.excluded_regions=b.regions.map(function(a){return a.key}));b.zips&&(a.excluded_zipcodes=b.zips);delete a.excluded_geo_locations}},shouldShowNux:function(a){var c,d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:c=b("XSphericalMediaNUXController").getURIBuilder().getURI();d=new(b("AsyncRequest"))().setURI(c).setData({nux_id:a});e.next=4;return b("regeneratorRuntime").awrap(d.exec(!0));case 4:return e.abrupt("return",e.sent.payload.showNux);case 5:case"end":return e.stop()}},null,this)}};e.exports=l}),null);
__d("ComposerVideoUploadActionType",[],(function(a,b,c,d,e,f){e.exports={SET_SOURCES:"SET_SOURCES",UPDATE_BLOCK_SOCIAL_ACTIONS:"UPDATE_BLOCK_SOCIAL_ACTIONS",UPDATE_CALL_TO_ACTION:"UPDATE_CALL_TO_ACTION",UPDATE_CAN_GENERATE_THUMBNAILS:"UPDATE_CAN_GENERATE_THUMBNAILS",UPDATE_CAPTIONS:"UPDATE_CAPTIONS",UPDATE_CATEGORY:"UPDATE_CATEGORY",UPDATE_CONTENT_TAGS:"UPDATE_CONTENT_TAGS",UPDATE_COPYRIGHTED:"UPDATE_COPYRIGHTED",UPDATE_COPYRIGHT_ATTRIBUTION_ID:"UPDATE_COPYRIGHT_ATTRIBUTION_ID",UPDATE_COPYRIGHT_MONITORING_TYPE:"UPDATE_COPYRIGHT_MONITORING_TYPE",UPDATE_COPYRIGHT_REFERENCE_FILE_STATUS:"UPDATE_COPYRIGHT_REFERENCE_FILE_STATUS",UPDATE_COPYRIGHT_RULE_ID:"UPDATE_COPYRIGHT_RULE_ID",UPDATE_COPYRIGHT_OWNERSHIP_COUNTRIES:"UPDATE_COPYRIGHT_OWNERSHIP_COUNTRIES",UPDATE_COPYRIGHT_WHITELISTED_FB_USERS:"UPDATE_COPYRIGHT_WHITELISTED_FB_USERS",UPDATE_COPYRIGHT_WHITELISTED_IG_USERS:"UPDATE_COPYRIGHT_WHITELISTED_IG_USERS",UPDATE_COPYRIGHT_EXCLUDED_SEGMENTS:"UPDATE_COPYRIGHT_EXCLUDED_SEGMENTS",UPDATE_CUSTOM_LABELS:"UPDATE_CUSTOM_LABELS",UPDATE_CUSTOM_THUMBNAIL:"UPDATE_CUSTOM_THUMBNAIL",UPDATE_DESCRIPTION:"UPDATE_DESCRIPTION",UPDATE_DISTURBING:"UPDATE_DISTURBING",UPDATE_EMBEDDABLE:"UPDATE_EMBEDDABLE",UPDATE_EXCLUDE_NEWSFEED:"UPDATE_EXCLUDE_NEWSFEED",UPDATE_EXPIRATION:"UPDATE_EXPIRATION",UPDATE_EXPIRE:"UPDATE_EXPIRE",UPDATE_FEED_TYPE:"UPDATE_FEED_TYPE",UPDATE_FTE_ONLY:"UPDATE_FTE_ONLY",UPDATE_GAME:"UPDATE_GAME",UPDATE_GENERATED_THUMBNAILS:"UPDATE_GENERATED_THUMBNAILS",UPDATE_INTERNAL_VIDEO_SETTINGS:"UPDATE_INTERNAL_VIDEO_SETTINGS",UPDATE_IS_SECRET_VIDEO:"UPDATE_IS_SECRET_VIDEO",UPDATE_IS_FEATURED_VIDEO:"UPDATE_IS_FEATURED_VIDEO",UPDATE_LAST_CAPTION_UPLOAD_ERROR_MESSAGE:"UPDATE_LAST_CAPTION_UPLOAD_ERROR_MESSAGE",UPDATE_OPT_OUT_MONETIZATION:"UPDATE_OPT_OUT_MONETIZATION",UPDATE_PERMISSIONS:"UPDATE_PERMISSIONS",UPDATE_PUBLISH:"update_publish",UPDATE_SCHEDULED_PUBLISH_TIME:"UPDATE_SCHEDULED_PUBLISH_TIME",UPDATE_SCRUBBED_THUMBNAIL:"UPDATE_SCRUBBED_THUMBNAIL",UPDATE_SCRUBBED_THUMBNAIL_TIMESTAMP:"UPDATE_SCRUBBED_THUMBNAIL_TIMESTAMP",UPDATE_SPHERICAL:"UPDATE_SPHERICAL",UPDATE_TAGS:"UPDATE_TAGS",UPDATE_THUMBNAIL:"UPDATE_THUMBNAIL",UPDATE_SQUARE_THUMBNAIL_DIMENSIONS:"UPDATE_SQUARE_THUMBNAIL_DIMENSIONS",UPDATE_THUMBNAIL_FROM_SPHERICAL_PREVIEW:"UPDATE_THUMBNAIL_FROM_SPHERICAL_PREVIEW",UPDATE_TITLE:"UPDATE_TITLE",UPDATE_EXTERNAL_VIDEO_ID:"UPDATE_EXTERNAL_VIDEO_ID",UPDATE_LIVE_CAPTIONS:"UPDATE_LIVE_CAPTIONS",UPDATE_SPONSOR_RELATIONSHIP:"UPDATE_SPONSOR_RELATIONSHIP",UPDATE_EPISODE_DATA:"UPDATE_EPISODE_DATA",UPDATE_DIRECT_SHARE_STATUS:"UPDATE_DIRECT_SHARE_STATUS",UPDATE_VIDEO_DURATION_IN_SEC:"UPDATE_VIDEO_DURATION_IN_SEC",UPDATE_COPYRIGHT_REFERENCE_CATEGORY:"UPDATE_COPYRIGHT_REFERENCE_CATEGORY",UPDATE_PLAYER_SEEK_POSITION:"UPDATE_PLAYER_SEEK_POSITION",UPDATE_FUNDRAISER_FOR_STORY_CHARITY_ID:"UPDATE_FUNDRAISER_FOR_STORY_CHARITY_ID",UPDATE_SHARE_TO_PARENT_PAGE_OPTION_SELECTED:"UPDATE_SHARE_TO_PARENT_PAGE_OPTION_SELECTED",UPDATE_SHARE_TO_PARENT_PAGE_TEXT:"UPDATE_SHARE_TO_PARENT_PAGE_TEXT",UPDATE_NUMBER_PRODUCTS:"UPDATE_NUMBER_PRODUCTS"}}),null);
__d("ComposerVideoUploadActions",["ComposerVideoUploadStore","ComposerVideoUploadActionType","ReactComposerDispatcher"],(function(a,b,c,d,e,f){b("ComposerVideoUploadStore");a=function(){"use strict";function a(){}var c=a.prototype;c.updateBlockSocialActions=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_BLOCK_SOCIAL_ACTIONS,blockSocialActions:c};b("ReactComposerDispatcher").dispatch(a)};c.updateCallToAction=function(a,c,d,e){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_CALL_TO_ACTION,ctaType:c,ctaLink:d,ctaCaption:e};b("ReactComposerDispatcher").dispatch(a)};c.updateCategory=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_CATEGORY,category:c};b("ReactComposerDispatcher").dispatch(a)};c.updateContentTags=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_CONTENT_TAGS,contentTags:c};b("ReactComposerDispatcher").dispatch(a)};c.updateCopyrighted=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_COPYRIGHTED,copyrighted:c};b("ReactComposerDispatcher").dispatch(a)};c.updateCopyrightMonitoringType=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_MONITORING_TYPE,copyrightMonitoringType:c};b("ReactComposerDispatcher").dispatch(a)};c.updateCopyrightRuleID=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_RULE_ID,copyrightRuleID:c};b("ReactComposerDispatcher").dispatch(a)};c.updateCopyrightAttributionID=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_ATTRIBUTION_ID,copyrightAttributionID:c};b("ReactComposerDispatcher").dispatch(a)};c.updateCopyrightWhitelistedFBUsers=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_WHITELISTED_FB_USERS,copyrightWhitelistedFBUsers:c};b("ReactComposerDispatcher").dispatch(a)};c.updateCopyrightWhitelistedIGUserNames=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_WHITELISTED_IG_USERS,copyrightWhitelistedIGUserNames:c};b("ReactComposerDispatcher").dispatch(a)};c.updateCopyrightOwnershipCountries=function(a,c,d){d===void 0&&(d=!0);a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_OWNERSHIP_COUNTRIES,copyrightOwnershipCountries:c,areCopyrightCountriesIncluded:d};b("ReactComposerDispatcher").dispatch(a)};c.updateCopyrightExcludedSegments=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_EXCLUDED_SEGMENTS,copyrightExcludedSegments:c};b("ReactComposerDispatcher").dispatch(a)};c.updateCopyrightReferenceFileDisabled=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_REFERENCE_FILE_STATUS,isReferenceFileDisabled:c};b("ReactComposerDispatcher").dispatch(a)};c.updateCustomThumbnail=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_CUSTOM_THUMBNAIL,customThumbnail:c};b("ReactComposerDispatcher").dispatch(a)};c.updateDescription=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_DESCRIPTION,description:c};b("ReactComposerDispatcher").dispatch(a)};c.updateDisturbing=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_DISTURBING,disturbing:c};b("ReactComposerDispatcher").dispatch(a)};c.updateEmbeddable=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_EMBEDDABLE,embeddable:c};b("ReactComposerDispatcher").dispatch(a)};c.updateExcludeNewsfeed=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_EXCLUDE_NEWSFEED,excludeNewsfeed:c};b("ReactComposerDispatcher").dispatch(a)};c.updateExpiration=function(a,c,d){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_EXPIRATION,expirationTime:c,expirationType:d};b("ReactComposerDispatcher").dispatch(a)};c.updateExpire=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_EXPIRE,expire:c};b("ReactComposerDispatcher").dispatch(a)};c.updateFTEOnly=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_FTE_ONLY,fteOnly:c};b("ReactComposerDispatcher").dispatch(a)};c.updateInternalVideoSettings=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_INTERNAL_VIDEO_SETTINGS,internalSetting:c};b("ReactComposerDispatcher").dispatch(a)};c.updateIsSecretVideo=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_IS_SECRET_VIDEO,isSecretVideo:c};b("ReactComposerDispatcher").dispatch(a)};c.updateIsFeaturedVideo=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_IS_FEATURED_VIDEO,isFeaturedVideo:c};b("ReactComposerDispatcher").dispatch(a)};c.updatePublish=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_PUBLISH,publish:c};b("ReactComposerDispatcher").dispatch(a)};c.updateScheduledPublishTime=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_SCHEDULED_PUBLISH_TIME,scheduledPublishTime:c};b("ReactComposerDispatcher").dispatch(a)};c.updateTags=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_TAGS,tags:c};b("ReactComposerDispatcher").dispatch(a)};c.updateGame=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_GAME,gameID:Number.parseInt(c.getUniqueID(),10)};b("ReactComposerDispatcher").dispatch(a)};c.updateNumProducts=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_NUMBER_PRODUCTS,numProducts:c};b("ReactComposerDispatcher").dispatch(a)};c.updateSpherical=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_SPHERICAL,spherical:c};b("ReactComposerDispatcher").dispatch(a)};c.updateThumbnail=function(a,c,d){d===void 0&&(d=!1);a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_THUMBNAIL,thumbnail:c,isSelectedByUser:d};b("ReactComposerDispatcher").dispatch(a)};c.updateSquareThumbnailDimensions=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_SQUARE_THUMBNAIL_DIMENSIONS,dimensions:c};b("ReactComposerDispatcher").dispatch(a)};c.updateThumbnailFromSphericalPreview=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_THUMBNAIL_FROM_SPHERICAL_PREVIEW,customThumbnail:c};b("ReactComposerDispatcher").dispatch(a)};c.updateTitle=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_TITLE,title:c};b("ReactComposerDispatcher").dispatch(a)};c.updateFeedType=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_FEED_TYPE,feedType:c};b("ReactComposerDispatcher").dispatch(a)};c.updateGeneratedThumbnails=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_GENERATED_THUMBNAILS,generatedThumbnails:c};b("ReactComposerDispatcher").dispatch(a)};c.updateScrubbedThumbnail=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_SCRUBBED_THUMBNAIL,scrubbedThumbnail:c};b("ReactComposerDispatcher").dispatch(a)};c.updateScrubbedThumbnailTimestamp=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_SCRUBBED_THUMBNAIL_TIMESTAMP,timestamp:c};b("ReactComposerDispatcher").dispatch(a)};c.setSources=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").SET_SOURCES,sources:c};b("ReactComposerDispatcher").dispatch(a)};c.updateCaptions=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_CAPTIONS,captions:c};b("ReactComposerDispatcher").dispatch(a)};c.updateLiveCaptions=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_LIVE_CAPTIONS,liveCaptions:c};b("ReactComposerDispatcher").dispatch(a)};c.updateLastCaptionUploadErrorMessage=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_LAST_CAPTION_UPLOAD_ERROR_MESSAGE,lastCaptionUploadErrorMessage:c};b("ReactComposerDispatcher").dispatch(a)};c.updatePermissions=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_PERMISSIONS,permissions:c};b("ReactComposerDispatcher").dispatch(a)};c.updateExternalVideoID=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_EXTERNAL_VIDEO_ID,externalVideoID:c};b("ReactComposerDispatcher").dispatch(a)};c.updateCustomLabels=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_CUSTOM_LABELS,customLabels:c};b("ReactComposerDispatcher").dispatch(a)};c.updateSponsorRelationship=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_SPONSOR_RELATIONSHIP,sponsorRelationship:c})};c.updateEpisodeData=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_EPISODE_DATA,episodeData:c})};c.updateSharedToSponsorStatus=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_DIRECT_SHARE_STATUS,sharedToSponsorStatus:c})};c.updateVideoDurationInSec=function(a,c){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_VIDEO_DURATION_IN_SEC,videoDurationInSec:c})};c.updateCopyrightReferenceCategory=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_REFERENCE_CATEGORY,selectedCategory:c};b("ReactComposerDispatcher").dispatch(a)};c.updatePlayerSeekPosition=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_PLAYER_SEEK_POSITION,seekPositionInMs:c};b("ReactComposerDispatcher").dispatch(a)};c.updateFundraiserForStoryCharityID=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_FUNDRAISER_FOR_STORY_CHARITY_ID,fundraiserForStoryCharityID:c};b("ReactComposerDispatcher").dispatch(a)};c.updateShareToParentPageOptionSelected=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_SHARE_TO_PARENT_PAGE_OPTION_SELECTED,shareToParentPageOptionSelected:c};b("ReactComposerDispatcher").dispatch(a)};c.updateShareToParentPageText=function(a,c){a={composerID:a,type:b("ComposerVideoUploadActionType").UPDATE_SHARE_TO_PARENT_PAGE_TEXT,shareToParentPageText:c};b("ReactComposerDispatcher").dispatch(a)};return a}();e.exports=new a()}),null);
__d("ComposerVideoUploadStore",["Promise","ComposerVideoPostUtils","ComposerVideoUploadActionType","FileVideoThumbnail","ReactComposerStoreBase","VideoCopyrightMonitoringType","VideoCopyrightSegmentSource","VideoCopyrightUtils","VideoFeedType"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var c,d;c=a.call(this,function(){return{areCopyrightCountriesIncluded:!0,autopublish_captions:!1,blockSocialActions:!0,captions:[],liveCaptions:[],content_tags:[],copyrighted:!1,copyrightMonitoringType:b("VideoCopyrightUtils").DEFAULT_MONITORING_TYPE,copyrightRuleID:null,copyrightWhitelistedFBUsers:[],copyrightWhitelistedIGUserNames:[],copyrightOwnershipCountries:[],copyrightExcludedSegments:[],customThumbnail:null,description:"",disturbing:!1,embeddable:!0,excludeNewsfeed:!1,expirationType:null,expire:!1,feedType:b("VideoFeedType").NOT_HIGHLIGHTED.index,fteOnly:!1,gameID:null,generatedThumbnails:[],internalSetting:!1,isSecretVideo:!1,isFeaturedVideo:!1,isReferenceFileDisabled:!1,lastCaptionUploadErrorMessage:"",numProducts:0,permissions:[],publish:!1,scheduledPublishTime:null,scrubbedThumbnail:null,scrubbedThumbnailTimestamp:null,sources:{},spherical:!1,tags:[],thumbnail:null,squareThumbnailDimensions:null,title:"",externalVideoID:"",customLabels:[],sponsorRelationship:0,episodeData:null,sharedToSponsorStatus:0,videoDurationInSec:0,selectedCategory:null,seekPositionInMs:0,fundraiserForStoryCharityID:null,shareToParentPageOptionSelected:!1,shareToParentPageText:""}},function(a){switch(a.type){case b("ComposerVideoUploadActionType").UPDATE_BLOCK_SOCIAL_ACTIONS:d&&d.$ComposerVideoUploadStore1(a);break;case b("ComposerVideoUploadActionType").UPDATE_CALL_TO_ACTION:d&&d.$ComposerVideoUploadStore2(a);break;case b("ComposerVideoUploadActionType").UPDATE_CATEGORY:d&&d.$ComposerVideoUploadStore3(a);break;case b("ComposerVideoUploadActionType").UPDATE_CONTENT_TAGS:d&&d.$ComposerVideoUploadStore4(a);break;case b("ComposerVideoUploadActionType").UPDATE_COPYRIGHTED:d&&d.$ComposerVideoUploadStore5(a);break;case b("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_MONITORING_TYPE:d&&d.$ComposerVideoUploadStore6(a);break;case b("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_ATTRIBUTION_ID:d&&d.$ComposerVideoUploadStore7(a);break;case b("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_REFERENCE_FILE_STATUS:d&&d.$ComposerVideoUploadStore8(a);break;case b("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_RULE_ID:d&&d.$ComposerVideoUploadStore9(a);break;case b("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_WHITELISTED_FB_USERS:d&&d.$ComposerVideoUploadStore10(a);break;case b("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_WHITELISTED_IG_USERS:d&&d.$ComposerVideoUploadStore11(a);break;case b("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_OWNERSHIP_COUNTRIES:d&&d.$ComposerVideoUploadStore12(a);break;case b("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_EXCLUDED_SEGMENTS:d&&d.$ComposerVideoUploadStore13(a);break;case b("ComposerVideoUploadActionType").UPDATE_CUSTOM_THUMBNAIL:d&&d.$ComposerVideoUploadStore14(a);break;case b("ComposerVideoUploadActionType").UPDATE_DESCRIPTION:d&&d.$ComposerVideoUploadStore15(a);break;case b("ComposerVideoUploadActionType").UPDATE_DISTURBING:d&&d.$ComposerVideoUploadStore16(a);break;case b("ComposerVideoUploadActionType").UPDATE_EMBEDDABLE:d&&d.$ComposerVideoUploadStore17(a);break;case b("ComposerVideoUploadActionType").UPDATE_EXCLUDE_NEWSFEED:d&&d.$ComposerVideoUploadStore18(a);break;case b("ComposerVideoUploadActionType").UPDATE_EXPIRATION:d&&d.$ComposerVideoUploadStore19(a);break;case b("ComposerVideoUploadActionType").UPDATE_EXPIRE:d&&d.$ComposerVideoUploadStore20(a);break;case b("ComposerVideoUploadActionType").UPDATE_FTE_ONLY:d&&d.$ComposerVideoUploadStore21(a);break;case b("ComposerVideoUploadActionType").UPDATE_INTERNAL_VIDEO_SETTINGS:d&&d.$ComposerVideoUploadStore22(a);break;case b("ComposerVideoUploadActionType").UPDATE_IS_SECRET_VIDEO:d&&d.$ComposerVideoUploadStore23(a);break;case b("ComposerVideoUploadActionType").UPDATE_IS_FEATURED_VIDEO:d&&d.$ComposerVideoUploadStore24(a);break;case b("ComposerVideoUploadActionType").UPDATE_PUBLISH:d&&d.$ComposerVideoUploadStore25(a);break;case b("ComposerVideoUploadActionType").UPDATE_SCHEDULED_PUBLISH_TIME:d&&d.$ComposerVideoUploadStore26(a);break;case b("ComposerVideoUploadActionType").UPDATE_SPHERICAL:d&&d.$ComposerVideoUploadStore27(a);break;case b("ComposerVideoUploadActionType").UPDATE_TAGS:d&&d.$ComposerVideoUploadStore28(a);break;case b("ComposerVideoUploadActionType").UPDATE_THUMBNAIL:d&&d.$ComposerVideoUploadStore29(a);break;case b("ComposerVideoUploadActionType").UPDATE_SQUARE_THUMBNAIL_DIMENSIONS:d&&d.$ComposerVideoUploadStore30(a);break;case b("ComposerVideoUploadActionType").UPDATE_THUMBNAIL_FROM_SPHERICAL_PREVIEW:d&&d.$ComposerVideoUploadStore31(a);break;case b("ComposerVideoUploadActionType").UPDATE_SCRUBBED_THUMBNAIL:d&&d.$ComposerVideoUploadStore32(a);break;case b("ComposerVideoUploadActionType").UPDATE_SCRUBBED_THUMBNAIL_TIMESTAMP:d&&d.$ComposerVideoUploadStore33(a);break;case b("ComposerVideoUploadActionType").UPDATE_TITLE:d&&d.$ComposerVideoUploadStore34(a);break;case b("ComposerVideoUploadActionType").UPDATE_FEED_TYPE:d&&d.$ComposerVideoUploadStore35(a);break;case b("ComposerVideoUploadActionType").UPDATE_GENERATED_THUMBNAILS:d&&d.$ComposerVideoUploadStore36(a);break;case b("ComposerVideoUploadActionType").SET_SOURCES:d&&d.$ComposerVideoUploadStore37(a);break;case b("ComposerVideoUploadActionType").UPDATE_CAPTIONS:d&&d.$ComposerVideoUploadStore38(a);break;case b("ComposerVideoUploadActionType").UPDATE_LIVE_CAPTIONS:d&&d.$ComposerVideoUploadStore39(a);break;case b("ComposerVideoUploadActionType").UPDATE_LAST_CAPTION_UPLOAD_ERROR_MESSAGE:d&&d.$ComposerVideoUploadStore40(a);break;case b("ComposerVideoUploadActionType").UPDATE_PERMISSIONS:d&&d.$ComposerVideoUploadStore41(a);break;case b("ComposerVideoUploadActionType").UPDATE_EXTERNAL_VIDEO_ID:d&&d.$ComposerVideoUploadStore42(a);break;case b("ComposerVideoUploadActionType").UPDATE_CUSTOM_LABELS:d&&d.$ComposerVideoUploadStore43(a);break;case b("ComposerVideoUploadActionType").UPDATE_SPONSOR_RELATIONSHIP:d&&d.$ComposerVideoUploadStore44(a);break;case b("ComposerVideoUploadActionType").UPDATE_EPISODE_DATA:d&&d.$ComposerVideoUploadStore45(a);break;case b("ComposerVideoUploadActionType").UPDATE_DIRECT_SHARE_STATUS:d&&d.$ComposerVideoUploadStore46(a);break;case b("ComposerVideoUploadActionType").UPDATE_VIDEO_DURATION_IN_SEC:d&&d.$ComposerVideoUploadStore47(a);break;case b("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_REFERENCE_CATEGORY:d&&d.$ComposerVideoUploadStore48(a);break;case b("ComposerVideoUploadActionType").UPDATE_PLAYER_SEEK_POSITION:d&&d.$ComposerVideoUploadStore49(a);break;case b("ComposerVideoUploadActionType").UPDATE_FUNDRAISER_FOR_STORY_CHARITY_ID:d&&d.$ComposerVideoUploadStore50(a);break;case b("ComposerVideoUploadActionType").UPDATE_SHARE_TO_PARENT_PAGE_OPTION_SELECTED:d&&d.$ComposerVideoUploadStore51(a);break;case b("ComposerVideoUploadActionType").UPDATE_SHARE_TO_PARENT_PAGE_TEXT:d&&d.$ComposerVideoUploadStore52(a);break;case b("ComposerVideoUploadActionType").UPDATE_GAME:d&&d.$ComposerVideoUploadStore53(a);break;case b("ComposerVideoUploadActionType").UPDATE_NUMBER_PRODUCTS:d&&d.$ComposerVideoUploadStore54(a);break}})||this;d=babelHelpers.assertThisInitialized(c);return c}var d=c.prototype;d.getBlockSocialActions=function(a){return this.getComposerData(a).blockSocialActions};d.getCallToAction=function(a){return this.getComposerData(a).callToAction};d.getCategory=function(a){return this.getComposerData(a).category};d.getContentTags=function(a){return this.getComposerData(a).contentTags};d.getCopyrighted=function(a){return this.getComposerData(a).copyrighted};d.getCopyrightMonitoringType=function(a){return this.getComposerData(a).copyrightMonitoringType};d.getCopyrightAttributionID=function(a){return this.getComposerData(a).copyrightAttributionID};d.getCopyrightRuleID=function(a){return this.getComposerData(a).copyrightRuleID};d.getCopyrightWhitelistedFBUsers=function(a){return this.getComposerData(a).copyrightWhitelistedFBUsers};d.getCopyrightWhitelistedIGUserNames=function(a){return this.getComposerData(a).copyrightWhitelistedIGUserNames};d.getCopyrightOwnershipCountries=function(a){return this.getComposerData(a).copyrightOwnershipCountries};d.getAreCopyrightCountriesIncluded=function(a){return this.getComposerData(a).areCopyrightCountriesIncluded};d.getCopyrightExcludedSegments=function(a){a=this.getComposerData(a).copyrightExcludedSegments;return a.length===0?[{start_time_in_sec:null,duration_in_sec:null,media_type:b("VideoCopyrightMonitoringType").VIDEO_AND_AUDIO.value,segment_source:b("VideoCopyrightSegmentSource").PUBLISHER_DEFINED,included:!1}]:a};d.getIsCopyrightReferenceDisabled=function(a){return this.getComposerData(a).isReferenceFileDisabled};d.getCustomThumbnail=function(a){return this.getComposerData(a).customThumbnail};d.getScrubbedThumbnail=function(a){return this.getComposerData(a).scrubbedThumbnail};d.getScrubbedThumbnailTimestamp=function(a){return this.getComposerData(a).scrubbedThumbnailTimestamp};d.getDescription=function(a){return this.getComposerData(a).description};d.getDisturbing=function(a){return this.getComposerData(a).disturbing};d.getEmbeddable=function(a){return this.getComposerData(a).embeddable};d.getExcludeNewsfeed=function(a){return this.getComposerData(a).excludeNewsfeed};d.getExpirationTime=function(a){return this.getComposerData(a).expirationTime};d.getExpirationType=function(a){return this.getComposerData(a).expirationType};d.getExpire=function(a){return this.getComposerData(a).expire};d.getFteOnly=function(a){return this.getComposerData(a).fteOnly};d.getInternalSetting=function(a){return this.getComposerData(a).internalSetting};d.getIsSecretVideo=function(a){return this.getComposerData(a).isSecretVideo};d.getIsFeaturedVideo=function(a){return this.getComposerData(a).isFeaturedVideo};d.getPublish=function(a){return this.getComposerData(a).publish};d.getScheduledPublishTime=function(a){return this.getComposerData(a).scheduledPublishTime};d.getSpherical=function(a){return this.getComposerData(a).spherical};d.getTags=function(a){return this.getComposerData(a).tags};d.getThumbnail=function(a){return this.getComposerData(a).thumbnail};d.getSquareThumbnailDimensions=function(a){return this.getComposerData(a).squareThumbnailDimensions};d.getTitle=function(a){return this.getComposerData(a).title};d.getFeedType=function(a){return this.getComposerData(a).feedType};d.getGeneratedThumbnails=function(a){return this.getComposerData(a).generatedThumbnails};d.getSources=function(a){return this.getComposerData(a).sources};d.getCaptions=function(a){return this.getComposerData(a).captions};d.getLiveCaptions=function(a){return this.getComposerData(a).liveCaptions};d.getLastCaptionUploadErrorMessage=function(a){return this.getComposerData(a).lastCaptionUploadErrorMessage};d.getPermissions=function(a){return this.getComposerData(a).permissions};d.getExternalVideoID=function(a){return this.getComposerData(a).externalVideoID};d.getCustomLabels=function(a){return this.getComposerData(a).customLabels};d.getSponsorRelationship=function(a){return this.getComposerData(a).sponsorRelationship};d.getEpisodeData=function(a){return this.getComposerData(a).episodeData};d.getSharedToSponsorStatus=function(a){return this.getComposerData(a).sharedToSponsorStatus};d.getVideoDurationInSec=function(a){return this.getComposerData(a).videoDurationInSec};d.getCopyrightReferenceCategory=function(a){return this.getComposerData(a).selectedCategory};d.getPlayerSeekPositionInMs=function(a){return this.getComposerData(a).seekPositionInMs||0};d.getFundraiserForStoryCharityID=function(a){return this.getComposerData(a).fundraiserForStoryCharityID};d.getShareToParentPageOptionSelected=function(a){return this.getComposerData(a).shareToParentPageOptionSelected};d.getShareToParentPageText=function(a){return this.getComposerData(a).shareToParentPageText};d.getNumProducts=function(a){return this.getComposerData(a).numProducts};d.$ComposerVideoUploadStore1=function(a){var b=this.getComposerData(a.composerID);b.blockSocialActions=a.blockSocialActions;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore2=function(a){var b=this.getComposerData(a.composerID);b.callToAction={ctaType:a.ctaType,ctaLink:a.ctaLink,ctaCaption:a.ctaCaption};this.emitChange(a.composerID)};d.$ComposerVideoUploadStore3=function(a){var b=this.getComposerData(a.composerID);b.category=a.category;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore4=function(a){var b=this.getComposerData(a.composerID);b.contentTags=a.contentTags;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore5=function(a){var b=this.getComposerData(a.composerID);b.copyrighted=a.copyrighted;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore6=function(a){var b=this.getComposerData(a.composerID);b.copyrightMonitoringType=a.copyrightMonitoringType;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore7=function(a){var b=this.getComposerData(a.composerID);b.copyrightAttributionID=a.copyrightAttributionID;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore9=function(a){var b=this.getComposerData(a.composerID);b.copyrightRuleID=a.copyrightRuleID;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore10=function(a){var b=this.getComposerData(a.composerID);b.copyrightWhitelistedFBUsers=a.copyrightWhitelistedFBUsers;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore11=function(a){var b=this.getComposerData(a.composerID);b.copyrightWhitelistedIGUserNames=a.copyrightWhitelistedIGUserNames;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore12=function(a){var b=this.getComposerData(a.composerID);b.copyrightOwnershipCountries=a.copyrightOwnershipCountries;b.areCopyrightCountriesIncluded=a.areCopyrightCountriesIncluded;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore13=function(a){var b=this.getComposerData(a.composerID);b.copyrightExcludedSegments=a.copyrightExcludedSegments;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore8=function(a){var b=this.getComposerData(a.composerID);b.isReferenceFileDisabled=a.isReferenceFileDisabled;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore14=function(a){var b=this.getComposerData(a.composerID);b.customThumbnail=a.customThumbnail;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore15=function(a){var b=this.getComposerData(a.composerID);b.description=a.description;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore16=function(a){var b=this.getComposerData(a.composerID);b.disturbing=a.disturbing;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore17=function(a){var b=this.getComposerData(a.composerID);b.embeddable=a.embeddable;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore18=function(a){var b=this.getComposerData(a.composerID);b.excludeNewsfeed=a.excludeNewsfeed;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore20=function(a){var b=this.getComposerData(a.composerID);b.expire=a.expire;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore22=function(a){var b=this.getComposerData(a.composerID);b.internalSetting=a.internalSetting;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore21=function(a){var b=this.getComposerData(a.composerID);b.fteOnly=a.fteOnly;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore23=function(a){var b=this.getComposerData(a.composerID);b.isSecretVideo=a.isSecretVideo;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore24=function(a){var b=this.getComposerData(a.composerID);b.isFeaturedVideo=a.isFeaturedVideo;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore25=function(a){var b=this.getComposerData(a.composerID);b.publish=a.publish;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore26=function(a){var b=this.getComposerData(a.composerID);b.scheduledPublishTime=a.scheduledPublishTime;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore27=function(a){var b=this.getComposerData(a.composerID);b.spherical=a.spherical;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore28=function(a){var b=this.getComposerData(a.composerID);b.tags=a.tags;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore29=function(a){var b=this.getComposerData(a.composerID);b.thumbnail=a.thumbnail;b.isThumbnailSelectedByUser=a.isSelectedByUser;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore30=function(a){var b=this.getComposerData(a.composerID);b.squareThumbnailDimensions=a.dimensions;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore31=function(a){var b=this.getComposerData(a.composerID);b.customThumbnail=a.customThumbnail;b.thumbnail=a.customThumbnail;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore32=function(a){var b=this.getComposerData(a.composerID);b.scrubbedThumbnail=a.scrubbedThumbnail;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore33=function(a){var b=this.getComposerData(a.composerID);b.scrubbedThumbnailTimestamp=a.timestamp;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore34=function(a){var b=this.getComposerData(a.composerID);b.title=a.title;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore35=function(a){var b=this.getComposerData(a.composerID);b.feedType=a.feedType;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore36=function(a){var b=this.getComposerData(a.composerID);b.generatedThumbnails=a.generatedThumbnails;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore37=function(a){var b=this.getComposerData(a.composerID);b.sources=a.sources;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore38=function(a){var b=this.getComposerData(a.composerID);b.captions=a.captions;b.lastCaptionUploadErrorMessage="";this.emitChange(a.composerID)};d.$ComposerVideoUploadStore39=function(a){var b=this.getComposerData(a.composerID);b.liveCaptions=a.liveCaptions;b.lastCaptionUploadErrorMessage="";this.emitChange(a.composerID)};d.$ComposerVideoUploadStore40=function(a){var b=this.getComposerData(a.composerID);b.lastCaptionUploadErrorMessage=a.lastCaptionUploadErrorMessage;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore19=function(a){var b=this.getComposerData(a.composerID);b.expirationTime=a.expirationTime;b.expirationType=a.expirationType;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore41=function(a){var b=this.getComposerData(a.composerID);b.permissions=a.permissions;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore42=function(a){var b=this.getComposerData(a.composerID);b.externalVideoID=a.externalVideoID;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore43=function(a){var b=this.getComposerData(a.composerID);b.customLabels=a.customLabels;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore44=function(a){var b=this.getComposerData(a.composerID);b.sponsorRelationship=a.sponsorRelationship;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore46=function(a){var b=this.getComposerData(a.composerID);b.sharedToSponsorStatus=a.sharedToSponsorStatus;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore47=function(a){var b=this.getComposerData(a.composerID);b.videoDurationInSec=a.videoDurationInSec;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore45=function(a){var b=this.getComposerData(a.composerID);b.episodeData=a.episodeData;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore48=function(a){var b=this.getComposerData(a.composerID);b.selectedCategory=a.selectedCategory;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore49=function(a){var b=this.getComposerData(a.composerID);b.seekPositionInMs=a.seekPositionInMs;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore50=function(a){var b=this.getComposerData(a.composerID);b.fundraiserForStoryCharityID=a.fundraiserForStoryCharityID;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore51=function(a){var b=this.getComposerData(a.composerID);b.shareToParentPageOptionSelected=a.shareToParentPageOptionSelected;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore52=function(a){var b=this.getComposerData(a.composerID);b.shareToParentPageText=a.shareToParentPageText;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore53=function(a){var b=this.getComposerData(a.composerID);b.gameID=a.gameID;this.emitChange(a.composerID)};d.$ComposerVideoUploadStore54=function(a){var b=this.getComposerData(a.composerID);b.numProducts=a.numProducts;this.emitChange(a.composerID)};d.getPostData=function(a){a=this.getComposerData(a);var c=a.tags.map(function(a){return a.getUniqueID()}),d=a.permissions.length>0?a.permissions[0].allow:!1,e={areCopyrightCountriesIncluded:a.areCopyrightCountriesIncluded,composertags_with:void 0,content_category:a.category,content_tags:b("ComposerVideoPostUtils").getContentTagEntryIDs(a.contentTags||[]),copyrighted:a.copyrighted,copyrightAttributionID:a.copyrightAttributionID,copyrightMonitoringType:a.copyrightMonitoringType,copyrightRuleID:a.copyrightRuleID,copyrightWhitelistedFBUsers:a.copyrightWhitelistedFBUsers,copyrightWhitelistedIGUserNames:a.copyrightWhitelistedIGUserNames,copyrightOwnershipCountries:a.copyrightOwnershipCountries,copyrightExcludedSegments:a.copyrightExcludedSegments,isReferenceFileDisabled:a.isReferenceFileDisabled,video_title:a.title,feed_type:a.feedType,free_form_tags:b("ComposerVideoPostUtils").getFreeFormContentTags(a.contentTags||[]),xhpc_message:a.description,thumbnail_type:void 0,user_uploaded_custom_thumbnail_timestamp:void 0,user_scrubbed_thumbnail_timestamp:void 0,thumb:void 0,disturbing:a.disturbing,embeddable:a.embeddable,no_story:a.excludeNewsfeed,secret:a.isSecretVideo,social_actions:!a.blockSocialActions,spherical:a.spherical,internal_video:a.internalSetting,fte_only:a.fteOnly,captions:a.captions,autopublish_captions:a.autopublish_captions,monitoring_type:a.copyrightMonitoringType,shared_with_business:d,crossposting_config:a.permissions,external_video_id:a.externalVideoID,custom_labels:a.customLabels,sponsor_relationship:a.sponsorRelationship,episode_data_json:void 0,direct_share_status:a.sharedToSponsorStatus,square_custom_thumbnail_dimensions:void 0,videoDurationInSec:a.videoDurationInSec,selectedCategory:a.selectedCategory,fundraiser_for_story_charity_id:void 0,share_to_parent_page_option_selected:a.shareToParentPageOptionSelected,share_to_parent_page_text:a.shareToParentPageText,gameID:a.gameID,numProducts:a.numProducts};d=b("ComposerVideoPostUtils").calculateSquareThumbnailDimensions(a.squareThumbnailDimensions);d?e.square_custom_thumbnail_dimensions=JSON.stringify(d):delete e.square_custom_thumbnail_dimensions;a.gameID?e.gameID=a.gameID:delete e.gameID;a.numProducts?e.numProducts=a.numProducts:delete e.numProducts;a.episodeData?e.episode_data_json=JSON.stringify(a.episodeData):delete e.episode_data_json;a.fundraiserForStoryCharityID?e.fundraiser_for_story_charity_id=a.fundraiserForStoryCharityID:delete e.fundraiser_for_story_charity_id;c.length>0?e.composertags_with=c:delete e.composertags_with;if(a.thumbnail){a.thumbnail instanceof b("FileVideoThumbnail")?e.thumbnail_type="custom":a.scrubbedThumbnail!==null&&a.scrubbedThumbnail===a.thumbnail?(e.thumbnail_type="scrubber_selected",e.user_scrubbed_thumbnail_timestamp=a.thumbnail.getTime()):a.isThumbnailSelectedByUser?(e.thumbnail_type="generated_selected",e.user_uploaded_custom_thumbnail_timestamp=a.thumbnail.getTime()):e.thumbnail_type="generated_default";return a.thumbnail.getData().then(function(a){e.thumb=a;return e})}else return b("Promise").resolve(e)};return c}(b("ReactComposerStoreBase"));e.exports=new a()}),null);
__d("ComposerSourceSurface",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ALBUM_PERMALINK_INLINE_COMPOSER:"album_permalink_inline_composer",FEED:"newsfeed",TIMELINE:"timeline",PAGE:"page",GROUP:"group",EVENT:"event",FUNDRAISER:"fundraiser",SOCIAL_BALLOT:"social_ballot",VOTER_REGISTRATION:"voter_registration",ELECTION_HUB:"election_hub",QUICK_ELECTION:"quick_election",LIVE_MAP:"live_map",LOCAL_NEWS:"local_news",UNKNOWN:"unknown",PAGE_RECOMMENDATION_ACTION_BAR:"page_recommendation_action_bar",PAGE_RECOMMENDATION_TAB:"page_recommendation_tab",RECOMMENDATIONS_DASHBOARD:"recommendations_dashboard",RECOMMENDATIONS_LEARN_PAGE:"recommendations_learn_page",GROUP_LIVING_ROOM_TAB:"group_living_room_tab",GROUP_RECOMMENDATIONS_TAB:"group_recommendations_tab",RECENT_POSTS:"timeline/recent_posts",INSTANT_GAME:"instant_game",THROWBACK_PERMALINK:"throwback_permalink",MESSENGER_SHARE_DIALOG:"messenger_share_dialog",WORKBENCH:"workbench",TOWNHALL:"townhall",CIVIC_DIGEST_EMAIL:"civic_digest_email",LEARNING_COURSE_UNIT:"learning_course_unit",PREFILL_HOLIDAY_CARD:"prefill_holiday_card",CRISIS:"crisis",ADVOCACY:"advocacy",CULTURAL_MOMENT_PROMO:"cultural_moment_promo",FOX_FEED:"fox_feed",ADD_TO_STORY:"add_to_story",QUICK_EXPERIMENT_TOOL:"quick_experiment_tool",CHECKIN_STORY:"checkin_story",LIVING_ROOM:"living_room",SHARE_DIALOG:"share_dialog",WORK_LEARNING:"work_learning"})}),null);
__d("ExtensibleSproutsSurfaceItemType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({UNDIRECTED_FEED_COMPOSER:"UNDIRECTED_FEED_COMPOSER",UNDIRECTED_FEED_PUBLISHER_BAR:"UNDIRECTED_FEED_PUBLISHER_BAR",UNDIRECTED_GROUPS_COMPOSER:"UNDIRECTED_GROUPS_COMPOSER",UNDIRECTED_PAGES_COMPOSER:"UNDIRECTED_PAGES_COMPOSER",UNDIRECTED_STORY_COMPOSER:"UNDIRECTED_STORY_COMPOSER",UNDIRECTED_LOCAL_COMMUNITY_COMPOSER:"UNDIRECTED_LOCAL_COMMUNITY_COMPOSER"})}),null);
__d("PagesSharesheetDestination",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADS_PE_POST:"ads_pe_post",CONTROL:"control",GROUPS:"groups",INSTAGRAM:"instagram",NEWSFEED:"newsfeed",STORY:"story",STORY_TOP_STORY_SELECTED:"story_top_story_selected"})}),null);
__d("ReactComposerConfig",["ComposerEntryPointRef","ComposerSourceSurface","ComposerTargetData","ComposerTargetType","ExtensibleSproutsItemType","ExtensibleSproutsSurfaceItemType","PagesSharesheetDestination","ReactComposerAttachmentType","ReactComposerLoggingName","getObjectValues","prop-types"],(function(a,b,c,d,e,f){e.exports=(a=b("prop-types")).shape({actorConfig:a.object,attachmentsConfig:a.object.isRequired,audienceXHP:a.any,boostedPostButtonConfig:a.any,canPostScheduledLivingRoom:a.bool,contextInfo:a.object,destinationsConfig:a.shape({destinations:a.arrayOf(a.shape({enabled:a.bool.isRequired,type:a.oneOf((c=b("getObjectValues"))(b("PagesSharesheetDestination"))).isRequired,extra_config:a.object})),groups:a.object,instagram:a.shape({businessAccountID:a.string,isEnabled:a.bool,isReauthWhenEligible:a.bool,isVideoEnabled:a.bool,username:a.string}),isSharesheetEnabled:a.bool,showGroupSection:a.bool,showInstagramSection:a.bool,showStorySection:a.bool}),dialogComposer:a.bool,dialogElementID:a.string,dialogComposerRefreshOnPost:a.bool,dialogHideOnEvent:a.string,pagesComposerNuxConfig:a.object,interceptionConfig:a.arrayOf(a.object),loggingConfig:a.shape({isEditComposer:a.bool,targetType:a.oneOf(c(b("ComposerTargetType"))).isRequired,ref:a.oneOf(c(b("ComposerEntryPointRef"))).isRequired,composerSourceSurface:a.oneOf(c(b("ComposerSourceSurface"))).isRequired,rankerRequestID:a.string,composerType:a.string,sproutSurface:a.oneOf(c(b("ExtensibleSproutsSurfaceItemType"))),inlineSproutSurface:a.oneOf(c(b("ExtensibleSproutsSurfaceItemType")))}).isRequired,activateOnInit:a.bool,mediaAcceptParam:a.shape({photos:a.string,both:a.string}),nuxConfig:a.object.isRequired,postButtonConfig:a.object,showExpandedComposer:a.bool,taggersConfig:a.object,sproutsConfig:a.object,inlineSproutsList:a.arrayOf(a.oneOf(c(b("ExtensibleSproutsItemType")))),targetData:a.instanceOf(b("ComposerTargetData")).isRequired,instagramCrossPostingEnabled:a.bool,triggeredFrom:a.oneOf(Object.values(b("ReactComposerLoggingName"))),focusOnInit:a.bool,initSelectedAttachment:a.oneOf(c(b("ReactComposerAttachmentType"))),sproutsPromotionConfig:a.shape({promotionID:a.number,sprout:a.oneOf(c(b("ExtensibleSproutsItemType"))),subtitle:a.string}),groupConfig:a.object,reactComposerFocusExtraConfigData:a.object})}),null);
__d("ReactComposerOptimisticPostingStore",["Arbiter","FBLogger","React","ReactComposerActionTypes","ReactComposerEvents","ReactComposerInit","ReactComposerMediaUploadType","ReactComposerOptimisticPostingActionType","ReactComposerOptimisticPostingStoryContainer.react","ReactComposerStoreBase","ReactDOM","ifRequired","setTimeout"],(function(a,b,c,d,e,f){var g=b("React"),h={};a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var c,d=function(a){switch(a.type){case b("ReactComposerOptimisticPostingActionType").START_OPTIMISTICALLY_POSTING:babelHelpers.assertThisInitialized(c)&&c.$ReactComposerOptimisticPostingStore1(a);break;case b("ReactComposerOptimisticPostingActionType").FINISH_OPTIMISTICALLY_POSTING:case b("ReactComposerActionTypes").POST_SUCCEEDED:case b("ReactComposerActionTypes").POST_ERROR:babelHelpers.assertThisInitialized(c)&&c.$ReactComposerOptimisticPostingStore2(a);break;default:}};return c=a.call(this,function(){return{hasVideo:null,optimisticallyPostingElement:null}},d)||this}var d=c.prototype;d.isOptimisticallyPosting=function(a){return!!this.getComposerData(a).optimisticallyPostingElement};d.hadOptimisticallyPosted=function(a){return!!h[a]};d.$ReactComposerOptimisticPostingStore3=function(a,c){b("Arbiter").inform(b("ReactComposerEvents").OPTIMISTIC_POSTING_STARTED+a),b("Arbiter").inform("LitestandComposer/publishTemp",{composer_id:a,markup:c}),b("setTimeout")(function(){b("ReactComposerInit").hideAndReplaceComposer(a)},0)};d.$ReactComposerOptimisticPostingStore1=function(a){var c=this,d=this.validateAction(a,["composerID","config","attachmentType","actorID","targetID"]),e=d[0],f=d[1],h=d[2],i=d[3];d=d[4];h=this.$ReactComposerOptimisticPostingStore4(g.jsx(b("ReactComposerOptimisticPostingStoryContainer.react"),{attachmentType:h,composerID:e,config:f,actorID:i,targetID:d,onPostFailure:a.onPostFailure}));this.getComposerData(e).optimisticallyPostingElement=h;b("ifRequired")("ReactComposerMediaUploadStore",function(a){c.getComposerData(e).hasVideo=a.getUploadsOfType(e,b("ReactComposerMediaUploadType").VIDEO).size},function(){b("FBLogger")("FIXME").mustfix("ReactComposerMediaUploadStore isn't loaded when it's supposed to be.")});this.emitChange(e);b("setTimeout")(this.$ReactComposerOptimisticPostingStore3.bind(null,e,h),0)};d.$ReactComposerOptimisticPostingStore2=function(a){a=this.validateAction(a,["composerID"]);var c=this.getComposerData(a).optimisticallyPostingElement;if(!c)return;this.getComposerData(a).optimisticallyPostingElement=null;this.getComposerData(a).hasVideo||b("ReactDOM").unmountComponentAtNode(c);h[a]=!0;this.emitChange(a)};d.$ReactComposerOptimisticPostingStore4=function(a){var c=document.createElement("div");b("ReactDOM").render(a,c);return c};return c}(b("ReactComposerStoreBase"));e.exports=new a()}),null);
__d("ReactComposerOptimisticAttachmentUtils",["React","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerOptimisticPostingStoryListAttachmentContainer.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(){function a(){}var c=a.prototype;c.getOptimisticAttachment=function(a){var c=b("ReactComposerAttachmentStore").getProxiedAttachmentID(a)||b("ReactComposerAttachmentStore").getSelectedAttachmentID(a);switch(c){case b("ReactComposerAttachmentType").LIST:return g.jsx(b("ReactComposerOptimisticPostingStoryListAttachmentContainer.react"),{composerID:a});default:return null}};return a}();e.exports=new a()}),null);
__d("ReactComposerOptimisticPostingStoryFailureMessage.react",["cx","fbt","React"],(function(a,b,c,d,e,f,g,h){var i=b("React");a=function(){return i.jsx("div",{className:"_1rsx",children:h._("Your post failed to upload. Please check your Internet connection and refresh the browser to try again.")})};e.exports=a}),null);
__d("ReactComposerOptimisticPostingStoryGeneric.react",["cx","React"],(function(a,b,c,d,e,f,g){var h=b("React");a=function(){return h.jsx("div",{className:"_3lza",children:h.jsxs("div",{className:"_6b3f _2iwq",children:[h.jsx("div",{className:"_2iwy"}),h.jsx("div",{className:"_2iwz"}),h.jsx("div",{className:"_2iw-"}),h.jsx("div",{className:"_2iw_"}),h.jsx("div",{className:"_2ix0"})]})})};e.exports=a}),null);
__d("ReactComposerOptimisticPostingStoryHeader.react",["cx","fbt","Layout.react","ReactComposerProfilePhoto.react","React","prop-types"],(function(a,b,c,d,e,f,g,h){var i=b("Layout.react").Column,j=b("Layout.react").FillColumn,k=b("React"),l=function(){};a=function(a){var c=a.profilePicSrc;a=a.profileName;return k.jsxs(b("Layout.react"),{className:"_1zm9",children:[k.jsx(i,{className:"_2pii",children:k.jsx(b("ReactComposerProfilePhoto.react"),{src:c,profileName:a,onClick:l})}),k.jsxs(j,{children:[k.jsx("h6",{className:"_5pbw _3fr1",children:a}),k.jsx("span",{className:"_3fr2",children:h._("Just now")})]})]})};a.propTypes={profilePicSrc:b("prop-types").string.isRequired,profileName:b("prop-types").string.isRequired};e.exports=a}),null);
__d("VideoThumbnailUtils",["Promise","EventListener"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=document.createElement("video");d.setAttribute("src",a);return b("EventListener").listen(d,"loadedmetadata",function(){return c(d)})}function c(a){return new(b("Promise"))(function(b,c){if(a==null)c("Attempted to load an empty asset uri");else{var d=new Image();d.crossOrigin="Anonymous";d.onload=function(){return b(d)};d.onerror=function(a){return c(a)};d.src=a}})}function d(a){var b=document.createElement("canvas");b.width=a.width;b.height=a.height;var c=b.getContext("2d");c.drawImage(a,0,0);c=b.toDataURL("image/png");return c.replace(/^data:image\/(png|jpg);base64,/,"")}e.exports={createVideoElementForComputation:a,genImageFromURL:c,getBase64Image:d}}),null);
__d("ReactComposerOptimisticPostingStoryVideo.react",["cx","Bootloader","CssBackgroundImage.react","React","SubscriptionsHandler","VideoThumbnailUtils","promiseDone"],(function(a,b,c,d,e,f,g){var h=b("React"),i=b("VideoThumbnailUtils").createVideoElementForComputation,j=476;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={thumbSrc:null},d.$1=new(b("SubscriptionsHandler"))(),c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$1.addSubscriptions(b("Bootloader").loadModules(["generateVideoThumbnails"],function(){},"ReactComposerOptimisticPostingStoryVideo.react"),i(this.props.videoUpload.fileURL,this.$2.bind(this)))};d.componentWillUnmount=function(){this.$1.release()};d.$2=function(a){var c=this;this.$1.addSubscriptions(b("Bootloader").loadModules(["generateVideoThumbnails"],function(d){if(a.videoWidth===0||a.videoHeight===0)return;var e=a.videoWidth>a.videoHeight?{thumbnailWidth:j,thumbnailHeight:Math.round(a.videoHeight*j/a.videoWidth)}:{thumbnailWidth:Math.round(a.videoWidth*j/a.videoHeight),thumbnailHeight:j},f=e.thumbnailWidth;e=e.thumbnailHeight;b("promiseDone")(d(a,f,e,1,"cover"),function(a){a=a.thumbnails[0].getURL();c.setState({thumbSrc:a.indexOf("data:image/")===0?a:null})})},"ReactComposerOptimisticPostingStoryVideo.react"))};d.render=function(){return h.jsxs(h.Fragment,{children:[h.jsx(k,{thumbSrc:this.state.thumbSrc}),h.jsx(l,{})]})};return c}(h.Component);var k=function(a){a=a.thumbSrc;return a==null?h.jsx("div",{className:"_6b38 _6kbb"}):h.jsx(b("CssBackgroundImage.react"),{imageURI:a,className:"_6b38 _6ka0",backgroundPosition:"center"})},l=function(){return h.jsx("div",{className:"_bsl _3htz _6b39"})};e.exports=a}),null);
__d("ReactComposerOptimisticPostingStoryMedia.react",["cx","Image.react","React","ReactComposerCollageUtils","ReactComposerMediaUploadType","ReactComposerOptimisticPostingStoryVideo.react","immutable","prop-types"],(function(a,b,c,d,e,f,g){var h=b("React"),i=5,j=1e3;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a){if(a.size===0)return[];else if(a.size===1)return b("ReactComposerCollageUtils").getSingleItemStyleInfo(a.first(),j);else{a=b("ReactComposerCollageUtils").getCollageLayoutConfig(a,j);return a.getItemStyleInfos()}};d.$2=function(a){var b=0;a.forEach(function(a){a=a.top+a.height;a>b&&(b=a)});return b/j*100};d.$3=function(a){var c=this,d=a.length<=1;return a.map(function(a,e){var f=c.props.mediaUploads.get(e),g=a.height/j*100,k=a.width/j*100,l=a.top/j*100,m=a.left/j*100;g={paddingBottom:""+g+"%",width:""+k+"%",top:""+l+"%",left:"inherit"};d||(g.left=""+m+"%");if(f.mediaType===b("ReactComposerMediaUploadType").VIDEO)k=h.jsx(b("ReactComposerOptimisticPostingStoryVideo.react"),{videoUpload:f});else{l=f.width/f.height;m=a.width/a.height;a=l>m?{height:"100%"}:{width:"100%"};l=f.isSpherical&&f.thumbSrc?f.thumbSrc:f.fileURL;k=h.jsx(b("Image.react"),{className:"_2y87",src:l,style:a})}m=null;c.props.mediaUploads.size>i&&e===i-1&&(m=c.$4());return h.jsxs("div",{className:"_58vp",style:g,children:[k,m]},f.id)})};d.$4=function(){var a=this.props.mediaUploads.size-i+1;return h.jsx("div",{className:"_52d9",children:h.jsx("div",{className:"_52da",children:h.jsxs("div",{className:"_52db",children:["+",a]})})})};d.render=function(){var a=this.$1(this.props.mediaUploads.take(i));return h.jsx("div",{className:"_58vq",style:{paddingBottom:""+this.$2(a)+"%"},children:this.$3(a)})};return c}(h.Component);a.propTypes={mediaUploads:b("prop-types").instanceOf(b("immutable").List).isRequired};e.exports=a}),null);
__d("ReactComposerOptimisticPostingStoryProgress.react",["cx","fbt","BUIProgressBar.react","React","prop-types"],(function(a,b,c,d,e,f,g,h){var i=b("React");a=function(a){a=a.percent;var c;a===null?c={isBuffering:!0}:c={percentage:a};return i.jsxs("div",{className:"_2oj3",children:[i.jsx("span",{children:h._("Uploading...")}),i.jsx(b("BUIProgressBar.react"),babelHelpers["extends"]({className:"_2oj4",flexibleWidth:!0},c))]})};a.propTypes={percent:b("prop-types").number};e.exports=a}),null);
__d("ReactComposerOptimisticPostingStoryStatus.react",["cx","React","prop-types"],(function(a,b,c,d,e,f,g){var h=b("React");a=function(a){a=a.status;return h.jsx("div",{className:"_4sfj",children:h.jsx("div",{className:"_5pbx",children:a})})};var i=(c=b("prop-types")).oneOfType([c.number,c.string,c.element,c.arrayOf(i)]);a.PropTypes={status:i.isRequired};e.exports=a}),null);
__d("ReactComposerOptimisticPostingStoryVideoMessage.react",["cx","fbt","React"],(function(a,b,c,d,e,f,g,h){var i=b("React");a=function(){return i.jsx("div",{className:"_1rsx",children:h._("The video in your post is being processed. We'll send you a notification when it's finished and your post is ready to view.")})};e.exports=a}),null);
__d("ReactComposerOptimisticPostingStoryContainer.react",["cx","Arbiter","JSResource","React","ReactComponentWithPureRenderMixin","ReactComposerActions","ReactComposerAttachmentType","ReactComposerConfig","ReactComposerEvents","ReactComposerMediaUploadStore","ReactComposerMediaUploadType","ReactComposerOptimisticAttachmentUtils","ReactComposerOptimisticPostingStore","ReactComposerOptimisticPostingStoryFailureMessage.react","ReactComposerOptimisticPostingStoryGeneric.react","ReactComposerOptimisticPostingStoryHeader.react","ReactComposerOptimisticPostingStoryMedia.react","ReactComposerOptimisticPostingStoryProgress.react","ReactComposerOptimisticPostingStoryStatus.react","ReactComposerOptimisticPostingStoryVideoMessage.react","ReactComposerPhotoStore","ReactComposerPhotoUploadState","ReactComposerStatusStore","ReactComposerStore","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerVideoUploadStore","StoreBasedStateMixinHelper","XUICard.react","clearTimeout","createReactClass_DEPRECATED","lazyLoadComponent","prop-types","setTimeout"],(function(a,b,c,d,e,f,g){var h=b("React"),i=b("lazyLoadComponent")(b("JSResource")("ReactComposerOptimisticPostingStoryFunFactTagger.react").__setRef("ReactComposerOptimisticPostingStoryContainer.react"));c=b("createReactClass_DEPRECATED")({displayName:"ReactComposerOptimisticPostingStoryContainer",mixins:[b("ReactComponentWithPureRenderMixin")],propTypes:{attachmentType:(a=b("prop-types")).string.isRequired,composerID:a.string.isRequired,config:b("ReactComposerConfig").isRequired,targetID:a.string.isRequired,actorID:a.string.isRequired,onPostFailure:a.func},_mixin:null,_recalculateStateID:null,_mediaUploads:null,_previousPercent:0,getInitialState:function(){return this._calculateState()},componentDidUpdate:function(a,c){this.state.isOptimisticallyPosting&&!this.state.isUploading&&!this.state.videoFinishedPosting&&this.state.uploadSuccessRate!==0&&b("ReactComposerActions").postStarted(this.props.composerID,{actorID:this.props.actorID,config:this.props.config,targetID:this.props.targetID,onPostFailure:this.props.onPostFailure})},componentDidMount:function(){var a=this;this._previousPercent=0;this._mixin=new(b("StoreBasedStateMixinHelper"))([b("ReactComposerMediaUploadStore"),b("ReactComposerOptimisticPostingStore"),b("ReactComposerPhotoStore"),b("ReactComposerStore"),b("ReactComposerVideoUploadStore")]);this._mixin.subscribeCallback(function(c){a._recalculateStateID===null&&(a._recalculateStateID=b("setTimeout")(function(){var b=a._calculateState(),c=Math.max(b.percent,a._previousPercent);b.percent=c;a._previousPercent=c;a.setState(b);a._recalculateStateID=null},0))});b("ReactComposerMediaUploadStore")&&b("ReactComposerMediaUploadStore").getUploadsOfType(this.props.composerID,b("ReactComposerMediaUploadType").VIDEO).size&&b("Arbiter").subscribeOnce(b("ReactComposerEvents").POST_SUCCEEDED+this.props.composerID,function(){a.setState({videoFinishedPosting:!0})})},componentWillUnmount:function(){this._mixin&&this._mixin.release(),this._recalculateStateID&&b("clearTimeout")(this._recalculateStateID)},_calculateState:function(){var a=null,c=1;if(this.props.attachmentType===b("ReactComposerAttachmentType").MEDIA&&b("ReactComposerMediaUploadStore")){var d=b("ReactComposerMediaUploadStore").getUploads(this.props.composerID),e=0,f=0,g=0,h=0,i=0;d.forEach(function(a){a.get("fileSize")!==null?(f+=a.get("fileSize"),g+=(a.progress||0)*a.get("fileSize")):(h++,i+=a.progress||0),a.state===b("ReactComposerPhotoUploadState").PHOTO_UPLOAD_DONE&&e++});if(h){var j=d.size-h;j=j?f/j:1;f+=j*h;g+=j*i}f&&(a=g/f);c=e/d.size}this.props.attachmentType===b("ReactComposerAttachmentType").STATUS&&(a=100);j=b("ReactComposerVideoUploadStore").getVideo(this.props.composerID)&&b("ReactComposerStore").isPosting(this.props.composerID);d=b("ReactComposerPhotoStore").isSphericalPhotoUpdating(this.props.composerID);d=b("ReactComposerMediaUploadStore").isUploading(this.props.composerID)||b("ReactComposerPhotoStore").isRecognizing(this.props.composerID)||d||j;return{percent:a,videoFinishedPosting:this.state&&this.state.videoFinishedPosting,isUploading:d,isOptimisticallyPosting:b("ReactComposerOptimisticPostingStore").isOptimisticallyPosting(this.props.composerID),uploadSuccessRate:c}},_renderStatusElement:function(){var a=b("ReactComposerStatusStore").getMessageText(this.props.composerID);a=[].concat(a.split("\n"));for(var c=1;c<a.length;c+=2)a.splice(c,0,h.jsx("br",{},c));return h.jsx(b("ReactComposerOptimisticPostingStoryStatus.react"),{status:a},"status")},_renderMediaElement:function(){if(!b("ReactComposerMediaUploadStore"))return this._renderGenericElement();this._mediaUploads||(this._mediaUploads=b("ReactComposerMediaUploadStore").getUploads(this.props.composerID));var a=h.jsx(b("ReactComposerOptimisticPostingStoryMedia.react"),{mediaUploads:this._mediaUploads},"media");return!b("ReactComposerStatusStore").getMessageText(this.props.composerID)?a:[this._renderStatusElement(),a]},_renderGenericElement:function(){return h.jsx(b("ReactComposerOptimisticPostingStoryGeneric.react"),{})},_renderFunFactElement:function(){var a=b("ReactComposerTaggerStore").getTaggerData(this.props.composerID,b("ReactComposerTaggerType").FUN_FACT);return a.prompt?h.jsx(h.Suspense,{fallback:h.jsx("div",{}),children:h.jsx(i,{className:"_1rl8",emoji:a.prompt.emoji,title:a.prompt.title})}):null},_renderBody:function(){var a=null,c=null,d=b("ReactComposerOptimisticAttachmentUtils").getOptimisticAttachment(this.props.composerID),e=!1;this.props.attachmentType===b("ReactComposerAttachmentType").STATUS?a=this._renderStatusElement():this.props.attachmentType===b("ReactComposerAttachmentType").MEDIA?a=this._renderMediaElement():a=this._renderGenericElement();b("ReactComposerTaggerStore").hasData(this.props.composerID,b("ReactComposerTaggerType").FUN_FACT)&&(c=this._renderFunFactElement(),e=!0);return h.jsxs("div",{className:"_38-r"+(e?" _1rl9":""),children:[c,a,d]})},render:function(){var a=this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").STATUS],c=a.profilePicSrc;a=a.profileName;a=a||"";return h.jsxs(b("XUICard.react"),{className:"_4rtr",children:[this.state.videoFinishedPosting?h.jsx(b("ReactComposerOptimisticPostingStoryVideoMessage.react"),{}):!this.state.isUploading&&this.state.uploadSuccessRate===0?h.jsx(b("ReactComposerOptimisticPostingStoryFailureMessage.react"),{}):h.jsx(b("ReactComposerOptimisticPostingStoryProgress.react"),{percent:this.state.percent}),h.jsx(b("ReactComposerOptimisticPostingStoryHeader.react"),{profilePicSrc:c,profileName:a}),this._renderBody()]})}});e.exports=c}),null);
__d("ReactComposerOptimisticPostingActions",["ReactComposerConfig","ReactComposerDispatcher","ReactComposerOptimisticPostingActionType","ReactComposerOptimisticPostingStore"],(function(a,b,c,d,e,f){b("ReactComposerOptimisticPostingStore");a={startOptimisticallyPosting:function(a,c,d,e,f,g){b("ReactComposerDispatcher").dispatch({composerID:a,config:c,attachmentType:d,actorID:e,targetID:f,onPostFailure:g,type:b("ReactComposerOptimisticPostingActionType").START_OPTIMISTICALLY_POSTING})},finishOptimisticallyPosting:function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerOptimisticPostingActionType").FINISH_OPTIMISTICALLY_POSTING})}};e.exports=a}),null);
__d("ReactComposerSproutItem.react",["cx","Focus","Image.react","JSResource","Link.react","React","TooltipData","XUISpinner.react","lazyLoadComponent","prop-types","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("lazyLoadComponent")(b("JSResource")("ReactComposerSproutItemNewBadge.react").__setRef("ReactComposerSproutItem.react"));a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={hasBeenClicked:!1},c.$1=function(){c.setState({hasBeenClicked:!0}),c.props.onClick&&c.props.onClick()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props.loading?h.jsx(b("XUISpinner.react"),{className:"_20j1",background:"dark",size:"small"}):null,c=this.props.uiConfig,d=!this.context.hasFinishedSproutPromotion&&this.context.promotedSprout&&this.props.uiConfig.sprout&&this.context.promotedSprout===this.props.uiConfig.sprout?h.jsx(h.Suspense,{fallback:null,children:h.jsx(i,{composerID:this.context.composerID,hasSproutBeenClicked:this.state.hasBeenClicked,promotionID:this.context.promotionID,title:this.context.subtitle&&this.context.subtitle})}):null,e=Boolean(c.showTooltipOnlyWhenDisabled)?null:babelHelpers["extends"]({},b("TooltipData").propsFor(c.tooltip)),f=this.props;f.onClick;f=babelHelpers.objectWithoutPropertiesLoose(f,["onClick"]);return h.jsx(b("Link.react"),{"aria-label":c==null?void 0:c.ariaLabel,"aria-pressed":this.props.highlighted,"data-testid":void 0,onClick:this.$1,role:this.props.linkRole||"button",children:h.jsxs("div",babelHelpers["extends"]({},f,{className:b("joinClasses")("_m_1"+(this.props.loading?" _20jn":"")+(d!==null?" _4c9w":""),c&&c.className),onMouseDown:function(a){return a.preventDefault()},ref:"sproutItemRoot",style:this.props.highlighted?{background:c.highlightedColor}:null,"data-tooltip-delay":"500"},e,{children:[h.jsx(b("Image.react"),{className:"_4a0a",src:c.icon}),h.jsx("div",{className:"_2aha",children:c.label}),d,a]}))})};d.focus=function(){b("Focus").set(this.refs.sproutItemRoot)};return c}(h.PureComponent);a.contextTypes={hasFinishedSproutPromotion:(c=b("prop-types")).bool.isRequired,promotionID:c.number,promotedSprout:c.string,subtitle:c.string,composerID:c.string};a.defaultProps={highlighted:!1};e.exports=a}),null);
__d("ReactComposerEllipsisSproutContainer.react",["csx","cx","fbt","ix","DOM","DOMTraverser","Focus","React","ReactComposerActions","ReactComposerAttachmentActions","ReactComposerContextTypes","ReactComposerLoggingName","ReactComposerSproutItem.react","ReactComposerStore","TabbableElements","ge"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a){d.context.gks&&d.context.gks.lazySproutsExpand&&d.$3(),b("ReactComposerAttachmentActions").selectAttachmentLoggingOnlyDoNotUse(d.context.composerID,"ELLIPSIS",b("ReactComposerLoggingName").ELLIPSIS_SPROUT,b("ReactComposerStore").getSproutSurface(d.context.composerID))},d.$1=function(a){d.$3()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return k.jsx("span",{onKeyDown:this.$1,children:k.jsx(b("ReactComposerSproutItem.react"),{uiConfig:{ariaLabel:i._("More Post Options"),label:"",icon:j("28705"),iconSrc:"/images/composer/sprouts/composer_sprout_ellipsis.png",className:"_1gr3",loggingName:b("ReactComposerLoggingName").ELLIPSIS_SPROUT,webDriverTestID:"ellipsis-sprout"},onClick:this.$2})})};d.$3=function(){var a=this;b("ReactComposerActions").expandSprouts(this.context.composerID);window.setTimeout(function(){var c=b("ge")(a.context.composerID),d=b("DOM").find(c,"._16vl");c=b("DOMTraverser").nextFilteredNode(c,d,function(a){return b("TabbableElements").isTabbable(a)});b("Focus").set(c)},0)};return c}(k.PureComponent);a.contextTypes=b("ReactComposerContextTypes");e.exports=a}),null);
__d("ReactComposerLazySproutContainer.react",["React","ReactComposerContextTypes","ReactComposerSproutItem.react","ReactComposerTaggerActions"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={loading:!1},d.$1=function(){d.setState({loading:!0}),d.props.uiConfig.sproutTaggerID&&b("ReactComposerTaggerActions").selectTagger(d.context.composerID,d.props.uiConfig.loggingName,d.props.uiConfig.sproutTaggerID,!0)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return g.jsx(b("ReactComposerSproutItem.react"),{uiConfig:this.props.uiConfig,onClick:this.$1,loading:this.state.loading})};return c}(g.PureComponent);a.contextTypes=b("ReactComposerContextTypes");e.exports=a}),null);
__d("ReactComposerSproutsStyleUtils",[],(function(a,b,c,d,e,f){"use strict";a={SPROUT_HEIGHT_PX:32,SPROUT_MARGIN_PX:8,SPROUT_LIST_VERTICAL_PADDING_PX:8,SPROUTS_PER_ROW:2,calculateVisibleSproutWindow:function(a,b){a=this.calculateSproutContainerHeight(a);var c=this.SPROUT_HEIGHT_PX+this.SPROUT_MARGIN_PX,d=Math.round(Math.max(b-this.SPROUT_LIST_VERTICAL_PADDING_PX,0)/c);b=Math.round((b+a-2*this.SPROUT_LIST_VERTICAL_PADDING_PX)/c);return{start:d,end:b}},calculateVisibleSprouts:function(a,b){var c={};for(var d=0;d<b.length;d++){var e=d>=a.start*this.SPROUTS_PER_ROW&&d<(a.end+1)*this.SPROUTS_PER_ROW;c[b[d]]=e}return c},calculateVisibleInlineSprouts:function(a,b){var c={};for(var d=0;d<b.length;d++){var e=a.indexOf(b[d])>=0;c[b[d]]=e}return c},calculateSproutContainerHeight:function(a){return a*this.SPROUT_HEIGHT_PX+Math.floor(a)*this.SPROUT_MARGIN_PX-this.SPROUT_LIST_VERTICAL_PADDING_PX}};e.exports=a}),null);
__d("ReactComposerSproutsListRenderer.react",["cx","invariant","ExtensibleSproutsItemType","Grid.react","ProductTaggingCreatorTypedLogger","React","ReactComposerEllipsisSproutContainer.react","ReactComposerLoggingActions","ReactComposerSproutBadgePromotionUtils","ReactComposerSproutsDisplayState","ReactComposerSproutsStyleUtils","ReactComposerStore","ReactComposerTaggerStore","ReactComposerTaggerType","SproutConfigConstants","debounce","getObjectValues","joinClasses","prop-types","ReactComposerContextTypes","qex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("Grid.react").GridItem;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$8=function(){c.$3("inline_sprouts_scrolled_in_full_screen")},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.getChildContext=function(){return{hasFinishedSproutPromotion:this.props.hasFinishedSproutPromotion,promotedSprout:this.props.config.sproutsPromotionConfig&&this.props.config.sproutsPromotionConfig.sprout,subtitle:this.props.config.sproutsPromotionConfig&&this.props.config.sproutsPromotionConfig.subtitle,promotionID:this.props.config.sproutsPromotionConfig&&this.props.config.sproutsPromotionConfig.promotionID}};d.componentDidMount=function(){var a=this;this.props.sproutsDisplayState===b("ReactComposerSproutsDisplayState").EXPANDED?window.setTimeout(function(){a.$3("inline_sprouts_initial_state")},0):this.$4("inline_sprouts_initial_state")};d.componentDidUpdate=function(a){this.props.sproutsDisplayState===b("ReactComposerSproutsDisplayState").EXPANDED&&a.sproutsDisplayState===b("ReactComposerSproutsDisplayState").INLINE&&this.$3("inline_sprouts_state_changed"),this.props.sproutsDisplayState===b("ReactComposerSproutsDisplayState").INLINE&&a.sproutsDisplayState===b("ReactComposerSproutsDisplayState").EXPANDED&&this.$4("inline_sprouts_state_changed")};d.render=function(){var a=this,c=this.props.sproutsDisplayState===b("ReactComposerSproutsDisplayState").EXPANDED?this.$5():this.$6(),d=this.$7();return i.jsx("div",{className:"_16ve"+(this.props.sproutsDisplayState!==b("ReactComposerSproutsDisplayState").EXPANDED?" _7i31":""),style:d,ref:function(b){return a.$1=b},onScroll:this.context.gks.extensibleSproutsNumRows&&b("debounce")(this.$8),children:c})};d.$7=function(){var a=b("ReactComposerStore").getTargetType(this.context.composerID);if(!this.context.gks.lazySproutsExpand&&a!=="group"&&a!=="page"&&this.context.composerType!=="edit_composer"&&this.context.composerType!=="edit_dialog"&&this.context.composerType!=="work_group_learning"){a=parseFloat("2.5");a=b("ReactComposerSproutsStyleUtils").calculateSproutContainerHeight(a);return{maxHeight:a+"px",overflowY:"auto"}}else return{}};d.$3=function(a){if(!this.$1)return;var c=b("ReactComposerSproutsStyleUtils").calculateVisibleSproutWindow(this.context.gks.extensibleSproutsNumRows,this.$1.scrollTop);c=b("ReactComposerSproutsStyleUtils").calculateVisibleSprouts(c,this.props.orderedSprouts);b("ReactComposerLoggingActions").sproutVisibilityUpdated(this.context.composerID,c,a,this.props.sproutsDisplayState,this.props.config.sproutsPromotionConfig?this.props.config.sproutsPromotionConfig.sprout:null,this.props.config.sproutsPromotionConfig?this.props.config.sproutsPromotionConfig.promotionID:null);if(this.props.config.sproutsPromotionConfig){a=this.props.config.sproutsPromotionConfig.sprout;!this.props.hasLoggedSproutPromotionView&&a&&(c[a]===!0&&(this.props.config.sproutsPromotionConfig.promotionID&&b("ReactComposerSproutBadgePromotionUtils").addView(this.props.config.sproutsPromotionConfig.promotionID,this.context.composerID)))}c=b("ReactComposerTaggerStore").isDisabled(this.context.composerID,b("ReactComposerTaggerType").PRODUCT);c||new(b("ProductTaggingCreatorTypedLogger"))().setEvent("Imp_PhotoComposerWithTagPill").setCreatorID(this.context.targetID).log()};d.$4=function(a){var c=b("ReactComposerSproutsStyleUtils").calculateVisibleInlineSprouts(this.$2,this.props.orderedSprouts);b("ReactComposerLoggingActions").sproutVisibilityUpdated(this.context.composerID,c,a,this.props.sproutsDisplayState,this.props.config.sproutsPromotionConfig?this.props.config.sproutsPromotionConfig.sprout:null,this.props.config.sproutsPromotionConfig?this.props.config.sproutsPromotionConfig.promotionID:null)};d.$9=function(a,c){var d=b("joinClasses")("_5xmp","fbReactComposerAttachmentSelector_"+c);return i.jsx("li",{className:d,children:a},c)};d.$6=function(){var a=[];this.$2=[];var c=this.props.config.sproutsConfig,d=this.$10(this.props.orderedSprouts);if(c)for(var e=0;e<d.length;e++){if(!this.$11(c[d[e]])||!this.$12(c[d[e]])||this.$13(d[e]))continue;if(this.$14(d[e],a))break}a.length<=3||h(0,4256);return i.jsxs("ul",{"data-testid":void 0,className:"_16vg"+(a.length===3?" _1oxv":""),children:[a,((e=this.context)!=null?(e=e.gks)!=null?e.shouldShowSimplifiedComposer:e:e)?null:this.$9(i.jsx(b("ReactComposerEllipsisSproutContainer.react"),{}),"ELLIPSIS")]})};d.$5=function(){var a=[],c=this.props.config.sproutsConfig,d=this.$10(this.props.orderedSprouts);if(c)for(var e=0;e<d.length;e++){if(!this.$11(c[d[e]])||this.$13(d[e]))continue;this.props.sprouts[d[e]]||h(0,4257,d[e]);a.push(i.jsx(j,{className:"fbReactComposerAttachmentSelector_"+d[e],children:this.$15(d[e])},d[e]))}return i.jsx("div",{"data-testid":void 0,className:"_16vl",children:i.jsx(b("Grid.react"),{cols:2,fixed:!0,spacing:b("joinClasses")("pas","_1fng"),children:a})})};d.$11=function(a){return!!a&&a.enabled};d.$12=function(a){return this.$11(a)};d.$13=function(a){return!!this.props.isGroupTabSelected&&!this.$16(a)};d.$16=function(a){return a==="MINUTIAE"||a==="LOCATION"||a==="WITH_TAG"||a==="MEDIA"};d.$14=function(a,c){this.props.sprouts[a]||h(0,4257,a);this.$2.push(a);c.push(this.$9(this.props.sprouts[a],a));return c.length>=b("SproutConfigConstants").MAX_INLINE_SPROUTS_COUNT?!0:!1};d.$15=function(a){var b=this.props.sprouts[a];if(a==="TAG_PRODUCT"){a=b.props;return i.cloneElement(b,{props:babelHelpers["extends"]({},a,{config:this.props.config})})}else return b};d.$10=function(a){a=[].concat(a);if(a.includes("MINUTIAE")&&a.includes("TAG_PRODUCT")&&b("qex")._("1332324")){var c=a.indexOf("TAG_PRODUCT"),d=2;c>d&&(a.splice(c,1),a.splice(d,0,"TAG_PRODUCT"))}return a};return c}(i.PureComponent);a.contextTypes=b("ReactComposerContextTypes");a.childContextTypes={hasFinishedSproutPromotion:(c=b("prop-types")).bool.isRequired,promotionID:c.number,promotedSprout:c.oneOf(b("getObjectValues")(b("ExtensibleSproutsItemType"))),subtitle:c.string};e.exports=a}),null);
__d("ReactComposerSproutsList.react",["ErrorBoundary.react","ExtensibleSproutsItemType","FBLogger","React","ReactComposerContextTypes","ReactComposerLazySproutContainer.react","ReactComposerSproutItem.react","ReactComposerSproutsDefaultUIConfigTyped","ReactComposerSproutsListRenderer.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return g.jsx(b("ReactComposerSproutsListRenderer.react"),babelHelpers["extends"]({},this.props,{sprouts:this.$1()}))};d.$1=function(){var a=this.props.config.sproutsConfig,c={};if(a)for(var d in a){var e,f=b("ExtensibleSproutsItemType")[d];if(((e=a[f])==null?void 0:e.enabled)!==!0)continue;e=b("ReactComposerSproutsDefaultUIConfigTyped").sproutsUIConfigMap[f];e||b("FBLogger")("fb4c").mustfix("SproutID %s is not in the config %s.",f,JSON.stringify(b("ReactComposerSproutsDefaultUIConfigTyped").sproutsUIConfigMap));this.props.config.sproutsPromotionConfig&&this.props.config.sproutsPromotionConfig.sprout===f&&(e.sprout=f);e!=null&&(e.hasFormatting=this.props.richTextInStatus);var h=this.props.fakeSprouts!==!0?this.props.sproutModules[f]||b("ReactComposerLazySproutContainer.react"):b("ReactComposerSproutItem.react");c[f]=g.jsx(b("ErrorBoundary.react"),{children:g.jsx(h,{uiConfig:e,config:this.props.config})})}return c};return c}(g.PureComponent);a.contextTypes=b("ReactComposerContextTypes");e.exports=a}),null);
__d("ReactComposerSproutsListContainer.react",["invariant","ExtensibleSproutsItemType","FluxContainer","React","ReactComposerContextTypes","ReactComposerSproutsDisplayState","ReactComposerSproutsList.react","ReactComposerStatusStore","ReactComposerStore","ifRequired","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;b.state={additionalSproutModules:{},bootloading:!1,orderedSprouts:[]};b.$2={};return b}c.getStores=function(){var a=[b("ReactComposerStore"),b("ReactComposerStatusStore")];b("ifRequired")("ReactComposerPostToGroupStore",function(b){a.push(b)});return a};c.calculateState=function(a,c,d){a=!1;b("ifRequired")("ReactComposerPostToGroupStore",function(b){a=b.getIsTabSelected(d.composerID)});return{sproutsDisplayState:(c=b("ReactComposerStore")).getSproutsDisplayState(d.composerID),isGroupTabSelected:a,hasLoggedSproutPromotionView:c.hasLoggedSproutPromotionView(d.composerID),hasFinishedSproutPromotion:c.hasFinishedSproutPromotion(d.composerID),orderedSprouts:c.getOrderedSprouts(d.composerID),richTextInStatus:b("ReactComposerStatusStore").getRichTextBlocks(d.composerID)!==null}};var d=c.prototype;d.componentDidMount=function(){this.$1=!1,(this.state.sproutsDisplayState===b("ReactComposerSproutsDisplayState").EXPANDED||this.context.gks&&this.context.gks.lazySproutsExpand)&&this.$3()};d.componentDidUpdate=function(){(this.state.sproutsDisplayState===b("ReactComposerSproutsDisplayState").EXPANDED||this.context.gks&&this.context.gks.lazySproutsExpand)&&this.$3()};d.componentWillUnmount=function(){this.$1=!0};d.render=function(){this.context.jsModules.sprouts=Object.assign({},this.context.jsModules.sprouts,this.state.additionalSproutModules);return h.jsx(b("ReactComposerSproutsList.react"),{config:this.props.config,sproutsDisplayState:this.state.sproutsDisplayState,sproutModules:this.context.jsModules.sprouts,fakeSprouts:this.props.fakeSprouts,isGroupTabSelected:this.state.isGroupTabSelected,hasLoggedSproutPromotionView:this.state.hasLoggedSproutPromotionView,hasFinishedSproutPromotion:this.state.hasFinishedSproutPromotion,orderedSprouts:this.state.orderedSprouts,richTextInStatus:this.state.richTextInStatus})};d.$3=function(){var a=this;if(this.state.bootloading)return;var c=this.props.config.sproutsConfig,d={};for(var e in c){var f=b("ExtensibleSproutsItemType")[e];if(!c[f].enabled||!c[f].lazyLoad)continue;this.context.jsResources.sprouts[f]||g(0,4479,f);d[f]=this.context.jsResources.sprouts[f]}f=function(c){b("promiseDone")(d[c].load(),function(b){if(a.$1)return;a.$2[c]=b;a.setState({additionalSproutModules:Object.assign({},a.$2)})})};for(var h in d)f(h);this.setState({bootloading:!0})};return c}(h.Component);a.contextTypes=b("ReactComposerContextTypes");e.exports=b("FluxContainer").create(a,{withContext:!0,withProps:!0})}),null);
__d("ReactComposerFileUtils",["fbt","ExceptionDialog","ReactComposerWorkFileAttachmentUploadContainer","WorkContentActivityTypedLogger"],(function(a,b,c,d,e,f,g){"use strict";var h=b("ReactComposerWorkFileAttachmentUploadContainer").module;a={selectFileOrWorkFileModule:function(a,b){return h?b:a},hasExceededFileSize:function(a,c){c===void 0&&(c=Infinity);var d=a.size>=c;d&&(b("ExceptionDialog").show(g._("File too large").toString(),g._("The file that you've uploaded is too large.").toString()),h&&new(b("WorkContentActivityTypedLogger"))().setSurfaceType("FILES_COMPOSER").setEvent("SELECT_FILE_TOO_BIG").setAdditionalData({file_size:a.size.toString(),max_size:c.toString()}).log());return d}};e.exports=a}),null);
__d("ReactComposerWorkContentFileUploadActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){e.exports=b("keyMirrorRecursive")({FILE_ENQUEUED:null,FILE_UPDATE:null,FILE_UPLOAD_SUCCESS:null,FILE_UPLOAD_REMOVE:null,FILE_PREFILL_DATA:null},"ReactComposerWorkContentFileUploadActionType")}),null);
__d("ReactComposerWorkContentMultiAttachmentActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){e.exports=b("keyMirrorRecursive")({ATTACHMENTS_REMOVED_ALL:null},"ReactComposerWorkContentMultiAttachmentActionType")}),null);
__d("WorkContentShareAttachment",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({APP_ATTACHMENT:"app_attachment",FILE_ATTACHMENT:"file_attachment"})}),null);
__d("ReactComposerWorkContentFileUploadStore",["ReactComposerAttachmentActions","ReactComposerAttachmentActionType","ReactComposerAttachmentType","ReactComposerLoggingName","ReactComposerStoreBase","ReactComposerTaggerActions","ReactComposerTaggerType","ReactComposerWorkContentFileUploadActionType","ReactComposerWorkContentMultiAttachmentActionType","WorkContentShareAttachment","immutable"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,function(){return{uploads:b("immutable").OrderedMap()}},function(a){switch(a.type){case b("ReactComposerWorkContentFileUploadActionType").FILE_ENQUEUED:d.$ReactComposerWorkContentFileUploadStore1(a);break;case b("ReactComposerWorkContentFileUploadActionType").FILE_UPDATE:d.$ReactComposerWorkContentFileUploadStore2(a);break;case b("ReactComposerWorkContentFileUploadActionType").FILE_UPLOAD_SUCCESS:d.$ReactComposerWorkContentFileUploadStore3(a);break;case b("ReactComposerWorkContentFileUploadActionType").FILE_UPLOAD_REMOVE:d.$ReactComposerWorkContentFileUploadStore4(a);break;case b("ReactComposerWorkContentMultiAttachmentActionType").ATTACHMENTS_REMOVED_ALL:d.$ReactComposerWorkContentFileUploadStore5(a);break;case b("ReactComposerWorkContentFileUploadActionType").FILE_PREFILL_DATA:d.$ReactComposerWorkContentFileUploadStore6(a);break;case b("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:d.$ReactComposerWorkContentFileUploadStore7(a);break}})||this;var d=babelHelpers.assertThisInitialized(c);return c}var d=c.prototype;d.$ReactComposerWorkContentFileUploadStore6=function(a){a=this.validateAction(a,["composerID","attachmentID","fileData","fileConfig"]);var c=a[0],d=a[1],e=a[2];a=a[3];var f=this.getComposerData(c);if(f.uploads.has(d))return;b("ReactComposerTaggerActions").setTaggerData(c,b("ReactComposerLoggingName").WORK_FILE,b("ReactComposerTaggerType").WORK_FILE,{isWorkFileUpload:!0});f.uploads=f.uploads.set(d,{attachmentType:b("WorkContentShareAttachment").FILE_ATTACHMENT,attachmentID:d,progress:100,fileID:a.file_id,data:e});this.emitChange(c)};d.$ReactComposerWorkContentFileUploadStore1=function(a){a=this.validateAction(a,["composerID","attachmentID","fileUpload"]);var c=a[0],d=a[1];a=a[2];b("ReactComposerAttachmentActions").selectAttachment(c,b("ReactComposerAttachmentType").STATUS,!0);var e=this.getComposerData(c);if(e.uploads.has(d))return;e.uploads=e.uploads.set(d,{attachmentType:b("WorkContentShareAttachment").FILE_ATTACHMENT,attachmentID:d,progress:0,name:a.name});this.emitChange(c)};d.$ReactComposerWorkContentFileUploadStore2=function(a){a=this.validateAction(a,["composerID","attachmentID","progress"]);var b=a[0],c=a[1];a=a[2];var d=this.getComposerData(b);if(!d.uploads.has(c))return;var e=d.uploads.get(c);e.progress=a;d.uploads=d.uploads.set(c,e);this.emitChange(b)};d.$ReactComposerWorkContentFileUploadStore3=function(a){a=this.validateAction(a,["composerID","attachmentID","handle","data"]);var b=a[0],c=a[1],d=a[2];a=a[3];var e=this.getComposerData(b);if(!e.uploads.has(c))return;var f=e.uploads.get(c);f.progress=100;e.uploads=e.uploads.set(c,{attachmentType:f.attachmentType,attachmentID:f.attachmentID,handleID:d,progress:100,data:babelHelpers["extends"]({},a,{fileID:a==null?void 0:a.id})});this.emitChange(b)};d.$ReactComposerWorkContentFileUploadStore4=function(a){a=this.validateAction(a,["composerID","attachmentID"]);var c=a[0];a=a[1];var d=this.getComposerData(c);d.uploads=d.uploads["delete"](a);d.uploads.isEmpty()&&b("ReactComposerTaggerActions").setTaggerData(c,b("ReactComposerLoggingName").WORK_FILE,b("ReactComposerTaggerType").WORK_FILE,{isWorkFileUpload:null});this.emitChange(c)};d.$ReactComposerWorkContentFileUploadStore5=function(a){a=a.composerID;var c=this.getComposerData(a);c.uploads=c.uploads.clear();b("ReactComposerTaggerActions").setTaggerData(a,b("ReactComposerLoggingName").WORK_FILE,b("ReactComposerTaggerType").WORK_FILE,{isWorkFileUpload:null});this.emitChange(a)};d.$ReactComposerWorkContentFileUploadStore7=function(a){var b=this.validateAction(a,["id","currentAttachmentID"]),c=b[0];b=b[1];if(c===b)return;this.$ReactComposerWorkContentFileUploadStore5(a)};d.getAllUploads=function(a){a=this.getComposerData(a);return a.uploads.toList()};d.getCompletedUploads=function(a){a=this.getComposerData(a);return a.uploads.filter(function(a){if(a.data)return a}).toList()};d.isLoading=function(a){a=this.getAllUploads(a).filter(function(a){if(a.data==null)return a});return!a.isEmpty()};d.isEmpty=function(a){return this.getAllUploads(a).isEmpty()};return c}(b("ReactComposerStoreBase"));e.exports=new a()}),null);
__d("ContentMultiAttachmentUtils",["fbt","CurrentUser","ExceptionDialog","ReactComposerWorkContentAppAttachmentStore","ReactComposerWorkContentFileUploadStore","WebFunnelLogger"],(function(a,b,c,d,e,f,g){var h=6,i=1024;a={fileAccessPromptFunnelLogger:function(a,c){c=new(b("WebFunnelLogger"))("WorkFileAccessPromptFunnelDefinition").setSessionKey(b("CurrentUser").getID()).setAction(a).addActionPayload("app_type",c.source).addActionPayload("attachment_type",c.type).addActionPayload("attachment_id",c.id).addActionPayload("privacy_status",c.privacy_status);switch(a){case"SHOW_ACCESS_PROMPT":c.markStart();break;case"REMOVE_ATTACHMENT":c.markEnd();break}c.log()},getNewID:function(){return(i++).toString()},isPostButtonDisabled:function(a){return b("ReactComposerWorkContentAppAttachmentStore").isScraping(a)||b("ReactComposerWorkContentFileUploadStore").isLoading(a)},getMaxAllowedAttachments:function(){return h},getAttachmentCount:function(a){return b("ReactComposerWorkContentFileUploadStore").getAllUploads(a).size+b("ReactComposerWorkContentAppAttachmentStore").getAttachments(a).size},getMultiAttachmentRemainingQuota:function(a){return h-this.getAttachmentCount(a)},showMaxFilesExceptionDialog:function(){b("ExceptionDialog").show(g._("Your file could not be attached"),g._({"*":"You can attach a maximum of {number} files","_1":"You can attach a maximum of one file"},[g._plural(h,"number")]))}};e.exports=a}),null);
__d("ReactComposerWorkContentAppAttachmentActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){e.exports=b("keyMirrorRecursive")({FILE_SCRAPED:null,FILE_ADDED:null,FILE_REMOVED:null,FILE_REMOVED_ALL:null,FILE_PREFILL:null,FILES_REFRESH:null},"ReactComposerWorkContentAppAttachmentActionType")}),null);
__d("ReactComposerWorkContentAppAttachmentStore",["ContentMultiAttachmentUtils","ReactComposerAttachmentActionType","ReactComposerScrapedAttachmentActions","ReactComposerScrapedAttachmentActionType","ReactComposerStoreBase","ReactComposerTaggerActions","ReactComposerTaggerType","ReactComposerWorkContentAppAttachmentActionType","ReactComposerWorkContentMultiAttachmentActionType","WorkContentShareAttachment","immutable"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,function(){return{uploads:b("immutable").OrderedMap(),notUploadedCounter:0,sourcesByURL:b("immutable").Map()}},function(a){switch(a.type){case b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPE_INTENDED:d.$ReactComposerWorkContentAppAttachmentStore1(a);break;case b("ReactComposerWorkContentAppAttachmentActionType").FILE_SCRAPED:d.$ReactComposerWorkContentAppAttachmentStore2(a);break;case b("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPE_CLEARED:case b("ReactComposerWorkContentMultiAttachmentActionType").ATTACHMENTS_REMOVED_ALL:d.$ReactComposerWorkContentAppAttachmentStore3(a);break;case b("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:d.$ReactComposerWorkContentAppAttachmentStore4(a);break;case b("ReactComposerWorkContentAppAttachmentActionType").FILE_REMOVED:d.$ReactComposerWorkContentAppAttachmentStore5(a);break;case b("ReactComposerWorkContentAppAttachmentActionType").FILE_PREFILL:d.$ReactComposerWorkContentAppAttachmentStore6(a);break;case b("ReactComposerWorkContentAppAttachmentActionType").FILES_REFRESH:d.$ReactComposerWorkContentAppAttachmentStore7(a);break}})||this;var d=babelHelpers.assertThisInitialized(c);return c}var d=c.prototype;d.getAttachments=function(a){a=this.getComposerData(a);return a.uploads.toList()};d.getScrapedAttachments=function(a){a=this.getAttachments(a).filter(function(a){if(a.data)return a});return a};d.isScraping=function(a){a=this.getAttachments(a).filter(function(a){return a.scraping});return!a.isEmpty()};d.setNotUploadedCounter=function(a,b){a=this.getComposerData(a);a.notUploadedCounter=b};d.getNotUploadedCounter=function(a){a=this.getComposerData(a);return a.notUploadedCounter};d.isEmpty=function(a){return this.getComposerData(a).uploads.isEmpty()};d.isAttached=function(a,b){a=this.getComposerData(a);return a.uploads.has(b)};d.isCheckedURL=function(a,b,c){c=c?"filePicker":"other";a=this.getComposerData(a);return a.sourcesByURL.has(b)?a.sourcesByURL.get(b).has(c):!1};d.$ReactComposerWorkContentAppAttachmentStore1=function(a){var c=this.validateAction(a,["composerID","value"]),d=c[0];c=c[1];var e=this.getComposerData(d);if(this.isCheckedURL(d,c,a.isFilePicker))return;if(b("ContentMultiAttachmentUtils").getMultiAttachmentRemainingQuota(d)<1||e.uploads.has(c))return;e.uploads=e.uploads.set(c,{attachmentType:b("WorkContentShareAttachment").APP_ATTACHMENT,attachmentID:b("ContentMultiAttachmentUtils").getNewID(),scraping:!0,contentURI:c});e.sourcesByURL=e.sourcesByURL.update(c,b("immutable").Set(),function(b){return b.add(a.isFilePicker?"filePicker":"other")});this.emitChange(d)};d.$ReactComposerWorkContentAppAttachmentStore6=function(a){var c=this.validateAction(a,["composerID","contentAttachmentConfig","contentAttachmentData"]),d=c[0],e=c[1];c=c[2];var f=this.getComposerData(d);f.sourcesByURL=f.sourcesByURL.update(c.contentURI,b("immutable").Set(),function(b){return b.add(a.isFilePicker?"filePicker":"other")});this.$ReactComposerWorkContentAppAttachmentStore8(d,b("ContentMultiAttachmentUtils").getNewID(),e,c);this.emitChange(d)};d.$ReactComposerWorkContentAppAttachmentStore2=function(a){var b=this.validateAction(a,["composerID","contentAttachmentConfig","contentAttachmentData"]),c=b[0],d=b[1];b=b[2];if(d===null||!this.isAttached(c,d.url))return;b?this.$ReactComposerWorkContentAppAttachmentStore8(c,this.getComposerData(c).uploads.get(d.url).attachmentID,d,b):this.$ReactComposerWorkContentAppAttachmentStore9(c,d.url,a.isFilePicker);this.emitChange(c)};d.$ReactComposerWorkContentAppAttachmentStore9=function(a,b,c){var d=this.getComposerData(a);this.$ReactComposerWorkContentAppAttachmentStore10(a,b);d.sourcesByURL=d.sourcesByURL.update(b,function(a){return a.add(c?"filePicker":"other")})};d.$ReactComposerWorkContentAppAttachmentStore10=function(a,c){var d=this.getComposerData(a);d.uploads=d.uploads["delete"](c);d.notUploadedCounter=0;d.sourcesByURL=d.sourcesByURL.update(c,function(a){return a.remove("filePicker")});this.isEmpty(a)&&(b("ReactComposerScrapedAttachmentActions").clearScrapedAttachment(a),b("ReactComposerScrapedAttachmentActions").clearSpinner(a),b("ReactComposerTaggerActions").setTaggerDataWithoutLogging(a,b("ReactComposerTaggerType").APP_INTEGRATION_BOX,{isAppAttachmentData:null}));this.emitChange(a)};d.$ReactComposerWorkContentAppAttachmentStore5=function(a){a=this.validateAction(a,["composerID","contentURI"]);var b=a[0];a=a[1];this.$ReactComposerWorkContentAppAttachmentStore10(b,a)};d.$ReactComposerWorkContentAppAttachmentStore3=function(a){a=a.composerID;var c=this.getComposerData(a);c.uploads=c.uploads.clear();c.notUploadedCounter=0;c.sourcesByURL=c.sourcesByURL.map(function(a){return a.remove("filePicker")});b("ReactComposerTaggerActions").setTaggerDataWithoutLogging(a,b("ReactComposerTaggerType").APP_INTEGRATION_BOX,{isAppAttachmentData:null});this.emitChange(a)};d.$ReactComposerWorkContentAppAttachmentStore4=function(a){var b=this.validateAction(a,["id","currentAttachmentID"]),c=b[0];b=b[1];if(c===b)return;this.$ReactComposerWorkContentAppAttachmentStore3(a)};d.$ReactComposerWorkContentAppAttachmentStore8=function(a,c,d,e){var f=this.getComposerData(a),g=d.url||e.contentURI;if(g==null)return;var h={attachmentType:b("WorkContentShareAttachment").APP_ATTACHMENT,attachmentID:c,data:e,attachmentConfig:d,scraping:!1,contentURI:g};f.uploads=f.uploads.update(g,function(){return h});b("ReactComposerTaggerActions").setTaggerDataWithoutLogging(a,b("ReactComposerTaggerType").APP_INTEGRATION_BOX,{isAppAttachmentData:!0})};d.$ReactComposerWorkContentAppAttachmentStore7=function(a){var c=this;a=this.validateAction(a,["composerID","composerContext","appIntegrationType"]);var d=a[0],e=a[1],f=a[2];this.getAttachments(d).forEach(function(a){a.data&&a.data.app_integration_type===f&&(c.$ReactComposerWorkContentAppAttachmentStore10(d,a.contentURI),b("ReactComposerScrapedAttachmentActions").scrapeAttachment(d,e.targetID,a.data.contentURI,e.composerType,e.actorID,"inline_composer",!0))})};return c}(b("ReactComposerStoreBase"));e.exports=new a()}),null);
__d("ReactComposerStatusUtils",["Bootloader","ContentMultiAttachmentUtils","CurrentUser","ExternalInsightsSharingUtils","ReactComposerAttachmentActions","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerFileActions","ReactComposerFileUtils","ReactComposerLoggingActions","ReactComposerLoggingName","ReactComposerScrapedAttachmentActions","ReactComposerScrapedAttachmentStore","ReactComposerStatusStore","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerWorkContentAppAttachmentStore","ReactComposerWorkFileActions","URLMatcher","URLScraper","gkx","reactComposerValidateURL","uniqueID"],(function(a,b,c,d,e,f){var g=b("ReactComposerWorkFileActions").module,h={scrapeLink:function(a,c,d,e,f,g,i){i===void 0&&(i=!1);if(!b("ReactComposerScrapedAttachmentStore").isEnabled(a))return;if(b("ReactComposerScrapedAttachmentStore").getMarkup(a)&&b("CurrentUser").isEmployee()&&b("gkx")("816011")&&e==="work_feed"){d=b("ExternalInsightsSharingUtils").updateDatainsightAttachment(a,d);if(!d)return}if(b("ReactComposerScrapedAttachmentStore").getMarkup(a))return;if(b("CurrentUser").isWorkUser()){var j=b("URLMatcher").permissiveMultiMatch(d);j.map(function(b){h.scrapeAppContent(a,c,b,e,f,g,i)});return}j=d.trim().split(/\s+/);for(var k=0;k<j.length;k++){var l=b("URLMatcher").permissiveMatch(j[k]);if(l!==b("ReactComposerScrapedAttachmentStore").getPermissiveMatch(a)){b("ReactComposerScrapedAttachmentActions").setPermissiveMatch(a,l);l=b("reactComposerValidateURL")(b("URLScraper").match(j[k])||l);var m=b("ReactComposerScrapedAttachmentStore").getAttachmentAlreadyCleared(a,d);if(l&&!m){b("ReactComposerScrapedAttachmentActions").scrapeAttachment(a,c,l,e,f,g,i);break}}}},scrapeAppContent:function(a,c,d,e,f,g,i){i===void 0&&(i=!1);if(!b("CurrentUser").isWorkUser())return h.scrapeLink(a,c,d,e,f,g,i);if(b("ReactComposerWorkContentAppAttachmentStore").isAttached(a,d)||b("ReactComposerWorkContentAppAttachmentStore").isCheckedURL(a,d,i))return;if(!b("ContentMultiAttachmentUtils").getMultiAttachmentRemainingQuota(a))return;d=b("reactComposerValidateURL")(b("URLScraper").match(d));d&&!b("ReactComposerWorkContentAppAttachmentStore").isAttached(a,d)&&b("ReactComposerScrapedAttachmentActions").scrapeAttachment(a,c,d,e,f,g,i)},uploadPastedFile:function(a,c,d){b("ReactComposerLoggingActions").mediaFilePasted(a),c.uploadID=b("uniqueID")(),c.name="",d&&d.enqueueAsyncUploadRequest(a,[c],{},{},!1),b("ReactComposerLoggingActions").mediaFilePasteFinished(a)},uploadDroppedMedia:function(a,c,d,e,f,g){b("ReactComposerLoggingActions").mediaFileDropped(a);if(!b("ReactComposerAttachmentStore").getIsMediaCompatibleAttachmentSelected(a)){var h=b("ReactComposerAttachmentStore").getMediaAttachmentToSelect(a);b("ReactComposerAttachmentActions").selectAttachment(a,h,!0,b("ReactComposerLoggingName").MEDIA_FILE_DROPPED)}b("Bootloader").loadModules(["ReactComposerMediaUtils"],function(h){var i=h.getFileNames(c);i=h.hasVideos(i);f.enableVideoUploadDialogForDropppedFiles&&c.length==1&&i?h.handleVideoUploadForDroppedFiles(c,f,g):h.uploadPhotosOrVideo(a,c,d,!0,"dragdrop",e);b("ReactComposerLoggingActions").mediaFileDropFinished(a)},"ReactComposerStatusUtils")},loadDroppedFile:function(a,c){b("ReactComposerAttachmentActions").selectAttachment(a,b("ReactComposerAttachmentType").FILE,!0,b("ReactComposerLoggingName").FILE_DROPPED),b("ReactComposerFileUtils").selectFileOrWorkFileModule(b("ReactComposerFileActions"),g).saveFile(a,{file:c,name:c.name})},handleMarkdownPreview:function(a,c,d,e){if(!d)return;d=d.action;e||(e=b("ReactComposerStatusStore").getEditorState(a));if(!e)return;var f=!!b("ReactComposerTaggerStore").getTaggerData(a,b("ReactComposerTaggerType").MARKDOWN).isMarkdown;f&&d.updatePreview(a,c,e.getCurrentContent())}};e.exports=h}),null);
__d("ReactComposerMediaPrefillConfig",["React","prop-types"],(function(a,b,c,d,e,f){b("React");e.exports=(a=b("prop-types")).shape({photoID:a.string,uploadID:a.string,thumbSrc:a.string,fileURL:a.string,filename:a.string,isSpherical:a.bool,mediaType:a.string})}),null);
__d("ReactComposerPhotoPrefillConfig",["React","prop-types"],(function(a,b,c,d,e,f){b("React");e.exports=(a=b("prop-types")).shape({uploadID:a.string,photoID:a.string,thumbSrc:a.string,isSpherical:a.bool,mediaType:a.string})}),null);
__d("ReactComposerPrefillConfig",["ReactComposerAttachmentType","ReactComposerMediaPrefillConfig","ReactComposerPhotoPrefillConfig","ReactComposerTaggerType","getOwnObjectValues","prop-types"],(function(a,b,c,d,e,f){e.exports=(a=b("prop-types")).shape({postID:a.string,mentionsInput:a.shape({textWithEntities:a.shape({text:a.string}),selection:a.object}),selectedAttachment:a.oneOf(b("getOwnObjectValues")(b("ReactComposerAttachmentType"))),shouldActivateSelectedAttachment:a.bool,taggersData:a.object,selectedTagger:a.oneOf(b("getOwnObjectValues")(b("ReactComposerTaggerType"))),mediasData:a.arrayOf(b("ReactComposerMediaPrefillConfig")),photosData:a.arrayOf(b("ReactComposerPhotoPrefillConfig")),attachmentPreviewData:a.shape({scrapedURL:a.string,scrapedAttachment:a.shape({markup:a.object,attachmentConfig:a.object}),minutiaeAttachment:a.shape({markup:a.object})}),composerSellAttachment:a.shape({title:a.string,price:a.string,categoryID:a.string,categoryText:a.string,conditionID:a.string,conditionText:a.string,locationID:a.string,locationText:a.string,uneditablePriceOverride:a.string,latitude:a.number,longitude:a.number,currency:a.string,quantity:a.oneOfType([a.oneOf([null]),a.number])}),donateConfig:a.shape({charityName:a.string,fundraiserCampaignId:a.string}),liveBroadcastData:a.shape({accessToken:a.string,streamURL:a.string}),topicFeedTags:a.arrayOf(a.string),multilingualData:a.shape({specifiedDialect:a.string,multilingualStatuses:a.arrayOf(a.shape({dialect:a.string,message:a.string}))}),expandSproutsOnInit:a.bool,disableRemovePhotos:a.bool,taskData:a.shape({assigneeID:a.number,assigneeName:a.string,canEditMessage:a.bool.isRequired,composerDomID:a.object.isRequired,description:a.string,dueDate:a.number.isRequired,postID:a.number.isRequired,status:a.string.isRequired,storyDomID:a.string.isRequired,title:a.string.isRequired}),composedText:a.shape({blocks:a.arrayOf(a.object),entities:a.object}),findPlayersAttachment:a.shape({name:a.string,title:a.string,tags:a.string}),groupMeetUpAttachment:a.shape({module:a.func.isRequired,defaultLocationPageName:a.string.isRequired,defaultLocationPageID:a.string.isRequired,locationName:a.string.isRequired,locationPageID:a.string.isRequired,roughTime:a.string.isRequired,dateTimeInfo:a.object.isRequired,locationTimezoneOffset:a.number.isRequired,timezoneLabel:a.string.isRequired}),shiftSwapAttachment:a.shape({shiftPosition:a.string.isRequired,shiftStartTime:a.number.isRequired,shiftEndTime:a.number,shiftDescription:a.string}),civicCTAAttachment:a.shape({module:a.func.isRequired,goal:a.number,deadline:a.string,target:a.object,groupID:a.string.isRequired,memberCount:a.number.isRequired}),asset3dAttachment:b("ReactComposerMediaPrefillConfig"),brandedContentDealData:a.shape({bcmpDealID:a.string.isRequired,sponsorID:a.string.isRequired})})}),null);